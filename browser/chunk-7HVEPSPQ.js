import{$ as Ot,A as Wr,Ba as pp,C as op,Da as up,Ea as fp,F as Qr,G as Yr,Ga as Go,H as Wo,Ha as mp,K as Gr,L as Xr,Ma as gp,Pa as vp,Q as lp,R as An,S as Ui,Wa as yp,Ya as bp,Za as Cp,_ as Qs,_a as Mp,db as Zr,ea as jn,fb as Sp,ga as Kr,ha as hp,ia as Qo,j as qo,ja as $r,ka as Ys,m as _o,ma as Rn,n as kn,oa as Ns,pa as Gs,rb as Ep,ua as Yo,va as zn,wa as Jr,xa as cp,y as ap,ya as dp,z as _r}from"./chunk-3MHZLJO7.js";var Tp="ej2_instances",hv=0,cv=!1;function sa(a,t){var e=t;return e.unshift(void 0),new(Function.prototype.bind.apply(a,e))}function dv(a){var t,e=new Uint16Array(5),i=window.msCrypto||window.crypto;i.getRandomValues(e);var s="ej2"+uv(e),n=function(r){r.source===window&&typeof r.data=="string"&&r.data.length<=32&&r.data===s&&(a(),t())};return window.addEventListener("message",n,!1),window.postMessage(s,"*"),t=function(){window.removeEventListener("message",n),a=n=s=void 0}}function B(a,t){for(var e=t,i=a.replace(/\[/g,".").replace(/\]/g,"").split("."),s=0;s<i.length&&!oe(e);s++)e=e[i[parseInt(s.toString(),10)]];return e}function pe(a,t,e){var i=a.replace(/\[/g,".").replace(/\]/g,"").split("."),s=e||{},n=s,r,o=i.length,l;for(r=0;r<o;r++)l=i[parseInt(r.toString(),10)],r+1===o?n[""+l]=t===void 0?{}:t:h(n[""+l])&&(n[""+l]={}),n=n[""+l];return s}function Hn(a,t){delete a[""+t]}var Xs=typeof window<"u"?window:{};function rs(a){var t={};return!h(a)&&a.constructor===t.constructor}function ol(a,t){return a[""+t]}function as(a,t){if(!h(t))for(var e=a,i=t,s=Object.keys(t),n="deepMerge",r=0,o=s;r<o.length;r++){var l=o[r];!h(e[""+n])&&e[""+n].indexOf(l)!==-1&&(rs(i[""+l])||Array.isArray(i[""+l]))?ue(e[""+l],e[""+l],i[""+l],!0):e[""+l]=i[""+l]}}function ue(a,t,e,i){var s=a&&typeof a=="object"?a:{},n=arguments.length,r=[a,t,e,i];i&&(n=n-1);for(var o=function(c){if(!r[parseInt(c.toString(),10)])return"continue";var d=r[parseInt(c.toString(),10)];Object.keys(d).forEach(function(p){var u=s[""+p],f=d[""+p],m,g=Array.isArray(f)&&Array.isArray(u)&&f.length!==u.length,b=ie()?!(u instanceof Event)&&!g:!0;i&&b&&(rs(f)||Array.isArray(f))?rs(f)?(m=u||{},Array.isArray(m)&&Object.prototype.hasOwnProperty.call(m,"isComplexArray")?ue(m,{},f,i):s[""+p]=ue(m,{},f,i)):(m=ie()?u&&Object.keys(f).length:u||[],s[""+p]=ue([],m,f,m&&m.length||f&&f.length)):s[""+p]=f})},l=1;l<n;l++)o(l);return s}function h(a){return a==null}function oe(a){return typeof a>"u"}function Ae(a){return a+"_"+hv++}function na(a,t){var e;return function(){for(var i=this,s=[],n=0;n<arguments.length;n++)s[n]=arguments[n];var r=function(){return e=null,a.apply(i,s)};clearTimeout(e),e=setTimeout(r,t)}}function Kp(a,t){var e=a;return e===t?!0:e===document||!e?!1:Kp(e.parentNode,t)}function Pn(a){try{throw new Error(a)}catch(t){throw new Error(t.message+`
`+t.stack)}}function $p(a,t){var e=document.createElement("div"),i=[].slice.call(document.getElementsByTagName("head")[0].querySelectorAll("base, link, style")),s=[].slice.call(document.getElementsByTagName("body")[0].querySelectorAll("link, style"));if(s.length)for(var n=0,r=s.length;n<r;n++)i.push(s[parseInt(n.toString(),10)]);var o="";h(t)&&(t=window.open("","print","height=452,width=1024,tabbar=no")),e.appendChild(a.cloneNode(!0));for(var l=0,r=i.length;l<r;l++)o+=i[parseInt(l.toString(),10)].outerHTML;t.document.write("<!DOCTYPE html> <html><head>"+o+"</head><body>"+e.innerHTML+"<script> (function() { window.ready = true; })(); <\/script></body></html>"),t.document.close(),t.focus();var c=setInterval(function(){t.ready&&(t.print(),t.close(),clearInterval(c))},500);return t}function X(a){var t=a+"";return t.match(/auto|cm|mm|in|px|pt|pc|%|em|ex|ch|rem|vw|vh|vmin|vmax/)?t:t+"px"}function ie(){return cv}function xt(a,t){var e=typeof a=="string"?document.querySelector(a):a;if(e[""+Tp])for(var i=0,s=e[""+Tp];i<s.length;i++){var n=s[i];if(n instanceof t)return n}return null}function pv(){if(!(typeof window>"u")){var a=new Uint16Array(5),t=window.msCrypto||window.crypto;return t.getRandomValues(a)}}function uv(a){for(var t="",e=0;e<5;e++)t+=(e?",":"")+a[parseInt(e.toString(),10)];return t}var fv={latn:{_digits:"0123456789",_type:"numeric"}},Np={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221E",nan:"NaN",exponential:"E"},Ip=[0,1,2,3,4,5,6,7,8,9],_e=function(){function a(){}return a.getMainObject=function(t,e){var i=ie()?e:"main."+e;return B(i,t)},a.getNumberingSystem=function(t){return B("supplemental.numberingSystems",t)||this.numberingSystems},a.reverseObject=function(t,e){for(var i=e||Object.keys(t),s={},n=0,r=i;n<r.length;n++){var o=r[n];Object.prototype.hasOwnProperty.call(s,t[""+o])||(s[t[""+o]]=o)}return s},a.getSymbolRegex=function(t){var e=t.map(function(s){return s.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}).join("|"),i=RegExp;return new i(e,"g")},a.getSymbolMatch=function(t){for(var e=Object.keys(Np),i={},s=0,n=e;s<n.length;s++){var r=n[s];i[t[""+r]]=Np[""+r]}return i},a.constructRegex=function(t){for(var e=t.length,i="",s=0;s<e;s++)s!==e-1?i+=t[parseInt(s.toString(),10)]+"|":i+=t[parseInt(s.toString(),10)];return i},a.convertValueParts=function(t,e,i){return t.replace(e,function(s){return i[""+s]})},a.getDefaultNumberingSystem=function(t){var e={};return e.obj=B("numbers",t),e.nSystem=B("defaultNumberingSystem",e.obj),e},a.getCurrentNumericOptions=function(t,e,i,s){var n={},r=this.getDefaultNumberingSystem(t);if(!oe(r.nSystem)||s){var o=s?B("obj.mapperDigits",r):B(r.nSystem+"._digits",e);if(!oe(o)){n.numericPair=this.reverseObject(o,Ip);var l=RegExp;n.numberParseRegex=new l(this.constructRegex(o),"g"),n.numericRegex="["+o[0]+"-"+o[9]+"]",i&&(n.numericRegex=o[0]+"-"+o[9],n.symbolNumberSystem=B(s?"numberSymbols":"symbols-numberSystem-"+r.nSystem,r.obj),n.symbolMatch=this.getSymbolMatch(n.symbolNumberSystem),n.numberSystem=r.nSystem)}}return n},a.getNumberMapper=function(t,e,i){var s={mapper:{}},n=this.getDefaultNumberingSystem(t);if(!oe(n.nSystem)){s.numberSystem=n.nSystem,s.numberSymbols=B("symbols-numberSystem-"+n.nSystem,n.obj),s.timeSeparator=B("timeSeparator",s.numberSymbols);var r=B(n.nSystem+"._digits",e);if(!oe(r))for(var o=0,l=Ip;o<l.length;o++){var c=l[o];s.mapper[parseInt(c.toString(),10)]=r[parseInt(c.toString(),10)]}}return s},a.nPair="numericPair",a.nRegex="numericRegex",a.numberingSystems=fv,a}(),mv={DJF:"Fdj",ERN:"Nfk",ETB:"Br",NAD:"$",ZAR:"R",XAF:"FCFA",GHS:"GH\u20B5",XDR:"XDR",AED:"\u062F.\u0625.",BHD:"\u062F.\u0628.",DZD:"\u062F.\u062C.",EGP:"\u062C.\u0645.",ILS:"\u20AA",IQD:"\u062F.\u0639.",JOD:"\u062F.\u0627.",KMF:"CF",KWD:"\u062F.\u0643.",LBP:"\u0644.\u0644.",LYD:"\u062F.\u0644.",MAD:"\u062F.\u0645.",MRU:"\u0623.\u0645.",OMR:"\u0631.\u0639.",QAR:"\u0631.\u0642.",SAR:"\u0631.\u0633.",SDG:"\u062C.\u0633.",SOS:"S",SSP:"\xA3",SYP:"\u0644.\u0633.",TND:"\u062F.\u062A.",YER:"\u0631.\u064A.",CLP:"$",INR:"\u20B9",TZS:"TSh",EUR:"\u20AC",AZN:"\u20BC",RUB:"\u20BD",BYN:"Br",ZMW:"K",BGN:"\u043B\u0432.",NGN:"\u20A6",XOF:"CFA",BDT:"\u09F3",CNY:"\xA5",BAM:"\u041A\u041C",UGX:"USh",USD:"$",CZK:"K\u010D",GBP:"\xA3",DKK:"kr.",KES:"Ksh",CHF:"CHF",MVR:"\u0783.",BTN:"Nu.",XCD:"EC$",AUD:"$",BBD:"$",BIF:"FBu",BMD:"$",BSD:"$",BWP:"P",BZD:"$",CAD:"$",NZD:"$",FJD:"$",FKP:"\xA3",GIP:"\xA3",GMD:"D",GYD:"$",HKD:"$",IDR:"Rp",JMD:"$",KYD:"$",LRD:"$",MGA:"Ar",MOP:"MOP$",MUR:"Rs",MWK:"MK",MYR:"RM",PGK:"K",PHP:"\u20B1",PKR:"Rs",RWF:"RF",SBD:"$",SCR:"SR",SEK:"kr",SGD:"$",SHP:"\xA3",SLL:"Le",ANG:"NAf.",SZL:"E",TOP:"T$",TTD:"$",VUV:"VT",WST:"WS$",ARS:"$",BOB:"Bs",BRL:"R$",COP:"$",CRC:"\u20A1",CUP:"$",DOP:"$",GTQ:"Q",HNL:"L",MXN:"$",NIO:"C$",PAB:"B/.",PEN:"S/",PYG:"\u20B2",UYU:"$",VES:"Bs.S",IRR:"\u0631\u064A\u0627\u0644",GNF:"FG",CDF:"FC",HTG:"G",XPF:"FCFP",HRK:"kn",HUF:"Ft",AMD:"\u058F",ISK:"kr",JPY:"\xA5",GEL:"\u20BE",CVE:"\u200B",KZT:"\u20B8",KHR:"\u17DB",KPW:"\u20A9",KRW:"\u20A9",KGS:"\u0441\u043E\u043C",AOA:"Kz",LAK:"\u20AD",MZN:"MTn",MKD:"\u0434\u0435\u043D",MNT:"\u20AE",BND:"$",MMK:"K",NOK:"kr",NPR:"\u0930\u0941",AWG:"Afl.",SRD:"$",PLN:"z\u0142",AFN:"\u060B",STN:"Db",MDL:"L",RON:"lei",UAH:"\u20B4",LKR:"\u0DBB\u0DD4.",ALL:"Lek\xEB",RSD:"\u0434\u0438\u043D.",TJS:"\u0441\u043C\u043D",THB:"\u0E3F",TMT:"m.",TRY:"\u20BA",UZS:"\u0441\u045E\u043C",VND:"\u20AB",TWD:"NT$"};function gv(a){return B(a||"",mv)}var Bn;(function(a){var t=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];function e(s){var n=s.getDate(),r=s.getMonth(),o=s.getFullYear(),l=r+1,c=o;l<3&&(c-=1,l+=12);var d=Math.floor(c/100),p=d-Math.floor(d/4)-2,u=Math.floor(365.25*(c+4716))+Math.floor(30.6001*(l+1))+n-p-1524;d=Math.floor((u-186721625e-2)/36524.25),p=d-Math.floor(d/4)+1;var f=u+p+1524,m=Math.floor((f-122.1)/365.25),g=Math.floor(365.25*m),b=Math.floor((f-g)/30.6001);n=f-g-Math.floor(30.6001*b),r=Math.floor((f-g)/20.6001),r>13&&(m+=1,r-=12),r-=1,o=m-4716;var S=u-24e5,T=10631/30,I=u-1948084,w=Math.floor(I/10631);I=I-10631*w;var x=Math.floor((I-.1335)/T),A=30*w+x;I=I-Math.floor(x*T+.1335);var q=Math.floor((I+28.5001)/29.5);q===13&&(q=12);for(var F=I-Math.floor(29.5001*q-29),J=0;J<t.length&&!(t[parseInt(J.toString(),10)]>S);J++);var ae=J+16260,de=Math.floor((ae-1)/12),re=de+1,me=ae-12*de,U=S-t[J-1]+1;return(U+"").length>2&&(U=F,me=q,re=A),{year:re,month:me,date:U}}a.getHijriDate=e;function i(s,n,r){var o=s,l=n,c=r,d=o-1,p=d*12+1+(l-1),u=p-16260,f=c+t[u-1]-1,m=f+24e5,g=Math.floor(m+.5),b=Math.floor((g-186721625e-2)/36524.25);b=g+1+b-Math.floor(b/4);var S=b+1524,T=Math.floor((S-122.1)/365.25),I=Math.floor(365.25*T),w=Math.floor((S-I)/30.6001),x=S-I-Math.floor(w*30.6001),A=w-(w>13.5?13:1),q=T-(A>2.5?4716:4715);return q<=0&&A--,new Date(q+"/"+A+"/"+x)}a.toGregorian=i})(Bn||(Bn={}));var vv=/\/MMMMM|MMMM|MMM|a|LLLL|LLL|EEEEE|EEEE|E|K|cccc|ccc|WW|W|G+|z+/gi,Dp="stand-alone",yv=["sun","mon","tue","wed","thu","fri","sat"],Lp={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate",f:"getMilliseconds"},bv={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era",f:"milliseconds"},Cv="timeSeparator",Jp=function(){function a(){}return a.dateFormat=function(t,e,i){var s=this,n=he.getDependables(i,t,e.calendar),r=B("parserObject.numbers",n),o=n.dateObject,l={isIslamic:he.islamicRegex.test(e.calendar)};ie()&&e.isServerRendered&&(e=he.compareBlazorDateFormats(e,t));var c=e.format||he.getResultantPattern(e.skeleton,n.dateObject,e.type,!1,ie()?t:"");if(l.dateSeperator=ie()?B("dateSeperator",o):he.getDateSeparator(n.dateObject),oe(c))Pn("Format options or type given must be invalid");else{c=he.ConvertDateToWeekFormat(c),ie()&&(c=c.replace(/tt/,"a")),l.pattern=c,l.numMapper=ie()?ue({},r):_e.getNumberMapper(n.parserObject,_e.getNumberingSystem(i));for(var d=c.match(vv)||[],p=0,u=d;p<u.length;p++){var f=u[p],m=f.length,g=f[0];switch(g==="K"&&(g="h"),g){case"E":case"c":ie()?l.weekday=B("days."+he.monthIndex[""+m],o):l.weekday=n.dateObject[""+he.days][""+Dp][he.monthIndex[""+m]];break;case"M":case"L":ie()?l.month=B("months."+he.monthIndex[""+m],o):l.month=n.dateObject[""+he.month][""+Dp][he.monthIndex[""+m]];break;case"a":l.designator=ie()?B("dayPeriods",o):B("dayPeriods.format.wide",o);break;case"G":{var b=m<=3?"eraAbbr":m===4?"eraNames":"eraNarrow";l.era=ie()?B("eras",o):B("eras."+b,n.dateObject);break}case"z":l.timeZone=B("dates.timeZoneNames",n.parserObject);break}}}return function(S){return isNaN(S.getDate())?null:s.intDateFormatter(S,l)}},a.intDateFormatter=function(t,e){for(var i=e.pattern,s="",n=i.match(he.dateParseRegex),r=this.getCurrentDateValue(t,e.isIslamic),o=0,l=n;o<l.length;o++){var c=l[o],d=c.length,p=c[0];p==="K"&&(p="h");var u=void 0,f="",m=void 0,g=void 0,b="";switch(p){case"M":case"L":u=r.month,d>2?s+=e.month[""+u]:m=!0;break;case"E":case"c":s+=e.weekday[""+yv[t.getDay()]];break;case"H":case"h":case"m":case"s":case"d":case"f":if(m=!0,p==="d")u=r.date;else if(p==="f"){m=!1,g=!0,f=t[""+Lp[""+p]]().toString(),f=f.substring(0,d);var S=f.length;if(d!==S){if(d>3)continue;for(var T=0;T<d-S;T++)f="0"+f.toString()}b+=f}else u=t[""+Lp[""+p]]();p==="h"&&(u=u%12||12);break;case"y":g=!0,b+=r.year,d===2&&(b=b.substr(b.length-2));break;case"a":{var I=t.getHours()<12?"am":"pm";s+=e.designator[""+I];break}case"G":{var w=t.getFullYear()<0?0:1,x=e.era[""+w];h(x)&&(x=e.era[w?0:1]),s+=x||"";break}case"'":s+=c==="''"?"'":c.replace(/'/g,"");break;case"z":{var A=t.getTimezoneOffset(),q=d<4?"+H;-H":e.timeZone.hourFormat;q=q.replace(/:/g,e.numMapper.timeSeparator),A===0?s+=e.timeZone.gmtZeroFormat:(g=!0,b=this.getTimeZoneValue(A,q)),b=e.timeZone.gmtFormat.replace(/\{0\}/,b);break}case":":s+=e.numMapper.numberSymbols[""+Cv];break;case"/":s+=e.dateSeperator;break;case"W":m=!0,u=he.getWeekOfYear(t);break;default:s+=c}m&&(g=!0,b=this.checkTwodigitNumber(u,d)),g&&(s+=_e.convertValueParts(b,he.latnParseRegex,e.numMapper.mapper))}return s},a.getCurrentDateValue=function(t,e){return e?Bn.getHijriDate(t):{year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate()}},a.checkTwodigitNumber=function(t,e){var i=t+"";return e===2&&i.length!==2?"0"+i:i},a.getTimeZoneValue=function(t,e){var i=this,s=e.split(";"),n=s[t>0?1:0],r=Math.abs(t);return n=n.replace(/HH?|mm/g,function(o){var l=o.length,c=o.indexOf("H")!==-1;return i.checkTwodigitNumber(Math.floor(c?r/60:r%60),l)})},a}(),wp={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},Mv="percentSign",Sv="minusSign",Ks=["infinity","nan","group","decimal","exponential"],Zp=function(){function a(){}return a.numberFormatter=function(t,e,i){var s=this,n=ue({},e),r={},o={},l,c=he.getDependables(i,t,"",!0),d=c.numericObject;o.numberMapper=ie()?ue({},d):_e.getNumberMapper(c.parserObject,_e.getNumberingSystem(i),!0),o.currencySymbol=ie()?B("currencySymbol",d):he.getCurrencySymbol(c.numericObject,n.currency||hl,e.altSymbol,e.ignoreCurrency),o.percentSymbol=ie()?B("numberSymbols.percentSign",d):o.numberMapper.numberSymbols[""+Mv],o.minusSymbol=ie()?B("numberSymbols.minusSign",d):o.numberMapper.numberSymbols[""+Sv];var p=o.numberMapper.numberSymbols;if(e.format&&!he.formatRegex.test(e.format))r=he.customFormat(e.format,o,c.numericObject),!oe(n.useGrouping)&&n.useGrouping&&(n.useGrouping=r.pData.useGrouping);else{if(ue(n,he.getProperNumericSkeleton(e.format||"N")),n.isCurrency=n.type==="currency",n.isPercent=n.type==="percent",ie()||(l=he.getSymbolPattern(n.type,o.numberMapper.numberSystem,c.numericObject,n.isAccount)),n.groupOne=this.checkValueRange(n.maximumSignificantDigits,n.minimumSignificantDigits,!0),this.checkValueRange(n.maximumFractionDigits,n.minimumFractionDigits,!1,!0),oe(n.fractionDigits)||(n.minimumFractionDigits=n.maximumFractionDigits=n.fractionDigits),oe(n.useGrouping)&&(n.useGrouping=!0),n.isCurrency&&!ie()&&(l=l.replace(/\u00A4/g,he.defaultCurrency)),ie())r.nData=ue({},{},B(n.type+"nData",d)),r.pData=ue({},{},B(n.type+"pData",d)),n.type==="currency"&&e.currency&&he.replaceBlazorCurrency([r.pData,r.nData],o.currencySymbol,e.currency);else{var u=l.split(";");r.nData=he.getFormatData(u[1]||"-"+u[0],!0,o.currencySymbol),r.pData=he.getFormatData(u[0],!1,o.currencySymbol),n.useGrouping&&(n.groupSeparator=p[Ks[2]],n.groupData=this.getGroupingDetails(u[0]))}var f=oe(n.minimumFractionDigits);if(f&&(n.minimumFractionDigits=r.nData.minimumFraction),oe(n.maximumFractionDigits)){var m=r.nData.maximumFraction;n.maximumFractionDigits=oe(m)&&n.isPercent?0:m}var g=n.minimumFractionDigits,b=n.maximumFractionDigits;!oe(g)&&!oe(b)&&g>b&&(n.maximumFractionDigits=g)}return ue(r.nData,n),ue(r.pData,n),function(S){return isNaN(S)?p[Ks[1]]:isFinite(S)?s.intNumberFormatter(S,r,o,e):p[Ks[0]]}},a.getGroupingDetails=function(t){var e={},i=t.match(he.negativeDataRegex);if(i&&i[4]){var s=i[4],n=s.lastIndexOf(",");if(n!==-1){var r=s.split(".")[0];e.primary=r.length-n-1;var o=s.lastIndexOf(",",n-1);o!==-1&&(e.secondary=n-1-o)}}return e},a.checkValueRange=function(t,e,i,s){var n=s?"f":"s",r=0,o=wp["l"+n],l=wp["m"+n];if(oe(t)||(this.checkRange(t,o,s),r++),oe(e)||(this.checkRange(e,l,s),r++),r===2)if(t<e)Pn(l+"specified must be less than the"+o);else return!0;else i&&r===1&&Pn("Both"+l+"and"+l+"must be present");return!1},a.checkRange=function(t,e,i){var s=i?[0,20]:[1,21];(t<s[0]||t>s[1])&&Pn(e+"value must be within the range"+s[0]+"to"+s[1])},a.intNumberFormatter=function(t,e,i,s){var n;if(!oe(e.nData.type)){t<0?(t=t*-1,n=e.nData):t===0?n=e.zeroData||e.pData:n=e.pData;var r="";if(n.isPercent&&(t=t*100),n.groupOne)r=this.processSignificantDigits(t,n.minimumSignificantDigits,n.maximumSignificantDigits);else if(r=this.processFraction(t,n.minimumFractionDigits,n.maximumFractionDigits,s),n.minimumIntegerDigits&&(r=this.processMinimumIntegers(r,n.minimumIntegerDigits)),i.isCustomFormat&&n.minimumFractionDigits<n.maximumFractionDigits&&/\d+\.\d+/.test(r)){for(var o=r.split("."),l=o[1],c=l.length,d=c-1;d>=0&&(l[parseInt(d.toString(),10)]==="0"&&d>=n.minimumFractionDigits);d--)l=l.slice(0,d);r=o[0]+"."+l}return n.type==="scientific"&&(r=t.toExponential(n.maximumFractionDigits),r=r.replace("e",i.numberMapper.numberSymbols[Ks[4]])),r=r.replace(".",i.numberMapper.numberSymbols[Ks[3]]),r=n.format==="#,###,,;(#,###,,)"?this.customPivotFormat(parseInt(r,10)):r,n.useGrouping&&(r=this.groupNumbers(r,n.groupData.primary,n.groupSeparator||",",i.numberMapper.numberSymbols[Ks[3]]||".",n.groupData.secondary)),r=_e.convertValueParts(r,he.latnParseRegex,i.numberMapper.mapper),n.nlead==="N/A"?n.nlead:r==="0"&&s&&s.format==="0"?r+n.nend:n.nlead+r+n.nend}},a.processSignificantDigits=function(t,e,i){var s=t+"",n,r=s.length;return r<e?t.toPrecision(e):(s=t.toPrecision(i),n=+s,n+"")},a.groupNumbers=function(t,e,i,s,n){for(var r=!h(n)&&n!==0,o=t.split(s),l=o[0],c=l.length,d="";c>e;)d=l.slice(c-e,c)+(d.length?i+d:""),c-=e,r&&(e=n,r=!1);return o[0]=l.slice(0,c)+(d.length?i:"")+d,o.join(s)},a.processFraction=function(t,e,i,s){var n=(t+"").split(".")[1],r=n?n.length:0;if(e&&r<e){var o="";if(r===0)o=t.toFixed(e);else{o+=t;for(var l=0;l<e-r;l++)o+="0";return o}return t.toFixed(e)}else if(!h(i)&&(r>i||i===0))return t.toFixed(i);var c=t+"";return c[0]==="0"&&s&&s.format==="###.00"&&(c=c.slice(1)),c},a.processMinimumIntegers=function(t,e){var i=t.split("."),s=i[0],n=s.length;if(n<e){for(var r=0;r<e-n;r++)s="0"+s;i[0]=s}return i.join(".")},a.customPivotFormat=function(t){if(t>=5e5){t/=1e6;var e=t.toString().split("."),i=e[0],s=e[1];return s&&+s.substring(0,1)>=5?Math.ceil(t).toString():Math.floor(t).toString()}return""},a}(),Op="stand-alone",Ev=/^[0-9]*$/,xp={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth",milliseconds:"setMilliseconds"},Tv="months",Nv=function(){function a(){}return a.dateParser=function(t,e,i){var s=this,n=he.getDependables(i,t,e.calendar),r=_e.getCurrentNumericOptions(n.parserObject,_e.getNumberingSystem(i),!1,ie()),o={};ie()&&e.isServerRendered&&(e=he.compareBlazorDateFormats(e,t));var l=e.format||he.getResultantPattern(e.skeleton,n.dateObject,e.type,!1,ie()?t:""),c="",d;if(oe(l))Pn("Format options or type given must be invalid");else{l=he.ConvertDateToWeekFormat(l),o={isIslamic:he.islamicRegex.test(e.calendar),pattern:l,evalposition:{},culture:t};for(var p=l.match(he.dateParseRegex)||[],u=p.length,f=0,m=0,g=!1,b=r.numericRegex,S=ie()?n.parserObject.numbers:_e.getNumberMapper(n.parserObject,_e.getNumberingSystem(i)),T=0;T<u;T++){var I=p[parseInt(T.toString(),10)],w=I.length,x=I[0]==="K"?"h":I[0],A=void 0,q=void 0,F=bv[""+x],J=w===2?"":"?";switch(g&&(f=m,g=!1),x){case"E":case"c":{var ae=void 0;ie()?ae=B("days."+he.monthIndex[""+w],n.dateObject):ae=n.dateObject[""+he.days][""+Op][he.monthIndex[""+w]];var de=_e.reverseObject(ae);c+="("+Object.keys(de).join("|")+")";break}case"M":case"L":case"d":case"m":case"s":case"h":case"H":case"f":if(q=!0,(x==="M"||x==="L")&&w>2){var re=void 0;ie()?re=B("months."+he.monthIndex[""+w],n.dateObject):re=n.dateObject[""+Tv][""+Op][he.monthIndex[""+w]],o[""+F]=_e.reverseObject(re),c+="("+Object.keys(o[""+F]).join("|")+")"}else if(x==="f"){if(w>3)continue;A=!0,c+="("+b+b+"?"+b+"?)"}else A=!0,c+="("+b+b+J+")";x==="h"&&(o.hour12=!0);break;case"W":{var me=w===1?"?":"";c+="("+b+me+b+")";break}case"y":q=A=!0,w===2?c+="("+b+b+")":c+="("+b+"{"+w+",})";break;case"a":{q=!0;var U=ie()?B("dayPeriods",n.dateObject):B("dayPeriods.format.wide",n.dateObject);o[""+F]=_e.reverseObject(U),c+="("+Object.keys(o[""+F]).join("|")+")";break}case"G":{q=!0;var O=w<=3?"eraAbbr":w===4?"eraNames":"eraNarrow";o[""+F]=_e.reverseObject(ie()?B("eras",n.dateObject):B("eras."+O,n.dateObject)),c+="("+Object.keys(o[""+F]).join("|")+"?)";break}case"z":{var _=new Date().getTimezoneOffset();q=_!==0,o[""+F]=B("dates.timeZoneNames",n.parserObject);var H=o[""+F];d=w<4;var Q=d?"+H;-H":H.hourFormat;Q=Q.replace(/:/g,S.timeSeparator),c+="("+this.parseTimeZoneRegx(Q,H,b)+")?",g=!0,m=d?6:12;break}case"'":{var j=I.replace(/'/g,"");c+="("+j+")?";break}default:c+="([\\D])";break}if(q&&(o.evalposition[""+F]={isNumber:A,pos:T+1+f,hourOnly:d}),T===u-1&&!h(c)){var te=RegExp;o.parserRegex=new te("^"+c+"$","i")}}}return function(xe){var ne=s.internalDateParse(xe,o,r);if(h(ne)||!Object.keys(ne).length)return null;if(o.isIslamic){var De={},$e=ne.year,Ye=ne.day,tt=ne.month,st=$e?$e+"":"",lt=st.length===2;(!$e||!tt||!Ye||lt)&&(De=Bn.getHijriDate(new Date)),lt&&($e=parseInt((De.year+"").slice(0,2)+st,10));var qe=Bn.toGregorian($e||De.year,tt||De.month,Ye||De.date);ne.year=qe.getFullYear(),ne.month=qe.getMonth()+1,ne.day=qe.getDate()}return s.getDateObject(ne)}},a.getDateObject=function(t,e){var i=e||new Date;i.setMilliseconds(0);var s=["hour","minute","second","milliseconds","month","day"],n=t.year,r=t.designator,o=t.timeZone;if(!oe(n)){var l=(n+"").length;if(l<=2){var c=Math.floor(i.getFullYear()/100)*100;n+=c}i.setFullYear(n)}for(var d=0,p=s;d<p.length;d++){var u=p[d],f=t[""+u];if(oe(f)&&u==="day"&&i.setDate(1),!oe(f))if(u==="month"){if(f-=1,f<0||f>11)return new Date("invalid");var m=i.getDate();i.setDate(1),i[xp[""+u]](f);var g=new Date(i.getFullYear(),f+1,0).getDate();i.setDate(m<g?m:g)}else{if(u==="day"){var b=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();if(f<1||f>b)return null}i[""+xp[""+u]](f)}}if(!oe(r)){var S=i.getHours();r==="pm"?i.setHours(S+(S===12?0:12)):S===12&&i.setHours(0)}if(!oe(o)){var T=o-i.getTimezoneOffset();T!==0&&i.setMinutes(i.getMinutes()+T)}return i},a.internalDateParse=function(t,e,i){var s=t.match(e.parserRegex),n={hour:0,minute:0,second:0};if(h(s))return null;for(var r=Object.keys(e.evalposition),o=0,l=r;o<l.length;o++){var c=l[o],d=e.evalposition[""+c],p=s[d.pos];if(d.isNumber)n[""+c]=this.internalNumberParser(p,i);else if(c==="timeZone"&&!oe(p)){var u=d.pos,f=void 0,m=s[u+1],g=!oe(m);d.hourOnly?f=this.getZoneValue(g,m,s[u+4],i)*60:(f=this.getZoneValue(g,m,s[u+7],i)*60,f+=this.getZoneValue(g,s[u+4],s[u+10],i)),h(f)||(n[""+c]=f)}else{var b=["en-US","en-MH","en-MP"];p=c==="month"&&!e.isIslamic&&(e.culture==="en"||e.culture==="en-GB"||e.culture==="en-US")?p[0].toUpperCase()+p.substring(1).toLowerCase():p,p=c!=="month"&&c==="designator"&&e.culture&&e.culture.indexOf("en-")!==-1&&b.indexOf(e.culture)===-1?p.toLowerCase():p,n[""+c]=e[""+c][""+p]}}return e.hour12&&(n.hour12=!0),n},a.internalNumberParser=function(t,e){return t=_e.convertValueParts(t,e.numberParseRegex,e.numericPair),Ev.test(t)?+t:null},a.parseTimeZoneRegx=function(t,e,i){var s=e.gmtFormat,n,r="("+i+")("+i+")";n=t.replace("+","\\+"),t.indexOf("HH")!==-1?n=n.replace(/HH|mm/g,"("+r+")"):n=n.replace(/H|m/g,"("+r+"?)");var o=n.split(";").map(function(l){return s.replace("{0}",l)});return n=o.join("|")+"|"+e.gmtZeroFormat,n},a.getZoneValue=function(t,e,i,s){var n=t?e:i;if(!n)return 0;var r=this.internalNumberParser(n,s);return t?-r:r},a}(),Iv=RegExp,Dv=new Iv("^([^0-9]*)(([0-9,]*[0-9]+)(.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$"),Lv=/,/g,wv=["minusSign","infinity"],Ov=function(){function a(){}return a.numberParser=function(t,e,i){var s=this,n=he.getDependables(i,t,"",!0),r={custom:!0};he.formatRegex.test(e.format)||!e.format?(ue(r,he.getProperNumericSkeleton(e.format||"N")),r.custom=!1,r.fractionDigits||e.maximumFractionDigits&&(r.maximumFractionDigits=e.maximumFractionDigits)):ue(r,he.customFormat(e.format,null,null));var o=B("numbers",n.parserObject),l=_e.getCurrentNumericOptions(n.parserObject,_e.getNumberingSystem(i),!0,ie());r.symbolRegex=_e.getSymbolRegex(Object.keys(l.symbolMatch)),r.infinity=l.symbolNumberSystem[wv[1]];var c;if(ie())r.nData=ue({},{},B(r.type+"nData",o)),r.pData=ue({},{},B(r.type+"pData",o)),r.type==="currency"&&e.currency&&he.replaceBlazorCurrency([r.pData,r.nData],B("currencySymbol",o),e.currency);else if(c=he.getSymbolPattern(r.type,l.numberSystem,n.numericObject,r.isAccount),c){c=c.replace(/\u00A4/g,he.defaultCurrency);var d=c.split(";");r.nData=he.getFormatData(d[1]||"-"+d[0],!0,""),r.pData=he.getFormatData(d[0],!0,"")}return function(p){return s.getParsedNumber(p,r,l)}},a.getParsedNumber=function(t,e,i){var s,n,r,o,l,c;if(t.indexOf(e.infinity)!==-1)return 1/0;t=_e.convertValueParts(t,e.symbolRegex,i.symbolMatch),t=_e.convertValueParts(t,i.numberParseRegex,i.numericPair),t=t.indexOf("-")!==-1?t.replace("-.","-0."):t,t.indexOf(".")===0&&(t="0"+t);var d=t.match(Dv);if(h(d))return NaN;o=d[1],r=d[2];var p=d[5];return l=d[6],s=e.custom?o===e.nData.nlead&&l===e.nData.nend:o.indexOf(e.nData.nlead)!==-1&&l.indexOf(e.nData.nend)!==-1,n=s?e.nData.isPercent:e.pData.isPercent,r=r.replace(Lv,""),p&&(r+=p),c=+r,(e.type==="percent"||n)&&(c=c/100),(e.custom||e.fractionDigits)&&(c=parseFloat(c.toFixed(e.custom?s?e.nData.maximumFractionDigits:e.pData.maximumFractionDigits:e.fractionDigits))),e.maximumFractionDigits&&(c=this.convertMaxFracDigits(r,e,c,s)),s&&(c*=-1),c},a.convertMaxFracDigits=function(t,e,i,s){var n=t.split(".");return n[1]&&n[1].length>e.maximumFractionDigits&&(i=+i.toFixed(e.custom?s?e.nData.maximumFractionDigits:e.pData.maximumFractionDigits:e.maximumFractionDigits)),i},a}(),os=function(){function a(t){this.ranArray=[],this.boundedEvents={},!h(t)&&(this.context=t)}return a.prototype.on=function(t,e,i,s){if(!h(e)){var n=i||this.context;if(this.notExist(t)){this.boundedEvents[""+t]=[{handler:e,context:n,id:s}];return}h(s)?this.isHandlerPresent(this.boundedEvents[""+t],e)||this.boundedEvents[""+t].push({handler:e,context:n}):this.ranArray.indexOf(s)===-1&&(this.ranArray.push(s),this.boundedEvents[""+t].push({handler:e,context:n,id:s}))}},a.prototype.off=function(t,e,i){if(!this.notExist(t)){var s=B(t,this.boundedEvents);if(e){for(var n=0;n<s.length;n++)if(i){if(s[parseInt(n.toString(),10)].id===i){s.splice(n,1);var r=this.ranArray.indexOf(i);r!==-1&&this.ranArray.splice(r,1);break}}else if(e===s[parseInt(n.toString(),10)].handler){s.splice(n,1);break}}else delete this.boundedEvents[""+t]}},a.prototype.notify=function(t,e,i,s){if(this.notExist(t)){i&&i.call(this,e);return}e&&(e.name=t);var n="Blazor",r=B(t,this.boundedEvents).slice(0);if(window[""+n])return this.blazorCallback(r,e,i,s,0);for(var o=0,l=r;o<l.length;o++){var c=l[o];c.handler.call(c.context,e)}i&&i.call(this,e)},a.prototype.blazorCallback=function(t,e,i,s,n){var r=this,o=n===t.length-1;if(n<t.length){var l=t[parseInt(n.toString(),10)],c=l.handler.call(l.context,e);if(c&&typeof c.then=="function"){if(!i)return c;c.then(function(d){if(d=typeof d=="string"&&r.isJson(d)?JSON.parse(d,r.dateReviver):d,ue(e,e,d,!0),i&&o)i.call(l.context,e);else return r.blazorCallback(t,e,i,s,n+1)}).catch(function(d){s&&s.call(l.context,typeof d=="string"&&r.isJson(d)?JSON.parse(d,r.dateReviver):d)})}else if(i&&o)i.call(l.context,e);else return this.blazorCallback(t,e,i,s,n+1)}},a.prototype.dateReviver=function(t,e){var i=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/;return ie&&typeof e=="string"&&e.match(i)!==null?new Date(e):e},a.prototype.isJson=function(t){try{JSON.parse(t)}catch{return!1}return!0},a.prototype.destroy=function(){this.boundedEvents=this.context=void 0},a.prototype.offIntlEvents=function(){var t=this.boundedEvents.notifyExternalChange;if(t){for(var e=0;e<t.length;e++){var i=t[parseInt(e.toString(),10)].context;i&&i.detectFunction&&i.randomId&&!i.isRendered&&(this.off("notifyExternalChange",i.detectFunction,i.randomId),e--)}this.boundedEvents.notifyExternalChange.length||delete this.boundedEvents.notifyExternalChange}},a.prototype.notExist=function(t){return Object.prototype.hasOwnProperty.call(this.boundedEvents,t)===!1||this.boundedEvents[""+t].length<=0},a.prototype.isHandlerPresent=function(t,e){for(var i=0,s=t;i<s.length;i++){var n=s[i];if(n.handler===e)return!0}return!1},a}(),tl=new os,xv=!1,_i={},ll="en-US",hl="USD",kp=["numericObject","dateObject"],en=function(){function a(t){t&&(this.culture=t)}return a.prototype.getDateFormat=function(t){return Jp.dateFormat(this.getCulture(),t||{type:"date",skeleton:"short"},_i)},a.prototype.getNumberFormat=function(t){return t&&!t.currency&&(t.currency=hl),ie()&&t&&!t.format&&(t.minimumFractionDigits=0),Zp.numberFormatter(this.getCulture(),t||{},_i)},a.prototype.getDateParser=function(t){return Nv.dateParser(this.getCulture(),t||{skeleton:"short",type:"date"},_i)},a.prototype.getNumberParser=function(t){return ie()&&t&&!t.format&&(t.minimumFractionDigits=0),Ov.numberParser(this.getCulture(),t||{format:"N"},_i)},a.prototype.formatNumber=function(t,e){return this.getNumberFormat(e)(t)},a.prototype.formatDate=function(t,e){return this.getDateFormat(e)(t)},a.prototype.parseDate=function(t,e){return this.getDateParser(e)(t)},a.prototype.parseNumber=function(t,e){return this.getNumberParser(e)(t)},a.prototype.getDatePattern=function(t,e){return he.getActualDateTimeFormat(this.getCulture(),t,_i,e)},a.prototype.getNumberPattern=function(t,e){return he.getActualNumberFormat(this.getCulture(),t,_i,e)},a.prototype.getFirstDayOfWeek=function(){return he.getWeekData(this.getCulture(),_i)},a.prototype.getCulture=function(){return this.culture||ll},a}();function tn(a,t){var e=he.getDependables(_i,a,"",!0)[kp[0]],i=he.getDependables(_i,a,"")[kp[1]],s=B("defaultNumberingSystem",e),n=ie()?B("numberSymbols",e):B("symbols-numberSystem-"+s,e),r=he.getSymbolPattern(t||"decimal",s,e,!1);return ue(n,he.getFormatData(r,!0,"",!0),{dateSeparator:he.getDateSeparator(i)})}var Ap=RegExp,jp={"en-US":{d:"M/d/y",D:"EEEE, MMMM d, y",f:"EEEE, MMMM d, y h:mm a",F:"EEEE, MMMM d, y h:mm:s a",g:"M/d/y h:mm a",G:"M/d/yyyy h:mm:ss tt",m:"MMMM d",M:"MMMM d",r:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",R:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",t:"h:mm tt",T:"h:m:s tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",U:"dddd, MMMM d, yyyy h:mm:ss tt",y:"MMMM yyyy",Y:"MMMM yyyy"}},he;(function(a){a.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,a.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*[0# ]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,a.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;var t=/[0-9]/g;a.defaultCurrency="$";var e=["infinity","nan","group","decimal"],i=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,s={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};a.dateConverterMapper=/dddd|ddd/ig;var n="sun";a.islamicRegex=/^islamic/;var r={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};a.formatRegex=new Ap("(^[ncpae]{1})([0-1]?[0-9]|20)?$","i"),a.currencyFormatRegex=new Ap("(^[ca]{1})([0-1]?[0-9]|20)?$","i"),a.curWithoutNumberRegex=/(c|a)$/ig;var o={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};a.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,a.basicPatterns=["short","medium","long","full"],a.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02BBl-Q.",12:"Dhu\u02BBl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02BB I",4:"Rabi\u02BB II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02BBban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02BBl-Qi\u02BBdah",12:"Dhu\u02BBl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20AC","symbol-alt-narrow":"\u20AC"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xA3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xD7",perMille:"\u2030",infinity:"\u221E",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xA4#,##0.00",accounting:"\xA4#,##0.00;(\xA4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},a.blazorDefaultObject={numbers:{mapper:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},mapperDigits:"0123456789",numberSymbols:{decimal:".",group:",",plusSign:"+",minusSign:"-",percentSign:"%",nan:"NaN",timeSeparator:":",infinity:"\u221E"},timeSeparator:":",currencySymbol:"$",currencypData:{nlead:"$",nend:"",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentpData:{nlead:"",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},percentnData:{nlead:"-",nend:"%",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},currencynData:{nlead:"($",nend:")",groupSeparator:",",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalnData:{nlead:"-",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2},decimalpData:{nlead:"",nend:"",groupData:{primary:3},maximumFraction:2,minimumFraction:2}},dates:{dayPeriods:{am:"AM",pm:"PM"},dateSeperator:"/",days:{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}},months:{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}},eras:{1:"AD"}}},a.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},a.month="months",a.days="days",a.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"};function l(U,O,_,H,Q){var j,te=_||"date";if(Q)j=u({skeleton:U},Q).format||u({skeleton:"d"},"en-US").format;else{if(a.basicPatterns.indexOf(U)!==-1){if(j=B(te+"Formats."+U,O),te==="dateTime"){var xe=B("dateFormats."+U,O),ne=B("timeFormats."+U,O);j=j.replace("{1}",xe).replace("{0}",ne)}}else j=B("dateTimeFormats.availableFormats."+U,O);oe(j)&&U==="yMd"&&(j="M/d/y")}return j}a.getResultantPattern=l;function c(U,O,_,H){var Q={},j=_||"gregorian";if(Q.parserObject=_e.getMainObject(U,O)||(ie()?a.blazorDefaultObject:a.defaultObject),H)Q.numericObject=B("numbers",Q.parserObject);else{var te=ie()?"dates":"dates.calendars."+j;Q.dateObject=B(te,Q.parserObject)}return Q}a.getDependables=c;function d(U,O,_,H){return B(U+"Formats-numberSystem-"+O+(H?".accounting":".standard"),_)||(H?B(U+"Formats-numberSystem-"+O+".standard",_):"")}a.getSymbolPattern=d;function p(U){var O=U.match(a.dateConverterMapper);if(O&&ie()){var _=O[0].length===3?"EEE":"EEEE";return U.replace(a.dateConverterMapper,_)}return U}a.ConvertDateToWeekFormat=p;function u(U,O){var _=U.format||U.skeleton,H=B((O||"en-US")+"."+_,jp);return H||(H=B("en-US."+_,jp)),H&&(H=p(H),U.format=H.replace(/tt/,"a")),U}a.compareBlazorDateFormats=u;function f(U){var O=U.match(a.formatRegex),_={},H=O[1].toUpperCase();return _.isAccount=H==="A",_.type=a.patternMatcher[""+H],U.length>1&&(_.fractionDigits=parseInt(O[2],10)),_}a.getProperNumericSkeleton=f;function m(U,O,_,H){var Q=H?{}:{nlead:"",nend:""},j=U.match(a.customRegex);if(j){H||(Q.nlead=g(j[1],_),Q.nend=g(j[10],_),Q.groupPattern=j[4]);var te=j[7];if(te&&O){var xe=te.match(t);h(xe)?Q.minimumFraction=0:Q.minimumFraction=xe.length,Q.maximumFraction=te.length-1}}return Q}a.getFormatData=m;function g(U,O){return U?(U=U.replace(a.defaultCurrency,O),O===""?U.trim():U):""}a.changeCurrencySymbol=g;function b(U,O,_,H){var Q=_?"."+_:".symbol",j=H?"$":B("currencies."+O+Q,U)||B("currencies."+O+".symbol-alt-narrow",U)||"$";return j}a.getCurrencySymbol=b;function S(U,O,_){for(var H={},Q=U.split(";"),j=["pData","nData","zeroData"],te=0;te<Q.length;te++)H[""+j[parseInt(te.toString(),10)]]=T(Q[parseInt(te.toString(),10)],O,_);return h(H.nData)&&(H.nData=ue({},H.pData),H.nData.nlead=h(O)?"-"+H.nData.nlead:O.minusSymbol+H.nData.nlead),H}a.customFormat=S;function T(U,O,_){var H={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},Q=U.match(a.customRegex);if(h(Q)||Q[5]===""&&U!=="N/A")return H.type=void 0,H;H.nlead=Q[1],H.nend=Q[10];var j=Q[6],te=!!j.match(/ $/g),xe=j.replace(/ $/g,"").indexOf(" ")!==-1;H.useGrouping=j.indexOf(",")!==-1||xe,j=j.replace(/,/g,"");var ne=Q[7];if(j.indexOf("0")!==-1&&(H.minimumIntegerDigits=j.length-j.indexOf("0")),h(ne)||(H.minimumFractionDigits=ne.lastIndexOf("0"),H.maximumFractionDigits=ne.lastIndexOf("#"),H.minimumFractionDigits===-1&&(H.minimumFractionDigits=0),(H.maximumFractionDigits===-1||H.maximumFractionDigits<H.minimumFractionDigits)&&(H.maximumFractionDigits=H.minimumFractionDigits)),h(O)?ue(H,I([H.nlead,H.nend],"%","%")):(O.isCustomFormat=!0,ue(H,I([H.nlead,H.nend],"$",O.currencySymbol)),H.isCurrency||ue(H,I([H.nlead,H.nend],"%",O.percentSymbol))),!h(_)){var De=d(H.type,O.numberMapper.numberSystem,_,!1);H.useGrouping&&(H.groupSeparator=xe?" ":O.numberMapper.numberSymbols[e[2]],H.groupData=Zp.getGroupingDetails(De.split(";")[0])),H.nlead=H.nlead.replace(/'/g,""),H.nend=te?" "+H.nend.replace(/'/g,""):H.nend.replace(/'/g,"")}return H}a.customNumberFormat=T;function I(U,O,_){for(var H={nlead:U[0],nend:U[1]},Q=0;Q<2;Q++){var j=U[parseInt(Q.toString(),10)],te=j.indexOf(O);if(te!==-1&&(te<j.indexOf("'")||te>j.lastIndexOf("'"))){H[""+o[parseInt(Q.toString(),10)]]=j.substr(0,te)+_+j.substr(te+1),H[""+o[""+O]]=!0,H.type=H.isCurrency?"currency":"percent";break}}return H}a.isCurrencyPercent=I;function w(U){var O=(B("dateFormats.short",U)||"").match(/[dM]([^dM])[dM]/i);return O?O[1]:"/"}a.getDateSeparator=w;function x(U,O,_,H){var Q=c(_,U,O.calendar);ie()&&(O=u(O,U));var j=O.format||l(O.skeleton,Q.dateObject,O.type);if(H){if(j=j.replace(i,function(tt){return s[""+tt]}),j.indexOf("z")!==-1){var te=j.match(/z/g).length,xe=void 0,ne={timeZone:{}};ne.numMapper=_e.getNumberMapper(Q.parserObject,_e.getNumberingSystem(_)),ne.timeZone=B("dates.timeZoneNames",Q.parserObject);var De=new Date,$e=De.getTimezoneOffset(),Ye=te<4?"+H;-H":ne.timeZone.hourFormat;Ye=Ye.replace(/:/g,ne.numMapper.timeSeparator),$e===0?xe=ne.timeZone.gmtZeroFormat:(xe=Jp.getTimeZoneValue($e,Ye),xe=ne.timeZone.gmtFormat.replace(/\{0\}/,xe)),j=j.replace(/[z]+/,'"'+xe+'"')}j=j.replace(/ $/,"")}return j}a.getActualDateTimeFormat=x;function A(U,O){if(U.indexOf(",")!==-1){var _=U.split(",");U=_[0]+B("numberMapper.numberSymbols.group",O)+_[1].replace(".",B("numberMapper.numberSymbols.decimal",O))}else U=U.replace(".",B("numberMapper.numberSymbols.decimal",O));return U}a.processSymbol=A;function q(U,O,_,H){var Q=c(_,U,"",!0),j={custom:!0},te=Q.numericObject,xe,ne={},De=(O.format||"").match(a.currencyFormatRegex),$e=a.formatRegex.test(O.format)?f(O.format||"N"):{},Ye={};if(De){Ye.numberMapper=ie()?ue({},Q.numericObject):_e.getNumberMapper(Q.parserObject,_e.getNumberingSystem(_),!0);var tt=ie()?B("currencySymbol",Q.numericObject):b(Q.numericObject,O.currency||hl,O.altSymbol),st=d("currency",Ye.numberMapper.numberSystem,Q.numericObject,/a/i.test(O.format));st=st.replace(/\u00A4/g,tt);var lt=st.split(";");ne.hasNegativePattern=ie()?!0:lt.length>1,ne.nData=ie()?B($e.type+"nData",te):m(lt[1]||"-"+lt[0],!0,tt),ne.pData=ie()?B($e.type+"pData",te):m(lt[0],!1,tt),!De[2]&&!O.minimumFractionDigits&&!O.maximumFractionDigits&&(xe=m(st.split(";")[0],!0,"",!0).minimumFraction)}var qe;if(a.formatRegex.test(O.format)||!O.format){if(ue(j,f(O.format||"N")),j.custom=!1,qe="###0",j.fractionDigits||O.minimumFractionDigits||O.maximumFractionDigits||xe){var ns=0;j.fractionDigits&&(O.minimumFractionDigits=O.maximumFractionDigits=j.fractionDigits),qe=F(qe,xe||j.fractionDigits||O.minimumFractionDigits||ns,O.maximumFractionDigits||ns)}if(O.minimumIntegerDigits&&(qe=J(qe,O.minimumIntegerDigits)),O.useGrouping&&(qe=ae(qe)),j.type==="currency"||j.type&&ie()){ie()&&j.type!=="currency"&&(ne.pData=B(j.type+"pData",te),ne.nData=B(j.type+"nData",te));var yi=qe;qe=ne.pData.nlead+yi+ne.pData.nend,(ne.hasNegativePattern||ie())&&(qe+=";"+ne.nData.nlead+yi+ne.nData.nend)}j.type==="percent"&&!ie()&&(qe+=" %")}else qe=O.format.replace(/'/g,'"');return Object.keys(Ye).length>0&&(qe=H?qe:A(qe,Ye)),qe}a.getActualNumberFormat=q;function F(U,O,_){U+=".";for(var H=0;H<O;H++)U+="0";if(O<_)for(var Q=_-O,j=0;j<Q;j++)U+="#";return U}a.fractionDigitsPattern=F;function J(U,O){for(var _=U.split("."),H="",Q=0;Q<O;Q++)H+="0";return _[1]?H+"."+_[1]:H}a.minimumIntegerPattern=J;function ae(U){var O=U.split("."),_=O[0],H=3-_.length%3,Q=H&&H===1?"#":H===2?"##":"";_=Q+_,U="";for(var j=_.length-1;j>0;j=j-3)U=","+_[j-2]+_[j-1]+_[parseInt(j.toString(),10)]+U;return U=U.slice(1),O[1]?U+"."+O[1]:U}a.groupingPattern=ae;function de(U,O){var _=n,H=B("supplemental.weekData.firstDay",O),Q=U;return/en-/.test(Q)&&(Q=Q.slice(3)),Q=Q.slice(0,2).toUpperCase()+Q.substr(2),H&&(_=H[""+Q]||H[Q.slice(0,2)]||n),r[""+_]}a.getWeekData=de;function re(U,O,_){var H=gv(_);if(O!==H)for(var Q=0,j=U;Q<j.length;Q++){var te=j[Q];te.nend=te.nend.replace(O,H),te.nlead=te.nlead.replace(O,H)}}a.replaceBlazorCurrency=re;function me(U){var O=new Date(U.getFullYear(),0,1),_=O.getDay(),H;_=_>=0?_:_+7;var Q=Math.floor((U.getTime()-O.getTime()-(U.getTimezoneOffset()-O.getTimezoneOffset())*6e4)/864e5)+1;if(_<4){if(H=Math.floor((Q+_-1)/7)+1,H>52){var j=new Date(U.getFullYear()+1,0,1),te=j.getDay();te=te>=0?te:te+7,H=te<4?1:53}}else H=Math.floor((Q+_-1)/7);return H}a.getWeekOfYear=me})(he||(he={}));var Rp=/^(.*?):[ \t]*([^\r\n]*)$/gm,zp="GET",ri=function(){function a(t,e,i,s){this.mode=!0,this.emitError=!0,this.options={},typeof t=="string"?(this.url=t,this.type=e?e.toUpperCase():zp,this.mode=h(i)?!0:i):typeof t=="object"&&(this.options=t,as(this,this.options)),this.type=this.type?this.type.toUpperCase():zp,this.contentType=this.contentType!==void 0?this.contentType:s}return a.prototype.send=function(t){var e=this;this.data=h(t)?this.data:t;var i={cancel:!1,httpRequest:null},s=new Promise(function(n,r){e.httpRequest=new XMLHttpRequest,e.httpRequest.onreadystatechange=function(){e.stateChange(n,r)},h(e.onLoad)||(e.httpRequest.onload=e.onLoad),h(e.onProgress)||(e.httpRequest.onprogress=e.onProgress),h(e.onAbort)||(e.httpRequest.onabort=e.onAbort),h(e.onError)||(e.httpRequest.onerror=e.onError),h(e.onUploadProgress)||(e.httpRequest.upload.onprogress=e.onUploadProgress),e.httpRequest.open(e.type,e.url,e.mode),!h(e.data)&&e.contentType!==null&&e.httpRequest.setRequestHeader("Content-Type",e.contentType||"application/json; charset=utf-8"),e.beforeSend&&(i.httpRequest=e.httpRequest,e.beforeSend(i)),i.cancel||e.httpRequest.send(h(e.data)?null:e.data)});return s},a.prototype.successHandler=function(t){return this.onSuccess&&this.onSuccess(t,this),t},a.prototype.failureHandler=function(t){return this.onFailure&&this.onFailure(this.httpRequest),t},a.prototype.stateChange=function(t,e){var i=this.httpRequest.responseText;if(this.dataType&&this.dataType.toLowerCase()==="json")if(i==="")i=void 0;else try{i=JSON.parse(i)}catch{}this.httpRequest.readyState===4&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||this.httpRequest.status===304?t(this.successHandler(i)):this.emitError?e(new Error(this.failureHandler(this.httpRequest.statusText))):t())},a.prototype.getResponseHeader=function(t){for(var e={},i=Rp.exec(this.httpRequest.getAllResponseHeaders());i;)e[i[1].toLowerCase()]=i[2],i=Rp.exec(this.httpRequest.getAllResponseHeaders());var s=e[t.toLowerCase()];return h(s)?null:s},a}();var kv=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,Av=/msie|trident/i,jv=/Trident\/7\./,Rv=/(ipad|iphone|ipod touch)/i,zv=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,Pv=/android/i,Bv=/trident|windows phone|edge/i,Hv=/(version)[ /]([\w.]+)/i,Xo={OPERA:/(opera|opr)(?:.*version|)[ /]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ /]([\w.]+)/i,CHROME:/(chrome|crios)[ /]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ /]([\w.]+)/i,SAFARI:/(safari)[ /]([\w.]+)/i,WEBKIT:/(webkit)[ /]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};typeof window<"u"&&(window.browserDetails=window.browserDetails||{});var E=function(){function a(){}return a.extractBrowserDetail=function(){for(var t={culture:{}},e=Object.keys(Xo),i=[],s=0,n=e;s<n.length;s++){var r=n[s];if(i=a.userAgent.match(Xo[""+r]),i){if(t.name=i[1].toLowerCase()==="opr"?"opera":i[1].toLowerCase(),t.name=i[1].toLowerCase()==="crios"?"chrome":t.name,t.version=i[2],t.culture.name=t.culture.language=navigator.language,a.userAgent.match(jv)){t.name="msie";break}var o=a.userAgent.match(Hv);t.name==="safari"&&o&&(t.version=o[2]);break}}return t},a.getEvent=function(t){var e={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return a.isPointer?e[""+t].isPointer:a.isTouch?e[""+t].isTouch+(a.isDevice?"":" "+e[""+t].isDevice):e[""+t].isDevice},a.getTouchStartEvent=function(){return a.getEvent("start")},a.getTouchEndEvent=function(){return a.getEvent("end")},a.getTouchMoveEvent=function(){return a.getEvent("move")},a.getTouchCancelEvent=function(){return a.getEvent("cancel")},a.isSafari=function(){return a.isDevice&&a.isIos&&a.isTouch&&typeof window<"u"&&window.navigator.userAgent.toLowerCase().indexOf("iphone")===-1&&window.navigator.userAgent.toLowerCase().indexOf("safari")>-1},a.getValue=function(t,e){var i=typeof window<"u"?window.browserDetails:{};return typeof navigator<"u"&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1&&a.isTouch===!0&&!Xo.CHROME.test(navigator.userAgent)&&(i.isIos=!0,i.isDevice=!0,i.isTouch=!0,i.isPointer=!0),typeof i[""+t]>"u"?i[""+t]=e.test(a.userAgent):i[""+t]},Object.defineProperty(a,"userAgent",{get:function(){return a.uA},set:function(t){a.uA=t,window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(a,"info",{get:function(){return oe(window.browserDetails.info)?window.browserDetails.info=a.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(a,"isIE",{get:function(){return a.getValue("isIE",Av)},enumerable:!0,configurable:!0}),Object.defineProperty(a,"isTouch",{get:function(){return oe(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window.navigator||window&&window.navigator&&window.navigator.maxTouchPoints>0||"ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(a,"isPointer",{get:function(){return oe(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(a,"isMSPointer",{get:function(){return oe(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(a,"isDevice",{get:function(){return a.getValue("isDevice",kv)},enumerable:!0,configurable:!0}),Object.defineProperty(a,"isIos",{get:function(){return a.getValue("isIos",Rv)},enumerable:!0,configurable:!0}),Object.defineProperty(a,"isIos7",{get:function(){return a.getValue("isIos7",zv)},enumerable:!0,configurable:!0}),Object.defineProperty(a,"isAndroid",{get:function(){return a.getValue("isAndroid",Pv)},enumerable:!0,configurable:!0}),Object.defineProperty(a,"isWebView",{get:function(){return oe(window.browserDetails.isWebView)&&(window.browserDetails.isWebView=!(oe(window.cordova)&&oe(window.PhoneGap)&&oe(window.phonegap)&&window.forge!=="object")),window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(a,"isWindows",{get:function(){return a.getValue("isWindows",Bv)},enumerable:!0,configurable:!0}),Object.defineProperty(a,"touchStartEvent",{get:function(){return oe(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=a.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(a,"touchMoveEvent",{get:function(){return oe(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=a.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(a,"touchEndEvent",{get:function(){return oe(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=a.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),Object.defineProperty(a,"touchCancelEvent",{get:function(){return oe(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=a.getTouchCancelEvent():window.browserDetails.touchCancelEvent},enumerable:!0,configurable:!0}),a.uA=typeof navigator<"u"?navigator.userAgent:"",a}(),v=function(){function a(){}return a.addOrGetEventData=function(t){return"__eventList"in t?t.__eventList.events:(t.__eventList={},t.__eventList.events=[])},a.add=function(t,e,i,s,n){var r=a.addOrGetEventData(t),o;n?o=na(i,n):o=i,s&&(o=o.bind(s));for(var l=e.split(" "),c=0;c<l.length;c++)r.push({name:l[parseInt(c.toString(),10)],listener:i,debounce:o}),E.isIE?t.addEventListener(l[parseInt(c.toString(),10)],o):t.addEventListener(l[parseInt(c.toString(),10)],o,{passive:!1});return o},a.remove=function(t,e,i){for(var s=a.addOrGetEventData(t),n=e.split(" "),r=function(l){var c=-1,d;s&&s.length!==0&&s.some(function(p,u){return p.name===n[parseInt(l.toString(),10)]&&p.listener===i?(c=u,d=p.debounce,!0):!1}),c!==-1&&s.splice(c,1),d&&t.removeEventListener(n[parseInt(l.toString(),10)],d)},o=0;o<n.length;o++)r(o)},a.clearEvents=function(t){for(var e=a.addOrGetEventData(t),i=ue([],void 0,e),s=0;s<i.length;s++){var n=i[parseInt(s.toString(),10)];t.removeEventListener(n.name,n.debounce),e.shift()}},a.trigger=function(t,e,i){for(var s=a.addOrGetEventData(t),n=0,r=s;n<r.length;n++){var o=r[n];o.name===e&&o.debounce.call(this,i)}},a}(),Fv=/^svg|^path|^g/;function P(a,t){var e=Fv.test(a)?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a);return typeof t>"u"||(e.innerHTML=t.innerHTML?t.innerHTML:"",t.className!==void 0&&(e.className=t.className),t.id!==void 0&&(e.id=t.id),t.styles!==void 0&&e.setAttribute("style",t.styles),t.attrs!==void 0&&le(e,t.attrs)),e}function L(a,t){for(var e=eu(t),i=RegExp,s=0,n=a;s<n.length;s++)for(var r=n[s],o=0,l=e;o<l.length;o++){var c=l[o];if(rs(r)){var d=B("attributes.className",r);h(d)?pe("attributes.className",c,r):new i("\\b"+c+"\\b","i").test(d)||pe("attributes.className",d+" "+c,r)}else r.classList.contains(c)||r.classList.add(c)}return a}function k(a,t){for(var e=eu(t),i=0,s=a;i<s.length;i++){var n=s[i],r=rs(n),o=r?B("attributes.className",n):n.className!=="";if(o)for(var l=0,c=e;l<c.length;l++){var d=c[l];if(r){var p=B("attributes.className",n),u=p.split(" "),f=u.indexOf(d);f!==-1&&u.splice(f,1),pe("attributes.className",u.join(" "),n)}else n.classList.remove(d)}}return a}function eu(a){var t=[];return typeof a=="string"?t.push(a):t=a,t}function It(a){var t=a;return t.style.visibility===""&&t.offsetWidth>0}function Ft(a,t,e){for(var i=document.createDocumentFragment(),s=0,n=a;s<n.length;s++){var r=n[s];i.appendChild(r)}return t.insertBefore(i,t.firstElementChild),e&&tu(t),a}function Pe(a,t,e){var i=document.createDocumentFragment();if(a instanceof NodeList)for(;a.length>0;)i.appendChild(a[0]);else for(var s=0,n=a;s<n.length;s++){var r=n[s];i.appendChild(r)}return t.appendChild(i),e&&tu(t),a}function tu(a){var t=a.querySelectorAll("script");t.forEach(function(e){var i=document.createElement("script");i.text=e.innerHTML,document.head.appendChild(i),N(i)})}function N(a){var t=a.parentNode;if(t)return t.removeChild(a)}function Je(a){var t=a.parentNode;v.clearEvents(a),t.removeChild(a)}function le(a,t){for(var e=Object.keys(t),i=a,s=0,n=e;s<n.length;s++){var r=n[s];if(rs(i)){var o=r;r==="tabindex"&&(o="tabIndex"),i.attributes[""+o]=t[""+r]}else i.setAttribute(r,t[""+r])}return i}function W(a,t,e){return t===void 0&&(t=document),a=iu(a),t.querySelector(a)}function ce(a,t,e){t===void 0&&(t=document),a=iu(a);var i=t.querySelectorAll(a);return i}function iu(a){var t=/(!|"|\$|%|&|'|\(|\)|\*|\/|:|;|<|=|\?|@|\]|\^|`|{|}|\||\+|~)/g;if(a.match(/#[0-9]/g)||a.match(t)){for(var e=a.split(","),i=0;i<e.length;i++){for(var s=e[parseInt(i.toString(),10)].split(" "),n=0;n<s.length;n++)if(s[parseInt(n.toString(),10)].indexOf("#")>-1&&!s[parseInt(n.toString(),10)].match(/\[.*\]/)){var r=s[parseInt(n.toString(),10)].split("#");if(r[1].match(/^\d/)||r[1].match(t)){var o=s[parseInt(n.toString(),10)].split(".");o[0]=o[0].replace(/#/,"[id='")+"']",s[parseInt(n.toString(),10)]=o.join(".")}}e[parseInt(i.toString(),10)]=s.join(" ")}return e.join(",")}return a}function M(a,t){var e=a;if(typeof e.closest=="function")return e.closest(t);for(;e&&e.nodeType===1;){if(cl(e,t))return e;e=e.parentNode}return null}function se(a,t){t!==void 0&&Object.keys(t).forEach(function(e){a.style[""+e]=t[""+e]})}function ut(a,t,e){L([a],t),k([a],e)}function cl(a,t){var e=a.matches||a.msMatchesSelector||a.webkitMatchesSelector;return e?e.call(a,t):[].indexOf.call(document.querySelectorAll(t),a)!==-1}var Uv=new RegExp("]"),Wi=function(){function a(t,e){this.isRendered=!1,this.isComplexArraySetter=!1,this.isServerRendered=!1,this.allowServerDataBinding=!0,this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.bulkChanges={},this.refreshing=!1,this.ignoreCollectionWatch=!1,this.finalUpdate=function(){},this.childChangedProperties={},this.modelObserver=new os(this),oe(e)||(typeof e=="string"?this.element=document.querySelector(e):this.element=e,h(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),oe(t)||this.setProperties(t,!0),this.isDestroyed=!1}return a.prototype.setProperties=function(t,e){var i=this.isProtectedOnChange;this.isProtectedOnChange=!!e,as(this,t),e!==!0?(as(this.changedProperties,t),this.dataBind()):ie()&&this.isRendered&&this.serverDataBind(t),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=i},a.callChildDataBind=function(t,e){for(var i=Object.keys(t),s=0,n=i;s<n.length;s++){var r=n[s];if(e[""+r]instanceof Array)for(var o=0,l=e[""+r];o<l.length;o++){var c=l[o];c.dataBind!==void 0&&c.dataBind()}else e[""+r].dataBind()}},a.prototype.clearChanges=function(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}},a.prototype.dataBind=function(){if(a.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var t=this.isProtectedOnChange,e=this.changedProperties,i=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(e,i),this.isProtectedOnChange=t}},a.prototype.serverDataBind=function(t){if(ie()){t=t||{},ue(this.bulkChanges,{},t,!0);var e="sfBlazor";this.allowServerDataBinding&&window[""+e].updateModel&&(window[""+e].updateModel(this),this.bulkChanges={})}},a.prototype.saveChanges=function(t,e,i){if(ie()){var s={};s[""+t]=e,this.serverDataBind(s)}this.isProtectedOnChange||(this.oldProperties[""+t]=i,this.changedProperties[""+t]=e,this.finalUpdate(),this.finalUpdate=dv(this.dataBind.bind(this)))},a.prototype.addEventListener=function(t,e){this.modelObserver.on(t,e)},a.prototype.removeEventListener=function(t,e){this.modelObserver.off(t,e)},a.prototype.trigger=function(t,e,i,s){var n=this;if(this.isDestroyed!==!0){var r=this.isProtectedOnChange;this.isProtectedOnChange=!1;var o=this.modelObserver.notify(t,e,i,s);if(Uv.test(t)){var l=B(t,this);if(l){var c="Blazor";if(window[""+c]){var d=l.call(this,e);d&&typeof d.then=="function"?i?d.then(function(p){i&&(p=typeof p=="string"&&n.modelObserver.isJson(p)?JSON.parse(p):p,i.call(n,p))}).catch(function(p){s&&(p=typeof p=="string"&&n.modelObserver.isJson(p)?JSON.parse(p):p,s.call(n,p))}):o=d:i&&i.call(this,e)}else l.call(this,e),i&&i.call(this,e)}else i&&i.call(this,e)}return this.isProtectedOnChange=r,o}},a.prototype.addInstance=function(){var t="e-"+this.getModuleName().toLowerCase();L([this.element],["e-lib",t]),h(this.element.ej2_instances)?pe("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},a.prototype.destroy=function(){var t=this;this.element.ej2_instances=this.element.ej2_instances?this.element.ej2_instances.filter(function(e){return Ko?Ko(e)!==Ko(t):e!==t}):[],k([this.element],["e-"+this.getModuleName()]),this.element.ej2_instances.length===0&&k([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0},a}();function ra(a,t){var e,i,s=typeof a=="string"?document.getElementById(a):a;for(i=0;i<s.ej2_instances.length;i++)if(e=s.ej2_instances[parseInt(i.toString(),10)],typeof t=="string"){var n=e.getModuleName();if(t===n)return e}else if(e instanceof t)return e}var Ko;function su(a,t,e,i){return(!Object.prototype.hasOwnProperty.call(a.properties,t)||!(a.properties[""+t]instanceof i))&&(a.properties[""+t]=sa(i,[a,t,e])),a.properties[""+t]}function il(a,t,e,i,s,n){for(var r=[],o=e?e.length:0,l=0;l<o;l++){var c=i;if(n&&(c=i(e[parseInt(l.toString(),10)],a)),s){var d=sa(c,[a,t,{},!0]);d.setProperties(e[parseInt(l.toString(),10)],!0),r.push(d)}else r.push(sa(c,[a,t,e[parseInt(l.toString(),10)],!1]))}return r}function nu(a,t){return function(){return Object.prototype.hasOwnProperty.call(this.properties,t)||(this.properties[""+t]=a),this.properties[""+t]}}function Vv(a,t){return function(e){if(this.properties[""+t]!==e){var i=Object.prototype.hasOwnProperty.call(this.properties,t)?this.properties[""+t]:a;this.saveChanges(t,e,i),this.properties[""+t]=e}}}function qv(a,t,e){return function(){return su(this,t,a,e)}}function _v(a,t,e){return function(i){su(this,t,a,e).setProperties(i)}}function Wv(a,t,e){return function(){var i=this;if(!Object.prototype.hasOwnProperty.call(this.properties,t)){var s=il(this,t,a,e,!1);this.properties[""+t]=s}var n=this.controlParent!==void 0&&this.controlParent.ignoreCollectionWatch||this.ignoreCollectionWatch;return!Object.prototype.hasOwnProperty.call(this.properties[""+t],"push")&&!n&&["push","pop"].forEach(function(r){var o={value:Yv(r,t,e,i.properties[""+t]).bind(i),configurable:!0};Object.defineProperty(i.properties[""+t],r,o)}),Object.prototype.hasOwnProperty.call(this.properties[""+t],"isComplexArray")||Object.defineProperty(this.properties[""+t],"isComplexArray",{value:!0}),this.properties[""+t]}}function Qv(a,t,e){return function(i){this.isComplexArraySetter=!0;var s=il(this,t,a,e,!1),n=il(this,t,i,e,!0);this.isComplexArraySetter=!1,this.saveChanges(t,n,s),this.properties[""+t]=n}}function Yv(a,t,e,i){return function(){for(var s=[],n=0;n<arguments.length;n++)s[n]=arguments[n];var r=this.propName?this.getParentKey()+"."+t+"-":t+"-";switch(a){case"push":for(var o=0;o<s.length;o++){var l=s[parseInt(o.toString(),10)];Array.prototype[""+a].apply(i,[l]);var c=Pp(r+(i.length-1),l,!this.controlParent,a);this.serverDataBind(c,s[parseInt(o.toString(),10)],!1,a)}break;case"pop":{Array.prototype[""+a].apply(i);var c=Pp(r+i.length,null,!this.controlParent,a);this.serverDataBind(c,{ejsAction:"pop"},!1,a);break}}return i}}function Pp(a,t,e,i){var s=a;if(e&&(s={},s[""+a]=t,t&&typeof t=="object")){var n="ejsAction";s[""+a][""+n]=i}return s}function y(a){return function(t,e){var i={set:Vv(a,e),get:nu(a,e),enumerable:!0,configurable:!0};Object.defineProperty(t,e,i),aa(t,e,"prop",a)}}function ye(a,t){return function(e,i){var s={set:_v(a,i,t),get:qv(a,i,t),enumerable:!0,configurable:!0};Object.defineProperty(e,i,s),aa(e,i,"complexProp",a,t)}}function Qt(a,t){return function(e,i){var s={set:Qv(a,i,t),get:Wv(a,i,t),enumerable:!0,configurable:!0};Object.defineProperty(e,i,s),aa(e,i,"colProp",a,t)}}function z(){return function(a,t){var e={set:function(i){var s=this.properties[""+t];if(s!==i){var n=ru(this,t);oe(s)===!1&&n.context.removeEventListener(n.prefix,s),n.context.addEventListener(n.prefix,i),this.properties[""+t]=i}},get:nu(void 0,t),enumerable:!0,configurable:!0};Object.defineProperty(a,t,e),aa(a,t,"event")}}function ke(a){}function aa(a,t,e,i,s){oe(a.propList)&&(a.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),a.propList[e+"s"].push({propertyName:t,defaultValue:i,type:s}),a.propList[e+"Names"].push(t)}function ru(a,t){if(Object.prototype.hasOwnProperty.call(a,"parentObj")===!1)return{context:a,prefix:t};var e=B("propName",a);return e&&(t=e+"-"+t),ru(B("parentObj",a),t)}var Gv=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Vi=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},ai=function(a){Gv(t,a);function t(i){var s=a.call(this,i,void 0)||this;return s.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},s}e=t,t.prototype.animate=function(i,s){s=s||{};var n=this.getModel(s);if(typeof i=="string")for(var r=Array.prototype.slice.call(ce(i,document)),o=0,l=r;o<l.length;o++){var c=l[o];n.element=c,e.delayAnimation(n)}else n.element=i,e.delayAnimation(n)},t.stop=function(i,s){i.style.animation="",i.removeAttribute("e-animate");var n=i.getAttribute("e-animation-id");if(n){var r=parseInt(n,10);cancelAnimationFrame(r),i.removeAttribute("e-animation-id")}s&&s.end&&s.end.call(this,s)},t.delayAnimation=function(i){Wt==="Disable"||Wt===ou.Disable?(i.begin&&i.begin.call(this,i),i.end&&i.end.call(this,i)):i.delay?setTimeout(function(){e.applyAnimation(i)},i.delay):e.applyAnimation(i)},t.applyAnimation=function(i){var s=this;i.timeStamp=0;var n=0,r=0,o=0,l=i.duration;i.element.setAttribute("e-animate","true");var c=function(d){try{if(d){o=o===0?d:o,i.timeStamp=d+i.timeStamp-o,o=d,!n&&i.begin&&i.begin.call(s,i),n=n+1;var p=i.timeStamp/n;i.timeStamp<l&&i.timeStamp+p<l&&i.element.getAttribute("e-animate")?(i.element.style.animation=i.name+" "+i.duration+"ms "+i.timingFunction,i.progress&&i.progress.call(s,i),requestAnimationFrame(c)):(cancelAnimationFrame(r),i.element.removeAttribute("e-animation-id"),i.element.removeAttribute("e-animate"),i.element.style.animation="",i.end&&i.end.call(s,i))}else r=requestAnimationFrame(c),i.element.setAttribute("e-animation-id",r.toString())}catch(u){cancelAnimationFrame(r),i.element.removeAttribute("e-animation-id"),i.fail&&i.fail.call(s,u)}};c()},t.prototype.getModel=function(i){return{name:i.name||this.name,delay:i.delay||this.delay,duration:i.duration!==void 0?i.duration:this.duration,begin:i.begin||this.begin,end:i.end||this.end,fail:i.fail||this.fail,progress:i.progress||this.progress,timingFunction:this.easing[i.timingFunction]?this.easing[i.timingFunction]:i.timingFunction||this.easing[this.timingFunction]}},t.prototype.onPropertyChanged=function(i,s){},t.prototype.getModuleName=function(){return"animation"},t.prototype.destroy=function(){};var e;return Vi([y("FadeIn")],t.prototype,"name",void 0),Vi([y(400)],t.prototype,"duration",void 0),Vi([y("ease")],t.prototype,"timingFunction",void 0),Vi([y(0)],t.prototype,"delay",void 0),Vi([z()],t.prototype,"progress",void 0),Vi([z()],t.prototype,"begin",void 0),Vi([z()],t.prototype,"end",void 0),Vi([z()],t.prototype,"fail",void 0),t=e=Vi([ke],t),t}(Wi);function Mi(a,t,e){var i=Xv(t);return i.rippleFlag===!1||i.rippleFlag===void 0&&!Qi?function(){}:(a.setAttribute("data-ripple","true"),v.add(a,"mousedown",Bp,{parent:a,rippleOptions:i}),v.add(a,"mouseup",Hp,{parent:a,rippleOptions:i,done:e}),v.add(a,"mouseleave",Zs,{parent:a,rippleOptions:i}),E.isPointer&&v.add(a,"transitionend",Zs,{parent:a,rippleOptions:i}),function(){a.removeAttribute("data-ripple"),v.remove(a,"mousedown",Bp),v.remove(a,"mouseup",Hp),v.remove(a,"mouseleave",Zs),v.remove(a,"transitionend",Zs)})}function Xv(a){var t={selector:a&&a.selector?a.selector:null,ignore:a&&a.ignore?a.ignore:null,rippleFlag:a&&a.rippleFlag,isCenterRipple:a&&a.isCenterRipple,duration:a&&a.duration?a.duration:350};return t}function Bp(a){var t=a.target,e=this.rippleOptions.selector,i=e?M(t,e):t;if(!(!i||this.rippleOptions&&M(t,this.rippleOptions.ignore))){var s=i.getBoundingClientRect(),n=a.pageX-document.body.scrollLeft,r=a.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),o=Math.max(Math.abs(n-s.left),Math.abs(n-s.right)),l=Math.max(Math.abs(r-s.top),Math.abs(r-s.bottom)),c=Math.sqrt(o*o+l*l),d=c*2+"px",p=n-s.left-c,u=r-s.top-c;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(p=0,u=0,d="100%"),i.classList.add("e-ripple");var f=this.rippleOptions.duration.toString(),m="width: "+d+";height: "+d+";left: "+p+"px;top: "+u+"px;transition-duration: "+f+"ms;",g=P("div",{className:"e-ripple-element",styles:m});i.appendChild(g),window.getComputedStyle(g).getPropertyValue("opacity"),g.style.transform="scale(1)",i!==this.parent&&v.add(i,"mouseleave",Zs,{parent:this.parent,rippleOptions:this.rippleOptions})}}function Hp(a){au(a,this)}function Zs(a){au(a,this)}function au(a,t){var e=t.rippleOptions.duration,i=a.target,s=t.rippleOptions.selector,n=s?M(i,s):i;if(!(!n||n&&n.className.indexOf("e-ripple")===-1)){var r=ce(".e-ripple-element",n),o=r[r.length-1];o&&(o.style.opacity="0.5"),t.parent!==n&&v.remove(n,"mouseleave",Zs),setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o),n.getElementsByClassName("e-ripple-element").length||n.classList.remove("e-ripple"),t.done&&t.done(a)},e)}}var Qi=!1;var Wt;var ou=function(a){return a.Default="Default",a.Enable="Enable",a.Disable="Disable",a}(ou||{}),Kv="Module",$v=function(){function a(t){this.loadedModules=[],this.parent=t}return a.prototype.inject=function(t,e){var i=t.length;if(i===0){this.clean();return}this.loadedModules.length&&this.clearUnusedModule(t);for(var s=0;s<i;s++)for(var n=t[parseInt(s.toString(),10)],r=0,o=e;r<o.length;r++){var l=o[r],c=n.member;if(l&&l.prototype.getModuleName()===n.member&&!this.isModuleLoaded(c)){var d=sa(l,n.args),p=this.getMemberName(c);n.isProperty?pe(p,l,this.parent):pe(p,d,this.parent);var u=n;u.member=p,this.loadedModules.push(u)}}},a.prototype.clean=function(){for(var t=0,e=this.loadedModules;t<e.length;t++){var i=e[t];i.isProperty||B(i.member,this.parent).destroy()}this.loadedModules=[]},a.prototype.getNonInjectedModules=function(t){var e=this;return t.filter(function(i){return!e.isModuleLoaded(i.member)})},a.prototype.clearUnusedModule=function(t){for(var e=this,i=t.map(function(l){return e.getMemberName(l.member)}),s=this.loadedModules.filter(function(l){return i.indexOf(l.member)===-1}),n=0,r=s;n<r.length;n++){var o=r[n];o.isProperty||B(o.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(o),1),Hn(this.parent,o.member)}},a.prototype.getMemberName=function(t){return t[0].toLowerCase()+t.substring(1)+Kv},a.prototype.isModuleLoaded=function(t){for(var e=0,i=this.loadedModules;e<i.length;e++){var s=i[e];if(s.member===this.getMemberName(t))return!0}return!1},a}(),ge=function(){function a(t,e,i,s){this.isComplexArraySetter=!1,this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=function(){},this.callChildDataBind=B("callChildDataBind",Wi),this.parentObj=t,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=e,this.isParentArray=s,this.setProperties(i,!0)}return a.prototype.updateChange=function(t,e){t===!0?this.parentObj.childChangedProperties[""+e]=t:delete this.parentObj.childChangedProperties[""+e],this.parentObj.updateChange&&this.parentObj.updateChange(t,this.parentObj.propName)},a.prototype.updateTimeOut=function(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{var t=setTimeout(this.parentObj.dataBind.bind(this.parentObj)),e=function(){clearTimeout(t)};this.finalUpdate=e}},a.prototype.clearChanges=function(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}},a.prototype.setProperties=function(t,e){e===!0?(as(this,t),this.updateChange(!1,this.propName),this.clearChanges()):as(this,t)},a.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var t=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(pe(this.propName+"."+t,this.changedProperties,this.parentObj.changedProperties),pe(this.propName+"."+t,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},a.prototype.saveChanges=function(t,e,i,s){this.controlParent.isProtectedOnChange||(s||this.serverDataBind(t,e,!0),this.oldProperties[""+t]=i,this.changedProperties[""+t]=e,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},a.prototype.serverDataBind=function(t,e,i,s){if(ie()&&!this.parentObj.isComplexArraySetter){var n,r={},o=i?this.getParentKey(!0)+"."+t:t;if(o.indexOf(".")!==-1){var l=o.split(".");n=r;for(var c=0;c<l.length;c++){var d=c===l.length-1;n[l[parseInt(c.toString(),10)]]=d?e:{},n=d?n:n[l[parseInt(c.toString(),10)]]}}else r[""+o]={},n=r[""+o],r[""+o][""+t]=e;if(this.isParentArray){var p="ejsAction";n[""+p]=s||"none"}this.controlParent.serverDataBind(r)}},a.prototype.getParentKey=function(t){var e="",i=this.propName;if(this.isParentArray){e=this.parentObj[this.propName].indexOf(this);var s=this.parentObj[this.propName].length;s=t?s:s>0?s-1:0,e=e!==-1?"-"+e:"-"+s,i=i+e}return this.controlParent!==this.parentObj&&(i=this.parentObj.getParentKey()+"."+this.propName+e),i},a}(),Jv=["grid","pivotview","treegrid","spreadsheet","rangeNavigator","DocumentEditor","listbox","inplaceeditor","PdfViewer","richtexteditor","DashboardLayout","chart","stockChart","circulargauge","diagram","heatmap","lineargauge","maps","slider","smithchart","barcode","sparkline","treemap","bulletChart","kanban","daterangepicker","schedule","gantt","signature","query-builder","drop-down-tree","carousel","filemanager","uploader","accordion","tab","treeview"],Fp=[115,121,110,99,102,117,115,105,111,110,46,105,115,76,105,99,86,97,108,105,100,97,116,101,100],sl,lu=function(){function a(t){this.isValidated=!1,this.isLicensed=!0,this.version="26",this.platform=/JavaScript|ASPNET|ASPNETCORE|ASPNETMVC|FileFormats|essentialstudio/i,this.errors={noLicense:"<span>This application was built using a trial version of Syncfusion Essential Studio. To remove the license validation message permanently, a valid license key must be included.</span>",trailExpired:"<span>This application was built using a trial version of Syncfusion Essential Studio. To remove the license validation message permanently, a valid license key must be included.</span>",versionMismatched:"<span>The included Syncfusion license key is invalid.</span>",platformMismatched:"<span>The included Syncfusion license key is invalid.</span>",invalidKey:"<span>The included Syncfusion license key is invalid.</span>"},this.manager=function(){var e=null;function i(n){e=n}function s(){return e}return{setKey:i,getKey:s}}(),this.npxManager=function(){var e="npxKeyReplace";function i(){return e}return{getKey:i}}(),this.manager.setKey(t)}return a.prototype.validate=function(){var t=[115,121,110,99,102,117,115,105,111,110,46,108,105,99,101,110,115,101,67,111,110,116,101,110,116],e=[115,121,110,99,102,117,115,105,111,110,46,99,108,97,105,109,65,99,99,111,117,110,116,85,82,76];if(!this.isValidated&&Xs&&!B(ea(Fp),Xs)&&!B("Blazor",Xs)){var i=void 0,s=void 0;if(this.manager&&this.manager.getKey()||this.npxManager&&this.npxManager.getKey()!=="npxKeyReplace"){var n=this.getInfoFromKey();if(n&&n.length)for(var r=0,o=n;r<o.length;r++){var l=o[r];if(!this.platform.test(l.platform)||l.invalidPlatform)i=this.errors.platformMismatched;else if(l.version.indexOf(this.version)===-1)i=this.errors.versionMismatched,i=i.replace("##LicenseVersion",l.version),i=i.replace("##Requireversion",this.version+".x");else if(l.expiryDate){var c=new Date(l.expiryDate),d=new Date;if(c!==d&&c<d)i=this.errors.trailExpired;else break}}else i=this.errors.invalidKey}else{var p=B(ea(t),Xs);s=B(ea(e),Xs),p&&p!==""?i=p:i=this.errors.noLicense}if(i&&typeof document<"u"&&!h(document)){sl=s&&s!==""?s:"https://www.syncfusion.com/account/claim-license-key?pl=SmF2YVNjcmlwdA==&vs=MjY=&utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information";var u=P("div",{innerHTML:`<img src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzE5OV80KSI+CjxwYXRoIGQ9Ik0xMiAyMUMxNi45NzA2IDIxIDIxIDE2Ljk3MDYgMjEgMTJDMjEgNy4wMjk0NCAxNi45NzA2IDMgMTIgM0M3LjAyOTQ0IDMgMyA3LjAyOTQ0IDMgMTJDMyAxNi45NzA2IDcuMDI5NDQgMjEgMTIgMjFaIiBzdHJva2U9IiM3MzczNzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS4yNSAxMS4yNUgxMlYxNi41SDEyLjc1IiBmaWxsPSIjNjE2MDYzIi8+CjxwYXRoIGQ9Ik0xMS4yNSAxMS4yNUgxMlYxNi41SDEyLjc1IiBzdHJva2U9IiM3MzczNzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMS44MTI1IDlDMTIuNDMzOCA5IDEyLjkzNzUgOC40OTYzMiAxMi45Mzc1IDcuODc1QzEyLjkzNzUgNy4yNTM2OCAxMi40MzM4IDYuNzUgMTEuODEyNSA2Ljc1QzExLjE5MTIgNi43NSAxMC42ODc1IDcuMjUzNjggMTAuNjg3NSA3Ljg3NUMxMC42ODc1IDguNDk2MzIgMTEuMTkxMiA5IDExLjgxMjUgOVoiIGZpbGw9IiM3MzczNzMiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xOTlfNCI+CjxyZWN0IHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K' style="top: 6px;
                    position: absolute;
                    left: 16px;
                    width: 24px;
                    height: 24px;"/>`+i+' <a style="text-decoration: none;color: #0D6EFD;font-weight: 500;" href='+sl+">Claim your free account</a>"});u.setAttribute("style",`position: fixed;
                top: 10px;
                left: 10px;
                right: 10px;
                font-size: 14px;
                background: #EEF2FF;
                color: #222222;
                z-index: 999999999;
                text-align: left;
                border: 1px solid #EEEEEE;
                padding: 10px 11px 10px 50px;
                border-radius: 8px;
                font-family: Helvetica Neue, Helvetica, Arial;`),document.body.appendChild(u),this.isLicensed=!1}this.isValidated=!0,pe(ea(Fp),this.isValidated,Xs)}return this.isLicensed},a.prototype.getDecryptedData=function(t){try{return atob(t)}catch{return""}},a.prototype.getInfoFromKey=function(){try{var t="",e=[5439488,7929856,5111808,6488064,4587520,7667712,5439488,6881280,5177344,7208960,4194304,4456448,6619136,7733248,5242880,7077888,6356992,7602176,4587520,7274496,7471104,7143424],i=[],s=[],n=!1,r=!1;this.manager.getKey()?t=this.manager.getKey():(r=!0,t=this.npxManager.getKey().split("npxKeyReplace")[1]);for(var o=t.split(";"),l=0,c=o;l<c.length;l++){var d=c[l],p=this.getDecryptedData(d);if(p){var u=0,f="";if(r){for(var b=p[p.length-1],S=[],m=0;m<p.length;m++)S[parseInt(m.toString(),10)]=p[parseInt(m.toString(),10)].charCodeAt(0)-b.charCodeAt(0);for(var m=0;m<S.length;m++)f+=String.fromCharCode(S[parseInt(m.toString(),10)])}else for(var m=0;m<p.length;m++,u++){u===e.length&&(u=0);var g=p.charCodeAt(m);f+=String.fromCharCode(g^e[parseInt(u.toString(),10)]>>16)}this.platform.test(f)?(i=f.split(";"),n=!1,i.length>3&&s.push({platform:i[0],version:i[1],expiryDate:i[2]})):f&&f.split(";").length>3&&(n=!0)}}return n&&!s.length?[{invalidPlatform:n}]:s.length?s:null}catch{return null}},a}(),hu=new lu;function ea(a){for(var t="",e=0,i=a;e<i.length;e++){var s=i[e];t+=String.fromCharCode(s)}return t}function Zv(a){hu=new lu(a)}var ey=function(a){return a&&Zv(a),hu.validate()};var ty=function(){var a=`
    <div style="
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 99999;
    ">
        <div style="
    background: #FFFFFF;
    height: 455px;
    width: 840px;
    font-family: Helvetica Neue, Helvetica, Arial;
    color: #000000;
    box-shadow: 0px 4.8px 14.4px rgb(0 0 0 / 18%), 0px 25.6px 57.6px rgb(0 0 0 / 22%);
    display: block;
    margin: 8% auto;
    border-radius: 20px;
    ">
            <div style="
    position: absolute;
width: 838px;
height: 62px;
background-color: #F9F9F9;
border: 1px solid #EEEEEE;
border-top-left-radius: 20px;
border-top-right-radius: 20px;
">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQ2IiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMTQ2IDMyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNNDAuNTk2NSAxNS4wMDc4SDMyLjQyNUMzMS41NTU3IDE1LjAwNzggMzAuOTAzNyAxNS4xODEyIDMwLjUxMjUgMTUuNDg0NkMzMC4xMjEzIDE1LjgzMTQgMjkuOTA0IDE2LjMwODIgMjkuOTA0IDE3LjA0NTFDMjkuOTA0IDE3LjYwODYgMzAuMDc3OCAxOC4wNDIxIDMwLjQyNTYgMTguMzAyMkMzMC43NzMzIDE4LjYwNTYgMzEuMjk0OSAxOC43MzU2IDMxLjk5MDMgMTguNzM1NkgzNi4zMzY5QzM4LjExODkgMTguNzM1NiAzOS40MjI5IDE5LjA4MjQgNDAuMTYxOCAxOS43MzI2QzQwLjk0NDIgMjAuNDI2MiA0MS4yOTE5IDIxLjU1MzIgNDEuMjkxOSAyMy4xMTM3QzQxLjI5MTkgMjQuNzE3NiA0MC44NTcyIDI1Ljg4OCAzOS45ODc5IDI2LjY2ODJDMzkuMTE4NiAyNy40MDUxIDM3LjcyNzcgMjcuNzk1MyAzNS44NTg3IDI3Ljc5NTNIMjcuMDc4N1YyNS4wMjFIMzUuMzM3MkMzNi4yOTM0IDI1LjAyMSAzNi45NDU0IDI0Ljg5MSAzNy4zMzY2IDI0LjYzMDlDMzcuNzI3NyAyNC4zNzA4IDM3LjkwMTYgMjMuODk0IDM3LjkwMTYgMjMuMjg3MUMzNy45MDE2IDIyLjYzNjkgMzcuNzI3NyAyMi4xNjAxIDM3LjM4IDIxLjlDMzcuMDMyMyAyMS42Mzk5IDM2LjQyMzggMjEuNDY2NSAzNS41NTQ1IDIxLjQ2NjVIMzEuNjQyNkMyOS44NjA1IDIxLjQ2NjUgMjguNTEzMSAyMS4xMTk4IDI3LjY4NzMgMjAuMzgyOEMyNi44NjE0IDE5LjY0NTkgMjYuNDI2OCAxOC41MTg5IDI2LjQyNjggMTcuMDAxN0MyNi40MjY4IDE1LjM1NDUgMjYuODYxNCAxNC4xNDA4IDI3LjczMDcgMTMuMzYwNkMyOC42IDEyLjU4MDMgMjkuOTkwOSAxMi4yMzM1IDMxLjkwMzQgMTIuMjMzNUg0MC41OTY1VjE1LjAwNzhaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik00OC4wNzI3IDI1LjI4MTFINTAuNTA2OFYxNi4zOTQ5SDUzLjU0OTNWMjcuNTM1MkM1My41NDkzIDI5LjA1MjQgNTMuMjAxNiAzMC4xNzk0IDUyLjUwNjIgMzAuOTE2M0M1MS44MTA3IDMxLjY1MzIgNTAuNzI0MSAzMiA0OS4yNDYzIDMySDQzLjMzNVYyOS42NTkySDQ4LjcyNDdDNDkuMjg5NyAyOS42NTkyIDQ5Ljc2NzkgMjkuNTI5MiA1MC4wNzIxIDI5LjIyNThDNTAuMzc2NCAyOC45NjU3IDUwLjU1MDIgMjguNTMyMiA1MC41NTAyIDI4LjAxMlYyNy44Mzg2SDQ3Ljg5ODlDNDYuMjAzNyAyNy44Mzg2IDQ0Ljk0MzIgMjcuNDkxOSA0NC4yNDc4IDI2Ljg0MTZDNDMuNTA4OSAyNi4xNDgxIDQzLjE2MTEgMjUuMDY0NCA0My4xNjExIDIzLjQ2MDVWMTYuMzk0OUg0Ni4xNjAyVjIzLjIwMDVDNDYuMTYwMiAyNC4wNjc0IDQ2LjI5MDYgMjQuNjMwOSA0Ni41NTE0IDI0Ljg5MUM0Ni43MjUzIDI1LjE1MTEgNDcuMjQ2OSAyNS4yODExIDQ4LjA3MjcgMjUuMjgxMVoiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTU1Ljg5NjUgMTYuMzk0OUg2MS41OTA0QzYzLjMyOTEgMTYuMzk0OSA2NC41NDYxIDE2LjY5ODMgNjUuMjg1IDE3LjM0ODVDNjYuMDIzOSAxNy45OTg4IDY2LjM3MTYgMTkuMDgyNCA2Ni4zNzE2IDIwLjU1NjNWMjcuNzk1M0g2My4zMjkxVjIwLjk0NjRDNjMuMzI5MSAyMC4wNzk0IDYzLjE5ODcgMTkuNTE1OSA2Mi45Mzc5IDE5LjI5OTJDNjIuNjc3MSAxOS4wMzkxIDYyLjE1NTUgMTguOTA5MSA2MS4zMjk3IDE4LjkwOTFINTguODk1NlYyNy44Mzg2SDU1Ljg1M1YxNi4zOTQ5SDU1Ljg5NjVaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03NC45MzQyIDI1LjM2NzhINzguMTUwNlYyNy43OTUySDc0LjAyMTRDNzIuOTc4MiAyNy43OTUyIDcyLjEwODkgMjcuNjY1MiA3MS40NTcgMjcuNDkxOEM3MC44MDUgMjcuMjc1IDcwLjE5NjUgMjYuOTI4MyA2OS43MTgzIDI2LjQ1MTRDNjkuMTk2OCAyNS45MzEzIDY4Ljc2MjEgMjUuMjgxMSA2OC40NTc4IDI0LjU0NDJDNjguMTUzNiAyMy44MDcyIDY4LjAyMzIgMjIuOTgzNiA2OC4wMjMyIDIyLjE2QzY4LjAyMzIgMjEuMjkzMSA2OC4xNTM2IDIwLjQ2OTUgNjguNDU3OCAxOS42ODkyQzY4Ljc2MjEgMTguOTA5IDY5LjE1MzMgMTguMzAyMSA2OS43MTgzIDE3Ljc4MTlDNzAuMjM5OSAxNy4zMDUxIDcwLjgwNSAxNi45NTgzIDcxLjUwMDQgMTYuNzQxNkM3Mi4xOTU5IDE2LjUyNDkgNzMuMDIxNyAxNi40MzgyIDc0LjA2NDkgMTYuNDM4Mkg3OC4xOTQxVjE4LjkwOUg3NC45MzQyQzczLjQ5OTggMTguOTA5IDcyLjU0MzYgMTkuMTY5MSA3MS45Nzg1IDE5LjY0NTlDNzEuNDU2OSAyMC4xMjI3IDcxLjE1MjcgMjAuOTg5NyA3MS4xNTI3IDIyLjIwMzRDNzEuMTUyNyAyMi44OTY5IDcxLjI4MzEgMjMuNDYwNSA3MS41MDA0IDIzLjkzNzNDNzEuNzE3NyAyNC40MTQxIDcyLjA2NTUgMjQuNzYwOSA3Mi41MDAxIDI1LjA2NDNDNzIuNzE3NCAyNS4xOTQ0IDcyLjk3ODIgMjUuMjgxMSA3My4yODI1IDI1LjM2NzhDNzMuNjMwMiAyNS4zMjQ0IDc0LjE1MTggMjUuMzY3OCA3NC45MzQyIDI1LjM2NzhaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik04MC44NDU2IDE4LjY0ODlINzguNjcyNFYxNi4zNTE1SDgwLjg0NTZWMTUuMTgxMUM4MC44NDU2IDE0LjAxMDggODEuMDYzIDEzLjIzMDUgODEuNDk3NiAxMi44NDA0QzgxLjkzMjMgMTIuNDUwMyA4Mi43NTgxIDEyLjIzMzUgODMuOTc1MSAxMi4yMzM1SDg2Ljg0MzhWMTQuNDAwOUg4NS40MDk1Qzg0Ljg4NzkgMTQuNDAwOSA4NC41NDAyIDE0LjQ4NzYgODQuMzIyOSAxNC42NjFDODQuMTA1NSAxNC44MzQ0IDgzLjk3NTEgMTUuMDk0NSA4My45NzUxIDE1LjQ0MTJWMTYuMzUxNUg4Ni44NDM4VjE4LjY0ODlIODMuOTc1MVYyNy43OTUzSDgwLjg0NTZWMTguNjQ4OVoiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTk4LjQwNTYgMjcuNzk1M0g5Mi43MTE2QzkxLjAxNjUgMjcuNzk1MyA4OS44NDI5IDI3LjQ0ODUgODkuMDYwNSAyNi43OTgzQzg4LjMyMTYgMjYuMTQ4MSA4Ny45MzA0IDI1LjA2NDQgODcuOTMwNCAyMy41OTA2VjE2LjM5NDlIOTAuOTI5NVYyMy40MTcyQzkwLjkyOTUgMjQuMTk3NCA5MS4wNTk5IDI0LjY3NDMgOTEuMzIwNyAyNC45MzQ0QzkxLjU4MTUgMjUuMTk0NCA5Mi4xMDMxIDI1LjMyNDUgOTIuOTI4OSAyNS4zMjQ1SDk1LjM2M1YxNi4zOTQ5SDk4LjQwNTZWMjcuNzk1M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTEwMC42MjIgMjUuNDExMkgxMDcuMDExQzEwNy41NzcgMjUuNDExMiAxMDguMDExIDI1LjMyNDUgMTA4LjI3MiAyNS4xNTExQzEwOC41MzMgMjQuOTc3NyAxMDguNjYzIDI0LjY3NDMgMTA4LjY2MyAyNC4zMjc1QzEwOC42NjMgMjMuOTM3NCAxMDguNTMzIDIzLjY3NzMgMTA4LjI3MiAyMy40NjA1QzEwOC4wMTEgMjMuMjg3MSAxMDcuNTc3IDIzLjIwMDUgMTA3LjA1NSAyMy4yMDA1SDEwNC40NDdDMTAyLjg4MiAyMy4yMDA1IDEwMS44MzkgMjIuOTgzNyAxMDEuMzE4IDIyLjUwNjlDMTAwLjc1MiAyMi4wMzAxIDEwMC40OTIgMjEuMjA2NSAxMDAuNDkyIDE5Ljk5MjdDMTAwLjQ5MiAxOC43NzkgMTAwLjgzOSAxNy44Njg3IDEwMS40OTEgMTcuMjYxOEMxMDIuMTQzIDE2LjY5ODMgMTAzLjE4NyAxNi4zOTQ5IDEwNC41MzQgMTYuMzk0OUgxMTEuMDU0VjE4Ljc3OUgxMDUuNzA4QzEwNC44MzggMTguNzc5IDEwNC4yNzMgMTguODY1NyAxMDQuMDEyIDE4Ljk5NTdDMTAzLjc1MiAxOS4xNjkxIDEwMy42MjEgMTkuNDI5MiAxMDMuNjIxIDE5LjgxOTRDMTAzLjYyMSAyMC4xNjYxIDEwMy43NTIgMjAuNDI2MiAxMDMuOTY5IDIwLjU5OTZDMTA0LjE4NiAyMC43NzMgMTA0LjU3NyAyMC44NTk3IDEwNS4wNTYgMjAuODU5N0gxMDcuNzk0QzEwOS4wNTQgMjAuODU5NyAxMTAuMDExIDIxLjE2MzEgMTEwLjY2MyAyMS43MjY2QzExMS4zMTUgMjIuMjkwMiAxMTEuNjYyIDIzLjE1NzEgMTExLjY2MiAyNC4yNDA4QzExMS42NjIgMjUuMjgxMSAxMTEuMzU4IDI2LjE0ODEgMTEwLjc5MyAyNi43OTgzQzExMC4yMjggMjcuNDQ4NSAxMDkuNDQ2IDI3Ljc5NTMgMTA4LjUzMyAyNy43OTUzSDEwMC43MDlWMjUuNDExMkgxMDAuNjIyWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTE2LjU3NCAxNS4wOTQ0SDExMy40MDFWMTIuMjc2OUgxMTYuNTc0VjE1LjA5NDRaTTExNi41NzQgMjcuNzk1M0gxMTMuNDAxVjE2LjM5NDlIMTE2LjU3NFYyNy43OTUzWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTMwLjMwOSAyMi4xMTY3QzEzMC4zMDkgMjMuODkzOSAxMjkuNzQ0IDI1LjMyNDQgMTI4LjY1NyAyNi40MDgxQzEyNy41NzEgMjcuNDkxOCAxMjYuMDkzIDI4LjAxMiAxMjQuMjI0IDI4LjAxMkMxMjIuMzU1IDI4LjAxMiAxMjAuODc3IDI3LjQ5MTggMTE5Ljc5IDI2LjQwODFDMTE4LjcwNCAyNS4zMjQ0IDExOC4xMzkgMjMuODkzOSAxMTguMTM5IDIyLjExNjdDMTE4LjEzOSAyMC4zMzk0IDExOC43MDQgMTguOTA5IDExOS43OSAxNy44MjUzQzEyMC44NzcgMTYuNzQxNiAxMjIuMzk4IDE2LjIyMTQgMTI0LjIyNCAxNi4yMjE0QzEyNi4wNDkgMTYuMjIxNCAxMjcuNTI3IDE2Ljc0MTYgMTI4LjY1NyAxNy44MjUzQzEyOS43NDQgMTguODY1NiAxMzAuMzA5IDIwLjI5NjEgMTMwLjMwOSAyMi4xMTY3Wk0xMjEuMjY4IDIyLjExNjdDMTIxLjI2OCAyMy4yMDA0IDEyMS41MjkgMjQuMDY3MyAxMjIuMDUxIDI0LjY3NDJDMTIyLjU3MiAyNS4yODExIDEyMy4yNjggMjUuNTg0NSAxMjQuMTggMjUuNTg0NUMxMjUuMDkzIDI1LjU4NDUgMTI1Ljc4OSAyNS4yODExIDEyNi4zMSAyNC42NzQyQzEyNi44MzIgMjQuMDY3MyAxMjcuMDkzIDIzLjIwMDQgMTI3LjA5MyAyMi4xMTY3QzEyNy4wOTMgMjEuMDMzIDEyNi44MzIgMjAuMTY2MSAxMjYuMzEgMTkuNjAyNUMxMjUuNzg5IDE4Ljk5NTcgMTI1LjA5MyAxOC42OTIyIDEyNC4xMzcgMTguNjkyMkMxMjMuMjI0IDE4LjY5MjIgMTIyLjUyOSAxOC45OTU3IDEyMi4wMDcgMTkuNjAyNUMxMjEuNTI5IDIwLjE2NjEgMTIxLjI2OCAyMS4wMzMgMTIxLjI2OCAyMi4xMTY3WiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMTMxLjc4NyAxNi4zOTQ5SDEzNy40ODFDMTM5LjIxOSAxNi4zOTQ5IDE0MC40MzYgMTYuNjk4MyAxNDEuMTc1IDE3LjM0ODVDMTQxLjkxNCAxNy45OTg4IDE0Mi4yNjIgMTkuMDgyNCAxNDIuMjYyIDIwLjU1NjNWMjcuNzk1M0gxMzkuMjE5VjIwLjk0NjRDMTM5LjIxOSAyMC4wNzk0IDEzOS4wODkgMTkuNTE1OSAxMzguODI4IDE5LjI5OTJDMTM4LjU2NyAxOS4wMzkxIDEzOC4wNDYgMTguOTA5MSAxMzcuMjIgMTguOTA5MUgxMzQuNzg2VjI3LjgzODZIMTMxLjc0M1YxNi4zOTQ5SDEzMS43ODdaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03LjEyODMxIDMuNzM3NDNIMFYxMC44NDY0SDcuMTI4MzFWMy43Mzc0M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTIzLjI1MTMgLTIuMTU3MjVlLTA1TDE4LjU1MTMgNS41MTY4NUwyNC4wODMxIDEwLjIwNDFMMjguNzgzMSA0LjY4NzI1TDIzLjI1MTMgLTIuMTU3MjVlLTA1WiIgZmlsbD0iI0ZGODYwMCIvPgo8cGF0aCBkPSJNMTUuNjA0MSAzLjczNzQzSDguNDc1ODNWMTAuODQ2NEgxNS42MDQxVjMuNzM3NDNaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik03LjEyODMxIDEyLjE5MDJIMFYxOS4yOTkySDcuMTI4MzFWMTIuMTkwMloiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTE1LjYwNDEgMTIuMTkwMkg4LjQ3NTgzVjE5LjI5OTJIMTUuNjA0MVYxMi4xOTAyWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMjQuMDc5NyAxMi4xOTAySDE2Ljk1MTRWMTkuMjk5MkgyNC4wNzk3VjEyLjE5MDJaIiBmaWxsPSIjRkY4NjAwIi8+CjxwYXRoIGQ9Ik03LjEyODMxIDIwLjY4NjNIMFYyNy43OTUzSDcuMTI4MzFWMjAuNjg2M1oiIGZpbGw9IiMzNTQzQTgiLz4KPHBhdGggZD0iTTE1LjYwNDEgMjAuNjg2M0g4LjQ3NTgzVjI3Ljc5NTNIMTUuNjA0MVYyMC42ODYzWiIgZmlsbD0iIzM1NDNBOCIvPgo8cGF0aCBkPSJNMjQuMTIzMiAyMC42ODYzSDE2Ljk5NDlWMjcuNzk1M0gyNC4xMjMyVjIwLjY4NjNaIiBmaWxsPSIjMzU0M0E4Ii8+CjxwYXRoIGQ9Ik0xNDYgMTUuODMxM0MxNDYgMTYuODcxNyAxNDUuMTc0IDE3LjY5NTMgMTQ0LjEzMSAxNy42OTUzQzE0My4wODggMTcuNjk1MyAxNDIuMjYyIDE2Ljg3MTcgMTQyLjI2MiAxNS44MzEzQzE0Mi4yNjIgMTQuNzkxIDE0My4wODggMTQuMDEwNyAxNDQuMTMxIDE0LjAxMDdDMTQ1LjEzMSAxMy45Njc0IDE0NiAxNC43OTEgMTQ2IDE1LjgzMTNaTTE0Mi45NTcgMTQuNzkxQzE0Mi42OTcgMTUuMDUxMSAxNDIuNTY2IDE1LjQ0MTIgMTQyLjU2NiAxNS44MzEzQzE0Mi41NjYgMTYuNjk4MyAxNDMuMjYyIDE3LjM5MTggMTQ0LjEzMSAxNy4zOTE4QzE0NSAxNy4zOTE4IDE0NS42OTYgMTYuNjk4MyAxNDUuNjk2IDE1LjgzMTNDMTQ1LjY5NiAxNS4wMDc3IDE0NSAxNC4yNzA4IDE0NC4xNzQgMTQuMjcwOEMxNDMuNjUzIDE0LjI3MDggMTQzLjI2MiAxNC40NDQyIDE0Mi45NTcgMTQuNzkxWk0xNDQuODcgMTYuOTE1SDE0NC40NzlMMTQzLjkxNCAxNi4wOTE0VjE2LjkxNUgxNDMuNjA5VjE0Ljc0NzZIMTQzLjk1N0MxNDQuNDM1IDE0Ljc0NzYgMTQ0LjY1MyAxNC45NjQ0IDE0NC42NTMgMTUuMzU0NUMxNDQuNjUzIDE1LjY1NzkgMTQ0LjQ3OSAxNS44NzQ3IDE0NC4xNzQgMTUuOTYxNEwxNDQuODcgMTYuOTE1Wk0xNDQuMDQ0IDE1LjY1NzlDMTQ0LjI2MSAxNS42NTc5IDE0NC4zOTIgMTUuNTI3OSAxNDQuMzkyIDE1LjM1NDVDMTQ0LjM5MiAxNS4xMzc4IDE0NC4yNjEgMTUuMDUxMSAxNDQuMDAxIDE1LjA1MTFIMTQzLjkxNFYxNS42NTc5SDE0NC4wNDRaIiBmaWxsPSIjMzU0M0E4Ii8+Cjwvc3ZnPgo=" style="
    text-align: left;
    width: 146px;
    position: absolute;
    top: 14px;
    left: 31px;
">
            </div>
            <div style="
    position: relative;
    top: 80px;
    left: 32px;
    font-size: 20px;
    text-align: left;
    font-weight: 700;
    letter-spacing: 0.02em;
    font-style: normal;
    line-height: 125%;
    ">Claim your FREE account and get a key in less than a minute</div>
            <ul style="
        font-size: 15px;
        font-weight: 400;
        color: #333333;
        letter-spacing: 0.01em;
        position: relative;
        left: 32px;
        top: 88px;
        line-height: 180%;
        ">
                <li><span>Access to a 30-day free trial of any of our products.</span></li>
                <li><span>Access to 24x5 support by developers via the <a href="https://support.syncfusion.com/create?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">support tickets</a>, <a href="https://www.syncfusion.com/forums?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">forum</a>, <a href="https://www.syncfusion.com/feedback?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information
                " style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">feature &amp; feedback page</a> and chat.</span></li>
                <li><span>200+ <a href="https://www.syncfusion.com/succinctly-free-ebooks?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">ebooks </a>on the latest technologies, industry trends, and research topics.</span>
                </li>
                <li><span>Largest collection of over 7,000 flat and wireframe icons for free with Syncfusion <a href="https://www.syncfusion.com/downloads/metrostudio?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information
                " style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">Metro Studio.</a></span></li>
                <li><span>Free and unlimited access to Syncfusion technical <a href="https://www.syncfusion.com/blogs/?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information
                " style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">blogs</a> and <a href="https://www.syncfusion.com/resources/techportal/whitepapers?utm_source=es_license_validation_banner&utm_medium=listing&utm_campaign=license-information" style="text-decoration: none;
                color: #0D6EFD;
                font-weight: 500;">whitepapers.</a></span></li>
            </ul>
            <div style="
            font-size: 18px;
            font-weight: 700;
            position: relative;
            line-height: 125%;
            letter-spacing: 0.02em;
            top: 90px;
            left: 32px;
    ">Syncfusion is trusted by 29,000+ businesses worldwide</div>
            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODIwIiBoZWlnaHQ9IjU2IiB2aWV3Qm94PSIwIDAgODIwIDU2IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MjcuNjE3IDIyLjU2NTlWMjQuNzIyNkM0MjYuNTU4IDI0LjM2MzggNDI1LjM5OCAyNC4xNTQ0IDQyNC40NzQgMjQuMTU0NEM0MjMuMzMzIDI0LjE1NDQgNDIyLjY5OCAyNC40OTEyIDQyMi42OTggMjUuMDk2M0M0MjIuNjk4IDI1LjQ4MjQgNDIyLjk3NiAyNS43MzgzIDQyMy43NzMgMjYuMDg1NEw0MjUuOTE3IDI3LjAxNzRDNDI3LjYzMyAyNy43NjM5IDQyOC40OTcgMjguODUzIDQyOC40OTcgMzAuMjY4MUM0MjguNDk3IDMyLjQ1MjIgNDI2LjU0NiAzMy44MyA0MjMuNDUyIDMzLjgzQzQyMi4zMjQgMzMuODMgNDIxLjAxOCAzMy42NzM2IDQxOS42MzYgMzMuMzcwOVYzMS4xNDE2QzQyMS4wMDYgMzEuNTAyOCA0MjIuMjYyIDMxLjY5NTcgNDIzLjIzOSAzMS42OTU3QzQyNC41MTggMzEuNjk1NyA0MjUuMjAzIDMxLjM1MDYgNDI1LjIwMyAzMC43MDc0QzQyNS4yMDMgMzAuMzIwOCA0MjQuOTM1IDMwLjAzNjcgNDI0LjMyMiAyOS43NzE3TDQyMS45NzUgMjguNzU5M0M0MjAuMjM2IDI4LjAwNzggNDE5LjQzMyAyNi45OTU0IDQxOS40MzMgMjUuNTUyMUM0MTkuNDMzIDIzLjQ4MzcgNDIxLjMxNCAyMi4xNjQ5IDQyNC4yNjUgMjIuMTY0OUM0MjUuMjk4IDIyLjE2NDkgNDI2LjU3IDIyLjMxNzEgNDI3LjYxNyAyMi41NjU5VjIyLjU2NTlaTTQzMC4xNjcgMjIuMzkwOUg0MzMuNjM1VjMzLjYwMzlINDMwLjE2N1YyMi4zOTA5Wk00NDQuOTExIDIyLjM5MDlWMjQuNDQ1MUg0MzkuNjc1VjI2Ljk3NDJINDQ0LjI0OVYyOC44MzIzSDQzOS42NzVWMzEuNDU0M0g0NDQuOTc4VjMzLjYwMzlINDM2LjMwNVYyMi4zOTA5SDQ0NC45MTFaTTQ2MS4yOTQgMjIuMzkwOVYzMy42MDM5SDQ1Ny45MzlWMjYuMjIzNkw0NTQuNjUyIDMzLjY5MTVINDUyLjUzMUw0NDkuMjY2IDI2LjIyMzZWMzMuNjAzOUg0NDYuOTQ5VjIyLjM5MDlINDUxLjE4NEw0NTQuMTc4IDI5LjIxMTRMNDU3LjE1NiAyMi4zOTA5SDQ2MS4yOTRWMjIuMzkwOVpNNDcyLjU3OSAyMi4zOTA5VjI0LjQ0NTFINDY3LjMzNVYyNi45NzQySDQ3MS45MDhWMjguODMyM0g0NjcuMzM1VjMxLjQ1NDNINDcyLjYzOFYzMy42MDM5SDQ2My45NTdWMjIuMzkwOUg0NzIuNTc5Wk00ODQuNzk0IDIyLjM5MDlWMzMuNjAzOUg0ODEuMDkzTDQ3Ni45MjYgMjYuNDEyM1YzMy42MDM5SDQ3NC42MDhWMjIuMzkwOUg0NzguNDA3TDQ4Mi40ODQgMjkuNDg3NlYyMi4zOTA5SDQ4NC43OTRaTTQ5NC44NTggMjIuNTY1OVYyNC43MjI2QzQ5My44MDcgMjQuMzY2MyA0OTIuNjQgMjQuMTU0NCA0OTEuNzMyIDI0LjE1NDRDNDkwLjU3MyAyNC4xNTQ0IDQ4OS45MzkgMjQuNDg1OCA0ODkuOTM5IDI1LjA5M0M0ODkuOTM5IDI1LjQ4ODYgNDkwLjE5OCAyNS43MjUgNDkxLjAyMyAyNi4wODU5TDQ5My4xNTcgMjcuMDE3OEM0OTQuODg1IDI3Ljc3MjIgNDk1LjczOSAyOC44NTE4IDQ5NS43MzkgMzAuMjgzNUM0OTUuNzM5IDMyLjQ1NTkgNDkzLjc4NiAzMy44MzA4IDQ5MC42OTkgMzMuODMwOEM0ODkuNTY5IDMzLjgzMDggNDg4LjI1OSAzMy42NzM2IDQ4Ni44NzggMzMuMzcxN1YzMS4xNDI0QzQ4OC4yNDcgMzEuNTAyOCA0ODkuNDk5IDMxLjY5NjUgNDkwLjQ3IDMxLjY5NjVDNDkxLjc0IDMxLjY5NjUgNDkyLjQ0NCAzMS4zNTE1IDQ5Mi40NDQgMzAuNzI4NUM0OTIuNDQ0IDMwLjMxNjMgNDkyLjE5NyAzMC4wNTA0IDQ5MS41NTUgMjkuNzcyNUw0ODkuMjE4IDI4Ljc2MDFDNDg3LjQ2NyAyOC4wMDI4IDQ4Ni42NzQgMjcuMDAyIDQ4Ni42NzQgMjUuNTUzM0M0ODYuNjc0IDIzLjQ4NjIgNDg4LjU1NiAyMi4xNjY1IDQ5MS41IDIyLjE2NjVDNDkyLjUzNiAyMi4xNjUzIDQ5My44MTMgMjIuMzE3MSA0OTQuODU4IDIyLjU2NTlWMjIuNTY1OVoiIGZpbGw9IiMwMEEwQjAiLz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzUyLjQxMyAyNi44MTlDMzUwLjk5MiAyNS4yNzU5IDM0OS42MzggMjMuODMxNSAzNDguMzQ5IDIyLjE1NzRMMzQ3LjkyIDIxLjU5OTVDMzQ5LjQwNiAyMS4zNjkzIDM1MC42OTUgMjAuMzg0OCAzNTAuNjk1IDE4Ljc0MzNDMzUwLjY5NSAxNy4yMzMxIDM0OS41MzkgMTYuMjQ4MiAzNDcuODIxIDE2LjI0ODJDMzQ2LjU5OCAxNi4yNDgyIDM0NS43MDYgMTYuMzEzNyAzNDUuMjQzIDE2LjMxMzdDMzQ0LjcxNSAxNi4zMTM3IDM0NC4yODUgMTYuMzEzNyAzNDMuNzkgMTYuMjgwOEMzNDMuODU2IDE4LjE1MjEgMzQzLjg4OSAxOC4yODM0IDM0My44ODkgMTkuNDMyMlYyMy42MzQzQzM0My44ODkgMjQuNDU1MyAzNDMuODU2IDI1LjI3NTkgMzQzLjc5IDI2LjgxODZDMzQ0LjE1MyAyNi43MjAyIDM0NC41MTcgMjYuNzIwMiAzNDQuNzgxIDI2LjcyMDJDMzQ1LjA0NSAyNi43MjAyIDM0NS40MDkgMjYuNzUzMSAzNDUuNzA2IDI2LjgxODZDMzQ1LjY0IDI1Ljc2NzkgMzQ1LjYwNyAyNC4wMjgzIDM0NS42MDcgMjMuNjM0M1YyMS4yMDUxQzM0Ny4xNiAyMy4yMDc3IDM0OS4yMDkgMjUuNjY5NSAzNTAuMDAxIDI2LjgxODZDMzUwLjM5OCAyNi43MjAyIDM1MC43MjggMjYuNzIwMiAzNTEuMTI0IDI2LjcyMDJDMzUxLjQ1NSAyNi43MjA2IDM1MS45MTggMjYuNzIwNiAzNTIuNDEzIDI2LjgxOVYyNi44MTlaTTM0OC44NzggMTkuMDA2QzM0OC44NzggMjAuMDIzNCAzNDguMzE3IDIxLjIwNTQgMzQ2Ljc5NyAyMS4yMDU0QzM0Ni40IDIxLjIwNTQgMzQ2LjAwMyAyMS4yMDU0IDM0NS42MDcgMjEuMTcyNVYxNy4wNjg4QzM0Ni4wMDMgMTYuOTcwNCAzNDYuNDk5IDE2LjkwNDYgMzQ2Ljc2MyAxNi45MDQ2QzM0OC4wODUgMTYuOTA0OSAzNDguODc4IDE3LjY2IDM0OC44NzggMTkuMDA2VjE5LjAwNlpNMzgyLjM4IDI2Ljg4NDVDMzgxLjgxOSAyNi4yOTM2IDM4MC45NiAyNS4zNDE3IDM4MC4xMzQgMjQuNDIyM0MzODAuODI4IDIzLjY2NzIgMzgxLjU1NSAyMi41NTEgMzgxLjk4NCAyMS41OTkxQzM4MS43MTkgMjEuNDY3OCAzODEuMzU2IDIxLjIwNTEgMzgxLjA5MiAyMC45NzUzQzM4MC45OTMgMjEuNzk1OSAzODAuNDMyIDIyLjg3OTIgMzc5LjYzOSAyMy44MzE1QzM3OC41MTUgMjIuNTE4NSAzNzguMjE4IDIyLjE1NzQgMzc3LjE5MyAyMC43Nzg1QzM3OC41ODEgMTkuODkyMSAzNzkuMjQyIDE4Ljg3NDMgMzc5LjI0MiAxOC4wNTM3QzM3OS4yNDIgMTcuMTAxNyAzNzguNTgxIDE2LjExNjkgMzc2Ljk2MiAxNi4xMTY5QzM3NS4yMTEgMTYuMTE2OSAzNzQuMzUyIDE3LjIwMDIgMzc0LjM1MiAxOC40ODAzQzM3NC4zNTIgMTkuMjM1NCAzNzQuNTUgMTkuODkxNyAzNzUuMzc2IDIwLjk3NTNDMzc0LjA1NCAyMS42OTc1IDM3Mi43NjYgMjIuNzQ3OSAzNzIuNzY2IDI0LjQyMjNDMzcyLjc2NiAyNi4wNjM5IDM3NC4wODcgMjYuOTE3NCAzNzUuNzA3IDI2LjkxNzRDMzc3LjE5MyAyNi45MTc0IDM3OC4xNTEgMjYuMzI2NiAzNzguOTEyIDI1LjYzNjlMMzc5LjkwMiAyNi44MTlDMzgwLjIgMjYuNzg2MSAzODAuNTMxIDI2LjcyMDYgMzgwLjg2MSAyNi43MjA2QzM4MS4zMjQgMjYuNzIwNiAzODEuODUyIDI2Ljc4NjEgMzgyLjM4IDI2Ljg4NDVWMjYuODg0NVpNMzgzLjM3MiA0MC4wMTU4QzM4MS45MTggMzguNDczIDM4MC41OTcgMzcuMDYxMiAzNzkuMzA4IDM1LjM4NzFMMzc4Ljg3OCAzNC44Mjg4QzM4MC4zMzIgMzQuNTk5MSAzODEuNjU0IDMzLjYxNSAzODEuNjU0IDMxLjk0MDFDMzgxLjY1NCAzMC40NjMyIDM4MC40OTggMjkuNDQ1NCAzNzguNzc5IDI5LjQ0NTRDMzc3LjU1NyAyOS40NDU0IDM3Ni42MzIgMjkuNTQzNSAzNzYuMTY5IDI5LjU0MzVDMzc1LjY3MyAyOS41NDM1IDM3NS4yNDQgMjkuNTQzNSAzNzQuNzQ4IDI5LjQ3NzZDMzc0LjgxNCAzMS4zODIyIDM3NC44NDggMzEuNDgwMiAzNzQuODQ4IDMyLjYyOTRWMzYuODMxMUMzNzQuODQ4IDM3LjY1MjQgMzc0LjgxNCAzOC41MDUyIDM3NC43NDggNDAuMDE1NEMzNzUuMTEyIDM5Ljk0OTYgMzc1LjQ3NSAzOS45NDk2IDM3NS43MDcgMzkuOTQ5NkMzNzYuMDA0IDM5Ljk0OTYgMzc2LjM2OCAzOS45NDk2IDM3Ni42MzIgNDAuMDE1NEMzNzYuNTY1IDM4Ljk5OCAzNzYuNTMzIDM3LjI1ODEgMzc2LjUzMyAzNi44MzExVjM0LjQzNDhDMzc4LjExOSAzNi40MDQyIDM4MC4xNjcgMzguODk5NiAzODAuOTYgNDAuMDE1NEMzODEuMzU2IDM5Ljk0OTYgMzgxLjY4NyAzOS45NDk2IDM4Mi4wODMgMzkuOTQ5NkMzODIuMzggMzkuOTUgMzgyLjg3NiAzOS45NSAzODMuMzcyIDQwLjAxNThaTTM2Mi4xNiAyNi44MTlDMzYwLjk3MSAyNS41NzE1IDM1OC44ODkgMjIuOTc4IDM1OC4wNjMgMjEuOTkzNUwzNTcuMjM3IDIwLjk3NTdDMzU4LjA5NiAxOS45NTgzIDM1OC42OSAxOS4zMzQxIDM1OS4zMTkgMTguNTc5QzM2MC4wNDUgMTcuNzkxIDM2MC43MDYgMTYuOTcwNCAzNjEuNDk5IDE2LjI0ODJDMzYxLjEzNiAxNi4zMTM3IDM2MC45MzcgMTYuMzEzNyAzNjAuNzM5IDE2LjMxMzdDMzYwLjU0MSAxNi4zMTM3IDM2MC4zNDMgMTYuMzEzNyAzNjAuMTQ0IDE2LjI0ODJDMzU5LjkxMyAxNi42MDkzIDM1OS41NSAxNy4wNjg4IDM1OS4xNTMgMTcuNTI4N0MzNTguNzU2IDE3Ljk1NTYgMzU4LjM2IDE4LjM4MjIgMzU4LjA2MyAxOC43NDMzQzM1Ny4yMzYgMTkuNjk1MiAzNTYuNzc0IDIwLjE1NDcgMzU1LjU4NSAyMS4yNzA5VjE5LjQ2NTVDMzU1LjU4NSAxOC40MTUxIDM1NS41ODUgMTcuNzI1NSAzNTUuNjUxIDE2LjI0ODJDMzU1LjMyMSAxNi4zMTM3IDM1NC45NTcgMTYuMzEzNyAzNTQuNzI2IDE2LjMxMzdDMzU0LjQ2MSAxNi4zMTM3IDM1NC4wMzIgMTYuMzEzNyAzNTMuNzY4IDE2LjI0ODJDMzUzLjgzMyAxNy44MjM5IDM1My44NjcgMTguMjgzNCAzNTMuODY3IDE5LjQzMjVWMjMuNjM0N0MzNTMuODY3IDI0LjY4NSAzNTMuODMzIDI1LjMwODggMzUzLjc2OCAyNi44MTlDMzU0LjE2NCAyNi43MjA2IDM1NC40OTUgMjYuNzIwNiAzNTQuNzI2IDI2LjcyMDZDMzU0Ljk1NyAyNi43MjA2IDM1NS4zNTMgMjYuNzUzNSAzNTUuNjUxIDI2LjgxOUMzNTUuNTg1IDI1LjE0NDkgMzU1LjU4NSAyNC4xNTk3IDM1NS41ODUgMjMuNjM0N1YyMS40MzUyQzM1Ni44MDcgMjIuODc5NiAzNTguNjkgMjUuMjQzMyAzNTkuNzQ4IDI2LjgxOUMzNjAuMTMgMjYuNzU2MyAzNjAuNTE3IDI2LjcyMzQgMzYwLjkwNSAyNi43MjA2QzM2MS4yMDIgMjYuNzIwNiAzNjEuNjY1IDI2LjcyMDYgMzYyLjE2IDI2LjgxOVYyNi44MTlaTTM3Mi42MDEgNDAuMDE1OEMzNzIuNTY4IDM5Ljg1MTkgMzcyLjUzNSAzOS43MjA2IDM3Mi41MzUgMzkuNTIzNEMzNzIuNTM1IDM5LjM5MjggMzcyLjU2OCAzOS4yMjgxIDM3Mi42MDEgMzkuMDk2NEMzNzEuMjggMzkuMTI5NyAzNjguOTAxIDM5LjE5NTIgMzY4LjM3MiAzOS4xOTUyVjM0LjY2NDlDMzY5LjY5NCAzNC42NjQ5IDM3MC45ODIgMzQuNjY0OSAzNzIuMjcgMzQuNzk2M0MzNzIuMjM4IDM0LjYzMjQgMzcyLjIwNCAzNC40Njc3IDM3Mi4yMDQgMzQuMzM2NEMzNzIuMjA0IDM0LjIwNTggMzcyLjIwNCAzNC4wNDE5IDM3Mi4yNyAzMy44NDQ3QzM3MS4zNDYgMzMuOTQyOCAzNjkuMTk4IDMzLjk3NiAzNjguMzcyIDMzLjk3NlYzMC4yNjZDMzY5LjgyNiAzMC4yNjYgMzcwLjY4NSAzMC4yNjYgMzcxLjE4IDMwLjI5OTNMMzcyLjUwMiAzMC4zNjUxQzM3Mi40MzYgMzAuMTY3OSAzNzIuNDM2IDMwLjA2OTIgMzcyLjQzNiAyOS45MDUzQzM3Mi40MzYgMjkuNzQxNCAzNzIuNDM2IDI5LjcwODEgMzcyLjUwMiAyOS40NDU4QzM3MS40MTEgMjkuNDc4MyAzNjkuOTI1IDI5LjU0MzggMzY5LjI2NCAyOS41NDM4QzM2OC44MDIgMjkuNTQzOCAzNjcuMzQ4IDI5LjUxMTMgMzY2LjU4NyAyOS40NDU4QzM2Ni42NTQgMzAuMjY2NCAzNjYuNjg2IDMxLjYxMjMgMzY2LjY4NiAzMi41NjQyVjM2Ljg2NTFDMzY2LjY4NiAzNy40ODg1IDM2Ni42MiAzOC43MzU3IDM2Ni41ODcgNDAuMDE2MkMzNjcuNTEzIDM5Ljk1MDMgMzY4LjgwMiAzOS45NTAzIDM2OS4yNjQgMzkuOTUwM0MzNzAuMDI0IDM5Ljk1IDM3MS42NDMgMzkuOTUgMzcyLjYwMSA0MC4wMTU4Wk0zNjQuNjA1IDM5LjEyOTRDMzY0LjQ0IDM4LjgwMDggMzY0LjM0MSAzOC4zMDg4IDM2NC4yNzUgMzguMDQ2MUMzNjIuOTIgMzkuMTYxOSAzNjEuOTk1IDM5LjM5MjQgMzYwLjkzOCAzOS4zOTI0QzM1OC41OTIgMzkuMzkyNCAzNTcuMzM3IDM3LjI5MTMgMzU3LjMzNyAzNC42NjQ5QzM1Ny4zMzcgMzEuNzQzNiAzNTguNzU3IDMwLjAzNjIgMzYxLjE2OSAzMC4wMzYyQzM2Mi40MjUgMzAuMDM2MiAzNjMuNjE0IDMwLjU5NDUgMzY0LjE3NiAzMS4xNTI4QzM2NC4yMDggMzAuODg5OCAzNjQuMzA4IDMwLjM2NDggMzY0LjQ3MyAzMC4wNjg4QzM2My4zMTYgMjkuNTExMyAzNjIuMjU5IDI5LjM0NjYgMzYxLjEwMiAyOS4zNDY2QzM1Ny4yMzcgMjkuMzQ2NiAzNTUuNDUzIDMxLjc0MzYgMzU1LjQ1MyAzNC44Mjg4QzM1NS40NTMgMzguMzA5MSAzNTcuNzk4IDQwLjE0NzEgMzYwLjczOSA0MC4xNDcxQzM2Mi40MjUgNDAuMTQ3MSAzNjMuODEyIDM5LjYyMjIgMzY0LjYwNSAzOS4xMjk0VjM5LjEyOTRaTTM0Mi4zMDMgMjYuODE5QzM0MC41MTkgMjMuNDA0OSAzMzguOCAxOS4xMzczIDMzNy41NzggMTYuMTE2OUgzMzcuMzhDMzM2LjU4NyAxOC4wMjA3IDMzNS4xMzMgMjEuMjcwOSAzMzQuNzM3IDIyLjE4OTlDMzM0LjI3NCAyMy4zMDYxIDMzMy4yNSAyNS41MDU2IDMzMi41ODkgMjYuODE4NkMzMzIuODAzIDI2Ljc1MzggMzMzLjAyNiAyNi43MjA2IDMzMy4yNSAyNi43MjAyQzMzMy40NDggMjYuNzIwMiAzMzMuNjEzIDI2Ljc1MzEgMzMzLjg0NSAyNi44MTg2QzMzNC4xNzUgMjUuOTMyMiAzMzQuNjM4IDI0LjgxNiAzMzUuMTMzIDIzLjYzNDNDMzM1Ljc5NCAyMy42MDE0IDMzNi4zODkgMjMuNTY4OCAzMzYuOTg0IDIzLjU2ODhDMzM3LjYxMiAyMy41Njg4IDMzOC4yNzIgMjMuNjAxNCAzMzguOTMzIDIzLjYzNDNMMzM5LjU5NCAyNS4yMUwzNDAuMjU1IDI2LjgxODZDMzQwLjcxNyAyNi43MjAyIDM0MS4wOCAyNi43MjAyIDM0MS4zMTIgMjYuNzIwMkMzNDEuNjA5IDI2LjcyMDYgMzQxLjg3MyAyNi43MjA2IDM0Mi4zMDMgMjYuODE5VjI2LjgxOVpNMzUzLjYzNiAyOS40NDU0QzM1My40MzggMjkuNTExMyAzNTMuMjczIDI5LjU0MzUgMzUzLjEwNyAyOS41NDM1QzM1Mi45MDkgMjkuNTQzNSAzNTIuNzQ0IDI5LjUxMDkgMzUyLjU0NiAyOS40NDU0QzM1Mi42NDQgMzAuNzU4NCAzNTIuNjc4IDMyLjA3MTQgMzUyLjY3OCAzMy4zNTE5VjM2LjczMzRDMzUyLjE0OSAzNi4yNzM2IDM1MC44NiAzNS4wOTE5IDM0OS4zNzQgMzMuNzEzQzM0Ny44NiAzMi4zMDc0IDM0Ni4zOTQgMzAuODUxMSAzNDQuOTc5IDI5LjM0NjZIMzQ0Ljc0OEMzNDQuNzgxIDMwLjgyNDMgMzQ0LjgxNCAzMi40IDM0NC44MTQgMzMuODExNFYzNS44Nzk5QzM0NC44MTQgMzcuNjUyOCAzNDQuODE0IDM4LjYwNDcgMzQ0LjcxNSA0MC4wMTYyQzM0NC45OCAzOS45NTAzIDM0NS4xMTIgMzkuOTUwMyAzNDUuMzEgMzkuOTUwM0MzNDUuNDQyIDM5Ljk1MDMgMzQ1LjU3NSAzOS45NTAzIDM0NS44MDYgNDAuMDE2MkMzNDUuNzQgMzguNjcwNiAzNDUuNzA3IDM2LjQ3MDggMzQ1LjcwNyAzNS44Nzk5VjMyLjU5NjhDMzQ4LjE4NSAzNC44NjI1IDM1MS4yMjQgMzcuODgyNiAzNTMuNDcxIDQwLjE0NzVIMzUzLjYwM0MzNTMuNjAzIDM4LjkzMjkgMzUzLjUzNyAzNy43MTc5IDM1My41MzcgMzYuNTA0VjM0LjYzMjdDMzUzLjUzNiAzMi40MzI1IDM1My41MzYgMzEuMzQ5MyAzNTMuNjM2IDI5LjQ0NTRaTTM0Mi41NjcgNDAuMDE1OEMzNDIuNTM0IDM5Ljg1MTkgMzQyLjUwMSAzOS43MjA2IDM0Mi41MDEgMzkuNTIzNEMzNDIuNTAxIDM5LjM5MjggMzQyLjUzNCAzOS4yMjgxIDM0Mi41NjcgMzkuMDk2NEMzNDEuMjQ2IDM5LjEyOTcgMzM4Ljg2NyAzOS4xOTUyIDMzOC4zNzEgMzkuMTk1MlYzNC42NjQ5QzMzOS42NiAzNC42NjQ5IDM0MC45NDggMzQuNjY0OSAzNDIuMjM3IDM0Ljc5NjNDMzQyLjIwNCAzNC42MzI0IDM0Mi4xNzEgMzQuNDY3NyAzNDIuMTcxIDM0LjMzNjRDMzQyLjE3MSAzNC4yMDU4IDM0Mi4xNzEgMzQuMDQxOSAzNDIuMjM3IDMzLjg0NDdDMzQxLjMxMiAzMy45NDI4IDMzOS4xOTcgMzMuOTc2IDMzOC4zNzEgMzMuOTc2VjMwLjI2NkMzMzkuNzkyIDMwLjI2NiAzNDAuNjUxIDMwLjI2NiAzNDEuMTc5IDMwLjI5OTNMMzQyLjQ2OCAzMC4zNjUxQzM0Mi40MzUgMzAuMTY3OSAzNDIuNDM1IDMwLjA2OTIgMzQyLjQzNSAyOS45MDUzQzM0Mi40MzUgMjkuNzQxNCAzNDIuNDM1IDI5LjY3NTUgMzQyLjQ2OCAyOS40NDU4QzM0MS4zNzggMjkuNDc4MyAzMzkuODkxIDI5LjU0MzggMzM5LjIzIDI5LjU0MzhDMzM4Ljc2NyAyOS41NDM4IDMzNy4zMTQgMjkuNTExMyAzMzYuNTU0IDI5LjQ0NThDMzM2LjYyIDMwLjI2NjQgMzM2LjY1MyAzMS42MTIzIDMzNi42NTMgMzIuNTY0MlYzNi44NjUxQzMzNi42NTMgMzcuNDg4NSAzMzYuNTg3IDM4LjczNTcgMzM2LjU1NCA0MC4wMTYyQzMzNy41MTIgMzkuOTUwMyAzMzguNzY3IDM5Ljk1MDMgMzM5LjIzIDM5Ljk1MDNDMzM5Ljk5IDM5Ljk1IDM0MS42NDIgMzkuOTUgMzQyLjU2NyA0MC4wMTU4VjQwLjAxNThaTTMzMS4yMDEgMjYuODE5QzMzMC42NzMgMjMuMjQwNiAzMzAuMjEgMTkuNDk4NCAzMjkuODQ3IDE2LjExNjlDMzI5Ljc0OCAxNi4xNDk4IDMyOS43MTQgMTYuMTQ5OCAzMjkuNjQ5IDE2LjExNjlDMzI4Ljk1NSAxNy4zMzE1IDMyOC4xNjIgMTguNjQ0NSAzMjcuNTY3IDE5LjU2MzlDMzI3LjAwNiAyMC40NTAzIDMyNi4zNDUgMjEuNTAwNyAzMjUuNTg1IDIyLjYxNjlDMzIzLjk5OSAyMC41ODE3IDMyMi4zNDcgMTguMDIxMSAzMjEuMjU2IDE2LjExNjlDMzIxLjE5IDE2LjE0OTggMzIxLjE1NyAxNi4xMTY5IDMyMS4wOTEgMTYuMTE2OUMzMjAuNzI4IDE5LjQ5OCAzMjAuMjMyIDIzLjI3MzIgMzE5LjczNiAyNi44MTlDMzIwLjAwMSAyNi43MjA2IDMyMC4xNjYgMjYuNzIwNiAzMjAuMjk4IDI2LjcyMDZDMzIwLjQ5NiAyNi43MjA2IDMyMC42MjggMjYuNzUzNSAzMjAuODU5IDI2LjgxOUMzMjAuOTkyIDI0LjQ1NTMgMzIxLjI1NiAyMi4xMjQ0IDMyMS41NTMgMTkuNjYyM0MzMjIuODQyIDIxLjUzMzYgMzIzLjk2NSAyMy4xNDIyIDMyNS4yMjEgMjQuODQ5M0MzMjYuMjc4IDIzLjIwNzcgMzI3LjM2OCAyMS40MzQ4IDMyOC41NTggMTkuNjI5NEMzMjguODg4IDIyLjE1NyAzMjkuMTg2IDI0LjQ1NTMgMzI5LjM1MSAyNi44MTlDMzI5Ljc4IDI2LjcyMDYgMzMwLjA3OCAyNi43MjA2IDMzMC4yNzYgMjYuNzIwNkMzMzAuNTQgMjYuNzIwNiAzMzAuODA1IDI2LjcyMDYgMzMxLjIwMSAyNi44MTlWMjYuODE5Wk0zMzQuOTY4IDMyLjIwMjhDMzM0Ljk2OCAzMC4yOTg5IDMzMy40NDggMjkuNDQ1NCAzMzEuNTk4IDI5LjQ0NTRDMzMwLjc3MiAyOS40NDU0IDMyOS44OCAyOS41NDM1IDMyOS4yNTIgMjkuNTQzNUMzMjkuMDIxIDI5LjU0MzUgMzI4LjUyNSAyOS41NDM1IDMyNy45OTcgMjkuNDc3NkMzMjguMDMgMzAuNTI4MyAzMjguMDk2IDMxLjQxNDggMzI4LjA5NiAzMi40MzIyVjM2LjkyOTVDMzI4LjA5NiAzNy45MTQ4IDMyOC4wMyAzOC45OTggMzI3Ljk5NyA0MC4wMTU0QzMyOC40MjYgMzkuOTQ5NiAzMjguNzI0IDM5Ljk0OTYgMzI4LjkyMiAzOS45NDk2QzMyOS4xNTMgMzkuOTQ5NiAzMjkuNDg0IDM5Ljk0OTYgMzI5Ljg4IDQwLjAxNTRDMzI5LjgxNSAzOS4wMzE5IDMyOS43ODIgMzguMDQ2NSAzMjkuNzgxIDM3LjA2MDlWMzUuNDJDMzMwLjE0NSAzNS40NTI2IDMzMC41MDggMzUuNDUyNiAzMzAuOTA1IDM1LjQ1MjZDMzMyLjgyIDM1LjQ1MjYgMzM0Ljk2OCAzNC43MzA0IDMzNC45NjggMzIuMjAyOFYzMi4yMDI4Wk0zMjYuMDE0IDM2Ljg5NzNDMzI2LjAxNCAzNS4yNTU4IDMyNC45MjQgMzQuNTMzNiAzMjMuMDQgMzMuNzQ1NkMzMjEuNjg2IDMzLjE4OCAzMjAuOTkyIDMyLjY5NTYgMzIwLjk5MiAzMS42NDQ1QzMyMC45OTIgMzAuNjYgMzIxLjc1MiAzMC4wMzYyIDMyMy4wMDggMzAuMDM2MkMzMjMuODM0IDMwLjAzNjIgMzI0LjU2MSAzMC4zMzE1IDMyNS4yMjIgMzAuODU2OEMzMjUuMjg3IDMwLjQ5NTcgMzI1LjQ1MyAzMC4xMzQ3IDMyNS42NTEgMjkuODM5NEMzMjQuODU4IDI5LjQ3ODMgMzIzLjk5OSAyOS4zNDcgMzIzLjA3NCAyOS4zNDdDMzIwLjM2NSAyOS4zNDcgMzE5LjUwNSAzMC44OTA1IDMxOS41MDUgMzIuMjAzNUMzMTkuNTA1IDMzLjgxMTggMzIwLjI5OSAzNC41NjcyIDMyMi4zNDcgMzUuMzU1M0MzMjMuNjM2IDM1Ljg0NyAzMjQuMjk2IDM2LjQ3MTEgMzI0LjI5NiAzNy41NTQ0QzMyNC4yOTYgMzguNzAzNSAzMjMuNDM3IDM5LjQyNTcgMzIyLjI0OCAzOS40MjU3QzMyMS41NTQgMzkuNDI1NyAzMjAuMzY1IDM5LjA2NDYgMzE5LjUzOSAzOC4zMDk5QzMxOS41MDUgMzguNzM2MSAzMTkuNTA1IDM5LjEzMDQgMzE5LjM3MyAzOS40OTE1QzMxOS45MDIgMzkuNzU0NiAzMjEuMTI1IDQwLjE0NzkgMzIyLjIxNSA0MC4xNDc5QzMyNC45OSA0MC4xNDcxIDMyNi4wMTQgMzguNDM5NyAzMjYuMDE0IDM2Ljg5NzNWMzYuODk3M1pNMzc4LjE1MiAxNy45ODgyQzM3OC4xNTIgMTguOTczIDM3Ny40NTggMTkuNjYyMyAzNzYuNzY0IDIwLjIyMDJDMzc2LjMwMSAxOS41NjM5IDM3NS43NCAxOC42NzcxIDM3NS43NCAxNy45ODgyQzM3NS43NCAxNy4yMzMxIDM3Ni4yNjggMTYuODA2MSAzNzYuOTk1IDE2LjgwNjFDMzc3Ljk4NyAxNi44MDY1IDM3OC4xNTIgMTcuNjkyNiAzNzguMTUyIDE3Ljk4ODJWMTcuOTg4MlpNMzc4LjQ4MiAyNS4wMTMyQzM3OC4xMTkgMjUuMzQxNyAzNzcuMjYgMjUuOTY1NSAzNzYuNTMzIDI1Ljk2NTVDMzc1LjU3NCAyNS45NjU1IDM3NC40MTggMjUuMjc1OSAzNzQuNDE4IDIzLjc5ODZDMzc0LjQxOCAyMi40ODU1IDM3NS4yNzcgMjEuODk0NyAzNzUuODA2IDIxLjU2NjVDMzc3LjAyOCAyMy4yNDA2IDM3Ny4wOTUgMjMuMzM5MSAzNzguNDgyIDI1LjAxMzJaTTM3OS44MDQgMzIuMjAyOEMzNzkuODA0IDMzLjI1MzUgMzc5LjI3NSAzNC40MDI2IDM3Ny43NTUgMzQuNDAyNkMzNzcuMzI2IDM0LjQwMjYgMzc2LjkyOSAzNC40MDI2IDM3Ni41MzMgMzQuMzY5M1YzMC4yNjU2QzM3Ni45MjkgMzAuMTY3NiAzNzcuNDI1IDMwLjEzNDMgMzc3LjcyMiAzMC4xMzQzQzM3OS4wMTEgMzAuMTM0MyAzNzkuODA0IDMwLjg4OTggMzc5LjgwNCAzMi4yMDI4Wk0zMzguNjAyIDIyLjgxNDFDMzM3LjkwOSAyMi44NDY2IDMzNy41NDUgMjIuODQ2NiAzMzcuMDgyIDIyLjg0NjZDMzM2LjUyMSAyMi44NDY2IDMzNi4xOSAyMi44NDY2IDMzNS40NjMgMjIuODE0MUwzMzcuMDgyIDE5LjAwNkwzMzguNjAyIDIyLjgxNDFaTTMzMy4xNTEgMzIuMzAwOEMzMzMuMTUxIDMzLjgxMTEgMzMyLjI1OCAzNC43OTU5IDMzMC44MDUgMzQuNzk1OUMzMzAuNTA3IDM0Ljc5NTkgMzMwLjE3NyAzNC43OTU5IDMyOS43OCAzNC43MzAxVjMwLjIzMjdDMzMwLjI0MyAzMC4xNjY5IDMzMC42MzkgMzAuMTMzOSAzMzEuMDM2IDMwLjEzMzlDMzMyLjQyNCAzMC4xMzQzIDMzMy4xNTEgMzEuMDIxMSAzMzMuMTUxIDMyLjMwMDhaTTM2OS41MjggMjMuNjY3NkMzNjkuNTI4IDIyLjAyNiAzNjguNDM4IDIxLjMwMzkgMzY2LjU1NSAyMC41MTYyQzM2NS4yIDE5Ljk1ODMgMzY0LjUwNiAxOS40OTg4IDM2NC41MDYgMTguNDE1MUMzNjQuNTA2IDE3LjQ2MzIgMzY1LjI2NiAxNi44MDY1IDM2Ni41MjEgMTYuODA2NUMzNjcuMzQ4IDE2LjgwNjUgMzY4LjA3NSAxNy4xMDE3IDM2OC43MzUgMTcuNjI3NUMzNjguODAyIDE3LjI2NjQgMzY4Ljk2NyAxNi45MDQ5IDM2OS4xMzEgMTYuNjQyMkMzNjguMzcyIDE2LjI4MTEgMzY3LjQ3OSAxNi4xMTcyIDM2Ni41ODcgMTYuMTE3MkMzNjMuOTQ0IDE2LjExNzIgMzYyLjk4NiAxNy42NiAzNjIuOTg2IDE5LjAwNkMzNjIuOTg2IDIwLjU4MTcgMzYzLjgxMiAyMS4zMzY4IDM2NS44NjEgMjIuMTI0NEMzNjcuMTQ5IDIyLjYxNjkgMzY3LjgxIDIzLjI0MDYgMzY3LjgxIDI0LjM1NjhDMzY3LjgxIDI1LjQ3MyAzNjYuOTUxIDI2LjE5NTIgMzY1Ljc2MiAyNi4xOTUyQzM2NS4wMzUgMjYuMTk1MiAzNjMuODc5IDI1LjgzNDEgMzYzLjA1MiAyNS4xMTE5QzM2My4wMiAyNS41Mzg5IDM2Mi45ODYgMjUuOSAzNjIuODg3IDI2LjI2MTFDMzYzLjM4MyAyNi41MjM4IDM2NC42MDYgMjYuOTE3NCAzNjUuNzI5IDI2LjkxNzRDMzY4LjUwNCAyNi45MTc0IDM2OS41MjggMjUuMjQzMyAzNjkuNTI4IDIzLjY2NzZWMjMuNjY3NloiIGZpbGw9IiMwMzY1NTUiLz4NCjxwYXRoIGQ9Ik02NDAuNDE2IDIwLjU1NzNDNjM4LjY3MSAxOS44MzU0IDYzNy42MzEgMTkuNTU1MSA2MzYuNTk4IDE5LjU1NTFDNjM1LjUxNCAxOS41NTUxIDYzNC44MTkgMTkuOTE3IDYzNC44MTkgMjAuNDc2NUM2MzQuODE5IDIyLjE2NDUgNjQwLjk2MiAyMS42ODkzIDY0MC45NjIgMjUuNTkzNkM2NDAuOTYyIDI3Ljc0NjQgNjM5LjAyNCAyOC45OTc0IDYzNi4zMzIgMjguOTk3NEM2MzQuMjIgMjguOTk3NCA2MzMuMTggMjguNDg4IDYzMS45ODMgMjcuOTExNlYyNS40OTYyQzYzMy43MSAyNi41NjM1IDYzNC43NjggMjYuOTQwMSA2MzYuMTAxIDI2Ljk0MDFDNjM3LjI1NiAyNi45NDAxIDYzNy44NzkgMjYuNTYzNSA2MzcuODc5IDI1LjkwNjNDNjM3Ljg3OSAyNC4wNjg1IDYzMS43MzcgMjQuNzQxNSA2MzEuNzM3IDIwLjcyMTNDNjMxLjczNyAxOC43ODI3IDYzMy41MzQgMTcuNDk5IDYzNi4zMzIgMTcuNDk5QzYzNy42ODIgMTcuNDk5IDYzOC45MDEgMTcuNzYzNSA2NDAuNDE2IDE4LjM3MDdWMjAuNTU3M1pNNjQ5LjAxNiAyOC40ODQxQzY0Ny45OTIgMjguODMwNiA2NDcuMTI2IDI4Ljk5NTQgNjQ2LjI2MiAyOC45OTU0QzY0My40MDIgMjguOTk1NCA2NDEuNTUyIDI3LjQ0MjIgNjQxLjU1MiAyNS4wNzkyQzY0MS41NTIgMjIuNzU5NCA2NDMuNDczIDIxLjEyMDIgNjQ2LjE1NiAyMS4xMjAyQzY0Ni45ODUgMjEuMTIwMiA2NDguMDQ0IDIxLjMxODIgNjQ4Ljg5MSAyMS42MTIzVjIzLjM4ODFDNjQ4LjIyMSAyMy4wNTYyIDY0Ny40NDQgMjIuODc0MSA2NDYuODA5IDIyLjg3NDFDNjQ1LjI3MyAyMi44NzQxIDY0NC4yODYgMjMuNzM0MyA2NDQuMjg2IDI1LjA2MTlDNjQ0LjI4NiAyNi40MDggNjQ1LjI1NiAyNy4yOTQgNjQ2LjcyIDI3LjI5NEM2NDcuMzM3IDI3LjI5NCA2NDcuODg2IDI3LjE2MjMgNjQ5LjAxNiAyNi43NjhMNjQ5LjAxNiAyOC40ODQxWk02NzEuMzIgMjQuMjA5QzY3MS40MjUgMjMuMTU0OCA2NzIuMDgxIDIyLjU0NTcgNjczLjA4NyAyMi41NDU3QzY3NC4wNzYgMjIuNTQ1NyA2NzQuNzQ2IDIzLjE3MjEgNjc0Ljg1MiAyNC4yMDlINjcxLjMyWk02NzIuOTEgMjEuMTIyOUM2NzAuNCAyMS4xMjI5IDY2OC42MTQgMjIuNzc1NSA2NjguNjE0IDI1LjEwMTJDNjY4LjYxNCAyNy40NDQxIDY3MC40NzEgMjguOTk1NCA2NzMuMzM1IDI4Ljk5NTRDNjczLjk3IDI4Ljk5NTQgNjc1LjUwNCAyOC45OTU0IDY3Ni45NjYgMjcuOTg3VjI2LjUwNDJDNjc1Ljc2OSAyNy4yOTkzIDY3NC45NzcgMjcuNTczMSA2NzMuOTU1IDI3LjU3MzFDNjcyLjM0MSAyNy41NzMxIDY3MS4zNTQgMjYuNzk0OSA2NzEuMjY1IDI1LjQ2NjZINjc3LjExQzY3Ny4yMzIgMjIuNjkzOSA2NzUuMjc5IDIxLjEyMjkgNjcyLjkxIDIxLjEyMjlWMjEuMTIyOVpNNjc4LjA5OSAyOC44NTcySDY4MC42NTRWMjEuMjYyN0g2NzguMDk5VjI4Ljg1NzJaTTY4Ny43NjcgMjYuNzgxNUM2ODcuMjM0IDI3LjIyODEgNjg2Ljc5MiAyNy40MDcyIDY4Ni4yNDYgMjcuNDA3MkM2ODUuMDQzIDI3LjQwNzIgNjg0LjI4MSAyNi40ODM4IDY4NC4yODEgMjUuMTAwNEM2ODQuMjgxIDIzLjU4NDEgNjg1LjA0MyAyMi43MTAxIDY4Ni4zMzEgMjIuNzEwMUM2ODYuNzkyIDIyLjcxMDEgNjg3LjM5NCAyMi45MDggNjg3Ljc2NyAyMy4xNTU5VjI2Ljc4MTVaTTY4Ny43NjcgMTcuNjM5MVYyMS41OTU4QzY4Ny4wNzYgMjEuMjg0NyA2ODYuMzg4IDIxLjEyMDIgNjg1LjY0NCAyMS4xMjAyQzY4My4zMTMgMjEuMTIwMiA2ODEuNyAyMi43MjY2IDY4MS43IDI1LjA1MDdDNjgxLjcgMjcuMzI0OCA2ODMuMzEzIDI4Ljk5NzQgNjg1LjUgMjguOTk3NEM2ODYuMzY3IDI4Ljk5NzQgNjg3LjAzNyAyOC43ODU2IDY4Ny43NjcgMjguMjQzNVYyOC44NTQ5SDY5MC4zMjJWMTcuNjM5MUg2ODcuNzY3Wk02OTQuMTA1IDI0LjIwOUM2OTQuMjExIDIzLjE1NDggNjk0Ljg2NCAyMi41NDU3IDY5NS44NjggMjIuNTQ1N0M2OTYuODU4IDIyLjU0NTcgNjk3LjUzNSAyMy4xNzIxIDY5Ny42NDEgMjQuMjA5SDY5NC4xMDVaTTY5NS42OTQgMjEuMTIyOUM2OTMuMTg0IDIxLjEyMjkgNjkxLjQgMjIuNzc1NSA2OTEuNCAyNS4xMDEyQzY5MS40IDI3LjQ0NDEgNjkzLjI1OSAyOC45OTU0IDY5Ni4xMTkgMjguOTk1NEM2OTYuNzUzIDI4Ljk5NTQgNjk4LjI5IDI4Ljk5NTQgNjk5Ljc1NSAyNy45ODdWMjYuNTA0MkM2OTguNTU3IDI3LjI5OTMgNjk3Ljc2MyAyNy41NzMxIDY5Ni43MzYgMjcuNTczMUM2OTUuMTMxIDI3LjU3MzEgNjk0LjE0IDI2Ljc5NDkgNjk0LjA1MSAyNS40NjY2SDY5OS44OTRDNzAwLjAxNSAyMi42OTM5IDY5OC4wNjEgMjEuMTIyOSA2OTUuNjk0IDIxLjEyMjkiIGZpbGw9IiMwMDlFNEQiLz4NCjxwYXRoIGQ9Ik03MDMuNzIxIDIzLjQzNjhINzAzLjc1OEM3MDQuNTE3IDIxLjg1NjIgNzA1LjM2NiAyMS4xMTUgNzA2LjM1MiAyMS4xMTVDNzA2Ljg2MiAyMS4xMTUgNzA3LjMwMyAyMS4yOTY0IDcwOC4wNDQgMjEuODA3Nkw3MDcuMzQxIDIzLjkxMzNDNzA2LjY3IDIzLjUxODYgNzA2LjIyOSAyMy4zNTM1IDcwNS44MjMgMjMuMzUzNUM3MDQuODg2IDIzLjM1MzUgNzA0LjI4NiAyNC4xNzc1IDcwMy43MjEgMjUuNTcwNFYyOC44NDY2SDcwMS4xNjJWMjEuMjU0MUg3MDMuNzIxVjIzLjQzNjhaTTY4MC43NzUgMTguMDY3NEM2ODEuMDE1IDE4LjY1NzUgNjgwLjU4MyAxOS40ODA1IDY3OS44MTQgMTkuOTA0QzY3OS4wNDEgMjAuMzI3MSA2NzguMjI0IDIwLjE5MjggNjc3Ljk4NiAxOS42MDI3QzY3Ny43NDMgMTkuMDExNyA2NzguMTczIDE4LjE4NzcgNjc4Ljk0NSAxNy43NjY2QzY3OS43MTYgMTcuMzQxMSA2ODAuNTMzIDE3LjQ3NTkgNjgwLjc3NSAxOC4wNjc0WiIgZmlsbD0iIzAwOUU0RCIvPg0KPHBhdGggZD0iTTY1OC4yMiAyNC4wMjMxQzY1OC4yMiAyMS45NjUxIDY1Ni43MTkgMjEuMTIyNiA2NTUuMjM5IDIxLjEyMjZDNjU0LjIzMiAyMS4xMjI2IDY1My40MDQgMjEuNTE4NCA2NTIuNjY0IDIyLjM5MjFINjUyLjYyOVYxNy42MzkySDY1MC4wNzFWMjguODM1M0g2NTIuNjI5VjI0LjAyMzFDNjUzLjIyOCAyMy4yMTYxIDY1My43MzggMjIuODcxMSA2NTQuMzM4IDIyLjg3MTFDNjU1LjEzNCAyMi44NzExIDY1NS42NjIgMjMuMzk4NiA2NTUuNjYyIDI0LjUzMjlWMjcuMjAwOEM2NTYuNTIgMjYuNzg5NiA2NTcuMzkzIDI2LjUzNzQgNjU4LjIyIDI2LjQ0MzhWMjQuMDIzMVpNNjY0LjYzNiAyMS4xMTk5QzY2My41OTQgMjEuMTE5OSA2NjIuNzk5IDIxLjQ4MTEgNjYxLjk4NCAyMi4zNDkzVjIxLjI2MjRINjU5LjQyOFYyNi40MjM0QzY2MC4zMTMgMjYuNTA1OCA2NjEuNDQzIDI2Ljg4NDcgNjYxLjk4NCAyNy41MTA0VjIzLjk2MzRDNjYyLjY1NyAyMy4wMjMyIDY2My4xMzQgMjIuNzA5NyA2NjMuNzcgMjIuNzA5N0M2NjQuNDk0IDIyLjcwOTcgNjY1LjA0NSAyMy4xNTU2IDY2NS4wNDUgMjQuMjI2NFYyOC44MzcySDY2Ny42MDJWMjQuMDI4OUM2NjcuNjAyIDIxLjc5MjYgNjY1LjkwOCAyMS4xMTk5IDY2NC42MzYgMjEuMTE5OVYyMS4xMTk5Wk02NjkuMDE1IDMxLjAxODFINjY2LjA0M1YzMi45ODY0SDY2OC45MDlWMzMuODMxMkg2NjYuMDQzVjM1Ljg2MTlINjY5LjEwM1YzNi43MDU1SDY2NS4wNDZWMzAuMTc1Mkg2NjkuMDE1TDY2OS4wMTUgMzEuMDE4MVpNNjcxLjQ0MiAzNi43MDkzSDY3Mi4zNTJWMzAuMTczM0g2NzEuNDQyVjM2LjcwOTNaTTY3Ni44NTkgMzMuMDQ4NEM2NzcuNTA0IDMzLjA0ODQgNjc3LjkwNCAzMy40NjMxIDY3Ny45MzUgMzQuMTE0Mkg2NzUuNjE2QzY3NS43NDIgMzMuNDM0MiA2NzYuMTYxIDMzLjA0ODQgNjc2Ljg1OSAzMy4wNDg0Wk02NzUuNiAzNC42ODFINjc4Ljg0MkM2NzguODQyIDMzLjA4NjkgNjc4LjA2MiAzMi4zMTggNjc2LjgzOCAzMi4zMThDNjc1LjU2OSAzMi4zMTggNjc0LjY4OCAzMy4xOTI0IDY3NC42ODggMzQuNDk2OUM2NzQuNjg4IDM1LjY4OSA2NzUuNDg0IDM2Ljc4OTggNjc2LjkxNyAzNi43ODk4QzY3Ny42OTggMzYuNzg5OCA2NzguMjAzIDM2LjYyODEgNjc4Ljc2MyAzNi4yODJWMzUuNDU2QzY3OC4yMjIgMzUuNzg1NiA2NzcuNjk4IDM1Ljk3NTggNjc3LjE0NyAzNS45NzU4QzY3Ni4yNjUgMzUuOTc1OCA2NzUuNzQyIDM1LjUzNSA2NzUuNiAzNC42ODA2VjM0LjY4MVpNNjg0Ljc4NiAzMy41MzA5QzY4NC4yNjMgMzMuMTk2NiA2ODMuOTE0IDMzLjA5ODUgNjgzLjUxNSAzMy4wOTg1QzY4Mi42ODIgMzMuMDk4NSA2ODIuMTA1IDMzLjY5NDUgNjgyLjEwNSAzNC41NjdDNjgyLjEwNSAzNS40NTYgNjgyLjcxOSAzNS45OTE2IDY4My42NjggMzUuOTkxNkM2ODQuMDU4IDM1Ljk5MTYgNjg0LjQzIDM1Ljg5NzMgNjg0Ljg4OCAzNS43MDU5VjM2LjU0MjZDNjg0LjU4MiAzNi42Nzc0IDY4My45OTcgMzYuNzg5OCA2ODMuNTE1IDM2Ljc4OThDNjgyLjEzNiAzNi43ODk4IDY4MS4xOCAzNS45MDYyIDY4MS4xOCAzNC42NDMyQzY4MS4xOCAzMy4yMTc4IDY4Mi4wNTQgMzIuMzE4IDY4My40NTMgMzIuMzE4QzY4My45ODcgMzIuMzE4IDY4NC4zNDYgMzIuNDMzOSA2ODQuNzg3IDMyLjYxNDVMNjg0Ljc4NiAzMy41MzA5Wk02ODguOTM0IDMyLjQwMDRINjkwLjM5NVYzMy4xNjUxSDY4OC45MzRWMzUuMzc1MkM2ODguOTM0IDM1Ljg4MTEgNjg5LjMyNyAzNi4wMjc0IDY4OS41OTMgMzYuMDI3NEM2ODkuOTIyIDM2LjAyNzQgNjkwLjI2MiAzNS45MiA2OTAuNjMgMzUuNzA3OVYzNi41MDM3QzY5MC4zMSAzNi42Njc4IDY4OS44MiAzNi43ODk4IDY4OS41MTkgMzYuNzg5OEM2ODguNTI4IDM2Ljc4OTggNjg4LjAyNyAzNi4yMTYxIDY4OC4wMjcgMzUuNDM5MVYzMy4xNjUxSDY4Ny4yMjRWMzMuMDcwM0w2ODguOTM0IDMxLjUxMDJWMzIuNDAwNFpNNjkzLjg3NiAzMi40MDA0VjMzLjM5NjlINjkzLjg5NUM2OTQuMzU5IDMyLjYzNDUgNjk0LjggMzIuMzE4IDY5NS4yMyAzMi4zMThDNjk1LjYwMSAzMi4zMTggNjk1Ljk0NyAzMi40ODAxIDY5Ni4zMjkgMzIuODE2Nkw2OTUuODQ3IDMzLjU2NDRDNjk1LjU3IDMzLjMwOTEgNjk1LjIxMSAzMy4xMzMxIDY5NC45OTUgMzMuMTMzMUM2OTQuMzY4IDMzLjEzMzEgNjkzLjg3NiAzMy43MjY4IDY5My44NzYgMzQuNDYyNlYzNi43MDkzSDY5Mi45NjdWMzIuNDAwNEg2OTMuODc2Wk03MDUuNjU3IDMzLjUzMDlDNzA1LjEzMSAzMy4xOTY2IDcwNC43ODIgMzMuMDk4NSA3MDQuMzgxIDMzLjA5ODVDNzAzLjU0OSAzMy4wOTg1IDcwMi45NzcgMzMuNjk0NSA3MDIuOTc3IDM0LjU2N0M3MDIuOTc3IDM1LjQ1NiA3MDMuNTkyIDM1Ljk5MTYgNzA0LjUzNSAzNS45OTE2QzcwNC45MjUgMzUuOTkxNiA3MDUuMjk1IDM1Ljg5NzMgNzA1Ljc2IDM1LjcwNTlWMzYuNTQyNkM3MDUuNDQ3IDM2LjY3NzQgNzA0Ljg2MiAzNi43ODk4IDcwNC4zOCAzNi43ODk4QzcwMy4wMDQgMzYuNzg5OCA3MDIuMDQ0IDM1LjkwNjIgNzAyLjA0NCAzNC42NDMyQzcwMi4wNDQgMzMuMjE3OCA3MDIuOTIyIDMyLjMxOCA3MDQuMzIgMzIuMzE4QzcwNC44NTUgMzIuMzE4IDcwNS4yMTIgMzIuNDMzOSA3MDUuNjU3IDMyLjYxNDVMNzA1LjY1NyAzMy41MzA5Wk02OTguNzQyIDM2LjcwOTNINjk5LjY1MlYzMi40MDA4SDY5OC43NDJWMzYuNzA5M1oiIGZpbGw9IiMwMDlFNEQiLz4NCjxwYXRoIGQ9Ik02OTkuNjg0IDMwLjg1MjVDNjk5Ljc3MyAzMS4wNjA0IDY5OS42MTggMzEuMzU0NCA2OTkuMzQ0IDMxLjUwNDFDNjk5LjA2OCAzMS42NTQzIDY5OC43NzYgMzEuNjA2MiA2OTguNjkzIDMxLjM5NzhDNjk4LjYxIDMxLjE4NzQgNjk4Ljc2MSAzMC44OTU4IDY5OS4wMzggMzAuNzQ1NkM2OTkuMzExIDMwLjU5MzUgNjk5LjYwMSAzMC42NDIxIDY5OS42ODQgMzAuODUyNVYzMC44NTI1Wk02NTguOTQgMzEuMjAwOUM2NTguNzc5IDMxLjIwMDkgNjU4LjcxMSAzMS4yMjU1IDY1OC42NDYgMzEuMjkzOEM2NTguNjIgMzEuMzIwMyA2NTguNjEgMzEuMzQ3MiA2NTguNiAzMS40MDExTDY1Ny43ODQgMzQuMjg3QzY1Ny41OTMgMzUuMjk5MiA2NTYuMjU5IDM2LjMwOTkgNjU0LjUyMSAzNi4zMDk5SDY1Mi4xMDRMNjUyLjUyMyAzNC44MjdINjU0LjA3NkM2NTQuMjM0IDM0LjgyNyA2NTQuMzU4IDM0Ljc3MjEgNjU0LjQ2MiAzNC42NjQzQzY1NC41IDM0LjYyMjUgNjU0LjU1IDM0LjU1NyA2NTQuNTU2IDM0LjQ4OTZMNjU1LjIwMSAzMS45NjgxQzY1NS4zOTEgMzAuOTU1NSA2NTYuNTM4IDI5LjgzNjkgNjU4LjI3NiAyOS44MzY5SDY2MC43NTFMNjYwLjQzNSAzMS4yMDA5SDY1OC45NFpNNjU5LjQ5NyAzMi45NTk2TDY1OS43NzMgMzIuMDI1OUg2NjIuMjg4QzY2Mi41OTggMzAuNjcyIDY2Mi4zNTQgMjkuNDE3NyA2NjEuNDczIDI4LjU5NjFDNjU5LjY4OSAyNi45MzMyIDY1NS45NTcgMjcuNDk4MyA2NTMuMTc3IDI5Ljk3NzlDNjUyLjc0MyAzMC4zNjMgNjUyLjM3NiAzMC43NzkzIDY1Mi4wNDIgMzEuMjA0OEg2NTMuNTU2TDY1My4yMDQgMzIuMTQwNEg2NTEuMzk1QzY1MS4yMjIgMzIuNDM1NCA2NTEuMDYgMzIuNzI4MSA2NTAuOTM2IDMzLjAyNUg2NTMuMDgxTDY1Mi43MzcgMzMuOTYwN0g2NTAuNjNDNjUwLjI2OSAzNS4zOTAxIDY1MC40OTkgMzYuNzIzMyA2NTEuNDA2IDM3LjU2OTlDNjUzLjE2NyAzOS4yMTE2IDY1Ni44ODggMzguNjM0NiA2NTkuNjY3IDM2LjE1NTRDNjYwLjE1MyAzNS43MjQyIDY2MC41NTUgMzUuMjU4NyA2NjAuOTE4IDM0Ljc4MDhINjU4Ljk3M0w2NTkuMjY5IDMzLjg0NzFINjYxLjU0M0M2NjEuNzEgMzMuNTUwMSA2NjEuODYzIDMzLjI1NjUgNjYxLjk4MyAzMi45NTk2SDY1OS40OTdaIiBmaWxsPSIjMDA5RTREIi8+DQo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfNThfMTExKSI+DQo8cGF0aCBkPSJNNzc1LjA2OCA0MS4yMjc0Qzc2Ni4yODUgNDIuMDQ2MyA3NTcuMTMxIDQwLjc1NjQgNzU1Ljg0OCAzMy44MTlDNzU1LjIyMSAzMC4zOTkgNzU2Ljc2NSAyNi43NzI1IDc1OC44MSAyNC41MTg0VjIzLjMxNDhDNzU1LjEyNiAyNi41OCA3NTMuMTMgMzAuNzExNSA3NTQuMjggMzUuNTkyQzc1NS43NDggNDEuODUxOCA3NjMuNjAzIDQ1LjM5NjcgNzc1LjU5NSA0NC4yMTk1Qzc4MC4zNDIgNDMuNzU0NSA3ODYuNTUgNDIuMjEyIDc5MC44NjkgMzkuODE0NFYzNi40MTA5Qzc4Ni45NDkgMzguNzcxMyA3ODAuNDY4IDQwLjcyMTEgNzc1LjA2OCA0MS4yMjc0VjQxLjIyNzRaTTc5OC4yMDUgMjMuMjMzNUM3OTYuMTIyIDEyLjk1MzMgNzc2LjM3MyAxMi4zMDE2IDc2My42NDMgMjAuMTMzOFYyMC45OTg5Qzc3Ni4zNTkgMTQuMzkxNSA3OTQuMzk1IDE0LjQzMTcgNzk2LjAzNyAyMy45MDE2Qzc5Ni41ODkgMjcuMDM0MiA3OTQuODQzIDMwLjI5NzggNzkxLjcyMyAzMi4xNzdWMzQuNjM0MkM3OTUuNDc2IDMzLjI0MzIgNzk5LjMyNCAyOC43NDQyIDc5OC4yMDUgMjMuMjMzNVYyMy4yMzM1WiIgZmlsbD0iIzBFN0RDMiIvPg0KPHBhdGggZD0iTTc5MC4xNTkgMjEuNzM2OEg3ODcuODU2VjMyLjEwM0M3ODcuODU2IDMzLjMxNzkgNzg4LjQzNyAzNC4zNzQ0IDc5MC4xNTkgMzQuNTQzMlYyMS43MzY4Wk03NjIuNzM5IDI1LjUyMTdINzYwLjQzMkw3NjAuNDMxIDMyLjI5NDNDNzYwLjQzMSAzMy41MTM0IDc2MS4wMTMgMzQuNTY4OCA3NjIuNzM5IDM0LjczNDRWMjUuNTIxN1YyNS41MjE3Wk03NjAuNDMyIDIyLjA1MjFINzYyLjczMlYyNC4yNTg0SDc2MC40MzJWMjIuMDUyMVpNNzc2LjUzIDM0LjYyNzJDNzc0LjY2NiAzNC42MjcyIDc3My44NzcgMzMuMzE3NyA3NzMuODc3IDMyLjAyOFYyMy4wMzU1SDc3Ni4xNlYyNS41MjE3SDc3Ny44NzlWMjcuMzg1M0g3NzYuMTZWMzEuODg1NEM3NzYuMTYgMzIuNDExMyA3NzYuNDA3IDMyLjcwNDQgNzc2Ljk1IDMyLjcwNDRINzc3Ljg3OVYzNC42MjcyTDc3Ni41MyAzNC42MjcyVjM0LjYyNzJaTTc4MC43MzEgMzAuNzk2MUM3ODAuNzMxIDMxLjk3NjggNzgxLjQ2MSAzMi44NDQ2IDc4Mi43NTQgMzIuODQ0NkM3ODMuNzY2IDMyLjg0NDYgNzg0LjI2NiAzMi41NjA1IDc4NC44NSAzMS45NzY4TDc4Ni4yNjEgMzMuMzM0OUM3ODUuMzU3IDM0LjIzNzkgNzg0LjQwOSAzNC43ODcgNzgyLjczNyAzNC43ODdDNzgwLjU1MiAzNC43ODcgNzc4LjQ1OSAzMy41ODE5IDc3OC40NTkgMzAuMDY4NkM3NzguNDU5IDI3LjA2NTEgNzgwLjI4OCAyNS4zNjczIDc4Mi42ODYgMjUuMzY3M0M3ODUuMTI0IDI1LjM2NzMgNzg2LjUyNSAyNy4zNTQ5IDc4Ni41MjUgMjkuOTYzOVYzMC43OTYzSDc4MC43MzFWMzAuNzk2MVpNNzgyLjU4NiAyNy4yNzU2Qzc4MS44MDUgMjcuMjc1NiA3ODEuMjA0IDI3LjY4MjMgNzgwLjk1IDI4LjIzMDlDNzgwLjgwMiAyOC41NjA3IDc4MC43NDcgMjguODE3NyA3ODAuNzMxIDI5LjIyMjlINzg0LjI0OUM3ODQuMjA0IDI4LjIzMDkgNzgzLjc1OSAyNy4yNzU2IDc4Mi41ODYgMjcuMjc1NlpNNzY4LjkzOSAyNy4zODUzQzc2OS42MDggMjcuMzg1MyA3NjkuODg3IDI3LjcxOTggNzY5Ljg4NyAyOC4yNjI2VjM0LjY0MDZINzcyLjE3VjI4LjI0OTJDNzcyLjE3IDI2Ljk1NDIgNzcxLjQ4NyAyNS41MjQxIDc2OS40ODIgMjUuNTI0MUw3NjQuNzY2IDI1LjUyMTdWMzQuNjQwNkg3NjcuMDVWMjcuMzg1M0g3NjguOTM5VjI3LjM4NTNaTTc5Mi42MzcgMjMuNTg5MUM3OTIuMTI5IDIzLjU4OTEgNzkxLjcyNCAyMy4xNzU0IDc5MS43MjQgMjIuNjYyOUM3OTEuNzI0IDIyLjE1MjkgNzkyLjEyOSAyMS43MzY4IDc5Mi42MzcgMjEuNzM2OEM3OTMuMTQyIDIxLjczNjggNzkzLjU1NiAyMi4xNTI5IDc5My41NTYgMjIuNjYyOUM3OTMuNTU2IDIzLjE3NTQgNzkzLjE0MiAyMy41ODkxIDc5Mi42MzcgMjMuNTg5MVpNNzkyLjYzNyAyMS44OTEyQzc5Mi4yMTggMjEuODkxMiA3OTEuODgyIDIyLjI0MDcgNzkxLjg4MiAyMi42NjI5Qzc5MS44ODIgMjMuMDg3NiA3OTIuMjE4IDIzLjQzMDkgNzkyLjYzNyAyMy40MzA5Qzc5My4wNTUgMjMuNDMwOSA3OTMuNDAyIDIzLjA4NzYgNzkzLjQwMiAyMi42NjI5Qzc5My40MDIgMjIuMjQwNyA3OTMuMDU1IDIxLjg5MTIgNzkyLjYzNyAyMS44OTEyWk03OTMuMDQzIDIzLjIxOEg3OTIuODcyQzc5Mi44NjQgMjMuMjE3OSA3OTIuODU3IDIzLjIxNTcgNzkyLjg1MSAyMy4yMTE2Qzc5Mi44NDUgMjMuMjA3NSA3OTIuODQgMjMuMjAxNyA3OTIuODM3IDIzLjE5NDlMNzkyLjYwNSAyMi43OTdDNzkyLjU5OCAyMi43ODg1IDc5Mi41NzkgMjIuNzc4OCA3OTIuNTczIDIyLjc3ODhINzkyLjQ2N1YyMy4xNzU0Qzc5Mi40NjcgMjMuMTk1IDc5Mi40NTMgMjMuMjE4MSA3OTIuNDI4IDIzLjIxODFINzkyLjI3NEM3OTIuMjUxIDIzLjIxODEgNzkyLjIzNSAyMy4xOTUgNzkyLjIzNSAyMy4xNzU0VjIyLjE3NDlDNzkyLjIzNSAyMi4xMTY0IDc5Mi4yNTQgMjIuMDkyNCA3OTIuMzA1IDIyLjA4NUM3OTIuMzYxIDIyLjA3OSA3OTIuNTA1IDIyLjA3MTYgNzkyLjU4NiAyMi4wNzE2Qzc5Mi44NzIgMjIuMDcxNiA3OTMuMDM5IDIyLjE1NjYgNzkzLjAzOSAyMi40MjQ0VjIyLjQ0NEM3OTMuMDM5IDIyLjYwOTQgNzkyLjk1OSAyMi42OTk1IDc5Mi44MzMgMjIuNzM5N0w3OTMuMDc0IDIzLjE1NDdDNzkzLjA3OCAyMy4xNjQgNzkzLjA4IDIzLjE3MzkgNzkzLjA4IDIzLjE4NEM3OTMuMDggMjMuMTk5NyA3OTMuMDcyIDIzLjIxOCA3OTMuMDQzIDIzLjIxOFYyMy4yMThaTTc5Mi44MjEgMjIuNDI0NEM3OTIuODIxIDIyLjMxMjcgNzkyLjc1MiAyMi4yNzczIDc5Mi42MDUgMjIuMjc3M0g3OTIuNDU5VjIyLjU5NDdDNzkyLjQ4MiAyMi41OTQ3IDc5Mi41ODYgMjIuNTk5NiA3OTIuNjA1IDIyLjU5OTZDNzkyLjc1MiAyMi41OTk2IDc5Mi44MjEgMjIuNTUgNzkyLjgyMSAyMi40NDRWMjIuNDI0NFoiIGZpbGw9IiMwRTdEQzIiLz4NCjwvZz4NCjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMV81OF8xMTEpIj4NCjxwYXRoIGQ9Ik01MzMuNzczIDIwLjk5MTFDNTI5LjI2MyAyMC45OTExIDUyNS41OTkgMjQuNjU0NyA1MjUuNTk5IDI5LjE2NDRDNTI1LjU5OSAzMy42NzQxIDUyOS4yNjMgMzcuMzM3NyA1MzMuNzczIDM3LjMzNzdDNTM4LjI4MiAzNy4zMzc3IDU0MS45NDYgMzMuNjc0MSA1NDEuOTQ2IDI5LjE2NDRDNTQxLjk0NiAyNC42NTQ3IDUzOC4yODIgMjAuOTkxMSA1MzMuNzczIDIwLjk5MTFaTTUzMy43NzMgMzYuNTE4NkM1MjkuNzEzIDM2LjUxODYgNTI2LjQxOSAzMy4yMTUgNTI2LjQxOSAyOS4xNjQ0QzUyNi40MTkgMjUuMTEzNyA1MjkuNzEzIDIxLjgxMDIgNTMzLjc3MyAyMS44MTAyQzUzNy44MzIgMjEuODEwMiA1NDEuMTI3IDI1LjExMzcgNTQxLjEyNyAyOS4xNjQ0QzU0MS4xMjcgMzMuMjE1IDUzNy44MzIgMzYuNTE4NiA1MzMuNzczIDM2LjUxODZaIiBmaWxsPSJibGFjayIvPg0KPHBhdGggZD0iTTUzNi42OSAyMy45MjUyQzUzNi42NjMgMjMuOTA3MiA1MzYuNjI3IDIzLjg5ODIgNTM2LjU5MSAyMy44OTgyQzUzNi40ODMgMjMuODk4MiA1MzYuNDAyIDIzLjk3OTIgNTM2LjQwMiAyNC4wODczVjI2LjY0MzdDNTM2LjQwMiAyNi43MzM3IDUzNi4zMyAyNi44MDU3IDUzNi4yNCAyNi44MDU3SDUzMS4yOUM1MzEuMiAyNi44MDU3IDUzMS4xMzcgMjYuNzMzNyA1MzEuMTI4IDI2LjY0MzdWMjQuMDg3M0M1MzEuMTI4IDI0LjA1MTMgNTMxLjExOSAyNC4wMjQyIDUzMS4xMDEgMjMuOTg4MkM1MzEuMDQ3IDIzLjg5ODIgNTMwLjkzIDIzLjg3MTIgNTMwLjgzOSAyMy45MjUyQzUyOS4wMTIgMjUuMDUwNCA1MjcuOTA1IDI3LjAwMzcgNTI3LjkwNSAyOS4xNjQxQzUyNy45MDUgMzEuMzI0NCA1MjkuMDEyIDMzLjI3NzcgNTMwLjg1NyAzNC40MDI5QzUzMC44ODUgMzQuNDIwOSA1MzAuOTIxIDM0LjQyOTkgNTMwLjk1NyAzNC40Mjk5QzUzMS4wNjUgMzQuNDI5OSA1MzEuMTQ2IDM0LjM0ODkgNTMxLjE0NiAzNC4yNDA5VjMxLjY4NDVDNTMxLjE0NiAzMS41OTQ0IDUzMS4yMTggMzEuNTMxNCA1MzEuMzA4IDMxLjUyMjRINTM2LjI1OEM1MzYuMzQ4IDMxLjUyMjQgNTM2LjQyIDMxLjU5NDQgNTM2LjQyIDMxLjY4NDVWMzQuMjQwOUM1MzYuNDIgMzQuMjc2OSA1MzYuNDI5IDM0LjMwMzkgNTM2LjQ0NyAzNC4zMzk5QzUzNi41MDEgMzQuNDI5OSA1MzYuNjE4IDM0LjQ1NjkgNTM2LjcwOCAzNC40MDI5QzUzOC41NTQgMzMuMjc3NyA1MzkuNjYxIDMxLjMyNDQgNTM5LjY2MSAyOS4xNjQxQzUzOS42NjEgMjcuMDAzNyA1MzguNTM2IDI1LjA1MDQgNTM2LjY5IDIzLjkyNTJWMjMuOTI1MlpNNTMwLjE5MSAzMi4zNjg2TDUzMC4yMTggMzIuNjc0Nkw1MzAuMDIgMzIuNDMxNkM1MjguNDk5IDMwLjUxNDMgNTI4LjQ5OSAyNy44MDQ4IDUzMC4wMiAyNS44ODc1TDUzMC4xOTEgMjUuNjcxNUw1MzAuMjE4IDI1LjY0NDVMNTMwLjE5MSAyNS45NTk2QzUzMC4xNjQgMjYuMjExNiA1MzAuMTU1IDI2LjQ3MjYgNTMwLjE1NSAyNi43MzM3VjMxLjU4NTRDNTMwLjE1NSAzMS44NDY1IDUzMC4xNzMgMzIuMTA3NSA1MzAuMTkxIDMyLjM2ODZaTTUzNi40MDIgMzAuMzg4M0M1MzYuNDAyIDMwLjQ3ODMgNTM2LjMzIDMwLjU1MDMgNTM2LjI0IDMwLjU1MDNINTMxLjI5QzUzMS4yIDMwLjU1MDMgNTMxLjEzNyAzMC40NzgzIDUzMS4xMjggMzAuMzg4M1YyNy45Mzk5QzUzMS4xMjggMjcuODQ5OSA1MzEuMiAyNy43Nzc4IDUzMS4yOSAyNy43Nzc4SDUzNi4yNEM1MzYuMzMgMjcuNzc3OCA1MzYuNDAyIDI3Ljg0OTkgNTM2LjQwMiAyNy45Mzk5VjMwLjM4ODNaTTUzNy41MTkgMzIuNDMxNkw1MzcuMzIxIDMyLjY3NDZMNTM3LjM0OCAzMi4zNjg2QzUzNy4zNzUgMzIuMTE2NSA1MzcuMzg0IDMxLjg1NTUgNTM3LjM4NCAzMS41OTQ0VjI2LjczMzdDNTM3LjM4NCAyNi40NzI2IDUzNy4zNzUgMjYuMjExNiA1MzcuMzQ4IDI1Ljk1OTZMNTM3LjMzOSAyNS44MjQ1TDUzNy4zMyAyNS42ODA1VjI1LjY0NDVMNTM3LjUxOSAyNS44ODc1QzUzOC4yNTcgMjYuODA1NyA1MzguNjYyIDI3Ljk3NTkgNTM4LjY2MiAyOS4xNTUxQzUzOC42NjIgMzAuMzM0MiA1MzguMjU3IDMxLjUxMzQgNTM3LjUxOSAzMi40MzE2VjMyLjQzMTZaIiBmaWxsPSJibGFjayIvPg0KPHBhdGggZD0iTTU1NC4yNzYgMjkuMDIwMkM1NTQuMjMxIDI5LjAwMjIgNTU0LjE3NyAyOC45ODQyIDU1NC4xNzcgMjguOTMwMkM1NTQuMTc3IDI4Ljg5NDIgNTU0LjE5NSAyOC44NjcyIDU1NC4yMzEgMjguODQ5MkM1NTQuMjk0IDI4LjgyMjIgNTU1Ljg1MSAyOC4yNjQxIDU1NS44NTEgMjYuNDI3OEM1NTUuODUxIDI0LjM4NDUgNTU0LjQ3NCAyMy4xNjkzIDU1Mi4xNTIgMjMuMTY5M0g1NDYuNTI2VjM1LjE3NzJINTUyLjY2NUM1NTQuNDU2IDM1LjE3NzIgNTU2LjM4MiAzMy45MDggNTU2LjM4MiAzMS44NjQ2QzU1Ni4zODIgMjkuOTExMyA1NTQuOTA2IDI5LjIyNzIgNTU0LjI3NiAyOS4wMjAyVjI5LjAyMDJaTTU0OS4zNjEgMjUuNjI2N0M1NDkuMzYxIDI1LjU4MTcgNTQ5LjM5NyAyNS41NDU2IDU0OS40NDIgMjUuNTQ1Nkg1NTEuNjc1QzU1Mi40MTMgMjUuNTQ1NiA1NTIuOTE3IDI2LjA0MDcgNTUyLjkxNyAyNi43Nzg4QzU1Mi45MTcgMjcuMzU0OSA1NTIuNDY3IDI3Ljk3NiA1NTEuNjIxIDI3Ljk3Nkg1NDkuNDQyQzU0OS4zOTcgMjcuOTc2IDU0OS4zNjEgMjcuOTQgNTQ5LjM2MSAyNy44OTVWMjUuNjI2N1pNNTUxLjY3NSAzMi44MDk4SDU0OS40NDJDNTQ5LjM5NyAzMi44MDk4IDU0OS4zNjEgMzIuNzczOCA1NDkuMzYxIDMyLjcyODhWMzAuMzM0NEM1NDkuMzYxIDMwLjI4OTQgNTQ5LjM5NyAzMC4yNTM0IDU0OS40NDIgMzAuMjUzNEg1NTEuNjIxQzU1Mi42OTIgMzAuMjUzNCA1NTMuMzA0IDMwLjcxMjUgNTUzLjMwNCAzMS41MjI2QzU1My4zMDQgMzIuMzU5NyA1NTIuNzM3IDMyLjgwOTggNTUxLjY3NSAzMi44MDk4VjMyLjgwOThaTTU3NS4zODQgMjcuOTQ5TDU3NC45NTIgMjcuODU5QzU3My45OCAyNy42NTIgNTczLjAzNSAyNy4zOTA5IDU3My4wMzUgMjYuNTUzOEM1NzMuMDM1IDI1LjcxNjcgNTczLjgxOCAyNS4zMzg2IDU3NC41OTIgMjUuMzM4NkM1NzUuNTAxIDI1LjMzODYgNTc2LjQwMSAyNS43NDM3IDU3Ny4wODYgMjYuNDQ1OEw1NzguODY4IDI0LjY4MTVDNTc4LjEwMyAyMy44MzU0IDU3Ni43NDQgMjIuODYzMiA1NzQuNTQ3IDIyLjg2MzJDNTcxLjkwMSAyMi44NjMyIDU3MC4xMTggMjQuMzY2NSA1NzAuMTE4IDI2LjYwNzhDNTcwLjExOCAyOC45NzUyIDU3MS45ODIgMjkuODY2MyA1NzMuNTQ4IDMwLjE5OTRMNTczLjk3MSAzMC4yODk0QzU3NS40OTIgMzAuNjEzNSA1NzYuMjEyIDMwLjg1NjUgNTc2LjIxMiAzMS43MjA2QzU3Ni4yMTIgMzIuNDk0NyA1NzUuNTE5IDMzLjAwNzggNTc0LjQ5MyAzMy4wMDc4QzU3My4yODcgMzMuMDA3OCA1NzIuMjE2IDMyLjQ3NjcgNTcxLjQwNiAzMS40Nzc2TDU2OS41NzggMzMuMjY4OUM1NzAuNTUxIDM0LjQyMTEgNTcxLjgzOCAzNS40NjUyIDU3NC41MjkgMzUuNDY1MkM1NzYuODI1IDM1LjQ2NTIgNTc5LjE1NiAzNC4xMzMgNTc5LjE1NiAzMS41NzY2QzU3OS4xNDcgMjguOTU3MiA1NzcuMzY1IDI4LjM2MzEgNTc1LjM4NCAyNy45NDlWMjcuOTQ5Wk01OTkuMTAzIDIzLjE2OTNWMjcuNTYyQzU5OS4xMDMgMjcuNjA3IDU5OS4wNjcgMjcuNjQzIDU5OS4wMjIgMjcuNjQzSDU5NS4zMzFDNTk1LjI4NiAyNy42NDMgNTk1LjI1IDI3LjYwNyA1OTUuMjUgMjcuNTYyVjIzLjE2OTNINTkyLjIyNlYzNS4xNzcySDU5NS4yNVYzMC40NjA0QzU5NS4yNSAzMC40MTU0IDU5NS4yODYgMzAuMzc5NCA1OTUuMzMxIDMwLjM3OTRINTk5LjAyMkM1OTkuMDY3IDMwLjM3OTQgNTk5LjEwMyAzMC40MTU0IDU5OS4xMDMgMzAuNDYwNFYzNS4xNzcySDYwMi4xNDZWMjMuMTY5M0g1OTkuMTAzWk01ODYuMTQxIDMyLjcxOThDNTg0Ljc4MiAzMi43MTk4IDU4My4zMTUgMzEuNTg1NiA1ODMuMzE1IDI5LjA5MjJDNTgzLjMxNSAyNi44MTQ4IDU4NC42OTIgMjUuNjI2NyA1ODYuMDUxIDI1LjYyNjdDNTg3LjA0MSAyNS42MjY3IDU4Ny43MzQgMjYuMDQwNyA1ODguMjgzIDI2Ljk1ODlMNTkwLjYwNiAyNS40MTk2QzU4OS40MTggMjMuNjczMyA1ODguMDA0IDIyLjg4MTIgNTg2LjAzMyAyMi44ODEyQzU4Mi4xNzEgMjIuODgxMiA1ODAuNDQzIDI2LjAwNDcgNTgwLjQ0MyAyOS4wOTIyQzU4MC40NDMgMzIuODQ1OCA1ODIuNzI5IDM1LjQ2NTIgNTg1Ljk5NyAzNS40NjUyQzU4OC40MjcgMzUuNDY1MiA1ODkuNTM1IDM0LjU3NDEgNTkwLjY5NiAzMi45MjY4TDU4OC4zNTUgMzEuMzUxNkM1ODcuODMzIDMyLjE5NzcgNTg3LjI2NiAzMi43MTk4IDU4Ni4xNDEgMzIuNzE5OFpNNTYzLjE3OCAyMi44NjMyQzU1OS44NzUgMjIuODYzMiA1NTcuNjYxIDI1LjM5MjYgNTU3LjY2MSAyOS4xNjQyQzU1Ny42NjEgMzIuOTM1OCA1NTkuODc1IDM1LjQ2NTIgNTYzLjE3OCAzNS40NjUyQzU2Ni40ODIgMzUuNDY1MiA1NjguNjk2IDMyLjkzNTggNTY4LjY5NiAyOS4xNjQyQzU2OC42OTYgMjUuMzkyNiA1NjYuNDgyIDIyLjg2MzIgNTYzLjE3OCAyMi44NjMyVjIyLjg2MzJaTTU2My4xNzggMzIuNzE5OEM1NjEuNTU4IDMyLjcxOTggNTYwLjUxNCAzMS4zMjQ2IDU2MC41MTQgMjkuMTY0MkM1NjAuNTE0IDI3LjAxMjkgNTYxLjU1OCAyNS42MjY3IDU2My4xNzggMjUuNjI2N0M1NjQuODA4IDI1LjYyNjcgNTY1Ljg2MSAyNy4wMTI5IDU2NS44NjEgMjkuMTY0MkM1NjUuODYxIDMxLjMyNDYgNTY0LjgwOCAzMi43MTk4IDU2My4xNzggMzIuNzE5OFoiIGZpbGw9IiNGODAwMDAiLz4NCjwvZz4NCjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTQ2LjM0NCAyMi4xODExQzE0Ny41OTUgMjIuMjg1NCAxNDguODQ1IDIxLjU1NTMgMTQ5LjYyNyAyMC42Mjk4QzE1MC4zOTUgMTkuNjc4MSAxNTAuOTAzIDE4LjQwMDUgMTUwLjc3MyAxNy4wOTY5QzE0OS42NjYgMTcuMTQ5MSAxNDguMjk4IDE3LjgyNjkgMTQ3LjUxNyAxOC43Nzg2QzE0Ni44IDE5LjU5OTkgMTQ2LjE4OCAyMC45Mjk2IDE0Ni4zNDQgMjIuMTgxMVpNMTQ3Ljg0MSAyMy4wNzk3QzE0OC42NTMgMjIuNzYwNiAxNDkuNjU4IDIyLjM2NTYgMTUwLjc2IDIyLjQyOTFDMTUxLjQ2MyAyMi40ODEyIDE1My40OTUgMjIuNjg5OCAxNTQuNzk4IDI0LjYxOTJDMTU0Ljc5MiAyNC42MjM3IDE1NC43NzggMjQuNjMyMyAxNTQuNzU5IDI0LjY0NUMxNTQuNDM2IDI0Ljg1NDggMTUyLjM5IDI2LjE4NzEgMTUyLjQxNCAyOC44MTY5QzE1Mi40MzkgMzEuOTQ5OSAxNTQuOTg4IDMzLjExODMgMTU1LjMyMiAzMy4yNzExQzE1NS4zNDQgMzMuMjgxMSAxNTUuMzU2IDMzLjI4NjcgMTU1LjM1OCAzMy4yODgzQzE1NS4zNTYgMzMuMjkyNiAxNTUuMzU0IDMzLjMwMSAxNTUuMzUgMzMuMzEzM0MxNTUuMjgzIDMzLjUyODggMTU0Ljg0NSAzNC45NDg5IDE1My44NDcgMzYuNDA0QzE1Mi45MjIgMzcuNzU5OCAxNTEuOTcxIDM5LjA4OTUgMTUwLjQ2IDM5LjExNTZDMTQ5Ljc0OSAzOS4xMjgzIDE0OS4yNyAzOC45MjExIDE0OC43NzIgMzguNzA1NEMxNDguMjQ3IDM4LjQ3ODUgMTQ3LjcwMSAzOC4yNDIyIDE0Ni44NCAzOC4yNDIyQzE0NS45NDcgMzguMjQyMiAxNDUuMzc2IDM4LjQ4NDggMTQ0LjgyNiAzOC43MTg0QzE0NC4zNDggMzguOTIxNCAxNDMuODg3IDM5LjExNzQgMTQzLjI0NSAzOS4xNDE3QzE0MS43ODYgMzkuMTkzOCAxNDAuNjc5IDM3LjcwNzcgMTM5Ljc1NCAzNi4zNTE5QzEzNy44NjYgMzMuNjE0MyAxMzYuNDIgMjguNjM0NCAxMzguMzc0IDI1LjI3MUMxMzkuMzI1IDIzLjU4OTMgMTQxLjA1NyAyMi41MzM0IDE0Mi45MTkgMjIuNTA3M0MxNDMuNzMyIDIyLjQ5MjUgMTQ0LjUwNyAyMi44MDA2IDE0NS4xODQgMjMuMDcwMUMxNDUuNzAyIDIzLjI3NTggMTQ2LjE2MiAyMy40NTg5IDE0Ni41NCAyMy40NTg5QzE0Ni44NzcgMjMuNDU4OSAxNDcuMzE5IDIzLjI4NTEgMTQ3Ljg0MSAyMy4wNzk3WiIgZmlsbD0iYmxhY2siLz4NCjxwYXRoIGQ9Ik0zNi44NTg3IDM3LjUyNDFIMzEuOTg3NEwzNS4wMzQyIDE5LjY2NjhIMzkuOTA1MkwzNi44NTg3IDM3LjUyNDFaIiBmaWxsPSIjMDA1NzlGIi8+DQo8cGF0aCBkPSJNNTQuNTE1NyAyMC4xMDQxQzUzLjU1NDkgMTkuNzQyOCA1Mi4wMzA5IDE5LjM0MzggNTAuMTQ2NiAxOS4zNDM4QzQ1LjMzNjEgMTkuMzQzOCA0MS45NDg2IDIxLjc3NTMgNDEuOTI3OCAyNS4yNTE2QzQxLjg4NzggMjcuODE2NSA0NC4zNTMxIDI5LjI0MSA0Ni4xOTcgMzAuMDk2MkM0OC4wODE2IDMwLjk3MDEgNDguNzIyMyAzMS41NDA1IDQ4LjcyMjMgMzIuMzE5NEM0OC43MDMxIDMzLjUxNTcgNDcuMTk5NCAzNC4wNjcyIDQ1Ljc5NjkgMzQuMDY3MkM0My44NTIxIDM0LjA2NzIgNDIuODEgMzMuNzgyOSA0MS4yMjY0IDMzLjExNzNMNDAuNTg1IDMyLjgzMkwzOS45MDMzIDM2Ljg0MDZDNDEuMDQ1OCAzNy4zMzM5IDQzLjE1MDcgMzcuNzcxNyA0NS4zMzYxIDM3Ljc5MDlDNTAuNDQ3MyAzNy43OTA5IDUzLjc3NDkgMzUuMzk3MSA1My44MTQzIDMxLjY5MjVDNTMuODMzOCAyOS42NTk3IDUyLjUzMiAyOC4xMDIgNDkuNzI1NCAyNi44MjkyQzQ4LjAyMTcgMjYuMDEyMSA0Ni45NzgzIDI1LjQ2MTIgNDYuOTc4MyAyNC42MjUyQzQ2Ljk5ODMgMjMuODY1MiA0Ny44NjA4IDIzLjA4NjggNDkuNzg0IDIzLjA4NjhDNTEuMzY3NyAyMy4wNDg2IDUyLjUzMTIgMjMuNDA5NCA1My40MTI2IDIzLjc3MDVMNTMuODUzMiAyMy45NjAxTDU0LjUxNTcgMjAuMTA0MVoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik02MC45OTI0IDMxLjE5NzlDNjEuMzkzNiAzMC4xNzIgNjIuOTM3MiAyNi4yMDE2IDYyLjkzNzIgMjYuMjAxNkM2Mi45MTcgMjYuMjM5NyA2My4zMzc2IDI1LjE1NjggNjMuNTc4MSAyNC40OTE5TDYzLjkxODYgMjYuMDMwNkM2My45MTg2IDI2LjAzMDYgNjQuODQxIDMwLjMwNTEgNjUuMDQxNCAzMS4xOTc5QzY0LjI4IDMxLjE5NzkgNjEuOTU0NiAzMS4xOTc5IDYwLjk5MjQgMzEuMTk3OVpNNjcuMDA1NCAxOS42NjY4SDYzLjIzNzRDNjIuMDc1NSAxOS42NjY4IDYxLjE5MjcgMTkuOTg5NSA2MC42OTE0IDIxLjE0ODRMNTMuNDU1OCAzNy41MjM5SDU4LjU2NzFDNTguNTY3MSAzNy41MjM5IDU5LjQwODUgMzUuMzE5OSA1OS41ODk0IDM0Ljg0NTJDNjAuMTUwMSAzNC44NDUyIDY1LjEyMjMgMzQuODQ1MiA2NS44NDM3IDM0Ljg0NTJDNjUuOTgzNSAzNS40NzIxIDY2LjQyNDkgMzcuNTIzOSA2Ni40MjQ5IDM3LjUyMzlINzAuOTM1Mkw2Ny4wMDU0IDE5LjY2NjhWMTkuNjY2OFoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik0yNy45MTggMTkuNjY2OEwyMy4xNDc1IDMxLjg0MzhMMjIuNjI2MiAyOS4zNzQxQzIxLjc0NDIgMjYuNTI0NSAxOC45NzgxIDIzLjQyODQgMTUuODkxNCAyMS44ODlMMjAuMjYxIDM3LjUwNTJIMjUuNDEyMkwzMy4wNjkgMTkuNjY2OEgyNy45MThWMTkuNjY2OFoiIGZpbGw9IiMwMDU3OUYiLz4NCjxwYXRoIGQ9Ik0xOC43MTg0IDE5LjY2NjhIMTAuODgxMUwxMC44MDA5IDIwLjAyNzZDMTYuOTE0NSAyMS41MDk1IDIwLjk2MzUgMjUuMDgxNSAyMi42MjcgMjkuMzc0OUwyMC45MjMyIDIxLjE2NzlDMjAuNjQyNyAyMC4wMjc0IDE5Ljc4MDcgMTkuNzA0NCAxOC43MTg0IDE5LjY2NjhaIiBmaWxsPSIjRkFBNjFBIi8+DQo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDJfNThfMTExKSI+DQo8cGF0aCBkPSJNMjIxLjE1OCAxNy40OTlWMTguOTM1NkgyMzEuMzA2VjE3LjQ5OUgyMjEuMTU4Wk0yMzIuNzQ0IDE3LjQ5OVYxOC45MzU2SDI0Ny4yMDZDMjQ3LjIwNiAxOC45MzU2IDI0NS43MjkgMTcuNDk5IDI0My43NzMgMTcuNDk5SDIzMi43NDRaTTI1MC4wNDMgMTcuNDk5VjE4LjkzNTZIMjU4Ljc5M0wyNTguMjczIDE3LjQ5OUgyNTAuMDQzWk0yNjUuMDY1IDE3LjQ5OUwyNjQuNTQ2IDE4LjkzNTZIMjczLjIxNlYxNy40OTlIMjY1LjA2NVpNMjIxLjE1OCAyMC4yOTI5VjIxLjcyOTZIMjMxLjMwNlYyMC4yOTI5SDIyMS4xNThaTTIzMi43NDQgMjAuMjk1VjIxLjcyOTdIMjQ4Ljg4NEMyNDguODg0IDIxLjcyOTcgMjQ4LjY5NiAyMC42MjM5IDI0OC4zNjcgMjAuMjk1SDIzMi43NDRaTTI1MC4wNDMgMjAuMjk1VjIxLjcyOTdIMjU5Ljc1MkwyNTkuMjcxIDIwLjI5NUgyNTAuMDQzWk0yNjQuMDI3IDIwLjI5NUwyNjMuNTQ2IDIxLjcyOTdIMjczLjIxNlYyMC4yOTVIMjY0LjAyN1YyMC4yOTVaTTIyNC4wNzQgMjMuMDg2OVYyNC41MjU3SDIyOC40NjlWMjMuMDg2OUgyMjQuMDc0VjIzLjA4NjlaTTIzNS42NjEgMjMuMDg2OVYyNC41MjU3SDI0MC4wNTZWMjMuMDg2OUgyMzUuNjYxVjIzLjA4NjlaTTI0NC4zMzEgMjMuMDg2OVYyNC41MjU3SDI0OC43MjZDMjQ4LjcyNiAyNC41MjU3IDI0OS4wMDUgMjMuNzY1OSAyNDkuMDA1IDIzLjA4NjlIMjQ0LjMzMVYyMy4wODY5Wk0yNTIuOTYgMjMuMDg2OVYyNC41MjU3SDI2MC43NTJMMjYwLjIzMiAyMy4wODY5SDI1Mi45NlYyMy4wODY5Wk0yNjMuMDY5IDIzLjA4NjlMMjYyLjU0OCAyNC41MjU3SDI3MC4zNzlWMjMuMDg2OUgyNjMuMDY5VjIzLjA4NjlaTTIyNC4wNzQgMjUuODgzVjI3LjMxOTdIMjI4LjQ2OVYyNS44ODNIMjI0LjA3NFYyNS44ODNaTTIzNS42NjEgMjUuODgzVjI3LjMxOTdIMjQ2Ljg4N0MyNDYuODg3IDI3LjMxOTcgMjQ3LjgyNiAyNi41ODI1IDI0OC4xMjUgMjUuODgzSDIzNS42NjFaTTI1Mi45NiAyNS44ODNWMjcuMzE5N0gyNTcuMzU1VjI2LjUyTDI1Ny42MzQgMjcuMzE5N0gyNjUuNjg0TDI2NS45ODQgMjYuNTJWMjcuMzE5N0gyNzAuMzc5VjI1Ljg4M0gyNjIuMTI5TDI2MS42OTEgMjcuMDk5OUwyNjEuMjUxIDI1Ljg4M0gyNTIuOTZaTTIyNC4wNzQgMjguNjc3VjMwLjExMzdIMjI4LjQ2OVYyOC42NzdIMjI0LjA3NFpNMjM1LjY2MSAyOC42NzdWMzAuMTEzN0gyNDguMTI1QzI0Ny44MjYgMjkuNDE2NSAyNDYuODg3IDI4LjY3NyAyNDYuODg3IDI4LjY3N0gyMzUuNjYxWk0yNTIuOTYgMjguNjc3VjMwLjExMzdIMjU3LjM1NVYyOC42NzdIMjUyLjk2Wk0yNTguMTUzIDI4LjY3N0wyNTguNjg1IDMwLjExMzdIMjY0LjcyMUwyNjUuMjI2IDI4LjY3N0gyNTguMTUzWk0yNjUuOTg0IDI4LjY3N1YzMC4xMTM3SDI3MC4zNzlWMjguNjc3SDI2NS45ODRaTTIyNC4wNzQgMzEuNDcxVjMyLjkwNzZIMjI4LjQ2OVYzMS40NzFIMjI0LjA3NFpNMjM1LjY2MSAzMS40NzFWMzIuOTA3NkgyNDAuMDU2VjMxLjQ3MUgyMzUuNjYxWk0yNDQuMzMxIDMxLjQ3MVYzMi45MDc2SDI0OS4wMDVDMjQ5LjAwNSAzMi4yMjk2IDI0OC43MjYgMzEuNDcxIDI0OC43MjYgMzEuNDcxSDI0NC4zMzFWMzEuNDcxWk0yNTIuOTYgMzEuNDcxVjMyLjkwNzZIMjU3LjM1NVYzMS40NzFIMjUyLjk2Wk0yNTkuMTUxIDMxLjQ3MUwyNTkuNjY2IDMyLjkwNzZIMjYzLjcxM0wyNjQuMjMyIDMxLjQ3MUgyNTkuMTUxWk0yNjUuOTg0IDMxLjQ3MVYzMi45MDc2SDI3MC4zNzlWMzEuNDcxSDI2NS45ODRaTTIyMS4yMzcgMzQuMjY1VjM1LjcwMzdIMjMxLjM4NlYzNC4yNjVIMjIxLjIzN1pNMjMyLjc0NCAzNC4yNjVWMzUuNzAzN0gyNDguMzY3QzI0OC42OTYgMzUuMzc0MyAyNDguODg0IDM0LjI2NSAyNDguODg0IDM0LjI2NUgyMzIuNzQ0VjM0LjI2NVpNMjUwLjEyMyAzNC4yNjVWMzUuNzAzN0gyNTcuMzU1VjM0LjI2NUgyNTAuMTIzWk0yNjAuMTUxIDM0LjI2NUwyNjAuNjggMzUuNzAzN0gyNjIuNzM5TDI2My4yMzYgMzQuMjY1SDI2MC4xNTFaTTI2NS45ODQgMzQuMjY1VjM1LjcwMzdIMjczLjI5NVYzNC4yNjVIMjY1Ljk4NFpNMjIxLjIzNyAzNy4wNjFWMzguNDk3N0gyMzEuMzg2VjM3LjA2MUgyMjEuMjM3Wk0yMzIuNzQ0IDM3LjA2MVYzOC40OTU2SDI0My43NzNDMjQ1LjcyOSAzOC40OTU2IDI0Ny4yMDYgMzcuMDYxIDI0Ny4yMDYgMzcuMDYxSDIzMi43NDRaTTI1MC4xMjMgMzcuMDYxVjM4LjQ5NzdIMjU3LjM1NVYzNy4wNjFIMjUwLjEyM1pNMjYxLjE1NSAzNy4wNjFMMjYxLjY2NCAzOC40OTM2TDI2MS43NTIgMzguNDk1NkwyNjIuMjY5IDM3LjA2MUgyNjEuMTU1VjM3LjA2MVpNMjY1Ljk4NCAzNy4wNjFWMzguNDk3N0gyNzMuMjk1VjM3LjA2MUgyNjUuOTg0WiIgZmlsbD0iIzFGNzBDMSIvPg0KPC9nPg0KPGRlZnM+DQo8Y2xpcFBhdGggaWQ9ImNsaXAwXzU4XzExMSI+DQo8cmVjdCB3aWR0aD0iNDQuNDQ3MyIgaGVpZ2h0PSIyOS42MzE1IiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzUzLjk1NSAxNC44MTU1KSIvPg0KPC9jbGlwUGF0aD4NCjxjbGlwUGF0aCBpZD0iY2xpcDFfNThfMTExIj4NCjxyZWN0IHdpZHRoPSI3Ni41NDgxIiBoZWlnaHQ9IjE2LjM1MDciIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MjUuNTk5IDIwLjk4ODkpIi8+DQo8L2NsaXBQYXRoPg0KPGNsaXBQYXRoIGlkPSJjbGlwMl81OF8xMTEiPg0KPHJlY3Qgd2lkdGg9IjUyLjEzNzIiIGhlaWdodD0iMjAuOTk4NyIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyMS4xNTggMTcuNDk5KSIvPg0KPC9jbGlwUGF0aD4NCjwvZGVmcz4NCjwvc3ZnPg0K" style="
            width: 742.5px;
            position: relative;
            top: 107px;
            left: 32px;
            ">
            <a href=`+sl+` style="
        float: left;
        border-radius: 56px;
        background: #0D6EFD;
        padding-top: 8px;
        width: 280px;
        height: 38px;
        text-align: center;
        position: relative;
        top: 127px;
        left: 274px;
        font-size: 16px;
        color: white;
        text-decoration: none;
        letter-spacing: 0.02em;
    ">Claim your FREE account</a>
            <div style="
    font-size: 14px;
    position: relative;
    top: 180px;
    left: 19px;
    letter-spacing: 0.02em;
    font-weight: 500;
    line-height: 125%;
">have a Syncfusion account? <a href="https://www.syncfusion.com/account/login?ReturnUrl=/account/login" style="text-decoration: none;
color: #0D6EFD;
font-weight: 500;">Sign In</a></div>
        </div>
    </div>`;if(typeof document<"u"&&!h(document)){var t=P("div",{innerHTML:a});document.body.appendChild(t)}},iy=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),ta=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},nl=0,$o,Up=0,Jo=0,Vp=!0,qp=!1,Zo=!1;var Ge=function(a){iy(t,a);function t(e,i){var s=a.call(this,e,i)||this;return s.randomId=pv(),s.isStringTemplate=!1,s.needsID=!1,s.isReactHybrid=!1,s.isAngular=!1,s.isReact=!1,s.isVue=!1,h(s.enableRtl)&&s.setProperties({enableRtl:xv},!0),h(s.locale)&&s.setProperties({locale:ll},!0),s.moduleLoader=new $v(s),s.localObserver=new os(s),tl.on("notifyExternalChange",s.detectFunction,s,s.randomId),typeof window<"u"&&typeof document<"u"&&!ey()&&Jv.indexOf(s.getModuleName())!==-1&&(Jo=Jo+1,Jo>5&&(Vp=!1)),oe(i)||s.appendTo(),s}return t.prototype.requiredModules=function(){return[]},t.prototype.destroy=function(){this.isDestroyed||(this.enablePersistence&&(this.setPersistData(),this.detachUnloadEvent()),this.localObserver.destroy(),!this.refreshing&&(k([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),a.prototype.destroy.call(this),this.moduleLoader.clean(),tl.off("notifyExternalChange",this.detectFunction,this.randomId)))},t.prototype.refresh=function(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new os(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1},t.prototype.accessMount=function(){this.mount&&!this.isReactHybrid&&this.mount()},t.prototype.getRootElement=function(){return this.isReactHybrid?this.actualElement:this.element},t.prototype.getLocalData=function(){var e=this.getModuleName()+this.element.id;return Zo?window.localStorage.getItem(e+this.ej2StatePersistenceVersion):window.localStorage.getItem(e)},t.prototype.attachUnloadEvent=function(){this.handleUnload=this.handleUnload.bind(this),window.addEventListener("pagehide",this.handleUnload)},t.prototype.handleUnload=function(){this.setPersistData()},t.prototype.detachUnloadEvent=function(){window.removeEventListener("pagehide",this.handleUnload)},t.prototype.appendTo=function(e){if(!h(e)&&typeof e=="string"?this.element=W(e,document):h(e)||(this.element=e),!h(this.element)){var i="e-"+this.getModuleName().toLowerCase();L([this.element],["e-control",i]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),this.attachUnloadEvent());var s=B("ej2_instances",this.element);(!s||s.indexOf(this)===-1)&&a.prototype.addInstance.call(this),this.preRender(),this.injectModules();var n={schedule:"all",diagram:"all",PdfViewer:"all",grid:["logger"],richtexteditor:["link","table","image","audio","video","formatPainter","emojiPicker","pasteCleanup","htmlEditor","toolbar"],treegrid:["filter"],gantt:["tooltip"],chart:["Export","Zoom"],accumulationchart:["Export"],"query-builder":"all"},r=this.getModuleName();if(this.requiredModules&&(!n[""+r]||n[""+r]!=="all"))for(var o=this.requiredModules(),l=0,c=this.moduleLoader.getNonInjectedModules(o);l<c.length;l++){var d=c[l],p=d.name?d.name:d.member;if(!(n[""+r]&&n[""+r].indexOf(d.member)!==-1)){var u=r.charAt(0).toUpperCase()+r.slice(1);console.warn('[WARNING] :: Module "'+p+'" is not available in '+u+" component! You either misspelled the module name or forgot to load it.")}}!Vp&&!qp&&(ty(),qp=!0),this.render(),this.mount?this.accessMount():this.trigger("created")}},t.prototype.renderComplete=function(e){if(ie()){var i="sfBlazor";window[""+i].renderComplete(this.element,e)}this.isRendered=!0},t.prototype.dataBind=function(){this.injectModules(),a.prototype.dataBind.call(this)},t.prototype.on=function(e,i,s){if(typeof e=="string")this.localObserver.on(e,i,s);else for(var n=0,r=e;n<r.length;n++){var o=r[n];this.localObserver.on(o.event,o.handler,o.context)}},t.prototype.off=function(e,i){if(typeof e=="string")this.localObserver.off(e,i);else for(var s=0,n=e;s<n.length;s++){var r=n[s];this.localObserver.off(r.event,r.handler)}},t.prototype.notify=function(e,i){this.isDestroyed!==!0&&this.localObserver.notify(e,i)},t.prototype.getInjectedModules=function(){return this.injectedModules},t.Inject=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(var s=0;s<e.length;s++)this.prototype.injectedModules.indexOf(e[parseInt(s.toString(),10)])===-1&&this.prototype.injectedModules.push(e[parseInt(s.toString(),10)])},t.prototype.createElement=function(e,i,s){return P(e,i)},t.prototype.triggerStateChange=function(e,i){this.isReactHybrid&&(this.setState(),this.currentContext={calls:e,args:i})},t.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},t.prototype.detectFunction=function(e){var i=Object.keys(e);i.length&&(this[i[0]]=e[i[0]])},t.prototype.mergePersistData=function(){var e;Zo?e=window.localStorage.getItem(this.getModuleName()+this.element.id+this.ej2StatePersistenceVersion):e=window.localStorage.getItem(this.getModuleName()+this.element.id),h(e)||e===""||this.setProperties(JSON.parse(e),!0)},t.prototype.setPersistData=function(){this.isDestroyed||(Zo?window.localStorage.setItem(this.getModuleName()+this.element.id+this.ej2StatePersistenceVersion,this.getPersistData()):window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData()))},t.prototype.renderReactTemplates=function(e){h(e)||e()},t.prototype.clearTemplate=function(e,i){},t.prototype.getUniqueID=function(e){return this.isHistoryChanged()&&(nl=0),$o=this.pageID(location.href),Up=history.length,e+"_"+$o+"_"+nl++},t.prototype.pageID=function(e){var i=0;if(e.length===0)return i;for(var s=0;s<e.length;s++){var n=e.charCodeAt(s);i=(i<<5)-i+n,i=i&i}return Math.abs(i)},t.prototype.isHistoryChanged=function(){return $o!==this.pageID(location.href)||Up!==history.length},t.prototype.addOnPersist=function(e){for(var i=this,s={},n=0,r=e;n<r.length;n++){var o=r[n],l=B(o,this);oe(l)||pe(o,this.getActualProperties(l),s)}return JSON.stringify(s,function(c,d){return i.getActualProperties(d)})},t.prototype.getActualProperties=function(e){return e instanceof ge?B("properties",e):e},t.prototype.ignoreOnPersist=function(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))},t.prototype.iterateJsonProperties=function(e,i){for(var s={},n=function(d){if(i.indexOf(d)===-1){var p=e[""+d];if(typeof p=="object"&&!(p instanceof Array)){var u=i.filter(function(f){var m=RegExp;return new m(d+".").test(f)}).map(function(f){return f.replace(d+".","")});s[""+d]=r.iterateJsonProperties(r.getActualProperties(p),u)}else s[""+d]=p}},r=this,o=0,l=Object.keys(e);o<l.length;o++){var c=l[o];n(c)}return s},ta([y(!1)],t.prototype,"enablePersistence",void 0),ta([y()],t.prototype,"enableRtl",void 0),ta([y()],t.prototype,"locale",void 0),t=ta([ke],t),t}(Wi);(function(){typeof window<"u"&&window.addEventListener("popstate",function(){nl=0})})();var cu=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),je=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},sy={left:0,top:0,bottom:0,right:0},el={isDragged:!1},ny=function(a){cu(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return je([y(0)],t.prototype,"left",void 0),je([y(0)],t.prototype,"top",void 0),t}(ge),oa=function(a){cu(t,a);function t(i,s){var n=a.call(this,s,i)||this;return n.dragLimit=e.getDefaultPosition(),n.borderWidth=e.getDefaultPosition(),n.padding=e.getDefaultPosition(),n.diffX=0,n.prevLeft=0,n.prevTop=0,n.dragProcessStarted=!1,n.eleTop=0,n.tapHoldTimer=0,n.externalInitialize=!1,n.diffY=0,n.parentScrollX=0,n.parentScrollY=0,n.droppables={},n.bind(),n}e=t,t.prototype.bind=function(){this.toggleEvents(),E.isIE&&L([this.element],"e-block-touch"),this.droppables[this.scope]={}},t.getDefaultPosition=function(){return ue({},sy)},t.prototype.toggleEvents=function(i){var s;oe(this.handle)||(s=W(this.handle,this.element));var n=this.enableTapHold&&E.isDevice&&E.isTouch?this.mobileInitialize:this.initialize;i?v.remove(s||this.element,E.isSafari()?"touchstart":E.touchStartEvent,n):v.add(s||this.element,E.isSafari()?"touchstart":E.touchStartEvent,n,this)},t.prototype.mobileInitialize=function(i){var s=this,n=i.currentTarget;this.tapHoldTimer=setTimeout(function(){s.externalInitialize=!0,s.removeTapholdTimer(),s.initialize(i,n)},this.tapHoldThreshold),v.add(document,E.isSafari()?"touchmove":E.touchMoveEvent,this.removeTapholdTimer,this),v.add(document,E.isSafari()?"touchend":E.touchEndEvent,this.removeTapholdTimer,this)},t.prototype.removeTapholdTimer=function(){clearTimeout(this.tapHoldTimer),v.remove(document,E.isSafari()?"touchmove":E.touchMoveEvent,this.removeTapholdTimer),v.remove(document,E.isSafari()?"touchend":E.touchEndEvent,this.removeTapholdTimer)},t.prototype.getScrollableParent=function(i,s){var n={vertical:"scrollHeight",horizontal:"scrollWidth"},r={vertical:"clientHeight",horizontal:"clientWidth"};return h(i)?null:i[n[""+s]]>i[r[""+s]]?(s==="vertical"?i.scrollTop>0:i.scrollLeft>0)?(s==="vertical"?(this.parentScrollY=this.parentScrollY+(this.parentScrollY===0?i.scrollTop:i.scrollTop-this.parentScrollY),this.tempScrollHeight=i.scrollHeight):(this.parentScrollX=this.parentScrollX+(this.parentScrollX===0?i.scrollLeft:i.scrollLeft-this.parentScrollX),this.tempScrollWidth=i.scrollWidth),h(i)?i:this.getScrollableParent(i.parentNode,s)):this.getScrollableParent(i.parentNode,s):this.getScrollableParent(i.parentNode,s)},t.prototype.getScrollableValues=function(){this.parentScrollX=0,this.parentScrollY=0;var i=this.element.classList.contains("e-dialog")&&this.element.classList.contains("e-dlg-modal"),s=this.getScrollableParent(this.element.parentNode,"vertical"),n=this.getScrollableParent(this.element.parentNode,"horizontal")},t.prototype.initialize=function(i,s){if(this.currentStateTarget=i.target,!this.isDragStarted()){if(this.isDragStarted(!0),this.externalInitialize=!1,this.target=i.currentTarget||s,this.dragProcessStarted=!1,this.abort){var n=this.abort;typeof n=="string"&&(n=[n]);for(var r=0;r<n.length;r++)if(!h(M(i.target,n[parseInt(r.toString(),10)]))){this.isDragStarted()&&this.isDragStarted(!0);return}}this.preventDefault&&!oe(i.changedTouches)&&i.type!=="touchstart"&&i.preventDefault(),this.element.setAttribute("aria-grabbed","true");var o=this.getCoordinates(i);if(this.initialPosition={x:o.pageX,y:o.pageY},!this.clone){var l=this.element.getBoundingClientRect();this.getScrollableValues(),i.clientX===i.pageX&&(this.parentScrollX=0),i.clientY===i.pageY&&(this.parentScrollY=0),this.relativeXPosition=o.pageX-(l.left+this.parentScrollX),this.relativeYPosition=o.pageY-(l.top+this.parentScrollY)}this.externalInitialize?this.intDragStart(i):(v.add(document,E.isSafari()?"touchmove":E.touchMoveEvent,this.intDragStart,this),v.add(document,E.isSafari()?"touchend":E.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),i.type!=="touchstart"&&this.isPreventSelect&&document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,v.trigger(document.documentElement,E.isSafari()?"touchstart":E.touchStartEvent,i)}},t.prototype.intDragStart=function(i){this.removeTapholdTimer();var s=!oe(i.changedTouches);if(!(s&&i.changedTouches.length!==1)){var n=this.getCoordinates(i),r,o=getComputedStyle(this.element);this.margin={left:parseInt(o.marginLeft,10),top:parseInt(o.marginTop,10),right:parseInt(o.marginRight,10),bottom:parseInt(o.marginBottom,10)};var l=this.element;if(this.clone&&this.dragTarget){var c=M(i.target,this.dragTarget);h(c)||(l=c)}this.isReplaceDragEle&&(l=this.currentStateCheck(i.target,l)),this.offset=this.calculateParentPosition(l),this.position=this.getMousePosition(i,this.isDragScroll);var d=this.initialPosition.x-n.pageX,p=this.initialPosition.y-n.pageY,u=Math.sqrt(d*d+p*p);if(u>=this.distance||this.externalInitialize){var f=this.getHelperElement(i);if(!f||h(f))return;s&&i.preventDefault();var m=this.helperElement=f;if(this.parentClientRect=this.calculateParentPosition(m.offsetParent),this.dragStart){var g=this.getProperTargetElement(i),b={event:i,element:l,target:g,bindEvents:ie()?this.bindDragEvents.bind(this):null,dragElement:m};this.trigger("dragStart",b)}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),r={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top),this.getScrollableValues();var S=getComputedStyle(l),T=parseFloat(S.marginTop);this.clone&&T!==0&&(r.top+=T),this.eleTop=isNaN(parseFloat(S.top))?0:parseFloat(S.top)-this.offset.top,this.enableScrollHandler&&!this.clone&&(r.top-=this.parentScrollY,r.left-=this.parentScrollX);var I=this.getProcessedPositionValue({top:r.top-this.diffY+"px",left:r.left-this.diffX+"px"});this.dragArea&&typeof this.dragArea!="string"&&this.dragArea.classList.contains("e-kanban-content")&&this.dragArea.style.position==="relative"&&(r.top+=this.dragArea.scrollTop),this.dragElePosition={top:r.top,left:r.left},se(m,this.getDragPosition({position:"absolute",left:I.left,top:I.top})),v.remove(document,E.isSafari()?"touchmove":E.touchMoveEvent,this.intDragStart),v.remove(document,E.isSafari()?"touchend":E.touchEndEvent,this.intDestroy),ie()||this.bindDragEvents(m)}}},t.prototype.bindDragEvents=function(i){It(i)?(v.add(document,E.isSafari()?"touchmove":E.touchMoveEvent,this.intDrag,this),v.add(document,E.isSafari()?"touchend":E.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,i)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))},t.prototype.elementInViewport=function(i){for(this.top=i.offsetTop,this.left=i.offsetLeft,this.width=i.offsetWidth,this.height=i.offsetHeight;i.offsetParent;)i=i.offsetParent,this.top+=i.offsetTop,this.left+=i.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth},t.prototype.getProcessedPositionValue=function(i){return this.queryPositionInfo?this.queryPositionInfo(i):i},t.prototype.calculateParentPosition=function(i){if(h(i))return{left:0,top:0};var s=i.getBoundingClientRect(),n=getComputedStyle(i);return{left:s.left+window.pageXOffset-parseInt(n.marginLeft,10),top:s.top+window.pageYOffset-parseInt(n.marginTop,10)}},t.prototype.intDrag=function(i){if(!(!oe(i.changedTouches)&&i.changedTouches.length!==1)){this.clone&&i.changedTouches&&E.isDevice&&E.isTouch&&i.preventDefault();var s,n;this.position=this.getMousePosition(i,this.isDragScroll);var r=this.getDocumentWidthHeight("Height");r<this.position.top&&(this.position.top=r);var o=this.getDocumentWidthHeight("Width");if(o<this.position.left&&(this.position.left=o),this.drag){var l=this.getProperTargetElement(i);this.trigger("drag",{event:i,element:this.element,target:l})}var c=this.checkTargetElement(i);if(c.target&&c.instance){var d=!0;this.hoverObject&&(this.hoverObject.instance!==c.instance?this.triggerOutFunction(i,c):d=!1),d&&(c.instance.dragData[this.scope]=this.droppables[this.scope],c.instance.intOver(i,c.target),this.hoverObject=c)}else this.hoverObject&&this.triggerOutFunction(i,c);var p=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var u=this.parentClientRect.left,f=this.parentClientRect.top,m=this.getCoordinates(i),g=m.pageX,b=m.pageY,S=this.position.left-this.diffX,T=this.position.top-this.diffY,I=getComputedStyle(p);if(this.dragArea){if(this.enableAutoScroll&&this.setDragArea(),this.pageX!==g||this.skipDistanceCheck){var w=p.offsetWidth+(parseFloat(I.marginLeft)+parseFloat(I.marginRight));this.dragLimit.left>S&&S>0?s=this.dragLimit.left:this.dragLimit.right+window.pageXOffset<S+w&&S>0?s=S-(S-this.dragLimit.right)+window.pageXOffset-w:s=S<0?this.dragLimit.left:S}if(this.pageY!==b||this.skipDistanceCheck){var x=p.offsetHeight+(parseFloat(I.marginTop)+parseFloat(I.marginBottom));this.dragLimit.top>T&&T>0?n=this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<T+x&&T>0?n=T-(T-this.dragLimit.bottom)+window.pageYOffset-x:n=T<0?this.dragLimit.top:T}}else s=S,n=T;var A=f+this.borderWidth.top,q=u+this.borderWidth.left;this.dragProcessStarted&&(h(n)&&(n=this.prevTop),h(s)&&(s=this.prevLeft));var F,J;if(this.helperElement.classList.contains("e-treeview"))this.dragArea?(this.dragLimit.top=this.clone?this.dragLimit.top:0,F=n-A<0?this.dragLimit.top:n-this.borderWidth.top,J=s-q<0?this.dragLimit.left:s-this.borderWidth.left):(F=n-this.borderWidth.top,J=s-this.borderWidth.left);else if(this.dragArea){var ae=this.helperElement.classList.contains("e-dialog");this.dragLimit.top=this.clone?this.dragLimit.top:0,F=n-A<0?this.dragLimit.top:n-A,J=s-q<0?ae?s-(q-this.borderWidth.left):this.dragElePosition.left:s-q}else F=n-A,J=s-q;var de=parseFloat(getComputedStyle(this.element).marginTop);if(de>0&&(this.clone&&(F+=de,T<0&&(de+T>=0?F=de+T:F-=de),this.dragArea&&(F=this.dragLimit.bottom<F?this.dragLimit.bottom:F)),n-A<0))if(T+de+(p.offsetHeight-A)>=0){var re=this.dragLimit.top+T-A;re+de+A<0?F-=de+A:F=re}else F-=de+A;if(this.dragArea&&this.helperElement.classList.contains("e-treeview")){var x=p.offsetHeight+(parseFloat(I.marginTop)+parseFloat(I.marginBottom));F=F+x>this.dragLimit.bottom?this.dragLimit.bottom-x:F}this.enableScrollHandler&&!this.clone&&(F-=this.parentScrollY,J-=this.parentScrollX),this.dragArea&&typeof this.dragArea!="string"&&this.dragArea.classList.contains("e-kanban-content")&&this.dragArea.style.position==="relative"&&(F+=this.dragArea.scrollTop);var me=this.getProcessedPositionValue({top:F+"px",left:J+"px"});se(p,this.getDragPosition(me)),!this.elementInViewport(p)&&this.enableAutoScroll&&!this.helperElement.classList.contains("e-treeview")&&this.helperElement.scrollIntoView();var U=document.querySelectorAll(":hover");if(this.enableAutoScroll&&this.helperElement.classList.contains("e-treeview")){U.length===0&&(U=this.getPathElements(i));var O=this.getScrollParent(U,!1);this.elementInViewport(this.helperElement)?this.getScrollPosition(O,F):this.elementInViewport(this.helperElement)||(U=[].slice.call(document.querySelectorAll(":hover")),U.length===0&&(U=this.getPathElements(i)),O=this.getScrollParent(U,!0),this.getScrollPosition(O,F))}this.dragProcessStarted=!0,this.prevLeft=s,this.prevTop=n,this.position.left=s,this.position.top=n,this.pageX=g,this.pageY=b}},t.prototype.getScrollParent=function(i,s){for(var n=s?i.reverse():i,r,o=n.length-1;o>=0;o--)if(r=window.getComputedStyle(n[parseInt(o.toString(),10)])["overflow-y"],(r==="auto"||r==="scroll")&&n[parseInt(o.toString(),10)].scrollHeight>n[parseInt(o.toString(),10)].clientHeight)return n[parseInt(o.toString(),10)];if(r=window.getComputedStyle(document.scrollingElement)["overflow-y"],r==="visible")return document.scrollingElement.style.overflow="auto",document.scrollingElement},t.prototype.getScrollPosition=function(i,s){if(i&&i===document.scrollingElement)i.clientHeight+document.scrollingElement.scrollTop-this.helperElement.clientHeight<s&&i.getBoundingClientRect().height+this.parentClientRect.top>s?i.scrollTop+=this.helperElement.clientHeight:i.scrollTop>s-this.helperElement.clientHeight&&(i.scrollTop-=this.helperElement.clientHeight);else if(i&&i!==document.scrollingElement){var n=document.scrollingElement.scrollTop,r=this.helperElement.clientHeight;i.clientHeight+i.getBoundingClientRect().top-r+n<s?i.scrollTop+=this.helperElement.clientHeight:i.getBoundingClientRect().top>s-r-n&&(i.scrollTop-=this.helperElement.clientHeight)}},t.prototype.getPathElements=function(i){var s=i.clientX>0?i.clientX:0,n=i.clientY>0?i.clientY:0;return document.elementsFromPoint(s,n)},t.prototype.triggerOutFunction=function(i,s){this.hoverObject.instance.intOut(i,s.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null},t.prototype.getDragPosition=function(i){var s=ue({},i);return this.axis&&(this.axis==="x"?delete s.top:this.axis==="y"&&delete s.left),s},t.prototype.getDocumentWidthHeight=function(i){var s=document.body,n=document.documentElement,r=Math.max(s["scroll"+i],n["scroll"+i],s["offset"+i],n["offset"+i],n["client"+i]);return r},t.prototype.intDragStop=function(i){if(this.dragProcessStarted=!1,!(!oe(i.changedTouches)&&i.changedTouches.length!==1)){var s=["touchend","pointerup","mouseup"];if(s.indexOf(i.type)!==-1){if(this.dragStop){var n=this.getProperTargetElement(i);this.trigger("dragStop",{event:i,element:this.element,target:n,helper:this.helperElement})}this.intDestroy(i)}else this.element.setAttribute("aria-grabbed","false");var r=this.checkTargetElement(i);r.target&&r.instance&&(r.instance.dragStopCalled=!0,r.instance.dragData[this.scope]=this.droppables[this.scope],r.instance.intDrop(i,r.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}},t.prototype.intDestroy=function(i){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),v.remove(document,E.isSafari()?"touchmove":E.touchMoveEvent,this.intDragStart),v.remove(document,E.isSafari()?"touchend":E.touchEndEvent,this.intDragStop),v.remove(document,E.isSafari()?"touchend":E.touchEndEvent,this.intDestroy),v.remove(document,E.isSafari()?"touchmove":E.touchMoveEvent,this.intDrag),this.isDragStarted()&&this.isDragStarted(!0)},t.prototype.onPropertyChanged=function(i,s){},t.prototype.getModuleName=function(){return"draggable"},t.prototype.isDragStarted=function(i){return i&&(el.isDragged=!el.isDragged),el.isDragged},t.prototype.setDragArea=function(){var i,s,n=0,r=0,o,l=typeof this.dragArea;if(l==="string"?o=W(this.dragArea):o=this.dragArea,o){var c=o.getBoundingClientRect();i=o.scrollWidth?o.scrollWidth:c.right-c.left,s=o.scrollHeight?this.dragArea&&!h(this.helperElement)&&this.helperElement.classList.contains("e-treeview")?o.clientHeight:o.scrollHeight:c.bottom-c.top;for(var d=["Top","Left","Bottom","Right"],p=getComputedStyle(o),u=0;u<d.length;u++){var f=d[parseInt(u.toString(),10)],m=p["border"+f+"Width"],g=p["padding"+f],b=f.toLowerCase();this.borderWidth[""+b]=isNaN(parseFloat(m))?0:parseFloat(m),this.padding[""+b]=isNaN(parseFloat(g))?0:parseFloat(g)}this.dragArea&&!h(this.helperElement)&&this.helperElement.classList.contains("e-treeview")?n=c.top+document.scrollingElement.scrollTop:n=c.top,r=c.left,this.dragLimit.left=r+this.borderWidth.left+this.padding.left,this.dragLimit.top=o.offsetTop+this.borderWidth.top+this.padding.top,this.dragLimit.right=r+i-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=n+s-(this.borderWidth.bottom+this.padding.bottom)}},t.prototype.getProperTargetElement=function(i){var s=this.getCoordinates(i),n,r=this.helperElement.style.pointerEvents||"",o=i.type.indexOf("pointer")!==-1&&E.info.name==="safari"&&parseInt(E.info.version,10)>12;return Kp(i.target,this.helperElement)||i.type.indexOf("touch")!==-1||o?(this.helperElement.style.pointerEvents="none",n=document.elementFromPoint(s.clientX,s.clientY),this.helperElement.style.pointerEvents=r):n=i.target,n},t.prototype.currentStateCheck=function(i,s){var n;return!h(this.currentStateTarget)&&this.currentStateTarget!==i?n=this.currentStateTarget:n=h(s)?i:s,n},t.prototype.getMousePosition=function(i,s){var n=i.srcElement!==void 0?i.srcElement:i.target,r=this.getCoordinates(i),o,l,c=h(n.offsetParent);if(s?(o=this.clone?r.pageX:r.pageX+(c?0:n.offsetParent.scrollLeft)-this.relativeXPosition,l=this.clone?r.pageY:r.pageY+(c?0:n.offsetParent.scrollTop)-this.relativeYPosition):(o=this.clone?r.pageX:r.pageX+window.pageXOffset-this.relativeXPosition,l=this.clone?r.pageY:r.pageY+window.pageYOffset-this.relativeYPosition),document.scrollingElement&&!s&&!this.clone){var d=document.scrollingElement,p=d.scrollHeight>0&&d.scrollHeight>d.clientHeight&&d.scrollTop>0,u=d.scrollWidth>0&&d.scrollWidth>d.clientWidth&&d.scrollLeft>0;o=u?o-d.scrollLeft:o,l=p?l-d.scrollTop:l}return{left:o-(this.margin.left+this.cursorAt.left),top:l-(this.margin.top+this.cursorAt.top)}},t.prototype.getCoordinates=function(i){return i.type.indexOf("touch")>-1?i.changedTouches[0]:i},t.prototype.getHelperElement=function(i){var s;return this.clone?this.helper?s=this.helper({sender:i,element:this.target}):(s=P("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(s)):s=this.element,s},t.prototype.setGlobalDroppables=function(i,s,n){this.droppables[this.scope]=i?null:{draggable:s,helper:n,draggedElement:this.element}},t.prototype.checkTargetElement=function(i){var s=this.getProperTargetElement(i),n=this.getDropInstance(s);if(!n&&s&&!h(s.parentNode)){var r=M(s.parentNode,".e-droppable")||s.parentElement;r&&(n=this.getDropInstance(r))}return{target:s,instance:n}},t.prototype.getDropInstance=function(i){var s="getModuleName",n,r=i&&i.ej2_instances;if(r)for(var o=0,l=r;o<l.length;o++){var c=l[o];if(c[""+s]()==="droppable"){n=c;break}}return n},t.prototype.destroy=function(){this.toggleEvents(!0),a.prototype.destroy.call(this)};var e;return je([ye({},ny)],t.prototype,"cursorAt",void 0),je([y(!0)],t.prototype,"clone",void 0),je([y()],t.prototype,"dragArea",void 0),je([y()],t.prototype,"isDragScroll",void 0),je([y()],t.prototype,"isReplaceDragEle",void 0),je([y(!0)],t.prototype,"isPreventSelect",void 0),je([z()],t.prototype,"drag",void 0),je([z()],t.prototype,"dragStart",void 0),je([z()],t.prototype,"dragStop",void 0),je([y(1)],t.prototype,"distance",void 0),je([y()],t.prototype,"handle",void 0),je([y()],t.prototype,"abort",void 0),je([y()],t.prototype,"helper",void 0),je([y("default")],t.prototype,"scope",void 0),je([y("")],t.prototype,"dragTarget",void 0),je([y()],t.prototype,"axis",void 0),je([y()],t.prototype,"queryPositionInfo",void 0),je([y(!1)],t.prototype,"enableTailMode",void 0),je([y(!1)],t.prototype,"skipDistanceCheck",void 0),je([y(!0)],t.prototype,"preventDefault",void 0),je([y(!1)],t.prototype,"enableAutoScroll",void 0),je([y(!1)],t.prototype,"enableTapHold",void 0),je([y(750)],t.prototype,"tapHoldThreshold",void 0),je([y(!1)],t.prototype,"enableScrollHandler",void 0),t=e=je([ke],t),t}(Wi);var ry=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),ia=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},ay={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},oi=function(a){ry(t,a);function t(i,s){var n=a.call(this,s,i)||this;return n.keyPressHandler=function(r){for(var o=r.altKey,l=r.ctrlKey,c=r.shiftKey,d=r.which,p=Object.keys(n.keyConfigs),u=0,f=p;u<f.length;u++)for(var m=f[u],g=n.keyConfigs[""+m].split(","),b=0,S=g;b<S.length;b++){var T=S[b],I=e.getKeyConfigData(T.trim());o===I.altKey&&l===I.ctrlKey&&c===I.shiftKey&&d===I.keyCode&&(r.action=m,n.keyAction&&n.keyAction(r))}},n.bind(),n}e=t,t.prototype.destroy=function(){this.unwireEvents(),a.prototype.destroy.call(this)},t.prototype.onPropertyChanged=function(i,s){},t.prototype.bind=function(){this.wireEvents()},t.prototype.getModuleName=function(){return"keyboard"},t.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},t.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},t.getKeyConfigData=function(i){if(i in this.configCache)return this.configCache[""+i];var s=i.toLowerCase().split("+"),n={altKey:s.indexOf("alt")!==-1,ctrlKey:s.indexOf("ctrl")!==-1,shiftKey:s.indexOf("shift")!==-1,keyCode:null};return s[s.length-1].length>1&&Number(s[s.length-1])?n.keyCode=Number(s[s.length-1]):n.keyCode=e.getKeyCode(s[s.length-1]),e.configCache[""+i]=n,n},t.getKeyCode=function(i){return ay[""+i]||i.toUpperCase().charCodeAt(0)};var e;return t.configCache={},ia([y({})],t.prototype,"keyConfigs",void 0),ia([y("keyup")],t.prototype,"eventName",void 0),ia([z()],t.prototype,"keyAction",void 0),t=e=ia([ke],t),t}(Wi),Yt=function(){function a(t,e,i){this.controlName=t,this.localeStrings=e,this.setLocale(i||ll)}return a.prototype.setLocale=function(t){var e=this.intGetControlConstant(a.locale,t);this.currentLocale=e||this.localeStrings},a.load=function(t){this.locale=ue(this.locale,t,{},!0)},a.prototype.getConstant=function(t){return h(this.currentLocale[""+t])?this.localeStrings[""+t]||"":this.currentLocale[""+t]},a.prototype.intGetControlConstant=function(t,e){return t[""+e]?t[""+e][this.controlName]:null},a.locale={},a}(),du=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),qi=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},oy=function(a){du(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return qi([y(50)],t.prototype,"swipeThresholdDistance",void 0),t}(ge),ly=/(Up|Down)/,Si=function(a){du(t,a);function t(e,i){var s=a.call(this,i,e)||this;return s.touchAction=!0,s.tapCount=0,s.startEvent=function(n){if(s.touchAction===!0){var r=s.updateChangeTouches(n);n.changedTouches!==void 0&&(s.touchAction=!1),s.isTouchMoved=!1,s.movedDirection="",s.startPoint=s.lastMovedPoint={clientX:r.clientX,clientY:r.clientY},s.startEventData=r,s.hScrollLocked=s.vScrollLocked=!1,s.tStampStart=Date.now(),s.timeOutTapHold=setTimeout(function(){s.tapHoldEvent(n)},s.tapHoldThreshold),v.add(s.element,E.touchMoveEvent,s.moveEvent,s),v.add(s.element,E.touchEndEvent,s.endEvent,s),v.add(s.element,E.touchCancelEvent,s.cancelEvent,s)}},s.moveEvent=function(n){var r=s.updateChangeTouches(n);s.movedPoint=r,s.isTouchMoved=!(r.clientX===s.startPoint.clientX&&r.clientY===s.startPoint.clientY);var o={};if(s.isTouchMoved){clearTimeout(s.timeOutTapHold),s.calcScrollPoints(n);var l={startEvents:s.startEventData,originalEvent:n,startX:s.startPoint.clientX,startY:s.startPoint.clientY,distanceX:s.distanceX,distanceY:s.distanceY,scrollDirection:s.scrollDirection,velocity:s.getVelocity(r)};o=ue(o,{},l),s.trigger("scroll",o),s.lastMovedPoint={clientX:r.clientX,clientY:r.clientY}}},s.cancelEvent=function(n){clearTimeout(s.timeOutTapHold),clearTimeout(s.timeOutTap),s.tapCount=0,s.swipeFn(n),v.remove(s.element,E.touchCancelEvent,s.cancelEvent)},s.endEvent=function(n){s.swipeFn(n),s.isTouchMoved||typeof s.tap=="function"&&(s.trigger("tap",{originalEvent:n,tapCount:++s.tapCount}),s.timeOutTap=setTimeout(function(){s.tapCount=0},s.tapThreshold)),s.modeclear()},s.swipeFn=function(n){clearTimeout(s.timeOutTapHold),clearTimeout(s.timeOutTap);var r=s.updateChangeTouches(n),o=r.clientX-s.startPoint.clientX,l=r.clientY-s.startPoint.clientY;o=Math.floor(o<0?-1*o:o),l=Math.floor(l<0?-1*l:o),s.isTouchMoved=o>1||l>1;var c=/Firefox/.test(E.userAgent);c&&r.clientX===0&&r.clientY===0&&n.type==="mouseup"&&(s.isTouchMoved=!1),s.endPoint=r,s.calcPoints(n);var d={originalEvent:n,startEvents:s.startEventData,startX:s.startPoint.clientX,startY:s.startPoint.clientY,distanceX:s.distanceX,distanceY:s.distanceY,swipeDirection:s.movedDirection,velocity:s.getVelocity(r)};if(s.isTouchMoved){var p=s.swipeSettings.swipeThresholdDistance,u=ue(void 0,s.defaultArgs,d),f=!1,m=s.element,g=s.isScrollable(m),b=ly.test(s.movedDirection);(p<s.distanceX&&!b||p<s.distanceY&&b)&&(g?f=s.checkSwipe(m,b):f=!0),f&&s.trigger("swipe",u)}s.modeclear()},s.modeclear=function(){s.modeClear=setTimeout(function(){s.touchAction=!0},typeof s.tap!="function"?0:20),s.lastTapTime=new Date().getTime(),v.remove(s.element,E.touchMoveEvent,s.moveEvent),v.remove(s.element,E.touchEndEvent,s.endEvent),v.remove(s.element,E.touchCancelEvent,s.cancelEvent)},s.bind(),s}return t.prototype.onPropertyChanged=function(e,i){},t.prototype.bind=function(){this.wireEvents(),E.isIE&&this.element.classList.add("e-block-touch")},t.prototype.destroy=function(){this.unwireEvents(),a.prototype.destroy.call(this)},t.prototype.wireEvents=function(){v.add(this.element,E.touchStartEvent,this.startEvent,this)},t.prototype.unwireEvents=function(){v.remove(this.element,E.touchStartEvent,this.startEvent)},t.prototype.getModuleName=function(){return"touch"},t.prototype.isScrollable=function(e){var i=getComputedStyle(e),s=i.overflow+i.overflowX+i.overflowY;return!!/(auto|scroll)/.test(s)},t.prototype.tapHoldEvent=function(e){this.tapCount=0,this.touchAction=!0,v.remove(this.element,E.touchMoveEvent,this.moveEvent),v.remove(this.element,E.touchEndEvent,this.endEvent);var i={originalEvent:e};this.trigger("tapHold",i),v.remove(this.element,E.touchCancelEvent,this.cancelEvent)},t.prototype.calcPoints=function(e){var i=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(i.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(i.clientY)-Math.abs(this.startPoint.clientY)),this.distanceX>this.distanceY?this.movedDirection=i.clientX>this.startPoint.clientX?"Right":"Left":this.movedDirection=i.clientY<this.startPoint.clientY?"Up":"Down"},t.prototype.calcScrollPoints=function(e){var i=this.updateChangeTouches(e);this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(i.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(i.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||this.hScrollLocked===!0)&&this.vScrollLocked===!1?(this.scrollDirection=i.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=i.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)},t.prototype.getVelocity=function(e){var i=e.clientX,s=e.clientY,n=Date.now(),r=i-this.startPoint.clientX,o=s-this.startPoint.clientX,l=n-this.tStampStart;return Math.sqrt(r*r+o*o)/l},t.prototype.checkSwipe=function(e,i){var s=["scroll","offset"],n=i?["Height","Top"]:["Width","Left"];return e[s[0]+n[0]]<=e[s[1]+n[0]]?!0:e[s[0]+n[1]]===0||e[s[1]+n[0]]+e[s[0]+n[1]]>=e[s[0]+n[0]]},t.prototype.updateChangeTouches=function(e){var i=e.changedTouches&&e.changedTouches.length!==0?e.changedTouches[0]:e;return i},qi([z()],t.prototype,"tap",void 0),qi([z()],t.prototype,"tapHold",void 0),qi([z()],t.prototype,"swipe",void 0),qi([z()],t.prototype,"scroll",void 0),qi([y(350)],t.prototype,"tapThreshold",void 0),qi([y(750)],t.prototype,"tapHoldThreshold",void 0),qi([ye({},oy)],t.prototype,"swipeSettings",void 0),t=qi([ke],t),t}(Wi),hy=new RegExp("\\n|\\r|\\s\\s+","g"),cy=new RegExp(/'|"/g),dy=new RegExp("if ?\\("),py=new RegExp("else if ?\\("),_p=new RegExp("else"),uy=new RegExp("for ?\\("),Wp=new RegExp("(/if|/for)"),fy=new RegExp("\\((.*)\\)",""),dl=new RegExp("^[0-9]+$","g"),my=new RegExp(`[\\w"'.\\s+]+`,"g"),gy=new RegExp('"(.*?)"',"g"),vy=new RegExp(`[\\w"'@#$.\\s-+]+`,"g"),Qp=new RegExp("\\${([^}]*)}","g"),yy=/^\..*/gm,rl=/\\/gi,by=/\\\\/gi,Cy=new RegExp(`[\\w"'@#$.\\s+]+`,"g"),My=/\window\./gm;function Sy(a,t,e){if(typeof a=="function")return a;var i="data",s=Ey(a,i,t,e),n=`var valueRegEx = (/value=\\'([A-Za-z0-9 _]*)((.)([\\w)(!-;?-\u25A0\\s]+)['])/g);
        var hrefRegex = (/(?:href)([\\s='"./]+)([\\w-./?=&\\\\#"]+)((.)([\\w)(!-;/?-\u25A0\\s]+)['])/g);
        if(str.match(valueRegEx)){
            var check = str.match(valueRegEx);
            var str1 = str;
            for (var i=0; i < check.length; i++) {
                var check1 = str.match(valueRegEx)[i].split('value=')[1];
                var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '"') : check1;
                change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'"') : change;
                str1 = str1.replace(check1, change);
            }
            str = str.replace(str, str1);
        }
        else if (str.match(/(?:href='')/) === null) {
            if(str.match(hrefRegex)) {
                var check = str.match(hrefRegex);
                var str1 = str;
                for (var i=0; i < check.length; i++) {
                    var check1 = str.match(hrefRegex)[i].split('href=')[1];
                    if (check1) {
                        var change = check1.match(/^'/) !== null ? check1.replace(/^'/, '"') : check1;
                        change =change.match(/.$/)[0] === '\\'' ? change.replace(/.$/,'"') : change;
                        str1 = str1.replace(check1, change);
                    }
                }
                str = str.replace(str, str1);
            }
        }
        `,r='var str="'+s+'";'+n+" return str;",o=new Function(i,r);return o.bind(t)}function Ey(a,t,e,i){var s=0,n=[],r=a.match(/class="([^"]+|)\s{2}/g),o="";if(r&&r.forEach(function(p){o=p.replace(/\s\s+/g," "),a=a.replace(p,o)}),Qp.test(a)){for(var l=!1,c="",d=0;d<a.length;d++)a[d+""]==="$"&&a[d+1]==="{"?l=!0:a[d+""]==="}"&&(l=!1),c+=a[d+""]==='"'&&!l?'\\"':a[d+""];a=c}else a=a.replace(/\\?"/g,'\\"');return a.replace(hy,"").replace(gy,"'$1'").replace(Qp,function(p,u,f,m){var g=/@|#|\$/gm,b=u.match(fy);if(b){var S=b[1];if(py.test(u))u='";} '+u.replace(b[1],S.replace(my,function(J){return J=J.trim(),Js(J,!cy.test(J)&&n.indexOf(J)===-1,t,n,i)}))+`{ 
 str = str + "`;else if(dy.test(u))u='"; '+u.replace(b[1],S.replace(vy,function(J){return Gp(J,t,n,i)}))+`{ 
 str = str + "`;else if(uy.test(u)){var T=b[1].split(" of ");u='"; '+u.replace(b[1],function(J){return n.push(T[0]),n.push(T[0]+"Index"),s=s+1,"var i"+s+"=0; i"+s+" < "+Js(T[1],!0,t,n,i)+".length; i"+s+"++"})+`{ 
 `+T[0]+"= "+Js(T[1],!0,t,n,i)+"[i"+s+`]; 
 var `+T[0]+"Index=i"+s+`; 
 str = str + "`}else{var I=u.split("("),w=e&&Object.prototype.hasOwnProperty.call(e,I[0])?"this.":"global";w=/\./.test(I[0])?"":w;var x=b[1].split(",");b[1].length!==0&&!/data/.test(x[0])&&!/window./.test(x[0])&&(b[1]=w==="global"?t+"."+b[1]:b[1]);var A=/@|\$|#/gm,q=/\]\./gm;if(My.test(u)&&q.test(u)||A.test(u)){var F=/@|\$|#|\]\./gm;F.test(u)&&(u='"+ '+(w==="global"?"":w)+u.replace(b[1],S.replace(Cy,function(J){return Gp(J,t,n,i)}))+'+ "')}else u='" + '+(w==="global"?"":w)+u.replace(S,Js(b[1].replace(/,( |)data.|,/gi,","+t+".").replace(/,( |)data.window/gi,",window"),w!=="global",t,n,i))+'+"'}}else _p.test(u)?u='"; '+u.replace(_p,`} else { 
 str = str + "`):u.match(Wp)?u=u.replace(Wp,`"; 
 } 
 str = str + "`):g.test(u)?(u.match(rl)&&(u=Yp(u)),u='"+'+al(u,n.indexOf(u)===-1,t,n)+'"]+"'):u.match(rl)?(u=Yp(u),u='"+'+al(u,n.indexOf(u)===-1,t,n)+'"]+"'):u=u!==""?'"+'+Js(u.replace(/,/gi,"+"+t+"."),n.indexOf(u)===-1,t,n,i)+'+"':"${}";return u})}function Js(a,t,e,i,s){return t&&!dl.test(a)&&i.indexOf(a.split(".")[0])===-1&&!s&&a!=="true"&&a!=="false"?e+"."+a:a}function Ty(a,t,e,i){var s=/^\..*/gm;return t&&!dl.test(a)&&i.indexOf(a.split(".")[0])===-1&&!s.test(a)?e+"."+a:a}function al(a,t,e,i){return t&&!dl.test(a)&&i.indexOf(a.split(".")[0])===-1?e+'["'+a:a}function Yp(a){var t="\\\\";return a.match(by)?a:a.replace(rl,t)}function Gp(a,t,e,i){a=a.trim();var s=/\window\./gm;if(s.test(a))return a;var n=/'|"/gm,r=/@|\$|#/gm;return r.test(a)&&(a=al(a,e.indexOf(a)===-1,t,e)+'"]'),yy.test(a)?Ty(a,!n.test(a)&&e.indexOf(a)===-1,t,e):Js(a,!n.test(a)&&e.indexOf(a)===-1,t,e,i)}var Ny=/^[\n\r.]+<tr|^<tr/,Iy=/^[\n\r.]+<svg|^<path|^<g/,$s={};function pu(){return"-"+Math.random().toString(36).substr(2,5)}function kt(a,t,e){var i=pl.compile(a,t,e);return function(s,n,r,o,l,c,d,p){var u=i(s,n,r,d,p),f="BlazorTemplateId";if(ie()&&!l){var m=pu(),g=o+m;if($s[""+o]||($s[""+o]=[]),h(c))s[""+f]=g,$s[""+o].push(s);else for(var b=Object.keys($s[""+o][parseInt(c.toString(),10)]),S=0,T=b;S<T.length;S++){var I=T[S];I!==f&&s[""+I]&&($s[""+o][parseInt(c.toString(),10)][""+I]=s[""+I]),I===f&&(g=$s[""+o][parseInt(c.toString(),10)][""+I])}return r==="rowTemplate"?[P("tr",{id:g,className:"e-blazor-template"})]:[P("div",{id:g,className:"e-blazor-template"})]}if(typeof u=="string")if(Iy.test(u)){var w=P("svg",{innerHTML:u});return w.childNodes}else{var w=P(Ny.test(u)?"table":"div",{innerHTML:u});return w.childNodes}else return u}}function uu(a){pl.compile=a.compile}function fu(){return pl.compile}function sn(a,t){var e;return a.prototype.CSPTemplate=!0,h(t)?e=a:(e=a.bind(t),e.prototype=Object.create(a.prototype)),e}var Dy=function(){function a(){}return a.prototype.compile=function(t,e,i){return e===void 0&&(e={}),Sy(t,e)},a}(),pl={compile:new Dy().compile},Ly=["script","style","iframe[src]",'link[href*="javascript:"]','object[type="text/x-scriptlet"]','object[data^="data:text/html;base64"]','img[src^="data:text/html;base64"]','[src^="javascript:"]','[dynsrc^="javascript:"]','[lowsrc^="javascript:"]','[type^="application/x-shockwave-flash"]'],wy=[{attribute:"href",selector:'[href*="javascript:"]'},{attribute:"background",selector:'[background^="javascript:"]'},{attribute:"style",selector:'[style*="javascript:"]'},{attribute:"style",selector:'[style*="expression("]'},{attribute:"href",selector:'a[href^="data:text/html;base64"]'}],Xp=["onchange","onclick","onmouseover","onmouseout","onkeydown","onload","onerror","onblur","onfocus","onbeforeload","onbeforeunload","onkeyup","onsubmit","onafterprint","onbeforeonload","onbeforeprint","oncanplay","oncanplaythrough","oncontextmenu","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onformchange","onforminput","onhaschange","oninput","oninvalid","onkeypress","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmousemove","onmouseup","onmousewheel","onoffline","onoine","ononline","onpagehide","onpageshow","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreadystatechange","onredo","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onstorage","onsuspend","ontimeupdate","onundo","onunload","onvolumechange","onwaiting","onmouseenter","onmouseleave","onstart","onpropertychange","oncopy","ontoggle","onpointerout","onpointermove","onpointerleave","onpointerenter","onpointerrawupdate","onpointerover","onbeforecopy","onbeforecut","onbeforeinput"],Be=function(){function a(){}return a.beforeSanitize=function(){return{selectors:{tags:Ly,attributes:wy}}},a.sanitize=function(t){if(h(t))return t;var e=this.beforeSanitize(),i=this.serializeValue(e,t);return i},a.serializeValue=function(t,e){this.removeAttrs=t.selectors.attributes,this.removeTags=t.selectors.tags,this.wrapElement=document.createElement("div"),this.wrapElement.innerHTML=e,this.removeXssTags(),this.removeJsEvents(),this.removeXssAttrs();var i=this.wrapElement.innerHTML;return this.removeElement(),this.wrapElement=null,i.replace(/&amp;/g,"&")},a.removeElement=function(){for(var t=this.wrapElement.children,e=0;e<t.length;e++)for(var i=t[parseInt(e.toString(),10)].attributes,s=0;s<i.length;s++)this.wrapElement.children[parseInt(e.toString(),10)].removeAttribute(i[parseInt(s.toString(),10)].localName)},a.removeXssTags=function(){var t=this.wrapElement.querySelectorAll(this.removeTags.join(","));if(t.length>0)t.forEach(function(e){N(e)});else return},a.removeJsEvents=function(){var t=this.wrapElement.querySelectorAll("["+Xp.join("],[")+"]");if(t.length>0)t.forEach(function(e){Xp.forEach(function(i){e.hasAttribute(i)&&e.removeAttribute(i)})});else return},a.removeXssAttrs=function(){var t=this;this.removeAttrs.forEach(function(e,i){var s=t.wrapElement.querySelectorAll(e.selector);s.length>0&&s.forEach(function(n){n.removeAttribute(e.attribute)})})},a}();function Oy(a,t){t.forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(i){(!Object.prototype.hasOwnProperty.call(a.prototype,i)||e.isFormBase&&i!=="constructor")&&(a.prototype["".concat(i)]=e.prototype["".concat(i)])})})}function mu(a){return function(t){Oy(t,a)}}function la(a,t,e){var i={};if(a&&a.length){for(var s=0,n=a;s<n.length;s++){var r=n[s];e===!0?(t.propCollection["".concat(r)]=new Ui(!1),t["".concat(r)]=t.propCollection["".concat(r)]):i["".concat(r)]=new Ui(!1)}e!==!0&&t.setProperties(i,!0)}}function ha(a,t,e){var i=Object.keys(a.registeredTemplate);if(i.length)for(var s=t&&t.filter(function(w){return!/\./g.test(w)}),n=/tab|accordion|toolbar/.test(a.getModuleName()),r=0,o=s&&s||i;r<o.length;r++){var l=o[r];if(e&&e.length)for(var c=0;c<e.length;c++)if(n)for(var d=0;d<a.registeredTemplate["".concat(l)].length;d++){var p=a.registeredTemplate["".concat(l)][parseInt(d.toString(),10)];p&&p===e["".concat(c)]&&(p.destroy(),a.registeredTemplate["".concat(l)].splice(d,1))}else for(var d=0;d<a.registeredTemplate.template.length;d++){var p=a.registeredTemplate.template[parseInt(d.toString(),10)].rootNodes[0];if(p===e["".concat(c)]){var u=a.registeredTemplate["".concat(l)];u[parseInt(d.toString(),10)].destroy()}}else if(a.registeredTemplate["".concat(l)])for(var f=0,m=a.registeredTemplate["".concat(l)];f<m.length;f++){var u=m[f];if(!u.destroyed){if(u._view){var g=u._view.renderer.parentNode(u.rootNodes[0]);if(!h(g))for(var d=0;d<u.rootNodes.length;d++)g.appendChild(u.rootNodes[parseInt(d.toString(),10)])}u.destroy()}}(!n||!e)&&delete a.registeredTemplate["".concat(l)]}for(var b=function(w){w.instance&&w.instance.clearTemplate(t&&t.filter(function(x){var A=RegExp;return!!new A(w.name).test(x)}))},S=0,T=a.tagObjects;S<T.length;S++){var I=T[S];b(I)}}function gu(a,t,e){for(var i=a.replace(/\[/g,".").replace(/\]/g,"").split("."),s=e||{},n=0;n<i.length;n++){var r=i[parseInt(n.toString(),10)];n+1===i.length?s["".concat(r)]=t===void 0?{}:t:s["".concat(r)]===void 0&&(s["".concat(r)]={}),s=s["".concat(r)]}return s}var xy=/Ref$/,wE=function(){function a(){this.hasChanges=!1,this.propCollection={},this.dataSource={},this.tags=[],this.tagObjects=[]}return a.prototype.ngOnInit=function(){this.registeredTemplate={};for(var t=0,e=this.tags;t<e.length;t++){var i=e[t],s=B("child"+i.substring(0,1).toUpperCase()+i.substring(1),this);s&&this.tagObjects.push({instance:s,name:i})}for(var n=Object.keys(this),r=0;r<n.length;r++){var o=B(n[parseInt(r.toString(),10)],this);typeof o=="object"&&o&&o.elementRef&&(B(n[parseInt(r.toString(),10)].indexOf("Ref")!==-1?n[parseInt(r.toString(),10)]:n[parseInt(r.toString(),10)]+"Ref",this)||pe(n[parseInt(r.toString(),10)].indexOf("Ref")!==-1?n[parseInt(r.toString(),10)]:n[parseInt(r.toString(),10)]+"Ref",o,this),B("viewContainerRef",this)&&!B("_viewContainerRef",o.elementRef.nativeElement)&&!B("propName",o.elementRef.nativeElement)&&(pe("_viewContainerRef",B("viewContainerRef",this),o.elementRef.nativeElement),pe("propName",n[parseInt(r.toString(),10)].replace("Ref",""),o.elementRef.nativeElement)))}n=Object.keys(this),n=n.filter(function(g){return/Ref$/i.test(g)});for(var l=0,c=n;l<c.length;l++){var d=c[l],p=d.replace("Ref","");pe(p.replace("_","."),B(p,this),this.propCollection)}var u=Object.keys(this);if(this.directivePropList){for(var f=0;f<this.directivePropList.length;f++){var m=this.directivePropList[parseInt(f.toString(),10)];u.indexOf(m)!==-1&&(B(m,this)===!1||B(m,this))&&pe(m,B(m,this),this.propCollection)}this.hasChanges=!0}this.isInitChanges=!0},a.prototype.registerEvents=function(t){la(t,this,!0)},a.prototype.ngOnChanges=function(t){for(var e=0,i=Object.keys(t);e<i.length;e++){var s=i[e],n=t["".concat(s)];this.propCollection["".concat(s)]=n.currentValue}this.isUpdated=!1,this.hasChanges=!0},a.prototype.clearTemplate=function(t){ha(this,t)},a.prototype.getProperties=function(){for(var t=0,e=this.tagObjects;t<e.length;t++){var i=e[t];this.propCollection[i.name]=i.instance.getProperties()}return this.propCollection},a.prototype.isChanged=function(){var t=this.hasChanges;if(!h(this.propCollection[this.property])){for(var e=this.propCollection[this.property],i=Object.keys(e[0]),s=0;s<i.length;s++)if(!h(this.propCollection[i[parseInt(s.toString(),10)]])){var n=B(i[parseInt(s.toString(),10)],this),r=this.propCollection[this.property][0][i[parseInt(s.toString(),10)]];!h(n)&&this.propCollection[i[parseInt(s.toString(),10)]]!==n&&r!==n&&(pe(i[parseInt(s.toString(),10)],n,this.propCollection[this.property][0]),pe(i[parseInt(s.toString(),10)],n,this.propCollection),this.hasChanges=!0,this.isUpdated=!1)}}for(var o=0,l=this.tagObjects;o<l.length;o++){var c=l[o];t=t||c.instance.hasChanges}return t||this.hasChanges},a.prototype.ngAfterContentChecked=function(){if(this.hasChanges=this.isChanged(),this.isInitChanges||this.hasChanges){var t=Object.keys(this);t=t.filter(function(r){return xy.test(r)});for(var e=0,i=t;e<i.length;e++){var s=i[e],n=s.replace("Ref","");pe(n.replace("_","."),B(n,this),this.propCollection)}}},a.prototype.ngAfterViewChecked=function(){this.isUpdated&&(this.hasChanges=!1)},a.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},a.prototype.ngOnDestroy=function(){this.directivePropList=[]},a}();var OE=function(){function a(t){this.list=[],this.hasChanges=!1,this.propertyName=t}return a.prototype.ngOnInit=function(){this.isInitChanges=!0},a.prototype.ngAfterContentInit=function(){var t=this,e=0;this.list=this.children.map(function(i){return i.dirIndex=e++,i.property=t.propertyName,i}),this.hasChanges=!0},a.prototype.getProperties=function(){for(var t=[],e=0,i=this.list;e<i.length;e++){var s=i[e];t.push(s.getProperties())}return t},a.prototype.isChanged=function(){var t=this,e=!1,i=0,s=!1,n=this.children.map(function(d){return d});if(this.list.length===this.children.length)for(var r=0;r<this.list.length;r++)this.list[parseInt(r.toString(),10)].propCollection.dataSource&&(this.list[parseInt(r.toString(),10)].dataSource&&this.list[parseInt(r.toString(),10)].propCollection.dataSource!==this.list[parseInt(r.toString(),10)].dataSource&&(this.list[parseInt(r.toString(),10)].propCollection.dataSource=this.list[parseInt(r.toString(),10)].dataSource,this.list[parseInt(r.toString(),10)].hasChanges=!0),this.list[parseInt(r.toString(),10)].property!=="series"&&(s=JSON.stringify(this.list[parseInt(r.toString(),10)].propCollection.dataSource)!==JSON.stringify(n[parseInt(r.toString(),10)].propCollection.dataSource))),s=this.list[parseInt(r.toString(),10)].hasChanges!==n[parseInt(r.toString(),10)].hasChanges;this.hasNewChildren=this.list.length!==this.children.length||s?!0:null,this.hasNewChildren&&(this.list=this.children.map(function(d){return d.dirIndex=i++,d.property=t.propertyName,d}));for(var o=0,l=this.list;o<l.length;o++){var c=l[o];e=e||c.hasChanges}return!!this.list.length&&e},a.prototype.clearTemplate=function(t){for(var e=this,i=0,s=this.list;i<s.length;i++){var n=s[i];n.clearTemplate(t&&t.map(function(r){var o=RegExp;return new o(e.propertyName).test(r)?r.replace(e.propertyName+".",""):r}))}},a.prototype.ngAfterContentChecked=function(){this.hasChanges=this.isChanged();for(var t=0;t<this.list.length;t++)B("childColumns",this.list[parseInt(t.toString(),10)])&&B("property",this.list[parseInt(t.toString(),10)])==="columns"&&pe("columns",B("childColumns",this.list[parseInt(t.toString(),10)]).getProperties(),this.list[parseInt(t.toString(),10)].propCollection),this.list[parseInt(t.toString(),10)].isUpdated=!0},a.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},a.prototype.ngOnDestroy=function(){this.list=[]},a}();var ul=function(){function a(){this.isProtectedOnChange=!0,this.isFormInit=!0}return a.prototype.saveChanges=function(t,e,i){if(!this.isProtectedOnChange){this.oldProperties["".concat(t)]=i,this.changedProperties["".concat(t)]=e,this.finalUpdate();var s=setTimeout(this.dataBind.bind(this)),n=function(){clearTimeout(s)};this.finalUpdate=n}},a.prototype.ngOnInit=function(t){var e=t||this;e.registeredTemplate={},e.ngBoundedEvents={},e.isAngular=!0,e.isFormInit=!0,t&&(this.tags=t.tags),e.tags=this.tags||[],e.complexTemplate=this.complexTemplate||[],e.tagObjects=[],e.ngAttr=this.getAngularAttr(e.element),e.createElement=function(g,b){var S=e.srenderer?e.srenderer.createElement(g):P(g);return typeof b>"u"||(S.innerHTML=b.innerHTML?b.innerHTML:"",b.className!==void 0&&(S.className=b.className),b.id!==void 0&&(S.id=b.id),b.styles!==void 0&&S.setAttribute("style",b.styles),e.ngAttr!==void 0&&S.setAttribute(e.ngAttr,""),b.attrs!==void 0&&le(S,b.attrs)),S};for(var i=0,s=e.tags;i<s.length;i++){var n=s[i],r={instance:B("child"+n.substring(0,1).toUpperCase()+n.substring(1),e),name:n};e.tagObjects.push(r)}for(var o=Object.keys(e),l=0;l<o.length;l++){var c=B(o[parseInt(l.toString(),10)],e);typeof c=="object"&&c&&c.elementRef&&(typeof c=="object"&&c&&c.elementRef&&o[parseInt(l.toString(),10)].indexOf("_")!==-1&&o[parseInt(l.toString(),10)].indexOf("Ref")===-1&&pe(o[parseInt(l.toString(),10)]+"Ref",c,e),e.viewContainerRef&&!B("_viewContainerRef",c.elementRef.nativeElement)&&!B("propName",c.elementRef.nativeElement)&&(pe("_viewContainerRef",e.viewContainerRef,c.elementRef.nativeElement),pe("propName",o[parseInt(l.toString(),10)].replace("Ref",""),c.elementRef.nativeElement)))}o=Object.keys(e),o=o.filter(function(g){return/Ref$/i.test(g)&&/_/i.test(g)});for(var d=0,p=o;d<p.length;d++){var u=p[d],f=u.replace("Ref",""),m={};pe(f.replace("_","."),B(f,e),m),e.setProperties(m,!0)}},a.prototype.getAngularAttr=function(t){for(var e=t.attributes,i=e.length,s,n=0;n<i;n++)/_ngcontent/g.test(e[parseInt(n.toString(),10)].name)&&(s=e[parseInt(n.toString(),10)].name);return s},a.prototype.ngAfterViewInit=function(t){var e=t||this,i=/ejs-tab|ejs-accordion/g;i.test(e.ngEle.nativeElement.outerHTML)&&(e.ngEle.nativeElement.style.visibility="hidden");var s=Object.keys(e);s=s.filter(function(p){return/Ref$/i.test(p)});for(var n=e.getModuleName()==="DocumentEditor",r=0,o=s;r<o.length;r++){var l=o[r],c=l.replace("Ref","");pe(c.replace("_","."),B(c+"Ref",e),e)}var d=function(p){(typeof window<"u"&&p.element||p.getModuleName().includes("btn"))&&(p.appendTo(p.element),p.ngEle.nativeElement.style.visibility="")};n?d(e):setTimeout(function(){d(e)})},a.prototype.ngOnDestroy=function(t){var e=t||this;setTimeout(function(){if(typeof window<"u"&&e.element.classList.contains("e-control")){if(e.ngOnFocus!==void 0&&e.ngOnBlur!==void 0){var i=e.inputElement||e.element;i.removeEventListener("focus",e.ngOnFocusBound),i.removeEventListener("blur",e.ngOnBlurBound),e.ngOnFocusBound=null,e.ngOnBlurBound=null}e.destroy(),e.clearTemplate(null),setTimeout(function(){for(var s=0,n=Object.keys(e);s<n.length;s++){var r=n[s],o=e["".concat(r)];if(o&&/object/.test(typeof o)&&Object.keys(o).length!==0)if(/properties|changedProperties|childChangedProperties|oldProperties|moduleLoader/.test(r))for(var l=0,c=Object.keys(e["".concat(r)]);l<c.length;l++){var d=c[l],p=o["".concat(d)];p&&/object/.test(typeof p)&&Object.keys(p).length!==0&&(p.parent||p.parentObj)&&(e["".concat(r)]["".concat(d)]=null)}else(o.parent||o.parentObj)&&(e["".concat(r)]=null)}})}})},a.prototype.clearTemplate=function(t,e){ha(this,t,e)},a.prototype.ngAfterContentChecked=function(t){for(var e=t||this,i=0,s=e.tagObjects;i<s.length;i++){var n=s[i];if(!oe(n.instance)&&(n.instance.isInitChanges||n.instance.hasChanges||n.instance.hasNewChildren)){var r={};if(n.instance.isInitChanges){var o=void 0,l=B("instance.list",n);l&&l.length&&(o=l[0].directivePropList);var c=!0;if(e.getModuleName&&e.getModuleName()==="gantt"&&(c=!1),o&&c&&o.indexOf(n.instance.propertyName)===-1)for(var d=Object.keys(n.instance.list[0].propCollection),p=0;p<n.instance.list.length;p++){n.instance.list["".concat(p)].propCollection[n.instance.propertyName]=[];for(var u={},f=0;f<d.length;f++){var m=d[parseInt(f.toString(),10)];u["".concat(m)]=n.instance.list["".concat(p)].propCollection["".concat(m)]}for(var g=function(J){var ae=n.instance.list["".concat(p)].tags[parseInt(J.toString(),10)],de=B("child"+ae.substring(0,1).toUpperCase()+ae.substring(1),n.instance.list["".concat(p)]);if(de){var re=n.instance.list["".concat(p)]["child"+ae.substring(0,1).toUpperCase()+ae.substring(1)],me=function(U){var O=[];if(U)for(var _=0;_<U.list.length;_++){var H=U.list[0].tags[0];if(H){var Q=B("child"+H.substring(0,1).toUpperCase()+H.substring(1),U.list[parseInt(_.toString(),10)]);Q&&(U.list[parseInt(_.toString(),10)].tagObjects.push({instance:Q,name:H}),O.push(Q))}}if(O.length!==0)for(var j=0;j<O.length;j++)me(O[parseInt(j.toString(),10)])};me(re),n.instance.list["".concat(p)].tagObjects.push({instance:de,name:ae})}},b=0;b<n.instance.list["".concat(p)].tags.length;b++)g(b);n.instance.list["".concat(p)].propCollection[n.instance.propertyName].push(u)}r[n.name]=n.instance.getProperties(),e.setProperties(r,n.instance.isInitChanges)}else{var S=!1;(e[n.name].length!==n.instance.list.length||/diagram|DashboardLayout/.test(e.getModuleName()))&&(e[n.name]=n.instance.list,S=!0);for(var T=0,I=n.instance.list;T<I.length;T++){var l=I[T],w=n.instance.list.indexOf(l),x=B(n.name,e)["".concat(w)],A=Object.keys(x);if(A=A.filter(function(ae){return/Ref$/i.test(ae)}),x.properties&&Object.keys(x.properties).length!==0)for(var q=0,F=A;q<F.length;q++){var m=F[q];m=m.replace(/Ref/,""),x.properties["".concat(m)]=x.properties["".concat(m)]?x.properties["".concat(m)]:x.propCollection["".concat(m)]}!oe(x)&&!oe(x.setProperties)&&(/diagram|DashboardLayout/.test(e.getModuleName())?x.setProperties(l.getProperties(),!0):x.setProperties(l.getProperties())),l.isUpdated=!0}(/grid/.test(e.getModuleName())&&S||e.getModuleName()==="chart")&&(r[n.name]=n.instance.getProperties(),e.setProperties(r,n.instance.isInitChanges))}}}},a.prototype.registerEvents=function(t){la(t,this)},a.prototype.twoWaySetter=function(t,e){var i=B(e,this.properties);i!==t&&(this.saveChanges(e,t,i),pe(e,h(t)?null:t,this.properties),B(e+"Change",this).emit(t))},a.prototype.addTwoWay=function(t){for(var e=this,i=function(l){B(l,s),Object.defineProperty(s,l,{get:function(){return B(l,e.properties)},set:function(c){return e.twoWaySetter(c,l)}}),pe(l+"Change",new Ui,s)},s=this,n=0,r=t;n<r.length;n++){var o=r[n];i(o)}},a.prototype.addEventListener=function(t,e){var i=B(t,this);oe(i)||(this.ngBoundedEvents["".concat(t)]||(this.ngBoundedEvents["".concat(t)]=new Map),this.ngBoundedEvents["".concat(t)].set(e,i.subscribe(e)))},a.prototype.removeEventListener=function(t,e){var i=B(t,this);oe(i)||this.ngBoundedEvents["".concat(t)].get(e).unsubscribe()},a.prototype.trigger=function(t,e,i){var s=B(t,this),n=this.isProtectedOnChange;this.isProtectedOnChange=!1,e&&(e.name=t),oe(s)||s.next(e);var r=B("local"+t.charAt(0).toUpperCase()+t.slice(1),this);oe(r)||r.call(this,e),this.isProtectedOnChange=n,i&&(this.preventChange=this.isPreventChange,i.call(this,e)),this.isPreventChange=!1},a}();var fl=function(){function a(){}return a.prototype.propagateChange=function(t){},a.prototype.propagateTouch=function(){},a.prototype.localChange=function(t){var e=t.checked===void 0?t.value:t.checked;if(this.objCheck=rs(e),this.isUpdated===!0&&(this.angularValue=this.oldValue),this.objCheck===!0)this.duplicateValue=JSON.stringify(e),this.duplicateAngularValue=JSON.stringify(this.angularValue),this.duplicateValue!==this.duplicateAngularValue&&this.propagateChange!==void 0&&e!==void 0&&(this.propagateChange(e),this.angularValue=e);else if(e!==this.angularValue&&this.propagateChange!==void 0&&e!==void 0)if(e!==""&&e!==null)this.propagateChange(e),this.angularValue=e;else{var i=e;this.propagateChange(i),this.angularValue=e}this.cdr.markForCheck()},a.prototype.registerOnChange=function(t){this.propagateChange=t},a.prototype.registerOnTouched=function(t){this.propagateTouch=t},a.prototype.twoWaySetter=function(t,e){var i=this.oldValue||B(e,this.properties),s=this.inputElement||this.element;s&&i===t&&this.value===t&&(s.value===void 0||s.value==="")||(this.saveChanges(e,t,i),pe(e,h(t)?null:t,this.properties),B(e+"Change",this).emit(t))},a.prototype.ngAfterViewInit=function(t){var e=t||this;if(e.ngOnBlurBound=this.ngOnBlur.bind(this),e.ngOnFocusBound=this.ngOnFocus.bind(this),typeof window<"u"){e.getModuleName().includes("dropdowntree")?setTimeout(function(){e.appendTo(e.element)}):e.appendTo(e.element);var i=e.inputElement||e.element;i.addEventListener("focus",e.ngOnFocusBound),i.addEventListener("blur",e.ngOnBlurBound)}this.isFormInit=!1},a.prototype.setDisabledState=function(t){this.enabled=!t,this.disabled=t},a.prototype.writeValue=function(t){var e=/ejs-radiobutton/g;this.checked===void 0?this.value=t:this.ngEle&&(typeof t=="boolean"?e.test(this.ngEle.nativeElement.outerHTML)?this.checked=t===this.value:this.checked=t:this.checked=t===this.value),this.angularValue=t,this.isUpdated=!0,this.preventChange=!this.isFormInit,this.cdr.markForCheck()},a.prototype.ngOnFocus=function(t){this.skipFromEvent!==!0&&this.focus.emit(t),this.cdr.markForCheck()},a.prototype.ngOnBlur=function(t){this.propagateTouch(),this.skipFromEvent!==!0&&this.blur.emit(t),this.cdr.markForCheck()},a.isFormBase=!0,a}();var ky=fu();function Ay(a,t){if(typeof a=="string"||typeof a=="function"&&a.prototype&&a.prototype.CSPTemplate)return ky(a,t);var e=a.elementRef.nativeElement._viewContainerRef,i=a.elementRef.nativeElement.propName;return function(s,n,r){var o={$implicit:s},l=e||n.viewContainerRef,c=l.createEmbeddedView(a,o);/EJS-MENTION|EJS-DROPDOWNLIST/.test(B("currentInstance.element.nodeName",l))||/E-TABITEM/.test(B("element.nativeElement.nodeName",l))?c.detectChanges():c.markForCheck();var d=n&&n.registeredTemplate?n.registeredTemplate:B("currentInstance.registeredTemplate",l);return r=r&&n.registeredTemplate?r:i,typeof d["".concat(r)]>"u"&&(d["".concat(r)]=[]),d["".concat(r)].push(c),c.rootNodes}}function vu(a){return function(t,e){var i={set:jy(e),get:Ry(e,a),enumerable:!0,configurable:!0};Object.defineProperty(t,e,i)}}function jy(a){return function(t){t!==void 0&&(pe(a+"Ref",t,this),typeof t!="string"?(t.elementRef.nativeElement._viewContainerRef=this.viewContainerRef,t.elementRef.nativeElement.propName=a):this.saveChanges&&(this.saveChanges(a,t,void 0),this.dataBind()))}}function Ry(a,t){return function(){return B(a+"Ref",this)||t}}uu({compile:Ay});function bu(a,t,e,i,s,n){var r=i;if(i.tagName===t){var o=B("ej2_instances",i);r=a("input",{attrs:{type:e}});for(var l=["change","cssClass","label","labelPosition","id"],c=0,d=i.attributes.length;c<d;c++)l.indexOf(i.attributes[c].nodeName)===-1&&r.setAttribute(i.attributes[c].nodeName,i.attributes[c].nodeValue);le(i,{class:s}),i.appendChild(r),i.classList.add(n),i.classList.remove(n),pe("ej2_instances",o,r),Hn(i,"ej2_instances")}return r}function zy(a){for(var t,e=a.childNodes,i=0;i<e.length;i++)if(t=e[i],t.nodeType===3)return t;return null}function Is(a,t){if(t){var e=document.createEvent("MouseEvents");e.initEvent(a.type,!1,!0),t.dispatchEvent(e)}}function Py(a,t){a.element.getAttribute("ejs-for")&&t.appendChild(a.createElement("input",{attrs:{name:a.name||a.element.name,value:"false",type:"hidden"}}))}var By=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),li=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n};var KE=new os,Gt={RTL:"e-rtl",BUTTON:"e-btn",PRIMARY:"e-primary",ICONBTN:"e-icon-btn"},Vt=function(a){By(t,a);function t(e,i){return a.call(this,e,i)||this}return t.prototype.preRender=function(){},t.prototype.render=function(){this.initialize(),this.removeRippleEffect=Mi(this.element,{selector:"."+Gt.BUTTON}),this.renderComplete()},t.prototype.initialize=function(){if(this.cssClass&&L([this.element],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.isPrimary&&this.element.classList.add(Gt.PRIMARY),!ie()||ie()&&this.getModuleName()!=="progress-btn"){if(this.content){var e=this.enableHtmlSanitizer?Be.sanitize(this.content):this.content;this.element.innerHTML=e}this.setIconCss()}this.enableRtl&&this.element.classList.add(Gt.RTL),this.disabled?this.controlStatus(this.disabled):this.wireEvents()},t.prototype.controlStatus=function(e){this.element.disabled=e},t.prototype.setIconCss=function(){if(this.iconCss){var e=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(e.classList.add("e-icon-"+this.iconPosition.toLowerCase()),(this.iconPosition==="Top"||this.iconPosition==="Bottom")&&this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add(Gt.ICONBTN);var i=this.element.childNodes[0];i&&(this.iconPosition==="Left"||this.iconPosition==="Top")?this.element.insertBefore(e,i):this.element.appendChild(e)}},t.prototype.wireEvents=function(){this.isToggle&&v.add(this.element,"click",this.btnClickHandler,this)},t.prototype.unWireEvents=function(){this.isToggle&&v.remove(this.element,"click",this.btnClickHandler)},t.prototype.btnClickHandler=function(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")},t.prototype.destroy=function(){var e=[Gt.PRIMARY,Gt.RTL,Gt.ICONBTN,"e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"];this.cssClass&&(e=e.concat(this.cssClass.split(" "))),a.prototype.destroy.call(this),k([this.element],e),this.element.getAttribute("class")||this.element.removeAttribute("class"),this.disabled&&this.element.removeAttribute("disabled"),this.content&&(this.element.innerHTML=this.element.innerHTML.replace(this.content,""));var i=this.element.querySelector("span.e-btn-icon");i&&N(i),this.unWireEvents(),Qi&&this.removeRippleEffect()},t.prototype.getModuleName=function(){return"btn"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.Inject=function(){},t.prototype.onPropertyChanged=function(e,i){for(var s=this.element.querySelector("span.e-btn-icon"),n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];switch(o){case"isPrimary":e.isPrimary?this.element.classList.add(Gt.PRIMARY):this.element.classList.remove(Gt.PRIMARY);break;case"disabled":this.controlStatus(e.disabled);break;case"iconCss":{s=this.element.querySelector("span.e-btn-icon"),s?e.iconCss?(s.className="e-btn-icon "+e.iconCss,this.element.textContent.trim()&&(this.iconPosition==="Left"?s.classList.add("e-icon-left"):s.classList.add("e-icon-right"))):N(s):this.setIconCss();break}case"iconPosition":k([this.element],["e-top-icon-btn","e-bottom-icon-btn"]),s=this.element.querySelector("span.e-btn-icon"),s&&N(s),this.setIconCss();break;case"cssClass":i.cssClass&&k([this.element],i.cssClass.split(" ")),e.cssClass&&L([this.element],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":e.enableRtl?this.element.classList.add(Gt.RTL):this.element.classList.remove(Gt.RTL);break;case"content":{var l=zy(this.element);l||this.element.classList.remove(Gt.ICONBTN),(!ie()||ie()&&!this.isServerRendered&&this.getModuleName()!=="progress-btn")&&(this.enableHtmlSanitizer&&(e.content=Be.sanitize(e.content)),this.element.innerHTML=e.content,this.setIconCss());break}case"isToggle":e.isToggle?v.add(this.element,"click",this.btnClickHandler,this):(v.remove(this.element,"click",this.btnClickHandler),k([this.element],["e-active"]));break}}},t.prototype.click=function(){this.element.click()},t.prototype.focusIn=function(){this.element.focus()},li([y("Left")],t.prototype,"iconPosition",void 0),li([y("")],t.prototype,"iconCss",void 0),li([y(!1)],t.prototype,"disabled",void 0),li([y(!1)],t.prototype,"isPrimary",void 0),li([y("")],t.prototype,"cssClass",void 0),li([y("")],t.prototype,"content",void 0),li([y(!1)],t.prototype,"isToggle",void 0),li([y()],t.prototype,"locale",void 0),li([y(!0)],t.prototype,"enableHtmlSanitizer",void 0),li([z()],t.prototype,"created",void 0),t=li([ke],t),t}(Ge),Hy=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ut=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},ml="e-check",yu="e-checkbox-disabled",Fn="e-frame",gl="e-stop",vl="e-label",Un="e-ripple-container",yl="e-ripple-check",bl="e-ripple-stop",Cl="e-rtl",Ml="e-checkbox-wrapper",Fy=["title","class","style","disabled","readonly","name","value","id","tabindex"],Nl=function(a){Hy(t,a);function t(e,i){var s=a.call(this,e,i)||this;return s.isFocused=!1,s.isMouseClick=!1,s.clickTriggered=!1,s.validCheck=!0,s}return t.prototype.changeState=function(e,i){var s=this.getWrapper(),n=null,r=null;s&&(r=s.getElementsByClassName(Fn)[0],Qi&&(n=s.getElementsByClassName(Un)[0])),e==="check"?(r&&(r.classList.remove(gl),r.classList.add(ml)),n&&(n.classList.remove(bl),n.classList.add(yl)),this.element.checked=!0,(this.element.required||M(this.element,"form")&&M(this.element,"form").classList.contains("e-formvalidator"))&&this.validCheck&&!i?(this.element.checked=!1,this.validCheck=!1):(this.element.required||M(this.element,"form")&&M(this.element,"form").classList.contains("e-formvalidator"))&&(this.validCheck=!0)):e==="uncheck"?(r&&k([r],[ml,gl]),n&&k([n],[yl,bl]),this.element.checked=!1,(this.element.required||M(this.element,"form")&&M(this.element,"form").classList.contains("e-formvalidator"))&&this.validCheck&&!i?(this.element.checked=!0,this.validCheck=!1):(this.element.required||M(this.element,"form")&&M(this.element,"form").classList.contains("e-formvalidator"))&&(this.validCheck=!0)):(r&&(r.classList.remove(ml),r.classList.add(gl)),n&&(n.classList.remove(yl),n.classList.add(bl)),this.element.indeterminate=!0,this.indeterminate=!0)},t.prototype.clickHandler=function(e){if(e.target.tagName==="INPUT"&&this.clickTriggered){this.isVue&&this.changeState(this.checked?"check":"uncheck"),this.clickTriggered=!1;return}(e.target.tagName==="SPAN"||e.target.tagName==="LABEL"||M(e.target,".e-label"))&&(this.clickTriggered=!0),this.isMouseClick&&(this.focusOutHandler(),this.isMouseClick=!1),this.indeterminate?(this.changeState(this.checked?"check":"uncheck"),this.indeterminate=!1,this.element.indeterminate=!1):this.checked?(this.changeState("uncheck"),this.checked=!1):(this.changeState("check"),this.checked=!0);var i={checked:this.updateVueArrayModel(!1),event:e};this.trigger("change",i),e.stopPropagation()},t.prototype.destroy=function(){var e=this,i=this.getWrapper();a.prototype.destroy.call(this),this.wrapper&&(i=this.wrapper,this.disabled||this.unWireEvents(),this.tagName==="INPUT"?(this.getWrapper()&&i.parentNode&&i.parentNode.insertBefore(this.element,i),N(i),this.element.checked=!1,this.indeterminate&&(this.element.indeterminate=!1),["name","value","disabled"].forEach(function(s){e.element.removeAttribute(s)})):(["class"].forEach(function(s){i.removeAttribute(s)}),i.innerHTML="",this.element=i,this.refreshing&&(["e-control","e-checkbox","e-lib"].forEach(function(s){e.element.classList.add(s)}),pe("ej2_instances",[this],this.element))))},t.prototype.focusHandler=function(){this.isFocused=!0},t.prototype.focusOutHandler=function(){var e=this.getWrapper();e&&e.classList.remove("e-focus"),this.isFocused=!1},t.prototype.getModuleName=function(){return"checkbox"},t.prototype.getPersistData=function(){return this.addOnPersist(["checked","indeterminate"])},t.prototype.getWrapper=function(){return this.element&&this.element.parentElement?this.element.parentElement.parentElement:null},t.prototype.getLabel=function(){return this.element?this.element.parentElement:null},t.prototype.initialize=function(){h(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.name&&this.element.setAttribute("name",this.name),this.value&&(this.element.setAttribute("value",this.value),this.isVue&&typeof this.value=="boolean"&&this.value===!0&&this.setProperties({checked:!0},!0)),this.checked&&this.changeState("check",!0),this.indeterminate&&this.changeState(),this.disabled&&this.setDisabled()},t.prototype.initWrapper=function(){var e=this.element.parentElement;e.classList.contains(Ml)||(e=this.createElement("div",{className:Ml}),this.element.parentNode&&this.element.parentNode.insertBefore(e,this.element));var i=this.createElement("label",{attrs:{for:this.element.id}}),s=this.createElement("span",{className:"e-icons "+Fn});if(e.classList.add("e-wrapper"),this.enableRtl&&e.classList.add(Cl),this.cssClass&&L([e],this.cssClass.replace(/\s+/g," ").trim().split(" ")),e.appendChild(i),i.appendChild(this.element),Py(this,i),i.appendChild(s),Qi){var n=this.createElement("span",{className:Un});this.labelPosition==="Before"?i.appendChild(n):i.insertBefore(n,s),Mi(n,{duration:400,isCenterRipple:!0})}this.label&&this.setText(this.label)},t.prototype.keyUpHandler=function(){this.isFocused&&this.getWrapper().classList.add("e-focus")},t.prototype.labelMouseDownHandler=function(e){this.isMouseClick=!0;var i=this.getWrapper().getElementsByClassName(Un)[0];Is(e,i)},t.prototype.labelMouseLeaveHandler=function(e){var i=this.getLabel().getElementsByClassName(Un)[0];if(i){for(var s=i.querySelectorAll(".e-ripple-element"),n=s.length-1;n>0;n--)i.removeChild(i.childNodes[n]);Is(e,i)}},t.prototype.labelMouseUpHandler=function(e){this.isMouseClick=!0;var i=this.getWrapper().getElementsByClassName(Un)[0];if(i){for(var s=i.querySelectorAll(".e-ripple-element"),n=0;n<s.length-1;n++)i.removeChild(i.childNodes[n]);Is(e,i)}},t.prototype.onPropertyChanged=function(e,i){for(var s=this.getWrapper(),n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];switch(o){case"checked":this.indeterminate=!1,this.element.indeterminate=!1,this.changeState(e.checked?"check":"uncheck");break;case"indeterminate":e.indeterminate?this.changeState():(this.element.indeterminate=!1,this.changeState(this.checked?"check":"uncheck"));break;case"disabled":e.disabled?(this.setDisabled(),this.wrapper=this.getWrapper(),this.unWireEvents()):(this.element.disabled=!1,s.classList.remove(yu),s.setAttribute("aria-disabled","false"),this.wireEvents());break;case"cssClass":i.cssClass&&k([s],i.cssClass.split(" ")),e.cssClass&&L([s],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":e.enableRtl?s.classList.add(Cl):s.classList.remove(Cl);break;case"label":this.setText(e.label);break;case"labelPosition":{var l=s.getElementsByClassName(vl)[0],c=s.getElementsByTagName("label")[0];N(l),e.labelPosition==="After"?c.appendChild(l):c.insertBefore(l,s.getElementsByClassName(Fn)[0]);break}case"name":this.element.setAttribute("name",e.name);break;case"value":if(this.isVue&&typeof e.value=="object")break;this.element.setAttribute("value",e.value);break;case"htmlAttributes":this.updateHtmlAttributeToWrapper();break}}},t.prototype.preRender=function(){var e=this.element;this.tagName=this.element.tagName,e=bu(this.createElement,"EJS-CHECKBOX","checkbox",e,Ml,"checkbox"),this.element=e,this.element.getAttribute("type")!=="checkbox"&&this.element.setAttribute("type","checkbox"),this.element.id||(this.element.id=Ae("e-"+this.getModuleName()))},t.prototype.render=function(){this.initWrapper(),this.initialize(),this.disabled||this.wireEvents(),this.updateHtmlAttributeToWrapper(),this.updateVueArrayModel(!0),this.renderComplete(),this.wrapper=this.getWrapper()},t.prototype.setDisabled=function(){var e=this.getWrapper();this.element.disabled=!0,e.classList.add(yu),e.setAttribute("aria-disabled","true")},t.prototype.setText=function(e){var i=this.getWrapper();if(i){var s=i.getElementsByClassName(vl)[0];if(s)s.innerHTML=this.enableHtmlSanitizer?Be.sanitize(e):e;else{e=this.enableHtmlSanitizer?Be.sanitize(e):e,s=this.createElement("span",{className:vl,innerHTML:e});var n=i.getElementsByTagName("label")[0];this.labelPosition==="Before"?n.insertBefore(s,i.getElementsByClassName(Fn)[0]):n.appendChild(s)}}},t.prototype.changeHandler=function(e){e.stopPropagation()},t.prototype.formResetHandler=function(){this.checked=this.initialCheckedValue,this.element.checked=this.initialCheckedValue},t.prototype.unWireEvents=function(){var e=this.wrapper;e&&(v.remove(e,"click",this.clickHandler),v.remove(this.element,"keyup",this.keyUpHandler),v.remove(this.element,"focus",this.focusHandler),v.remove(this.element,"focusout",this.focusOutHandler));var i=e.getElementsByTagName("label")[0];i&&(v.remove(i,"mousedown",this.labelMouseDownHandler),v.remove(i,"mouseup",this.labelMouseUpHandler),v.remove(i,"mouseleave",this.labelMouseLeaveHandler));var s=M(this.element,"form");s&&v.remove(s,"reset",this.formResetHandler),this.tagName==="EJS-CHECKBOX"&&v.remove(this.element,"change",this.changeHandler)},t.prototype.wireEvents=function(){var e=this.getWrapper();v.add(e,"click",this.clickHandler,this),v.add(this.element,"keyup",this.keyUpHandler,this),v.add(this.element,"focus",this.focusHandler,this),v.add(this.element,"focusout",this.focusOutHandler,this);var i=e.getElementsByTagName("label")[0];v.add(i,"mousedown",this.labelMouseDownHandler,this),v.add(i,"mouseup",this.labelMouseUpHandler,this),v.add(i,"mouseleave",this.labelMouseLeaveHandler,this);var s=M(this.element,"form");s&&v.add(s,"reset",this.formResetHandler,this),this.tagName==="EJS-CHECKBOX"&&v.add(this.element,"change",this.changeHandler,this)},t.prototype.updateVueArrayModel=function(e){if(this.isVue&&typeof this.value=="object"){var i=this.element.value;if(i&&this.value)if(e)for(var s=0;s<this.value.length;s++)i===this.value[s]&&(this.changeState("check"),this.setProperties({checked:!0},!0));else{var n=this.value.indexOf(i);return this.checked?n<0&&this.value.push(i):n>-1&&this.value.splice(n,1),this.value}}return this.validCheck?this.element.checked:!this.element.checked},t.prototype.updateHtmlAttributeToWrapper=function(){if(!h(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var s=i[e],n=this.getWrapper();if(Fy.indexOf(s)>-1)if(s==="class")L([n],this.htmlAttributes[""+s].split(" "));else if(s==="title")n.setAttribute(s,this.htmlAttributes[""+s]);else if(s==="style"){var r=this.getWrapper().getElementsByClassName(Fn)[0];r.setAttribute(s,this.htmlAttributes[""+s])}else s==="disabled"?(this.htmlAttributes[""+s]==="true"&&this.setDisabled(),this.element.setAttribute(s,this.htmlAttributes[""+s])):this.element.setAttribute(s,this.htmlAttributes[""+s]);else n.setAttribute(s,this.htmlAttributes[""+s])}},t.prototype.click=function(){this.element.click()},t.prototype.focusIn=function(){this.element.focus()},Ut([z()],t.prototype,"change",void 0),Ut([z()],t.prototype,"created",void 0),Ut([y(!1)],t.prototype,"checked",void 0),Ut([y("")],t.prototype,"cssClass",void 0),Ut([y(!1)],t.prototype,"disabled",void 0),Ut([y(!1)],t.prototype,"indeterminate",void 0),Ut([y("")],t.prototype,"label",void 0),Ut([y("After")],t.prototype,"labelPosition",void 0),Ut([y("")],t.prototype,"name",void 0),Ut([y("")],t.prototype,"value",void 0),Ut([y(!0)],t.prototype,"enableHtmlSanitizer",void 0),Ut([y({})],t.prototype,"htmlAttributes",void 0),t=Ut([ke],t),t}(Ge),Uy=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xt=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},Sl="e-label",ca="e-ripple-container",El="e-rtl",Tl="e-radio-wrapper",Vy=["title","class","style","disabled","readonly","name","value","id"],nn=function(a){Uy(t,a);function t(i,s){var n=a.call(this,i,s)||this;return n.isFocused=!1,n}e=t,t.prototype.changeHandler=function(i){this.checked=!0,this.dataBind();var s=this.element.getAttribute("value");s=this.isVue&&s?this.element.value:this.value;var n=typeof this.value;this.isVue&&n==="boolean"&&(s=s==="true"),this.trigger("change",{value:s,event:i}),this.isAngular&&i.stopPropagation()},t.prototype.updateChange=function(){for(var i,s,n=this.getRadioGroup(),r=0;r<n.length;r++)i=n[r],i!==this.element&&(s=xt(i,e),s.checked=!1,this.tagName==="EJS-RADIOBUTTON"&&(s.angularValue=this.value))},t.prototype.destroy=function(){var i=this,s=this.wrapper;a.prototype.destroy.call(this),s&&(this.disabled||this.unWireEvents(),this.tagName==="INPUT"?(s.parentNode&&s.parentNode.insertBefore(this.element,s),N(s),this.element.checked=!1,["name","value","disabled"].forEach(function(n){i.element.removeAttribute(n)})):(["role","aria-checked","class"].forEach(function(n){s.removeAttribute(n)}),s.innerHTML="",this.element=this.wrapper,this.refreshing&&(["e-control","e-radio","e-lib"].forEach(function(n){i.element.classList.add(n)}),pe("ej2_instances",[this],this.element))))},t.prototype.focusHandler=function(){this.isFocused=!0},t.prototype.focusOutHandler=function(){var i=this.getLabel();i&&i.classList.remove("e-focus")},t.prototype.getModuleName=function(){return"radio"},t.prototype.getSelectedValue=function(){for(var i,s=this.getRadioGroup(),n=0,r=s.length;n<r;n++)if(i=s[n],i.checked)return i.value;return""},t.prototype.getRadioGroup=function(){return document.querySelectorAll('input.e-radio[name="'+this.element.getAttribute("name")+'"]')},t.prototype.getPersistData=function(){return this.addOnPersist(["checked"])},t.prototype.getWrapper=function(){return this.element.parentElement?this.element.parentElement:null},t.prototype.getLabel=function(){return this.element.nextElementSibling?this.element.nextElementSibling:null},t.prototype.initialize=function(){h(this.initialCheckedValue)&&(this.initialCheckedValue=this.checked),this.initWrapper(),this.updateHtmlAttribute(),this.name&&this.element.setAttribute("name",this.name);var i=this.element.getAttribute("value"),s=typeof this.value;this.isVue&&s==="boolean"&&(i=i==="true"),(this.isVue?this.value&&s!=="boolean"&&!i:this.value)&&this.element.setAttribute("value",this.value),this.checked&&(this.element.checked=!0),this.disabled&&this.setDisabled()},t.prototype.initWrapper=function(){var i,s=this.element.parentElement;s.classList.contains(Tl)||(s=this.createElement("div",{className:Tl}),this.element.parentNode&&this.element.parentNode.insertBefore(s,this.element));var n=this.createElement("label",{attrs:{for:this.element.id}});s.appendChild(this.element),s.appendChild(n),Qi&&(i=this.createElement("span",{className:ca}),n.appendChild(i),Mi(i,{duration:400,isCenterRipple:!0})),s.classList.add("e-wrapper"),this.enableRtl&&n.classList.add(El),this.cssClass&&L([s],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.label&&this.setText(this.label)},t.prototype.keyUpHandler=function(){this.isFocused&&this.getLabel().classList.add("e-focus")},t.prototype.labelMouseDownHandler=function(i){var s=this.getLabel().getElementsByClassName(ca)[0];Is(i,s)},t.prototype.labelMouseLeaveHandler=function(i){var s=this.getLabel().getElementsByClassName(ca)[0];if(s){for(var n=s.querySelectorAll(".e-ripple-element"),r=n.length-1;r>0;r--)s.removeChild(s.childNodes[r]);Is(i,s)}},t.prototype.labelMouseUpHandler=function(i){var s=this.getLabel().getElementsByClassName(ca)[0];if(s){for(var n=s.querySelectorAll(".e-ripple-element"),r=n.length-1;r>0;r--)s.removeChild(s.childNodes[r]);Is(i,s)}},t.prototype.formResetHandler=function(){this.checked=this.initialCheckedValue,this.initialCheckedValue&&le(this.element,{checked:"true"})},t.prototype.onPropertyChanged=function(i,s){for(var n=this.getWrapper(),r=this.getLabel(),o=0,l=Object.keys(i);o<l.length;o++){var c=l[o];switch(c){case"checked":i.checked&&this.updateChange(),this.element.checked=i.checked;break;case"disabled":i.disabled?(this.setDisabled(),this.unWireEvents()):(this.element.disabled=!1,this.wireEvents());break;case"cssClass":s.cssClass&&k([n],s.cssClass.split(" ")),i.cssClass&&L([n],i.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":i.enableRtl?r.classList.add(El):r.classList.remove(El);break;case"label":this.setText(i.label);break;case"labelPosition":i.labelPosition==="Before"?r.classList.add("e-right"):r.classList.remove("e-right");break;case"name":this.element.setAttribute("name",i.name);break;case"value":var d=typeof this.htmlAttributes.value;if(!h(this.htmlAttributes)&&(this.htmlAttributes.value||d==="boolean"&&!this.htmlAttributes.value))break;this.element.setAttribute("value",i.value);break;case"htmlAttributes":this.updateHtmlAttribute();break}}},t.prototype.preRender=function(){var i=this.element;if(this.formElement=M(this.element,"form"),this.tagName=this.element.tagName,i=bu(this.createElement,"EJS-RADIOBUTTON","radio",i,Tl,"radio"),this.element=i,this.element.getAttribute("type")!=="radio"&&this.element.setAttribute("type","radio"),this.element.id||(this.element.id=Ae("e-"+this.getModuleName())),this.tagName==="EJS-RADIOBUTTON"){var s=this.element.getAttribute("formcontrolname");s&&(this.setProperties({name:s},!0),this.element.setAttribute("name",s))}},t.prototype.render=function(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete(),this.wrapper=this.getWrapper()},t.prototype.setDisabled=function(){this.element.disabled=!0},t.prototype.setText=function(i){var s=this.getLabel(),n=s.getElementsByClassName(Sl)[0];n?n.textContent=i:(i=this.enableHtmlSanitizer?Be.sanitize(i):i,n=this.createElement("span",{className:Sl,innerHTML:i}),s.appendChild(n)),this.labelPosition==="Before"?this.getLabel().classList.add("e-right"):this.getLabel().classList.remove("e-right")},t.prototype.updateHtmlAttribute=function(){if(!h(this.htmlAttributes))for(var i=0,s=Object.keys(this.htmlAttributes);i<s.length;i++){var n=s[i],r=this.element.parentElement;Vy.indexOf(n)>-1?n==="class"?L([r],this.htmlAttributes[""+n].replace(/\s+/g," ").trim().split(" ")):n==="title"||n==="style"?r.setAttribute(n,this.htmlAttributes[""+n]):this.element.setAttribute(n,this.htmlAttributes[""+n]):r.setAttribute(n,this.htmlAttributes[""+n])}},t.prototype.unWireEvents=function(){var i=this.wrapper;v.remove(this.element,"change",this.changeHandler),v.remove(this.element,"focus",this.focusHandler),v.remove(this.element,"focusout",this.focusOutHandler),v.remove(this.element,"keyup",this.keyUpHandler);var s=i.getElementsByTagName("label")[0];s&&(v.remove(s,"mousedown",this.labelMouseDownHandler),v.remove(s,"mouseup",this.labelMouseUpHandler),v.remove(s,"mouseleave",this.labelMouseLeaveHandler)),this.formElement&&v.remove(this.formElement,"reset",this.formResetHandler)},t.prototype.wireEvents=function(){var i=this.getLabel();v.add(this.element,"change",this.changeHandler,this),v.add(this.element,"keyup",this.keyUpHandler,this),v.add(this.element,"focus",this.focusHandler,this),v.add(this.element,"focusout",this.focusOutHandler,this);var s=i.getElementsByClassName(Sl)[0];s&&(v.add(s,"mousedown",this.labelMouseDownHandler,this),v.add(s,"mouseup",this.labelMouseUpHandler,this),v.add(s,"mouseleave",this.labelMouseLeaveHandler,this)),this.formElement&&v.add(this.formElement,"reset",this.formResetHandler,this)},t.prototype.click=function(){this.element.click()},t.prototype.focusIn=function(){this.element.focus()};var e;return Xt([z()],t.prototype,"change",void 0),Xt([z()],t.prototype,"created",void 0),Xt([y(!1)],t.prototype,"checked",void 0),Xt([y("")],t.prototype,"cssClass",void 0),Xt([y(!1)],t.prototype,"disabled",void 0),Xt([y("")],t.prototype,"label",void 0),Xt([y("After")],t.prototype,"labelPosition",void 0),Xt([y("")],t.prototype,"name",void 0),Xt([y("")],t.prototype,"value",void 0),Xt([y(!0)],t.prototype,"enableHtmlSanitizer",void 0),Xt([y({})],t.prototype,"htmlAttributes",void 0),t=e=Xt([ke],t),t}(Ge);var Ii,Ds,Xi,Qn,Jl=!1;function qy(a,t){var e=!1,i={left:0,top:0},s=a;if(!a||!t)return i;for(h(t.offsetParent)&&t.style.position==="fixed"&&(e=!0);(t.offsetParent||e)&&a&&t.offsetParent!==a;)i.left+=a.offsetLeft,i.top+=a.offsetTop,a=a.offsetParent;for(a=s;(t.offsetParent||e)&&a&&t.offsetParent!==a;)i.left-=a.scrollLeft,i.top-=a.scrollTop,a=a.parentElement;return i}function Et(a,t,e,i,s){if(Ds=void 0,Ds=s,Jl=!!i,!a)return{left:0,top:0};t||(t="left"),e||(e="top"),Qn=a.ownerDocument,Xi=a;var n={left:0,top:0};return _y(t.toLowerCase(),e.toLowerCase(),n)}function Yi(a,t){t.left=a}function Gi(a,t){t.top=a}function _y(a,t,e){switch(Ii=Xi.getBoundingClientRect(),t+a){case"topcenter":Yi(wl(),e),Gi(va(),e);break;case"topright":Yi(Ll(),e),Gi(va(),e);break;case"centercenter":Yi(wl(),e),Gi(Dl(),e);break;case"centerright":Yi(Ll(),e),Gi(Dl(),e);break;case"centerleft":Yi(ya(),e),Gi(Dl(),e);break;case"bottomcenter":Yi(wl(),e),Gi(Il(),e);break;case"bottomright":Yi(Ll(),e),Gi(Il(),e);break;case"bottomleft":Yi(ya(),e),Gi(Il(),e);break;default:case"topleft":Yi(ya(),e),Gi(va(),e);break}return Xi=null,e}function sf(){return Qn.documentElement.scrollTop||Qn.body.scrollTop}function nf(){return Qn.documentElement.scrollLeft||Qn.body.scrollLeft}function Il(){return Jl?Ii.bottom:Ii.bottom+sf()}function Dl(){return va()+Ii.height/2}function va(){return Jl?Ii.top:Ii.top+sf()}function ya(){return Ii.left+nf()}function Ll(){var a=Xi&&(Xi.classList.contains("e-date-wrapper")||Xi.classList.contains("e-datetime-wrapper")||Xi.classList.contains("e-ddl")&&Xi.classList.contains("e-rtl")||Xi.classList.contains("e-date-range-wrapper"))?Ds?Ds.width:0:Ds&&Ii.width>=Ds.width?Ds.width:0;return Ii.right+nf()-a}function wl(){return ya()+Ii.width/2}var ds,At;function Zl(a,t,e,i){if(t===void 0&&(t=null),e===void 0&&(e={X:!1,Y:!1}),!e.Y&&!e.X)return{left:0,top:0};var s=a.getBoundingClientRect();if(At=t,ds=a.ownerDocument,i||(i=Et(a,"left","top")),e.X){var n=At?cf():mf(),r=ih(),o=sh(),l=r-i.left,c=i.left+s.width-o;s.width>n?l>0&&c<=0?i.left=o-s.width:c>0&&l<=0?i.left=r:i.left=l>c?o-s.width:r:l>0?i.left+=l:c>0&&(i.left-=c)}if(e.Y){var d=At?df():ff(),p=th(),u=nh(),f=p-i.top,m=i.top+s.height-u;s.height>d?f>0&&m<=0?i.top=u-s.height:m>0&&f<=0?i.top=p:i.top=f>m?u-s.height:p:f>0?i.top+=f:m>0&&(i.top-=m)}return i}function us(a,t,e,i){t===void 0&&(t=null);var s=Et(a,"left","top");e&&(s.left=e),i&&(s.top=i);var n=[];At=t,ds=a.ownerDocument;var r=a.getBoundingClientRect(),o=s.top,l=s.left,c=s.left+r.width,d=s.top+r.height,p=hf(o,d),u=af(l,c);return p.topSide&&n.push("top"),u.rightSide&&n.push("right"),u.leftSide&&n.push("left"),p.bottomSide&&n.push("bottom"),n}function Wy(a,t,e,i,s,n,r,o,l){if(r===void 0&&(r=null),o===void 0&&(o={X:!0,Y:!0}),!(!t||!a||!s||!n||!o.X&&!o.Y)){var c={TL:null,TR:null,BL:null,BR:null},d={TL:null,TR:null,BL:null,BR:null},p;if(window.getComputedStyle(a).display==="none"){var u=a.style.visibility;a.style.visibility="hidden",a.style.display="block",p=a.getBoundingClientRect(),a.style.removeProperty("display"),a.style.visibility=u}else p=a.getBoundingClientRect();var f={posX:s,posY:n,offsetX:e,offsetY:i,position:{left:0,top:0}};At=r,ds=t.ownerDocument,Yy(t,c,f,l,p),eh(d,f,p),o.X&&of(t,d,c,f,p,!0),o.Y&&c.TL.top>-1&&lf(t,d,c,f,p,!0),Qy(a,f,p)}}function Qy(a,t,e){var i=0,s=0;if(a.offsetParent!=null&&(getComputedStyle(a.offsetParent).position==="absolute"||getComputedStyle(a.offsetParent).position==="relative")){var n=Et(a.offsetParent,"left","top",!1,e);i=n.left,s=n.top}var r=1,o=1,l=rf(a);if(l){var c=getComputedStyle(l).transform;if(c!=="none"){var d=new DOMMatrix(c);r=d.a,o=d.d}}a.style.top=t.position.top/o+t.offsetY-s/o+"px",a.style.left=t.position.left/r+t.offsetX-i/r+"px"}function rf(a){for(;a;){var t=window.getComputedStyle(a).transform;if(t&&t!=="none")return a;if(a==document.body)return null;a=a.offsetParent||a.parentElement}return null}function Yy(a,t,e,i,s){e.position=Et(a,e.posX,e.posY,i,s),t.TL=Et(a,"left","top",i,s),t.TR=Et(a,"right","top",i,s),t.BR=Et(a,"left","bottom",i,s),t.BL=Et(a,"right","bottom",i,s)}function eh(a,t,e){a.TL={top:t.position.top+t.offsetY,left:t.position.left+t.offsetX},a.TR={top:a.TL.top,left:a.TL.left+e.width},a.BL={top:a.TL.top+e.height,left:a.TL.left},a.BR={top:a.TL.top+e.height,left:a.TL.left+e.width}}function af(a,t){var e=!1,i=!1;return a-Ma()<ih()&&(e=!0),t>sh()&&(i=!0),{leftSide:e,rightSide:i}}function of(a,t,e,i,s,n){var r=af(t.TL.left,t.TR.left);e.TL.left-Ma()<=ih()&&(r.leftSide=!1),e.TR.left>sh()&&(r.rightSide=!1),(r.leftSide&&!r.rightSide||!r.leftSide&&r.rightSide)&&(i.posX==="right"?i.posX="left":i.posX="right",i.offsetX=i.offsetX+s.width,i.offsetX=-1*i.offsetX,i.position=Et(a,i.posX,i.posY,!1),eh(t,i,s),n&&of(a,t,e,i,s,!1))}function lf(a,t,e,i,s,n){var r=hf(t.TL.top,t.BL.top);e.TL.top-Ca()<=th()&&(r.topSide=!1),e.BL.top>=nh()&&a.getBoundingClientRect().bottom<window.innerHeight&&(r.bottomSide=!1),(r.topSide&&!r.bottomSide||!r.topSide&&r.bottomSide)&&(i.posY==="top"?i.posY="bottom":i.posY="top",i.offsetY=i.offsetY+s.height,i.offsetY=-1*i.offsetY,i.position=Et(a,i.posX,i.posY,!1,s),eh(t,i,s),n&&lf(a,t,e,i,s,!1))}function hf(a,t){var e=!1,i=!1;return a-Ca()<th()&&(e=!0),t>nh()&&(i=!0),{topSide:e,bottomSide:i}}function cf(){return At.getBoundingClientRect().width}function df(){return At.getBoundingClientRect().height}function pf(){return At.getBoundingClientRect().left}function uf(){return At.getBoundingClientRect().top}function th(){return At?uf():0}function ih(){return At?pf():0}function sh(){return At?Ma()+pf()+cf():Ma()+mf()}function nh(){return At?Ca()+uf()+df():Ca()+ff()}function Ca(){return ds.documentElement.scrollTop||ds.body.scrollTop}function Ma(){return ds.documentElement.scrollLeft||ds.body.scrollLeft}function ff(){return window.innerHeight}function mf(){var a=window.innerWidth,t=document.documentElement.getBoundingClientRect(),e=h(document.documentElement)?0:t.width;return a-(a-e)}function gf(){At=null,ds=null}var vf=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),it=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},yf=function(a){vf(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return it([y("left")],t.prototype,"X",void 0),it([y("top")],t.prototype,"Y",void 0),t}(ge),ct={ROOT:"e-popup",RTL:"e-rtl",OPEN:"e-popup-open",CLOSE:"e-popup-close"},jt=function(a){vf(t,a);function t(e,i){return a.call(this,i,e)||this}return t.prototype.onPropertyChanged=function(e,i){for(var s=0,n=Object.keys(e);s<n.length;s++){var r=n[s];switch(r){case"width":se(this.element,{width:X(e.width)});break;case"height":se(this.element,{height:X(e.height)});break;case"zIndex":se(this.element,{zIndex:e.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":{var o=e.offsetX-i.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+o).toString()+"px";break}case"offsetY":{var l=e.offsetY-i.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+l).toString()+"px";break}case"content":this.setContent();break;case"actionOnScroll":e.actionOnScroll!=="none"?this.wireScrollEvents():this.unwireScrollEvents();break}}},t.prototype.getModuleName=function(){return"popup"},t.prototype.resolveCollision=function(){this.checkCollision()},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.destroy=function(){this.element.classList.contains("e-popup-open")&&this.unwireEvents(),this.element.classList.remove(ct.ROOT,ct.RTL,ct.OPEN,ct.CLOSE),this.content=null,this.relateTo=null,gf(),a.prototype.destroy.call(this)},t.prototype.render=function(){this.element.classList.add(ct.ROOT);var e={};this.zIndex!==1e3&&(e.zIndex=this.zIndex),this.width!=="auto"&&(e.width=X(this.width)),this.height!=="auto"&&(e.height=X(this.height)),se(this.element,e),this.fixedParent=!1,this.setEnableRtl(),this.setContent()},t.prototype.wireEvents=function(){E.isDevice&&v.add(window,"orientationchange",this.orientationOnChange,this),this.actionOnScroll!=="none"&&this.wireScrollEvents()},t.prototype.wireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,i=this.getScrollableParent(this.getRelateToElement());e<i.length;e++){var s=i[e];v.add(s,"scroll",this.scrollRefresh,this)}},t.prototype.unwireEvents=function(){E.isDevice&&v.remove(window,"orientationchange",this.orientationOnChange),this.actionOnScroll!=="none"&&this.unwireScrollEvents()},t.prototype.unwireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,i=this.getScrollableParent(this.getRelateToElement());e<i.length;e++){var s=i[e];v.remove(s,"scroll",this.scrollRefresh)}},t.prototype.getRelateToElement=function(){var e=this.relateTo===""||h(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:e},!0),typeof this.relateTo=="string"?document.querySelector(this.relateTo):this.relateTo},t.prototype.scrollRefresh=function(e){if(this.actionOnScroll==="reposition"?!h(this.element)&&!(this.element.offsetParent===e.target||this.element.offsetParent&&this.element.offsetParent.tagName==="BODY"&&e.target.parentElement==null)&&this.refreshPosition():this.actionOnScroll==="hide"&&this.hide(),this.actionOnScroll!=="none"&&this.getRelateToElement()){var i=this.isElementOnViewport(this.getRelateToElement(),e.target);!i&&!this.targetInvisibleStatus?(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0):i&&(this.targetInvisibleStatus=!1)}},t.prototype.isElementOnViewport=function(e,i){for(var s=this.getScrollableParent(e),n=0;n<s.length;n++)if(!this.isElementVisible(e,s[n]))return!1;return!0},t.prototype.isElementVisible=function(e,i){var s=this.checkGetBoundingClientRect(e);if(!s.height||!s.width)return!1;if(h(this.checkGetBoundingClientRect(i))){var r=window,o={top:r.scrollY,left:r.scrollX,right:r.scrollX+r.outerWidth,bottom:r.scrollY+r.outerHeight},l=Et(e),c={top:l.top,left:l.left,right:l.left+s.width,bottom:l.top+s.height},d={top:o.bottom-c.top,left:o.right-c.left,bottom:c.bottom-o.top,right:c.right-o.left};return d.top>0&&d.left>0&&d.right>0&&d.bottom>0}else{var n=i.getBoundingClientRect();return!(s.bottom<n.top)&&!(s.bottom>n.bottom)&&!(s.right>n.right)&&!(s.left<n.left)}},t.prototype.preRender=function(){},t.prototype.setEnableRtl=function(){this.reposition(),this.enableRtl?this.element.classList.add(ct.RTL):this.element.classList.remove(ct.RTL)},t.prototype.setContent=function(){if(!h(this.content))if(this.element.innerHTML="",typeof this.content=="string")this.element.textContent=this.content;else{var e=this.getRelateToElement(),i=this.content.props;(!e.classList.contains("e-dropdown-btn")||h(i))&&this.element.appendChild(this.content)}},t.prototype.orientationOnChange=function(){var e=this;setTimeout(function(){e.refreshPosition()},200)},t.prototype.refreshPosition=function(e,i){h(e)||this.checkFixedParent(e),this.reposition(),i||this.checkCollision()},t.prototype.reposition=function(){var e,i,s=this.getRelateToElement();if(typeof this.position.X=="number"&&typeof this.position.Y=="number")e={left:this.position.X,top:this.position.Y};else if(typeof this.position.X=="string"&&typeof this.position.Y=="number"||typeof this.position.X=="number"&&typeof this.position.Y=="string"){var n=void 0,r=this.element.style.display;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(n=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),i=this.getAnchorPosition(s,this.element,this.position,this.offsetX,this.offsetY),typeof this.position.X=="string"?e={left:i.left,top:this.position.Y}:e={left:this.position.X,top:i.top},this.element.style.display=r,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=n)}else if(s){var o=this.element.clientHeight,r=this.element.style.display;this.element.style.display="block",e=this.getAnchorPosition(s,this.element,this.position,this.offsetX,this.offsetY,o),this.element.style.display=r}else e={left:0,top:0};h(e)||(this.element.style.left=e.left+"px",this.element.style.top=e.top+"px")},t.prototype.checkGetBoundingClientRect=function(e){var i;try{return i=e.getBoundingClientRect(),i}catch{return null}},t.prototype.getAnchorPosition=function(e,i,s,n,r,o){o===void 0&&(o=0);var l=this.checkGetBoundingClientRect(i),c=this.checkGetBoundingClientRect(e);if(h(l)||h(c))return null;var d=e,p={left:0,top:0};switch(i.offsetParent&&i.offsetParent.tagName==="BODY"&&e.tagName==="BODY"?p=Et(e):(i.classList.contains("e-dlg-modal")&&d.tagName!=="BODY"&&(i=i.parentElement),p=qy(d,i)),s.X){default:case"left":break;case"center":i.classList.contains("e-dlg-modal")&&d.tagName==="BODY"&&this.targetType==="container"?p.left+=window.innerWidth/2-l.width/2:this.targetType==="container"?p.left+=c.width/2-l.width/2:p.left+=c.width/2;break;case"right":if(i.classList.contains("e-dlg-modal")&&d.tagName==="BODY"&&this.targetType==="container")p.left+=window.innerWidth-l.width;else if(this.targetType==="container"){var u=1,f=rf(i);if(f){var m=getComputedStyle(f).transform;if(m!=="none"){var g=new DOMMatrix(m);u=g.a}}p.left+=(c.width-l.width)/u}else p.left+=c.width;break}switch(s.Y){default:case"top":break;case"center":i.classList.contains("e-dlg-modal")&&d.tagName==="BODY"&&this.targetType==="container"?p.top+=window.innerHeight/2-l.height/2:this.targetType==="container"?p.top+=c.height/2-l.height/2:p.top+=c.height/2;break;case"bottom":i.classList.contains("e-dlg-modal")&&d.tagName==="BODY"&&this.targetType==="container"?p.top+=window.innerHeight-l.height:this.targetType==="container"&&!i.classList.contains("e-dialog")?p.top+=c.height-l.height:this.targetType==="container"&&i.classList.contains("e-dialog")?p.top+=c.height-o:p.top+=c.height;break}return p.left+=n,p.top+=r,p},t.prototype.callFlip=function(e){var i=this.getRelateToElement();Wy(this.element,i,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,e,this.fixedParent)},t.prototype.callFit=function(e){if(us(this.element,this.viewPortElement).length!==0)if(h(this.viewPortElement)){var i=Zl(this.element,this.viewPortElement,e);e.X&&(this.element.style.left=i.left+"px"),e.Y&&(this.element.style.top=i.top+"px")}else{var s=this.checkGetBoundingClientRect(this.element),n=this.checkGetBoundingClientRect(this.viewPortElement);if(h(s)||h(n))return null;e&&e.Y===!0&&(n.top>s.top?this.element.style.top="0px":n.bottom<s.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(s.bottom-n.bottom)+"px")),e&&e.X===!0&&(n.right<s.right?this.element.style.left=parseInt(this.element.style.left,10)-(s.right-n.right)+"px":n.left>s.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(n.left-s.left)+"px"))}},t.prototype.checkCollision=function(){var e=this.collision.X,i=this.collision.Y;e==="none"&&i==="none"||(e==="flip"&&i==="flip"?this.callFlip({X:!0,Y:!0}):e==="fit"&&i==="fit"?this.callFit({X:!0,Y:!0}):(e==="flip"?this.callFlip({X:!0,Y:!1}):i==="flip"&&this.callFlip({Y:!0,X:!1}),e==="fit"?this.callFit({X:!0,Y:!1}):i==="fit"&&this.callFit({X:!1,Y:!0})))},t.prototype.show=function(e,i){var s=this,n=this.getRelateToElement();if(n.classList.contains("e-filemanager")&&(this.fmDialogContainer=this.element.getElementsByClassName("e-file-select-wrap")[0]),this.wireEvents(),!h(this.fmDialogContainer)&&E.isIos&&(this.fmDialogContainer.style.display="block"),this.zIndex===1e3||!h(i)){var r=h(i)?this.element:i;this.zIndex=fs(r),se(this.element,{zIndex:this.zIndex})}e=!h(e)&&typeof e=="object"?e:this.showAnimation,(this.collision.X!=="none"||this.collision.Y!=="none")&&(k([this.element],ct.CLOSE),L([this.element],ct.OPEN),this.checkCollision(),k([this.element],ct.OPEN),L([this.element],ct.CLOSE)),h(e)?(k([this.element],ct.CLOSE),L([this.element],ct.OPEN),this.trigger("open")):(e.begin=function(){s.isDestroyed||(k([s.element],ct.CLOSE),L([s.element],ct.OPEN))},e.end=function(){s.isDestroyed||s.trigger("open")},new ai(e).animate(this.element))},t.prototype.hide=function(e){var i=this;e=!h(e)&&typeof e=="object"?e:this.hideAnimation,h(e)?(k([this.element],ct.OPEN),L([this.element],ct.CLOSE),this.trigger("close")):(e.end=function(){i.isDestroyed||(k([i.element],ct.OPEN),L([i.element],ct.CLOSE),i.trigger("close"))},new ai(e).animate(this.element)),this.unwireEvents()},t.prototype.getScrollableParent=function(e){return this.checkFixedParent(e),on(e,this.fixedParent)},t.prototype.checkFixedParent=function(e){for(var i=e.parentElement;i&&i.tagName!=="HTML";){var s=getComputedStyle(i);(s.position==="fixed"||s.position==="sticky")&&!h(this.element)&&this.element.offsetParent&&this.element.offsetParent.tagName==="BODY"&&getComputedStyle(this.element.offsetParent).overflow!=="hidden"&&(this.element.style.top=window.scrollY>parseInt(this.element.style.top,10)?X(window.scrollY-parseInt(this.element.style.top,10)):X(parseInt(this.element.style.top,10)-window.scrollY),this.element.style.position="fixed",this.fixedParent=!0),i=i.parentElement,!h(this.element)&&h(this.element.offsetParent)&&s.position==="fixed"&&this.element.style.position==="fixed"&&(this.fixedParent=!0)}},it([y("auto")],t.prototype,"height",void 0),it([y("auto")],t.prototype,"width",void 0),it([y(null)],t.prototype,"content",void 0),it([y("container")],t.prototype,"targetType",void 0),it([y(null)],t.prototype,"viewPortElement",void 0),it([y({X:"none",Y:"none"})],t.prototype,"collision",void 0),it([y("")],t.prototype,"relateTo",void 0),it([ye({},yf)],t.prototype,"position",void 0),it([y(0)],t.prototype,"offsetX",void 0),it([y(0)],t.prototype,"offsetY",void 0),it([y(1e3)],t.prototype,"zIndex",void 0),it([y(!1)],t.prototype,"enableRtl",void 0),it([y("reposition")],t.prototype,"actionOnScroll",void 0),it([y(null)],t.prototype,"showAnimation",void 0),it([y(null)],t.prototype,"hideAnimation",void 0),it([z()],t.prototype,"open",void 0),it([z()],t.prototype,"close",void 0),it([z()],t.prototype,"targetExitViewport",void 0),t=it([ke],t),t}(Ge);function on(a,t){for(var e=getComputedStyle(a),i=[],s=/(auto|scroll)/,n=a.parentElement;n&&n.tagName!=="HTML";){var r=getComputedStyle(n);!(e.position==="absolute"&&r.position==="static")&&s.test(r.overflow+r.overflowY+r.overflowX)&&i.push(n),n=n.parentElement}return t||i.push(document),i}function fs(a){for(var t=a.parentElement,e=[];t&&t.tagName!=="BODY";){var i=document.defaultView.getComputedStyle(t,null).getPropertyValue("z-index"),s=document.defaultView.getComputedStyle(t,null).getPropertyValue("position");i!=="auto"&&s!=="static"&&e.push(i),t=t.parentElement}for(var n=[],r=0;r<document.body.children.length;r++)if(!a.isEqualNode(document.body.children[r])){var i=document.defaultView.getComputedStyle(document.body.children[r],null).getPropertyValue("z-index"),s=document.defaultView.getComputedStyle(document.body.children[r],null).getPropertyValue("position");i!=="auto"&&s!=="static"&&n.push(i)}n.push("999");var o=[];if(!h(a.parentElement)&&a.parentElement.tagName!=="BODY"){for(var l=[].slice.call(a.parentElement.children),r=0;r<l.length;r++)if(!a.isEqualNode(l[r])){var i=document.defaultView.getComputedStyle(l[r],null).getPropertyValue("z-index"),s=document.defaultView.getComputedStyle(l[r],null).getPropertyValue("position");i!=="auto"&&s!=="static"&&o.push(i)}}var c=e.concat(n,o),d=Math.max.apply(Math,c)+1;return d>2147483647?2147483647:d}var Ol=["north-west","north","north-east","west","east","south-west","south","south-east"],Kn="e-resize-handle",cs="e-focused-handle",Gy="e-dlg-resizable",Cu=["e-restrict-left"],bf="e-resize-viewport",Xy=["north","west","east","south"],we,Ni,rh=0,ah=0,Cf=0,Mf=0,Yn=0,Gn=0,an,hs,oh,Ki,Ne,Xn=null,Yl=null,Gl=null,ls,Sa=!0,Mu=0,xl=!0;function Ky(a){Xn=a.resizeBegin,Yl=a.resizing,Gl=a.resizeComplete,we=Su(a.element),Ne=Su(a.boundary);for(var t=a.direction.split(" "),e=0;e<t.length;e++)if(Xy.indexOf(t[e])>=0&&t[e])$y(t[e]);else if(t[e].trim()!==""){var i=P("div",{className:"e-icons "+Kn+" e-"+t[e]});we.appendChild(i)}an=a.minHeight,oh=a.minWidth,Ki=a.maxWidth,hs=a.maxHeight,a.proxy&&a.proxy.element&&a.proxy.element.classList.contains("e-dialog")?Eu(a.proxy):Eu()}function $y(a){lh();var t=P("span",{attrs:{unselectable:"on",contenteditable:"false"}});t.setAttribute("class","e-dialog-border-resize e-"+a),a==="south"&&(t.style.height="2px",t.style.width="100%",t.style.bottom="0px",t.style.left="0px"),a==="north"&&(t.style.height="2px",t.style.width="100%",t.style.top="0px",t.style.left="0px"),a==="east"&&(t.style.height="100%",t.style.width="2px",t.style.right="0px",t.style.top="0px"),a==="west"&&(t.style.height="100%",t.style.width="2px",t.style.left="0px",t.style.top="0px"),we.appendChild(t)}function Su(a){var t;return h(a)||(typeof a=="string"?t=document.querySelector(a):t=a),t}function Eu(a){for(var t=a||this,e=we.querySelectorAll("."+Kn),i=0;i<e.length;i++){Ni=e[i],v.add(Ni,"mousedown",Tu,t);var s=E.info.name==="msie"?"pointerdown":"touchstart";v.add(Ni,s,Nu,t)}var n=we.querySelectorAll(".e-dialog-border-resize");if(!h(n))for(var i=0;i<n.length;i++){Ni=n[i],v.add(Ni,"mousedown",Tu,t);var s=E.info.name==="msie"?"pointerdown":"touchstart";v.add(Ni,s,Nu,t)}}function Sf(a){return a.indexOf("mouse")>-1?"mouse":"touch"}function Tu(a){if(a.preventDefault(),we=a.target.parentElement,lh(),Yn=a.pageX,Gn=a.pageY,a.target.classList.add(cs),!h(Xn)){var t=this;if(Xn(a,t)===!0)return}this.targetEle&&we&&we.querySelector("."+Gy)&&(Ne=this.target==="body"?null:this.targetEle,Ki=this.targetEle.clientWidth,hs=this.targetEle.clientHeight);var e=h(Ne)?document:Ne;v.add(e,"mousemove",Wn,this),v.add(document,"mouseup",Ea,this);for(var i=0;i<Cu.length;i++)we.classList.contains(Cu[i])?Sa=!1:Sa=!0}function Ea(a){var t=E.info.name==="msie"?"pointermove":"touchmove",e=E.info.name==="msie"?"pointerup":"touchend",i=h(Ne)?document:Ne,s=E.info.name==="msie"?"pointerdown":"touchstart";if(v.remove(i,"mousemove",Wn),v.remove(i,t,Wn),v.remove(i,s,Wn),h(document.body.querySelector("."+cs))||document.body.querySelector("."+cs).classList.remove(cs),!h(Gl)){var n=this;Gl(a,n)}v.remove(document,"mouseup",Ea),v.remove(document,e,Ea)}function lh(){rh=parseFloat(getComputedStyle(we,null).getPropertyValue("width").replace("px","")),ah=parseFloat(getComputedStyle(we,null).getPropertyValue("height").replace("px","")),Cf=we.getBoundingClientRect().left,Mf=we.getBoundingClientRect().top}function Nu(a){we=a.target.parentElement,lh();var t=we.classList.contains("e-dialog");(a.target.classList.contains(Kn)||a.target.classList.contains("e-dialog-border-resize"))&&t&&a.target.classList.add(cs);var e=a.touches?a.changedTouches[0]:a;if(Yn=e.pageX,Gn=e.pageY,!h(Xn)){var i=this;if(Xn(a,i)===!0)return}var s=E.info.name==="msie"?"pointermove":"touchmove",n=E.info.name==="msie"?"pointerup":"touchend",r=h(Ne)?document:Ne;v.add(r,s,Wn,this),v.add(document,n,Ea,this)}function Wn(a){if(a.target.classList.contains(Kn)&&a.target.classList.contains(cs)?Ni=a.target:h(document.body.querySelector("."+cs))||(Ni=document.body.querySelector("."+cs)),!h(Ni)){for(var t="",e=0;e<Ol.length;e++)Ni.classList.contains("e-"+Ol[e])&&(t=Ol[e]);if(!h(Yl)){var i=this;Yl(a,i)}switch(t){case"south":kl(a);break;case"north":Al(a);break;case"west":jl(a);break;case"east":Rl(a);break;case"south-east":kl(a),Rl(a);break;case"south-west":kl(a),jl(a);break;case"north-east":Al(a),Rl(a);break;case"north-west":Al(a),jl(a);break}}}function ps(a){return a.getBoundingClientRect()}function kl(a){var t=document.documentElement.clientHeight,e=!1,i=a.touches?a.changedTouches[0]:a,s=i.pageY,n=ps(we),r;h(Ne)||(r=ps(Ne)),h(Ne)?h(Ne)&&(t-s>=0||n.top<0)&&(e=!0):e=!0;var o=ah+(s-Gn);o=o>an?o:an;var l=0;h(Ne)||(l=r.top);var c=h(Ne)?0:Ne.offsetHeight-Ne.clientHeight,d=n.top-l-c/2;if(d=d<0?0:d,n.top>0&&d+o>hs){if(e=!1,we.classList.contains(bf))return;we.style.height=hs-parseInt(d.toString(),10)+"px";return}var p=0;if(e){n.top<0&&t+(n.height+n.top)>0&&(p=n.top,o+p<=30&&(o=n.height-(n.height+n.top)+30)),o+n.top>=hs&&(we.style.height=n.height+(t-(n.height+n.top))+"px");var u=h(Ne)?p:d;o>=an&&o+u<=hs&&(we.style.height=o+"px")}}function Al(a){var t=!1,e,i=Sf(a.type)==="mouse"?a.pageY:a.touches[0].pageY,s=ps(we);h(Ne)||(e=ps(Ne)),(!h(Ne)&&s.top-e.top>0||h(Ne)&&i>0)&&(t=!0);var n=ah-(i-Gn);if(t&&n>=an&&n<=hs){var r=0;h(Ne)||(r=e.top);var o=Mf-r+(i-Gn);o=o>0?o:1,we.style.height=n+"px",we.style.top=o+"px"}}function jl(a){var t=document.documentElement.clientWidth,e=!1,i;h(Ne)||(i=ps(Ne));var s=Sf(a.type)==="mouse"?a.pageX:a.touches[0].pageX,n=ps(we),r=h(Ne)?0:Ne.offsetWidth-Ne.clientWidth,o=h(Ne)?0:i.left,l=h(Ne)?0:i.width;h(ls)&&(h(Ne)?ls=t:(ls=n.left-o-r/2+n.width,ls=ls+(l-r-ls))),(!h(Ne)&&Math.floor(n.left-i.left+n.width+(i.right-n.right))-r<=Ki||h(Ne)&&s>=0)&&(e=!0);var c=rh-(s-Yn);if(Sa&&(c=c>ls?ls:c),e&&c>=oh&&c<=Ki){var d=0;h(Ne)||(d=i.left);var p=Cf-d+(s-Yn);p=p>0?p:1,c!==Mu&&xl&&(we.style.width=c+"px"),Sa&&(we.style.left=p+"px",p===1?xl=!1:xl=!0)}Mu=c}function Rl(a){var t=document.documentElement.clientWidth,e=!1,i;h(Ne)||(i=ps(Ne));var s=a.touches?a.changedTouches[0]:a,n=s.pageX,r=ps(we);(!h(Ne)&&(r.left-i.left+r.width<=Ki||r.right-i.left>=r.width)||h(Ne)&&t-n>0)&&(e=!0);var o=rh+(n-Yn),l=0;if(h(Ne)||(l=i.left),r.left-l+o>Ki){if(e=!1,we.classList.contains(bf))return;we.style.width=Ki-(r.left-l)+"px"}e&&o>=oh&&o<=Ki&&(we.style.width=o+"px")}function Jy(a){an=a}function Zy(a){Ki=a}function eb(a){hs=a}function Iu(){for(var a=we.querySelectorAll("."+Kn),t=0;t<a.length;t++)N(a[t]);var e=we.querySelectorAll(".e-dialog-border-resize");if(!h(e))for(var t=0;t<e.length;t++)N(e[t])}var hh=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Me=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},tb=function(a){hh(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Me([y(!0)],t.prototype,"isFlat",void 0),Me([y()],t.prototype,"buttonModel",void 0),Me([y("Button")],t.prototype,"type",void 0),Me([z()],t.prototype,"click",void 0),t}(ge),ib=function(a){hh(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Me([y("Fade")],t.prototype,"effect",void 0),Me([y(400)],t.prototype,"duration",void 0),Me([y(0)],t.prototype,"delay",void 0),t}(ge),da="e-dialog",zl="e-rtl",Pl="e-dlg-header-content",Du="e-dlg-header",Vn="e-footer-content",pa="e-dlg-modal",sb="e-dlg-content",Lu="e-icon-dlg-close",nb="e-dlg-overlay",Ei="e-dlg-target",rb="e-dlg-container",hi="e-scroll-disabled",ab="e-primary",ob="e-icons",lb="e-popup",wu="e-device",ua="e-dlg-fullscreen",Ou="e-dlg-closeicon-btn",hb="e-popup-close",xu="e-popup-open",ku="Information",Au="e-scroll-disabled",Ef="e-alert-dialog",Tf="e-confirm-dialog",Bl="e-dlg-resizable",fa="e-restrict-left",ju="e-resize-viewport",cb="e-dlg-ref-element",Hl="user action",db="close icon",pb="escape",ub="overlayClick",fb="e-draggable",ch=function(a){hh(t,a);function t(e,i){var s=a.call(this,e,i)||this;return s.needsID=!0,s}return t.prototype.render=function(){this.initialize(),this.initRender(),this.wireEvents(),this.width==="100%"&&(this.element.style.width=""),this.minHeight!==""&&(this.element.style.minHeight=X(this.minHeight)),this.enableResize&&(this.setResize(),this.animationSettings.effect==="None"&&this.getMinHeight()),this.renderComplete()},t.prototype.initializeValue=function(){this.dlgClosedBy=Hl},t.prototype.preRender=function(){var e=this;this.initializeValue(),this.headerContent=null,this.allowMaxHeight=!0,this.preventVisibility=!0,this.clonedEle=this.element.cloneNode(!0),this.closeIconClickEventHandler=function(n){e.dlgClosedBy=db,e.hide(n)},this.dlgOverlayClickEventHandler=function(n){e.dlgClosedBy=ub,n.preventFocus=!1,e.trigger("overlayClick",n,function(r){r.preventFocus||e.focusContent(),e.dlgClosedBy=Hl})};var i={close:"Close"};if(this.l10n=new Yt("dialog",i,this.locale),this.checkPositionData(),h(this.target)){var s=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=s}},t.prototype.updatePersistData=function(){this.enablePersistence&&this.setProperties({width:parseFloat(this.element.style.width),height:parseFloat(this.element.style.height),position:{X:parseFloat(this.dragObj.element.style.left),Y:parseFloat(this.dragObj.element.style.top)}},!0)},t.prototype.isNumberValue=function(e){var i=/^[-+]?\d*\.?\d+$/.test(e);return i},t.prototype.checkPositionData=function(){if(!h(this.position)){if(!h(this.position.X)&&typeof this.position.X!="number"){var e=this.isNumberValue(this.position.X);if(e){var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.X=parseFloat(this.position.X),this.isProtectedOnChange=i}}if(!h(this.position.Y)&&typeof this.position.Y!="number"){var e=this.isNumberValue(this.position.Y);if(e){var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.Y=parseFloat(this.position.Y),this.isProtectedOnChange=i}}}},t.prototype.getEle=function(e,i){for(var s=void 0,n=0;n<e.length;n++)if(e[n].classList.contains(i)){s=e[n];break}return s},t.prototype.getMinHeight=function(){var e="0px",i="0px";h(this.element.querySelector("."+Pl))||(e=getComputedStyle(this.headerContent).height);var s=this.getEle(this.element.children,Vn);h(s)||(i=getComputedStyle(s).height);var n=parseInt(e.slice(0,e.indexOf("p")),10),r=parseInt(i.slice(0,i.indexOf("p")),10);return Jy(n+30+(isNaN(r)?0:r)),n+30+r},t.prototype.onResizeStart=function(e,i){return i.trigger("resizeStart",e),e.cancel},t.prototype.onResizing=function(e,i){i.trigger("resizing",e)},t.prototype.onResizeComplete=function(e,i){i.trigger("resizeStop",e),this.updatePersistData()},t.prototype.setResize=function(){if(this.enableResize){if(this.isBlazorServerRender()&&!h(this.element.querySelector(".e-icons.e-resize-handle")))return;this.element.classList.add(Bl);for(var e=getComputedStyle(this.element).minHeight,i=getComputedStyle(this.element).minWidth,s="",n=0;n<this.resizeHandles.length;n++)if(this.resizeHandles[n]==="All"){s="south north east west north-east north-west south-east south-west";break}else{var r="";switch(this.resizeHandles[n].toString()){case"SouthEast":r="south-east";break;case"SouthWest":r="south-west";break;case"NorthEast":r="north-east";break;case"NorthWest":r="north-west";break;default:r=this.resizeHandles[n].toString();break}s+=r.toLocaleLowerCase()+" "}this.enableRtl&&s.trim()==="south-east"?s="south-west":this.enableRtl&&s.trim()==="south-west"&&(s="south-east"),this.isModal&&this.enableRtl?this.element.classList.add(fa):this.isModal&&this.target===document.body&&this.element.classList.add(ju),Ky({element:this.element,direction:s,minHeight:parseInt(e.slice(0,i.indexOf("p")),10),maxHeight:this.targetEle.clientHeight,minWidth:parseInt(i.slice(0,i.indexOf("p")),10),maxWidth:this.targetEle.clientWidth,boundary:this.target===document.body?null:this.targetEle,resizeBegin:this.onResizeStart.bind(this),resizeComplete:this.onResizeComplete.bind(this),resizing:this.onResizing.bind(this),proxy:this}),this.wireWindowResizeEvent()}else Iu(),this.unWireWindowResizeEvent(),this.isModal?this.element.classList.remove(fa):this.element.classList.remove(ju),this.element.classList.remove(Bl)},t.prototype.getFocusElement=function(e){var i='input,select,textarea,button:enabled,a,[contenteditable="true"],[tabindex]',s=e.querySelectorAll(i);return{element:s[s.length-1]}},t.prototype.keyDown=function(e){var i=this;if(e.keyCode===9&&this.isModal){var s=void 0;h(this.btnObj)||(s=this.btnObj[this.btnObj.length-1]),h(this.btnObj)&&!h(this.ftrTemplateContent)&&(s=this.getFocusElement(this.ftrTemplateContent)),h(this.btnObj)&&h(this.ftrTemplateContent)&&!h(this.contentEle)&&(s=this.getFocusElement(this.contentEle)),!h(s)&&document.activeElement===s.element&&!e.shiftKey&&(e.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&e.shiftKey&&(e.preventDefault(),h(s)||s.element.focus())}var n=document.activeElement,r=["input","textarea"].indexOf(n.tagName.toLowerCase())>-1,o=!1;if(r||(o=n.hasAttribute("contenteditable")&&n.getAttribute("contenteditable")==="true"),e.keyCode===27&&this.closeOnEscape){this.dlgClosedBy=pb;var l=document.querySelector(".e-popup-open:not(.e-dialog)");!h(l)&&!l.classList.contains("e-toolbar-pop")||this.hide(e)}if(e.keyCode===13&&!e.ctrlKey&&n.tagName.toLowerCase()!=="textarea"&&r&&!h(this.primaryButtonEle)||e.keyCode===13&&e.ctrlKey&&(n.tagName.toLowerCase()==="textarea"||o)&&!h(this.primaryButtonEle)){var c,d=this.buttons.some(function(p,u){c=u;var f=p.buttonModel;return!h(f)&&f.isPrimary===!0});d&&typeof this.buttons[c].click=="function"&&setTimeout(function(){i.buttons[c].click.call(i,e)})}},t.prototype.initialize=function(){h(this.target)||(this.targetEle=typeof this.target=="string"?document.querySelector(this.target):this.target),this.isBlazorServerRender()||L([this.element],da),E.isDevice&&L([this.element],wu),this.isBlazorServerRender()||this.setCSSClass(),this.setMaxHeight()},t.prototype.initRender=function(){var e=this;if(this.initialRender=!0,this.isBlazorServerRender()||le(this.element,{role:"dialog"}),this.zIndex===1e3?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1,this.isBlazorServerRender()&&h(this.headerContent)&&(this.headerContent=this.element.getElementsByClassName("e-dlg-header-content")[0]),this.isBlazorServerRender()&&h(this.contentEle)&&(this.contentEle=this.element.querySelector("#"+this.element.id+"_dialog-content")),this.isBlazorServerRender()||(this.setTargetContent(),this.header!==""&&!h(this.header)&&this.setHeader(),this.renderCloseIcon(),this.setContent(),this.footerTemplate!==""&&!h(this.footerTemplate)?this.setFooterTemplate():h(this.buttons[0].buttonModel)||this.setButton()),this.isBlazorServerRender()&&!h(this.buttons[0].buttonModel)&&this.footerTemplate===""&&this.setButton(),this.allowDragging&&!h(this.headerContent)&&this.setAllowDragging(),this.isBlazorServerRender()||(le(this.element,{"aria-modal":this.isModal?"true":"false"}),this.isModal&&this.setIsModal()),this.isBlazorServerRender()&&h(this.dlgContainer)){this.dlgContainer=this.element.parentElement;for(var i=0,s=this.dlgContainer.children;i<s.length;i++)s[i].classList.contains("e-dlg-overlay")&&(this.dlgOverlay=s[i])}if(this.element.classList.contains(Ef)!==!0&&this.element.classList.contains(Tf)!==!0&&!h(this.element.parentElement)){var n=this.isModal?this.dlgContainer.parentElement:this.element.parentElement;this.refElement=this.createElement("div",{className:cb}),n.insertBefore(this.refElement,this.isModal?this.dlgContainer:this.element)}if(h(this.targetEle)||(this.isModal?this.targetEle.appendChild(this.dlgContainer):this.targetEle.appendChild(this.element)),this.popupObj=new jt(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",enableRtl:this.enableRtl,open:function(l){var c={container:e.isModal?e.dlgContainer:e.element,element:e.element,target:e.target,preventFocus:!1};e.enableResize&&e.resetResizeIcon(),e.trigger("open",c,function(d){d.preventFocus||e.focusContent()})},close:function(l){e.isModal&&L([e.dlgOverlay],"e-fade"),e.unBindEvent(e.element),e.isModal&&(e.dlgContainer.style.display="none"),e.trigger("close",e.closeArgs);var c=document.activeElement;!h(c)&&!h(c.blur)&&c.blur(),!h(e.storeActiveElement)&&!h(e.storeActiveElement.focus)&&e.storeActiveElement.focus()}}),this.positionChange(),this.setEnableRTL(),this.isBlazorServerRender()||(L([this.element],hb),this.isModal&&this.setOverlayZindex()),this.visible){if(this.show(),this.isModal){var r=this.getTargetContainer(this.target);if(r instanceof Element){var o=window.getComputedStyle(r);o.getPropertyValue("direction")==="rtl"&&this.setPopupPosition()}}}else this.isModal&&(this.dlgOverlay.style.display="none");this.initialRender=!1},t.prototype.getTargetContainer=function(e){var i=null;if(typeof e=="string")if(e.startsWith("#"))i=document.getElementById(e.substring(1));else if(e.startsWith(".")){var s=document.getElementsByClassName(e.substring(1));i=s.length>0?s[0]:null}else!(e instanceof HTMLElement)&&e!==document.body&&(i=document.querySelector(e));else e instanceof HTMLElement&&(i=e);return i},t.prototype.resetResizeIcon=function(){var e=this.getMinHeight();if(this.targetEle.offsetHeight<e){var i=this.enableRtl?"e-south-west":"e-south-east",s=this.element.querySelector("."+i);h(s)||(s.style.bottom="-"+e.toString()+"px")}},t.prototype.setOverlayZindex=function(e){var i;h(e)?i=parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:i=e,this.dlgOverlay.style.zIndex=(i-1).toString(),this.dlgContainer.style.zIndex=i.toString()},t.prototype.positionChange=function(){this.isModal?!isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():!isNaN(parseFloat(this.position.X))&&isNaN(parseFloat(this.position.Y))||isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()},t.prototype.setPopupPosition=function(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})},t.prototype.setAllowDragging=function(){var e=this,i="."+Pl;this.element.classList.contains(fb)||(this.dragObj=new oa(this.element,{clone:!1,isDragScroll:!0,abort:".e-dlg-closeicon-btn",handle:i,dragStart:function(s){e.trigger("dragStart",s,function(n){ie()&&n.bindEvents(s.dragElement)})},dragStop:function(s){if(e.isModal){e.IsDragStop=!0,h(e.position)||e.dlgContainer.classList.remove("e-dlg-"+e.position.X+"-"+e.position.Y);var n=e.getTargetContainer(e.target);if(n instanceof Element){var r=window.getComputedStyle(n);r.getPropertyValue("direction")==="rtl"?e.element.style.position="absolute":e.element.style.position="relative"}else e.element.style.position="relative"}e.trigger("dragStop",s),e.element.classList.remove(fa),e.updatePersistData()},drag:function(s){e.trigger("drag",s)}}),h(this.targetEle)||(this.dragObj.dragArea=this.targetEle))},t.prototype.setButton=function(){if(!this.isBlazorServerRender()){this.buttonContent=[],this.btnObj=[];for(var e=0;e<this.buttons.length;e++)if(!h(this.buttons[e].buttonModel)){var i=h(this.buttons[e].type)?"button":this.buttons[e].type.toLowerCase(),s=this.createElement("button",{className:this.cssClass,attrs:{type:i}});this.buttonContent.push(s.outerHTML)}this.setFooterTemplate()}for(var n,e=0,r=this.element.children;e<r.length;e++)r[e].classList.contains(Vn)&&(n=r[e].querySelectorAll("button"));for(var e=0;e<this.buttons.length;e++)h(this.buttons[e].buttonModel)||(this.isBlazorServerRender()||(this.btnObj[e]=new Vt(this.buttons[e].buttonModel)),this.isBlazorServerRender()&&(this.ftrTemplateContent=this.element.querySelector("."+Vn)),!h(this.ftrTemplateContent)&&n.length>0&&(typeof this.buttons[e].click=="function"&&v.add(n[e],"click",this.buttons[e].click,this),typeof this.buttons[e].click=="object"&&v.add(n[e],"click",this.buttonClickHandler.bind(this,e),this)),!this.isBlazorServerRender()&&!h(this.ftrTemplateContent)&&(this.btnObj[e].appendTo(this.ftrTemplateContent.children[e]),this.buttons[e].isFlat&&this.btnObj[e].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0]))},t.prototype.buttonClickHandler=function(e){this.trigger("buttons["+e+"].click",{})},t.prototype.setContent=function(){this.contentEle=this.createElement("div",{className:sb,id:this.element.id+"_dialog-content"}),this.headerEle?le(this.element,{"aria-describedby":this.element.id+"_title "+this.element.id+"_dialog-content"}):le(this.element,{"aria-describedby":this.element.id+"_dialog-content"}),this.innerContentElement?this.contentEle.appendChild(this.innerContentElement):(!h(this.content)&&this.content!==""||!this.initialRender)&&(typeof this.content=="string"&&!ie()?this.setTemplate(this.content,this.contentEle,"content"):this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle,"content")),h(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]),this.height==="auto"&&(!this.isBlazorServerRender()&&E.isIE&&this.element.style.width===""&&!h(this.width)&&(this.element.style.width=X(this.width)),this.setMaxHeight())},t.prototype.setTemplate=function(e,i,s){var n,r;i.classList.contains(Du)?r=this.element.id+"header":i.classList.contains(Vn)?r=this.element.id+"footerTemplate":r=this.element.id+"content";var o;h(e.outerHTML)?(typeof e=="string"||typeof e!="string"||ie()&&!this.isStringTemplate)&&(typeof e=="string"&&(e=this.sanitizeHelper(e)),this.isVue||typeof e!="string"?(n=kt(e),o=e):i.innerHTML=e):i.appendChild(e);var l=[];if(!h(n)){for(var c=ie()&&!this.isStringTemplate&&o.indexOf("<div>Blazor")===0?this.isStringTemplate:!0,d=0,p=n({},this,s,r,c);d<p.length;d++){var u=p[d];l.push(u)}Pe([].slice.call(l),i)}},t.prototype.sanitizeHelper=function(e){if(this.enableHtmlSanitizer){var i=Be.beforeSanitize(),s={cancel:!1,helper:null};ue(i,i,s),this.trigger("beforeSanitizeHtml",i),i.cancel&&!h(i.helper)?e=i.helper(e):i.cancel||(e=Be.serializeValue(i,e))}return e},t.prototype.setMaxHeight=function(){if(this.allowMaxHeight){var e=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=!h(this.target)&&this.targetEle.offsetHeight<window.innerHeight?this.targetEle.offsetHeight-20+"px":window.innerHeight-20+"px",this.element.style.display=e,E.isIE&&this.height==="auto"&&!h(this.contentEle)&&this.element.offsetHeight<this.contentEle.offsetHeight&&(this.element.style.height="inherit")}},t.prototype.setEnableRTL=function(){this.isBlazorServerRender()||(this.enableRtl?L([this.element],zl):k([this.element],zl)),h(this.element.querySelector(".e-resize-handle"))||(Iu(),this.setResize())},t.prototype.setTargetContent=function(){var e=this;if(h(this.content)||this.content===""){var i=this.element.innerHTML.replace(/\s|<(\/?|\/?)(!--!--)>/g,"")!=="";(this.element.children.length>0||i)&&(this.innerContentElement=document.createDocumentFragment(),[].slice.call(this.element.childNodes).forEach(function(s){s.nodeType!==8&&e.innerContentElement.appendChild(s)}))}},t.prototype.setHeader=function(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:Du}),this.createHeaderContent(),this.headerContent.appendChild(this.headerEle),this.setTemplate(this.header,this.headerEle,"header"),le(this.element,{"aria-describedby":this.element.id+"_title"}),le(this.element,{"aria-label":"dialog"}),this.element.insertBefore(this.headerContent,this.element.children[0]),this.allowDragging&&!h(this.headerContent)&&this.setAllowDragging()},t.prototype.setFooterTemplate=function(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:Vn}),this.footerTemplate!==""&&!h(this.footerTemplate)?this.setTemplate(this.footerTemplate,this.ftrTemplateContent,"footerTemplate"):this.ftrTemplateContent.innerHTML=this.buttonContent.join(""),this.element.appendChild(this.ftrTemplateContent)},t.prototype.createHeaderContent=function(){h(this.headerContent)&&(this.headerContent=this.createElement("div",{id:this.element.id+"_dialog-header",className:Pl}))},t.prototype.renderCloseIcon=function(){this.showCloseIcon&&(this.closeIcon=this.createElement("button",{className:Ou,attrs:{type:"button"}}),this.closeIconBtnObj=new Vt({cssClass:"e-flat",iconCss:Lu+" "+ob}),this.closeIconTitle(),h(this.headerContent)?(this.createHeaderContent(),Ft([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):Ft([this.closeIcon],this.headerContent),this.closeIconBtnObj.appendTo(this.closeIcon))},t.prototype.closeIconTitle=function(){this.l10n.setLocale(this.locale);var e=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",e),this.closeIcon.setAttribute("aria-label",e)},t.prototype.setCSSClass=function(e){e&&(k([this.element],e.split(" ")),this.isModal&&!h(this.dlgContainer)&&k([this.dlgContainer],e.split(" "))),this.cssClass&&(L([this.element],this.cssClass.split(" ")),this.isModal&&!h(this.dlgContainer)&&L([this.dlgContainer],this.cssClass.split(" ")))},t.prototype.setIsModal=function(){this.dlgContainer=this.createElement("div",{className:rb}),this.setCSSClass(),this.element.classList.remove(xu),this.element.parentNode.insertBefore(this.dlgContainer,this.element),this.dlgContainer.appendChild(this.element),L([this.element],pa),this.dlgOverlay=this.createElement("div",{className:nb}),this.dlgOverlay.style.zIndex=(this.zIndex-1).toString(),this.dlgContainer.appendChild(this.dlgOverlay)},t.prototype.getValidFocusNode=function(e){for(var i,s=0;s<e.length;s++){if(i=e[s],(i.clientHeight>0||i.tagName.toLowerCase()==="a"&&i.hasAttribute("href"))&&i.tabIndex>-1&&!i.disabled&&!this.disableElement(i,'[disabled],[aria-disabled="true"],[type="hidden"]'))return i;i=null}return i},t.prototype.focusableElements=function(e){if(!h(e)){var i='input,select,textarea,button,a,[contenteditable="true"],[tabindex]',s=e.querySelectorAll(i);return this.getValidFocusNode(s)}return null},t.prototype.getAutoFocusNode=function(e){var i=e.querySelector("."+Ou),s="[autofocus]",n=e.querySelectorAll(s),r=this.getValidFocusNode(n);if(ie()&&(this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0]),!h(r))i=r;else if(r=this.focusableElements(this.contentEle),h(r)){if(!h(this.primaryButtonEle))return this.element.querySelector("."+ab)}else return i=r;return i},t.prototype.disableElement=function(e,i){var s=e?e.matches||e.webkitMatchesSelector||e.msGetRegionContent:null;if(s){for(;e;e=e.parentNode)if(e instanceof Element&&s.call(e,i))return e}return null},t.prototype.focusContent=function(){var e=this.getAutoFocusNode(this.element),i=h(e)?this.element:e,s=E.userAgent;(s.indexOf("MSIE ")>0||s.indexOf("Trident/")>0)&&this.element.focus(),i.focus(),this.unBindEvent(this.element),this.bindEvent(this.element)},t.prototype.bindEvent=function(e){v.add(e,"keydown",this.keyDown,this)},t.prototype.unBindEvent=function(e){v.remove(e,"keydown",this.keyDown)},t.prototype.updateSanitizeContent=function(){this.isBlazorServerRender()||(this.contentEle.innerHTML=this.sanitizeHelper(this.content))},t.prototype.isBlazorServerRender=function(){return ie()&&this.isServerRendered},t.prototype.getModuleName=function(){return"dialog"},t.prototype.onPropertyChanged=function(e,i){if(this.element.classList.contains(da))for(var s=0,n=Object.keys(e);s<n.length;s++){var r=n[s];switch(r){case"content":!h(this.content)&&this.content!==""?(this.isBlazorServerRender()&&(this.contentEle=this.element.querySelector(".e-dlg-content")),!h(this.contentEle)&&this.contentEle.getAttribute("role")!=="dialog"?(this.isBlazorServerRender()||(this.contentEle.innerHTML=""),typeof this.content=="function"?(this.clearTemplate(["content"]),N(this.contentEle),this.contentEle=null,this.setContent()):typeof this.content=="string"?this.isBlazorServerRender()&&this.contentEle.innerText===""?this.contentEle.insertAdjacentHTML("beforeend",this.sanitizeHelper(this.content)):this.updateSanitizeContent():this.contentEle.appendChild(this.content),this.setMaxHeight()):(!this.isBlazorServerRender()||h(this.element.querySelector(".e-dlg-content")))&&this.setContent()):h(this.contentEle)||(N(this.contentEle),this.contentEle=null);break;case"header":this.header===""||h(this.header)?this.headerEle&&(N(this.headerEle),this.headerEle=null):(!this.isBlazorServerRender()||h(this.element.querySelector(".e-dlg-header-content")))&&this.setHeader();break;case"footerTemplate":if(this.footerTemplate===""||h(this.footerTemplate)){if(!this.ftrTemplateContent)return;N(this.ftrTemplateContent),this.ftrTemplateContent=null,this.buttons=[{}]}else(!this.isBlazorServerRender()||h(this.element.querySelector(".e-footer-content")))&&this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName(Lu).length>0?!this.showCloseIcon&&(this.header===""||h(this.header))?(N(this.headerContent),this.headerContent=null):this.showCloseIcon?this.isBlazorServerRender()&&this.wireEvents():N(this.closeIcon):(this.isBlazorServerRender()||this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":se(this.element,{height:X(e.height)}),this.updatePersistData();break;case"width":se(this.element,{width:X(e.width)}),this.updatePersistData();break;case"zIndex":this.popupObj.zIndex=this.zIndex,this.isModal&&this.setOverlayZindex(this.zIndex),this.element.style.zIndex!==this.zIndex.toString()&&(this.calculatezIndex=!1);break;case"cssClass":this.setCSSClass(i.cssClass);break;case"buttons":{this.unWireButtonEvents(),this.destroyButtons(),!h(this.ftrTemplateContent)&&!this.isBlazorServerRender()&&(N(this.ftrTemplateContent),this.ftrTemplateContent=null),this.footerTemplate="",this.setButton();break}case"allowDragging":this.allowDragging&&!h(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.setTarget(e.target);break;case"position":if(this.checkPositionData(),this.isModal){var o=this.position.X,l=this.position.Y;h(i.position)||(h(i.position.X)||(o=i.position.X),h(i.position.Y)||(l=i.position.Y)),this.dlgContainer.classList.contains("e-dlg-"+o+"-"+l)&&this.dlgContainer.classList.remove("e-dlg-"+o+"-"+l)}this.positionChange(),this.updatePersistData();break;case"enableRtl":this.setEnableRTL();break;case"enableResize":this.setResize();break;case"minHeight":this.minHeight!==""&&(this.element.style.minHeight=X(this.minHeight));break}}},t.prototype.setTarget=function(e){this.popupObj.relateTo=e,this.target=e,this.targetEle=typeof this.target=="string"?document.querySelector(this.target):this.target,this.dragObj&&(this.dragObj.dragArea=this.targetEle),this.setMaxHeight(),this.isModal&&this.updateIsModal(),this.enableResize&&this.setResize()},t.prototype.updateIsModal=function(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)h(this.dlgOverlay)&&(this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",h(this.targetEle)||this.targetEle.appendChild(this.dlgContainer));else{for(k([this.element],pa),k([document.body],[Ei,hi]),N(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show(),this.positionChange(),this.isModal&&this.dlgOverlay&&v.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},t.prototype.setzIndex=function(e,i){var s=this.isProtectedOnChange;this.isProtectedOnChange=!0;var n=fs(e);this.zIndex=n>this.zIndex?n:this.zIndex,this.isProtectedOnChange=s,i&&(this.popupObj.zIndex=this.zIndex)},t.prototype.windowResizeHandler=function(){Zy(this.targetEle.clientWidth),eb(this.targetEle.clientHeight),this.setMaxHeight()},t.prototype.getPersistData=function(){return this.addOnPersist(["width","height","position"])},t.prototype.removeAllChildren=function(e){for(;e.children[0];)this.removeAllChildren(e.children[0]),e.removeChild(e.children[0])},t.prototype.destroy=function(){if(!this.isDestroyed){var e=[zl,pa,Bl,fa,ua,wu],i=["role","aria-modal","aria-labelledby","aria-describedby","aria-grabbed","tabindex","style"];if(k([this.targetEle],[Ei,hi]),!h(this.element)&&this.element.classList.contains(ua)&&k([document.body],[Ei,hi]),this.isModal&&k([h(this.targetEle)?document.body:this.targetEle],hi),this.unWireEvents(),this.unWireButtonEvents(),this.destroyButtons(),h(this.closeIconBtnObj)||this.closeIconBtnObj.destroy(),h(this.dragObj)||this.dragObj.destroy(),!h(this.popupObj.element)&&this.popupObj.element.classList.contains(lb)&&this.popupObj.destroy(),k([this.element],e),!h(this.cssClass)&&this.cssClass!==""&&k([this.element],this.cssClass.split(" ")),!h(this.refElement)&&!h(this.refElement.parentElement)&&(this.refElement.parentElement.insertBefore(this.isModal?this.dlgContainer:this.element,this.refElement),N(this.refElement),this.refElement=void 0),this.isModal&&!this.isBlazorServerRender()&&(N(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),N(this.dlgContainer)),this.isBlazorServerRender()||(this.element.innerHTML=this.clonedEle.innerHTML),this.isBlazorServerRender()&&!h(this.element.children))for(var s=0;s<=this.element.children.length;s++)s=s-s,N(this.element.children[s]);for(var s=0;s<i.length;s++)this.element.removeAttribute(i[s]);this.ftrTemplateContent=null,this.headerContent=null,!this.isReact&&!this.isVue&&!h(this.contentEle)&&this.removeAllChildren(this.contentEle),this.contentEle=null,this.isBlazorServerRender()?this.isDestroyed=!0:a.prototype.destroy.call(this),this.isReact&&this.clearTemplate()}},t.prototype.wireWindowResizeEvent=function(){this.boundWindowResizeHandler=this.windowResizeHandler.bind(this),window.addEventListener("resize",this.boundWindowResizeHandler)},t.prototype.unWireWindowResizeEvent=function(){window.removeEventListener("resize",this.boundWindowResizeHandler),this.boundWindowResizeHandler=null},t.prototype.wireEvents=function(){this.isBlazorServerRender()&&this.showCloseIcon&&(this.closeIcon=this.element.getElementsByClassName("e-dlg-closeicon-btn")[0]),this.showCloseIcon&&v.add(this.closeIcon,"click",this.closeIconClickEventHandler,this),this.isModal&&this.dlgOverlay&&v.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},t.prototype.unWireEvents=function(){this.showCloseIcon&&v.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&v.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler)},t.prototype.unWireButtonEvents=function(){if(this.buttons.length>0&&this.footerTemplate===""&&this.ftrTemplateContent)for(var e=0;e<this.buttons.length;e++)this.buttons[e].click&&typeof this.buttons[e].click=="function"&&this.ftrTemplateContent.children[e]&&v.remove(this.ftrTemplateContent.children[e],"click",this.buttons[e].click)},t.prototype.destroyButtons=function(){if(!h(this.btnObj))for(var e=0;e<this.btnObj.length;e++)this.btnObj[e]&&!this.btnObj[e].isDestroyed&&this.btnObj[e].destroy()},t.prototype.refreshPosition=function(){this.popupObj.refreshPosition(),this.element.classList.contains(pa)&&this.positionChange()},t.prototype.getDimension=function(){var e=this.element.offsetWidth,i=this.element.offsetHeight;return{width:e,height:i}},t.prototype.show=function(e){var i=this;if(this.element.classList.contains(da)){if(!this.element.classList.contains(xu)||!h(e)){h(e)||this.fullScreen(e);var s=ie()?{cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,maxHeight:this.element.style.maxHeight}:{cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target,maxHeight:this.element.style.maxHeight};this.trigger("beforeOpen",s,function(n){if(!n.cancel){if(i.element.style.maxHeight!==s.maxHeight&&(i.allowMaxHeight=!1,i.element.style.maxHeight=s.maxHeight),i.enableResize&&i.boundWindowResizeHandler==null&&!i.initialRender&&i.wireWindowResizeEvent(),i.storeActiveElement=document.activeElement,i.element.tabIndex=-1,i.isModal&&!h(i.dlgOverlay))if(i.dlgOverlay.style.display="block",i.dlgContainer.style.display="flex",k([i.dlgOverlay],"e-fade"),h(i.targetEle))L([document.body],[Ei,hi]);else{i.targetEle===document.body?i.dlgContainer.style.position="fixed":i.dlgContainer.style.position="absolute",i.dlgOverlay.style.position="absolute";var r=i.getTargetContainer(i.target);if(r instanceof Element){var o=window.getComputedStyle(r);o.getPropertyValue("direction")==="rtl"?i.element.style.position="absolute":i.element.style.position="relative"}else i.element.style.position="relative";L([i.targetEle],[Ei,hi])}var l={name:i.animationSettings.effect==="None"&&Wt==="Enable"?"ZoomIn":i.animationSettings.effect+"In",duration:i.animationSettings.duration,delay:i.animationSettings.delay},c=i.isModal?i.element.parentElement:i.element;if(i.calculatezIndex&&(i.setzIndex(c,!0),se(i.element,{zIndex:i.zIndex}),i.isModal&&i.setOverlayZindex(i.zIndex)),i.animationSettings.effect==="None"&&Wt==="Enable"?i.popupObj.show(l):i.animationSettings.effect==="None"?i.popupObj.show():i.popupObj.show(l),i.isModal){var r=i.getTargetContainer(i.target);if(r instanceof Element){var o=window.getComputedStyle(r);o.getPropertyValue("direction")==="rtl"&&!i.IsDragStop&&i.setPopupPosition()}}i.dialogOpen=!0;var d=i.isProtectedOnChange;i.isProtectedOnChange=!0,i.visible=!0,i.preventVisibility=!0,i.isProtectedOnChange=d}})}this.isReact&&this.renderReactTemplates()}},t.prototype.hide=function(e){var i=this;if(this.element.classList.contains(da)&&this.preventVisibility){var s=ie()?{cancel:!1,isInteracted:!!e,element:this.element,container:this.isModal?this.dlgContainer:this.element,event:e}:{cancel:!1,isInteracted:!!e,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:e,closedBy:this.dlgClosedBy};this.closeArgs=s,this.trigger("beforeClose",s,function(n){if(!n.cancel){i.isModal&&(h(i.targetEle)||k([i.targetEle],[Ei,hi])),i.enableResize&&i.unWireWindowResizeEvent(),document.body.classList.contains(Ei)&&document.body.classList.contains(hi)&&k([document.body],[Ei,hi]);var r={name:i.animationSettings.effect==="None"&&Wt==="Enable"?"ZoomOut":i.animationSettings.effect+"Out",duration:i.animationSettings.duration,delay:i.animationSettings.delay};i.animationSettings.effect==="None"&&Wt==="Enable"?i.popupObj.hide(r):i.animationSettings.effect==="None"?i.popupObj.hide():i.popupObj.hide(r),i.dialogOpen=!1;var o=i.isProtectedOnChange;i.isProtectedOnChange=!0,i.visible=!1,i.preventVisibility=!1,i.isProtectedOnChange=o}i.dlgClosedBy=Hl})}},t.prototype.fullScreen=function(e){var i=this.element.offsetTop,s=this.element.offsetLeft;if(e){this.isModal||(this.element.style.top=document.scrollingElement.scrollTop+"px"),L([this.element],ua);var n=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=h(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=n,L([document.body],[Ei,hi]),this.allowDragging&&!h(this.dragObj)&&this.dragObj.destroy()}else k([this.element],ua),k([document.body],[Ei,hi]),this.allowDragging&&!h(this.headerContent)&&this.setAllowDragging();return e},t.prototype.getButtons=function(e){return h(e)?this.btnObj:this.btnObj[e]},Me([y("")],t.prototype,"content",void 0),Me([y(!0)],t.prototype,"enableHtmlSanitizer",void 0),Me([y(!1)],t.prototype,"enablePersistence",void 0),Me([y(!1)],t.prototype,"showCloseIcon",void 0),Me([y(!1)],t.prototype,"isModal",void 0),Me([y("")],t.prototype,"header",void 0),Me([y(!0)],t.prototype,"visible",void 0),Me([y(!1)],t.prototype,"enableResize",void 0),Me([y(["South-East"])],t.prototype,"resizeHandles",void 0),Me([y("auto")],t.prototype,"height",void 0),Me([y("")],t.prototype,"minHeight",void 0),Me([y("100%")],t.prototype,"width",void 0),Me([y("")],t.prototype,"cssClass",void 0),Me([y(1e3)],t.prototype,"zIndex",void 0),Me([y(null)],t.prototype,"target",void 0),Me([y("")],t.prototype,"footerTemplate",void 0),Me([y(!1)],t.prototype,"allowDragging",void 0),Me([Qt([{}],tb)],t.prototype,"buttons",void 0),Me([y(!0)],t.prototype,"closeOnEscape",void 0),Me([ye({},ib)],t.prototype,"animationSettings",void 0),Me([ye({X:"center",Y:"center"},yf)],t.prototype,"position",void 0),Me([z()],t.prototype,"created",void 0),Me([z()],t.prototype,"open",void 0),Me([z()],t.prototype,"beforeSanitizeHtml",void 0),Me([z()],t.prototype,"beforeOpen",void 0),Me([z()],t.prototype,"close",void 0),Me([z()],t.prototype,"beforeClose",void 0),Me([z()],t.prototype,"dragStart",void 0),Me([z()],t.prototype,"dragStop",void 0),Me([z()],t.prototype,"drag",void 0),Me([z()],t.prototype,"overlayClick",void 0),Me([z()],t.prototype,"resizeStart",void 0),Me([z()],t.prototype,"resizing",void 0),Me([z()],t.prototype,"resizeStop",void 0),Me([z()],t.prototype,"destroyed",void 0),t=Me([ke],t),t}(Ge),Ru;(function(a){function t(d){var p=P("div",{className:Ef});document.body.appendChild(p);var u,f=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return typeof d=="string"?u=i({content:d,position:{X:"center",Y:"top"},isModal:!0,header:ku,buttons:f},p):u=i(s(d),p),u.close=function(){d&&d.close&&d.close.apply(u),u.destroy(),u.element.classList.contains("e-dlg-modal")?(u.element.parentElement.remove(),u.target.classList.remove(Au)):u.element.remove()},u}a.alert=t;function e(d){var p=P("div",{className:Tf});document.body.appendChild(p);var u,f=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}];return typeof d=="string"?u=i({position:{X:"center",Y:"top"},content:d,isModal:!0,header:ku,buttons:f},p):u=i(n(d),p),u.close=function(){d&&d.close&&d.close.apply(u),u.destroy(),u.element.classList.contains("e-dlg-modal")?(u.element.parentElement.remove(),u.target.classList.remove(Au)):u.element.remove()},u}a.confirm=e;function i(d,p){var u=new ch(d);return u.appendTo(p),u}function s(d){var p={};return p.buttons=[],p=r(p,d),p=o(p,d),p}function n(d){var p={};return p.buttons=[],p=r(p,d),p=l(p,d),p}function r(d,p){return d.header=h(p.title)?null:p.title,d.content=h(p.content)?"":p.content,d.isModal=h(p.isModal)?!0:p.isModal,d.showCloseIcon=h(p.showCloseIcon)?!1:p.showCloseIcon,d.allowDragging=h(p.isDraggable)?!1:p.isDraggable,d.closeOnEscape=h(p.closeOnEscape)?!1:p.closeOnEscape,d.position=h(p.position)?{X:"center",Y:"top"}:p.position,d.animationSettings=h(p.animationSettings)?{effect:"Fade",duration:400,delay:0}:p.animationSettings,d.cssClass=h(p.cssClass)?"":p.cssClass,d.zIndex=h(p.zIndex)?1e3:p.zIndex,d.open=h(p.open)?null:p.open,d.width=h(p.width)?"auto":p.width,d.height=h(p.height)?"auto":p.height,d}function o(d,p){var u=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return h(p.okButton)?d.buttons=u:d.buttons[0]=c(d.buttons[0],p.okButton,u[0]),d}function l(d,p){var u={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},f={buttonModel:{content:"Cancel"},click:function(){this.hide()}};return h(p.okButton)?d.buttons[0]=u:d.buttons[0]=c(d.buttons[0],p.okButton,u),h(p.cancelButton)?d.buttons[1]=f:d.buttons[1]=c(d.buttons[1],p.cancelButton,f),d}function c(d,p,u){var f=u;return h(p.text)||(f.buttonModel.content=p.text),h(p.icon)||(f.buttonModel.iconCss=p.icon),h(p.cssClass)||(f.buttonModel.cssClass=p.cssClass),h(p.click)||(f.click=p.click),h(p.isFlat)||(f.isFlat=p.isFlat),f}})(Ru||(Ru={}));var Nf=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Le=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},mb=1500,gb=500,zu=0,Pu=8,vb=2,Ti=2,Fl="e-tooltip",Bu="e-rtl",yb="e-bigger",Hu="e-icons",Fu="e-tooltip-close",Ul="e-tooltip-wrap",Uu="e-tip-content",rn="e-arrow-tip",Vu="e-arrow-tip-outer",ma="e-arrow-tip-inner",qn="e-tip-bottom",Vl="e-tip-top",qu="e-tip-left",ql="e-tip-right",_l="e-popup",_n="e-popup-open",Wl="e-popup-close",ga="e-lib",bb="e-hidden",_u="e-tooltip-popup-container",Cb=function(a){Nf(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Le([y({effect:"FadeIn",duration:150,delay:0})],t.prototype,"open",void 0),Le([y({effect:"FadeOut",duration:150,delay:0})],t.prototype,"close",void 0),t}(ge),ms=function(a){Nf(t,a);function t(e,i){var s=a.call(this,e,i)||this;return s.mouseMoveEvent=null,s.mouseMoveTarget=null,s.containerElement=null,s.isBodyContainer=!0,s}return t.prototype.initialize=function(){this.formatPosition(),L([this.element],Fl)},t.prototype.formatPosition=function(){var e,i;this.position&&(this.position.indexOf("Top")===0||this.position.indexOf("Bottom")===0?(e=this.position.split(/(?=[A-Z])/),this.tooltipPositionY=e[0],this.tooltipPositionX=e[1]):(i=this.position.split(/(?=[A-Z])/),this.tooltipPositionX=i[0],this.tooltipPositionY=i[1]))},t.prototype.renderArrow=function(){this.setTipClass(this.position);var e=this.createElement("div",{className:rn+" "+this.tipClass});e.appendChild(this.createElement("div",{className:Vu+" "+this.tipClass})),e.appendChild(this.createElement("div",{className:ma+" "+this.tipClass})),this.tooltipEle.appendChild(e)},t.prototype.setTipClass=function(e){e.indexOf("Right")===0?this.tipClass=qu:e.indexOf("Bottom")===0?this.tipClass=Vl:e.indexOf("Left")===0?this.tipClass=ql:this.tipClass=qn},t.prototype.renderPopup=function(e){var i=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(e);this.tooltipEle.classList.remove(ga),this.popupObj=new jt(this.tooltipEle,{height:this.height,width:this.width,position:{X:i.left,Y:i.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})},t.prototype.getScalingFactor=function(e){if(!e)return{x:1,y:1};var i={x:1,y:1},s=e.closest('[style*="transform: scale"]');if(s&&s!==this.tooltipEle&&s.contains(this.tooltipEle)){var n=window.getComputedStyle(s),r=n.getPropertyValue("transform"),o=r.match(/matrix\(([^)]+)\)/)[1].split(",").map(parseFloat);i.x=o[0],i.y=o[3]}return i},t.prototype.getTooltipPosition=function(e){this.tooltipEle.style.display="block";var i=this.element.closest('[style*="zoom"]');i&&(i.contains(this.tooltipEle)||(this.tooltipEle.style.zoom=getComputedStyle(i).zoom));var s=Et(e,this.tooltipPositionX,this.tooltipPositionY,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect()),n=this.getScalingFactor(e),r=this.calculateTooltipOffset(this.position,n.x,n.y),o=this.calculateElementPosition(s,r),l=o[0],c=o[1],d=this.collisionFlipFit(e,l,c);return d.left=d.left/n.x,d.top=d.top/n.y,this.tooltipEle.style.display="",d},t.prototype.windowResize=function(){this.reposition(this.findTarget())},t.prototype.reposition=function(e){if(this.popupObj&&e){var i=this.getTooltipPosition(e);this.popupObj.position={X:i.left,Y:i.top},this.popupObj.dataBind()}},t.prototype.openPopupHandler=function(){!this.mouseTrail&&this.needTemplateReposition()&&this.reposition(this.findTarget()),this.trigger("afterOpen",this.tooltipEventArgs),this.tooltipEventArgs=null},t.prototype.closePopupHandler=function(){this.isReact&&!(this.opensOn==="Click"||typeof this.content=="function")&&this.clearTemplate(["content"]),this.clear();var e={type:this.tooltipEventArgs.event?this.tooltipEventArgs.event.type:null,cancel:!1,target:this.tooltipEventArgs.target,event:this.tooltipEventArgs.event?this.tooltipEventArgs.event:null,element:this.tooltipEle,isInteracted:!h(this.tooltipEventArgs.event)};this.trigger("afterClose",e),e=null},t.prototype.calculateTooltipOffset=function(e,i,s){i===void 0&&(i=1),s===void 0&&(s=1);var n={top:0,left:0},r,o,l,c,d,p,u,f;if(i!==1||s!==1){var m=this.tooltipEle.getBoundingClientRect(),g=void 0;l=Math.round(m.width),c=Math.round(m.height),d=W("."+rn,this.tooltipEle),d&&(g=d.getBoundingClientRect()),r=d?Math.round(g.width):0,o=d?Math.round(g.height):0,p=this.showTipPointer?zu:Pu,u=o/2+Ti+(c-this.tooltipEle.clientHeight*s),f=r/2+Ti+(l-this.tooltipEle.clientWidth*i)}else l=this.tooltipEle.offsetWidth,c=this.tooltipEle.offsetHeight,d=W("."+rn,this.tooltipEle),r=d?d.offsetWidth:0,o=d?d.offsetHeight:0,p=this.showTipPointer?zu:Pu,u=o/2+Ti+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),f=r/2+Ti+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(this.mouseTrail&&(p+=vb),e){case"RightTop":n.left+=r+p,n.top-=c-u;break;case"RightCenter":n.left+=r+p,n.top-=c/2;break;case"RightBottom":n.left+=r+p,n.top-=u;break;case"BottomRight":n.top+=o+p,n.left-=f;break;case"BottomCenter":n.top+=o+p,n.left-=l/2;break;case"BottomLeft":n.top+=o+p,n.left-=l-f;break;case"LeftBottom":n.left-=r+l+p,n.top-=u;break;case"LeftCenter":n.left-=r+l+p,n.top-=c/2;break;case"LeftTop":n.left-=r+l+p,n.top-=c-u;break;case"TopLeft":n.top-=c+o+p,n.left-=l-f;break;case"TopRight":n.top-=c+o+p,n.left-=f;break;default:n.top-=c+o+p,n.left-=l/2;break}return n.left+=this.offsetX,n.top+=this.offsetY,n},t.prototype.updateTipPosition=function(e){var i=ce("."+rn+",."+Vu+",."+ma,this.tooltipEle),s=[qn,Vl,qu,ql];k(i,s),this.setTipClass(e),L(i,this.tipClass)},t.prototype.adjustArrow=function(e,i,s,n){var r=W("."+rn,this.tooltipEle);if(!(this.showTipPointer===!1||r===null)){this.updateTipPosition(i);var o,l;this.tooltipEle.style.display="block";var c=this.tooltipEle.clientWidth,d=this.tooltipEle.clientHeight,p=W("."+ma,this.tooltipEle),u=r.offsetWidth,f=r.offsetHeight;if(this.tooltipEle.style.display="",this.tipClass===qn||this.tipClass===Vl){if(this.tipClass===qn?(l="99.9%",p.style.top="-"+(f-2)+"px"):(l=-(f-1)+"px",p.style.top="-"+(f-6)+"px"),e){var m=s!=="Center"||c>e.offsetWidth||this.mouseTrail;m&&s==="Left"||!m&&this.tipPointerPosition==="End"?o=c-u-Ti+"px":m&&s==="Right"||!m&&this.tipPointerPosition==="Start"?o=Ti+"px":m&&(this.tipPointerPosition==="End"||this.tipPointerPosition==="Start")?o=this.tipPointerPosition==="End"?e.offsetWidth+(this.tooltipEle.offsetWidth-e.offsetWidth)/2-u/2-Ti+"px":(this.tooltipEle.offsetWidth-e.offsetWidth)/2-u/2+Ti+"px":o=c/2-u/2+"px"}}else{this.tipClass===ql?(o="99.9%",p.style.left="-"+(u-2)+"px"):(o=-(u-1)+"px",p.style.left=-u+(u-2)+"px");var m=n!=="Center"||d>e.offsetHeight||this.mouseTrail;m&&n==="Top"||!m&&this.tipPointerPosition==="End"?l=d-f-Ti+"px":m&&n==="Bottom"||!m&&this.tipPointerPosition==="Start"?l=Ti+"px":l=d/2-f/2+"px"}r.style.top=l,r.style.left=o}},t.prototype.renderContent=function(e){var i=this,s=W("."+Uu,this.tooltipEle);if(this.cssClass&&L([this.tooltipEle],this.cssClass.split(" ")),e&&!h(e.getAttribute("title"))&&(e.setAttribute("data-content",e.getAttribute("title")),e.removeAttribute("title")),h(this.content))e&&!h(e.getAttribute("data-content"))&&(s.innerHTML=e.getAttribute("data-content"));else if(s.innerHTML="",this.content instanceof HTMLElement)s.appendChild(this.content);else if(typeof this.content=="string")if(this.isAngular?this.setProperties({content:Be.sanitize(this.content)},!0):this.content=this.enableHtmlSanitizer?Be.sanitize(this.content):this.content,this.enableHtmlParse){var n=kt(this.content),r=n({},this,"content",this.element.id+"content",void 0,void 0,s,this.root);r&&Pe(r,s)}else s.textContent=this.content;else{var o=kt(this.content),r=o({},this,"content",this.element.id+"content",void 0,void 0,s);r&&(this.isAngular&&setTimeout(function(){i.reposition(e)},0),Pe(r,s)),this.renderReactTemplates()}},t.prototype.renderCloseIcon=function(){if(!this.isSticky){var e=this.tooltipEle.querySelector("."+Hu+"."+Fu);e&&Je(e);return}var i=this.createElement("div",{className:Hu+" "+Fu});this.tooltipEle.appendChild(i),v.add(i,E.touchStartEvent,this.onStickyClose,this)},t.prototype.addDescribedBy=function(e,i){var s=(e.getAttribute("aria-describedby")||"").split(/\s+/);s.indexOf(i)<0&&s.push(i),le(e,{"aria-describedby":s.join(" ").trim(),"data-tooltip-id":i})},t.prototype.removeDescribedBy=function(e){var i=e.getAttribute("data-tooltip-id"),s=(e.getAttribute("aria-describedby")||"").split(/\s+/),n=s.indexOf(i);n!==-1&&s.splice(n,1),e.removeAttribute("data-tooltip-id");var r=s.join(" ").trim();r?e.setAttribute("aria-describedby",r):e.removeAttribute("aria-describedby")},t.prototype.tapHoldHandler=function(e){clearTimeout(this.autoCloseTimer),this.targetHover(e.originalEvent)},t.prototype.touchEndHandler=function(){var e=this;if(!this.isSticky){var i=function(){e.close()};this.autoCloseTimer=setTimeout(i,mb)}},t.prototype.targetClick=function(e){var i;this.target?i=M(e.target,this.target):i=this.element,!h(i)&&(i.getAttribute("data-tooltip-id")===null?this.targetHover(e):this.isSticky||this.hideTooltip(this.animation.close,e,i))},t.prototype.targetHover=function(e){var i;if(this.target?i=M(e.target,this.target):i=this.element,!(h(i)||i.getAttribute("data-tooltip-id")!==null&&this.closeDelay===0)){for(var s=[].slice.call(ce('[data-tooltip-id= "'+this.ctrlId+'_content"]',document)),n=0,r=s;n<r.length;n++){var o=r[n];this.restoreElement(o)}this.showTooltip(i,this.animation.open,e)}},t.prototype.mouseMoveBeforeOpen=function(e){this.mouseMoveEvent=e},t.prototype.mouseMoveBeforeRemove=function(){this.mouseMoveTarget&&v.remove(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen)},t.prototype.showTooltip=function(e,i,s){var n=this;clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.openDelay&&this.mouseTrail&&(this.mouseMoveBeforeRemove(),this.mouseMoveTarget=e,v.add(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen,this)),this.tooltipEventArgs={type:s?s.type:null,cancel:!1,target:e,event:s||null,element:this.tooltipEle,isInteracted:!h(s)};var r=function(o){n.beforeRenderCallback(o,e,s,i)};this.trigger("beforeRender",this.tooltipEventArgs,r.bind(this))},t.prototype.beforeRenderCallback=function(e,i,s,n){e.cancel?(this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove()):(this.isHidden=!1,h(this.tooltipEle)?(this.ctrlId=this.element.getAttribute("id")?Ae(this.element.getAttribute("id")):Ae("tooltip"),this.tooltipEle=this.createElement("div",{className:Ul+" "+_l+" "+ga,attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"},styles:"width:"+X(this.width)+";height:"+X(this.height)+";position:absolute;"}),this.tooltipBeforeRender(i,this),this.tooltipAfterRender(i,s,n,this)):i&&(this.adjustArrow(i,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDescribedBy(i,this.ctrlId+"_content"),this.renderContent(i),ai.stop(this.tooltipEle),this.reposition(i),this.tooltipAfterRender(i,s,n,this)))},t.prototype.appendContainer=function(e){typeof this.container=="string"?this.container==="body"?this.containerElement=document.body:(this.isBodyContainer=!1,this.containerElement=W(this.container,document)):this.container instanceof HTMLElement&&(this.containerElement=this.container,this.isBodyContainer=this.containerElement.tagName==="BODY"),this.isBodyContainer||L([this.containerElement],_u),this.containerElement.appendChild(e.tooltipEle)},t.prototype.tooltipBeforeRender=function(e,i){e&&(E.isDevice&&L([i.tooltipEle],yb),i.width!=="auto"&&(i.tooltipEle.style.maxWidth=X(i.width)),i.tooltipEle.appendChild(i.createElement("div",{className:Uu})),this.appendContainer(i),k([i.tooltipEle],bb),i.addDescribedBy(e,i.ctrlId+"_content"),i.renderContent(e),L([i.tooltipEle],_n),i.showTipPointer&&i.renderArrow(),i.renderCloseIcon(),i.renderPopup(e),i.adjustArrow(e,i.position,i.tooltipPositionX,i.tooltipPositionY),ai.stop(i.tooltipEle),i.reposition(e))},t.prototype.tooltipAfterRender=function(e,i,s,n){if(e){k([n.tooltipEle],_n),L([n.tooltipEle],Wl),n.tooltipEventArgs={type:i?i.type:null,cancel:!1,target:e,event:i||null,element:n.tooltipEle,isInteracted:!h(i)},n.needTemplateReposition()&&!n.mouseTrail&&(s.effect==="None"||s.effect=="FadeIn"||this.isReact&&typeof n.content!="string")&&(n.tooltipEle.style.display="none");var r=function(o){n.beforeOpenCallback(o,e,s,i)};n.trigger("beforeOpen",n.tooltipEventArgs,r.bind(n))}},t.prototype.beforeOpenCallback=function(e,i,s,n){var r=this;if(e.cancel)this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove(),this.restoreElement(i);else{var o={name:s.effect==="None"&&Wt==="Enable"?"FadeIn":this.animation.open.effect,duration:s.duration,delay:s.delay,timingFunction:"easeOut"};if(s.effect==="None"&&(o=void 0),this.openDelay>0){var l=function(){r.mouseTrail&&v.add(i,"mousemove touchstart mouseenter",r.onMouseMove,r),r.popupObj&&(r.popupObj.show(o,i),r.mouseMoveEvent&&r.mouseTrail&&r.onMouseMove(r.mouseMoveEvent))};this.showTimer=setTimeout(l,this.openDelay)}else this.popupObj&&this.popupObj.show(o,i)}n&&this.wireMouseEvents(n,i)},t.prototype.needTemplateReposition=function(){var e=this;return!h(e.viewContainerRef)&&typeof e.viewContainerRef!="string"||this.isReact},t.prototype.checkCollision=function(e,i,s){var n={left:i,top:s,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},r=us(this.tooltipEle,this.checkCollideTarget(),i,s);return r.length>0&&(n.horizontal=r.indexOf("left")>=0?"Right":r.indexOf("right")>=0?"Left":this.tooltipPositionX,n.vertical=r.indexOf("top")>=0?"Bottom":r.indexOf("bottom")>=0?"Top":this.tooltipPositionY),n},t.prototype.calculateElementPosition=function(e,i){return[this.isBodyContainer?e.left+i.left:e.left-this.containerElement.getBoundingClientRect().left+i.left+window.pageXOffset+this.containerElement.scrollLeft,this.isBodyContainer?e.top+i.top:e.top-this.containerElement.getBoundingClientRect().top+i.top+window.pageYOffset+this.containerElement.scrollTop]},t.prototype.collisionFlipFit=function(e,i,s){var n=this.checkCollision(e,i,s),r=n.position;if(this.tooltipPositionY!==n.vertical&&(r=this.position.indexOf("Bottom")===0||this.position.indexOf("Top")===0?n.vertical+this.tooltipPositionX:this.tooltipPositionX+n.vertical),this.tooltipPositionX!==n.horizontal&&(r.indexOf("Left")===0&&(n.vertical=r==="LeftTop"||r==="LeftCenter"?"Top":"Bottom",r=n.vertical+"Left"),r.indexOf("Right")===0&&(n.vertical=r==="RightTop"||r==="RightCenter"?"Top":"Bottom",r=n.vertical+"Right"),n.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:e,event:null,element:this.tooltipEle,collidedPosition:r},this.trigger("beforeCollision",this.tooltipEventArgs),this.tooltipEventArgs.cancel)r=this.position;else{var o=n.vertical,l=n.horizontal;if(n.position!==r){var c=Et(e,l,o,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect());this.adjustArrow(e,r,l,o);var d=this.getScalingFactor(e),p=this.calculateTooltipOffset(r,d.x,d.y);p.top-=this.getOffSetPosition("TopBottom",r,this.offsetY),p.left-=this.getOffSetPosition("RightLeft",r,this.offsetX),n.position=r;var u=this.calculateElementPosition(c,p);n.left=u[0],n.top=u[1]}else this.adjustArrow(e,r,l,o)}var f={left:n.left,top:n.top},m=this.isBodyContainer?Zl(this.tooltipEle,this.checkCollideTarget(),{X:!0,Y:this.windowCollision},f):f;this.tooltipEle.style.display="block";var g=W("."+rn,this.tooltipEle);if(this.showTipPointer&&g!=null&&(r.indexOf("Bottom")===0||r.indexOf("Top")===0)){var b=parseInt(g.style.left,10)-(m.left-n.left);b<0?b=0:b+g.offsetWidth>this.tooltipEle.clientWidth&&(b=this.tooltipEle.clientWidth-g.offsetWidth),g.style.left=b.toString()+"px"}return this.tooltipEle.style.display="",f.left=m.left,f.top=m.top,f},t.prototype.getOffSetPosition=function(e,i,s){return e.indexOf(this.position.split(/(?=[A-Z])/)[0])!==-1&&e.indexOf(i.split(/(?=[A-Z])/)[0])!==-1?2*s:0},t.prototype.checkCollideTarget=function(){return!this.windowCollision&&this.target?this.element:null},t.prototype.hideTooltip=function(e,i,s){var n=this;if(this.closeDelay>0){clearTimeout(this.hideTimer),clearTimeout(this.showTimer);var r=function(){n.closeDelay&&n.tooltipEle&&n.isTooltipOpen||n.tooltipHide(e,i,s)};this.hideTimer=setTimeout(r,this.closeDelay)}else this.tooltipHide(e,i,s)},t.prototype.tooltipHide=function(e,i,s){var n=this,r;i?r=this.target?s||i.target:this.element:r=W('[data-tooltip-id= "'+this.ctrlId+'_content"]',document),this.tooltipEventArgs={type:i?i.type:null,cancel:!1,target:r,event:i||null,element:this.tooltipEle,isInteracted:!h(i)},this.trigger("beforeClose",this.tooltipEventArgs,function(o){o.cancel?n.isHidden=!1:(n.mouseMoveBeforeRemove(),n.popupHide(e,r,i))})},t.prototype.popupHide=function(e,i,s){i&&s&&this.restoreElement(i),this.isHidden=!0;var n={name:e.effect==="None"&&Wt==="Enable"?"FadeOut":this.animation.close.effect,duration:e.duration,delay:e.delay,timingFunction:"easeIn"};e.effect==="None"&&(n=void 0),this.popupObj&&this.popupObj.hide(n)},t.prototype.restoreElement=function(e){this.unwireMouseEvents(e),h(e.getAttribute("data-content"))||(e.setAttribute("title",e.getAttribute("data-content")),e.removeAttribute("data-content")),this.removeDescribedBy(e)},t.prototype.clear=function(){var e=this.findTarget();e&&this.restoreElement(e),this.tooltipEle&&(k([this.tooltipEle],Wl),L([this.tooltipEle],_n)),this.isHidden&&(this.popupObj&&this.popupObj.destroy(),this.tooltipEle&&Je(this.tooltipEle),this.tooltipEle=null,this.popupObj=null)},t.prototype.tooltipHover=function(){this.tooltipEle&&(this.isTooltipOpen=!0)},t.prototype.tooltipMouseOut=function(e){this.isTooltipOpen=!1,this.hideTooltip(this.animation.close,e,this.findTarget())},t.prototype.onMouseOut=function(e){var i=e.relatedTarget;if(i&&!this.mouseTrail){var s=M(i,"."+Ul+"."+ga+"."+_l);s?v.add(s,"mouseleave",this.tooltipElementMouseOut,this):(this.hideTooltip(this.animation.close,e,this.findTarget()),this.closeDelay===0&&(this.animation.close.effect==="None"||this.isReact&&typeof this.content!="string")&&this.clear())}else this.hideTooltip(this.animation.close,e,this.findTarget()),this.clear();this.popupObj&&!this.popupObj.element.classList.contains(_n)&&this.clear()},t.prototype.tooltipElementMouseOut=function(e){this.hideTooltip(this.animation.close,e,this.findTarget()),v.remove(this.element,"mouseleave",this.tooltipElementMouseOut),this.clear()},t.prototype.onStickyClose=function(){this.close()},t.prototype.onMouseMove=function(e){var i=0,s=0;e.type.indexOf("touch")>-1?(e.preventDefault(),i=e.touches[0].pageX,s=e.touches[0].pageY):(i=e.pageX,s=e.pageY),ai.stop(this.tooltipEle),k([this.tooltipEle],Wl),L([this.tooltipEle],_n),this.adjustArrow(e.target,this.position,this.tooltipPositionX,this.tooltipPositionY);var n=this.getScalingFactor(e.target),r=this.calculateTooltipOffset(this.position,n.x,n.y),o=i+r.left+this.offsetX,l=s+r.top+this.offsetY,c=this.checkCollision(e.target,o,l);if(this.tooltipPositionX!==c.horizontal||this.tooltipPositionY!==c.vertical){var d=this.position.indexOf("Bottom")===0||this.position.indexOf("Top")===0?c.vertical+c.horizontal:c.horizontal+c.vertical;c.position=d,this.adjustArrow(e.target,c.position,c.horizontal,c.vertical);var p=this.calculateTooltipOffset(c.position,n.x,n.y);c.left=i+p.left-this.offsetX,c.top=s+p.top-this.offsetY}this.tooltipEle.style.left=c.left+"px",this.tooltipEle.style.top=c.top+"px"},t.prototype.keyDown=function(e){this.tooltipEle&&e.keyCode===27&&this.close()},t.prototype.touchEnd=function(e){this.tooltipEle&&M(e.target,"."+Fl)===null&&!this.isSticky&&this.close()},t.prototype.scrollHandler=function(e){this.tooltipEle&&!this.isSticky&&!M(e.target,"."+Ul+"."+ga+"."+_l)&&!this.isSticky&&this.close()},t.prototype.render=function(){this.initialize(),this.wireEvents(this.opensOn),this.renderComplete()},t.prototype.preRender=function(){this.tipClass=qn,this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0},t.prototype.wireEvents=function(e){for(var i=this.getTriggerList(e),s=0,n=i;s<n.length;s++){var r=n[s];if(r==="Custom")return;r==="Focus"&&this.wireFocusEvents(),r==="Click"&&v.add(this.element,E.touchStartEvent,this.targetClick,this),r==="Hover"&&(E.isDevice?(this.touchModule=new Si(this.element,{tapHoldThreshold:gb,tapHold:this.tapHoldHandler.bind(this)}),v.add(this.element,E.touchEndEvent,this.touchEndHandler,this)):v.add(this.element,"mouseover",this.targetHover,this))}this.windowResizeBound=this.windowResize.bind(this),this.keyDownBound=this.keyDown.bind(this),this.touchEndBound=this.touchEnd.bind(this),this.scrollWheelBound=this.scrollHandler.bind(this),document.addEventListener("wheel",this.scrollWheelBound),document.addEventListener("scroll",this.scrollWheelBound),document.addEventListener("touchend",this.touchEndBound),document.addEventListener("keydown",this.keyDownBound),window.addEventListener("resize",this.windowResizeBound)},t.prototype.getTriggerList=function(e){return e?(e==="Auto"&&(e=E.isDevice?"Hover":"Hover Focus"),e.split(" ")):[]},t.prototype.wireFocusEvents=function(){if(h(this.target))v.add(this.element,"focusin",this.targetHover,this);else{var e=[].slice.call(ce(this.target,this.element));if(this.targetsList=e,!h(this.targetsList)&&this.targetsList.length>0)for(var i=0,s=e;i<s.length;i++){var n=s[i];v.add(n,"focus",this.targetHover,this)}else v.add(this.element,"focusin",this.targetHover,this)}},t.prototype.wireMouseEvents=function(e,i){this.tooltipEle&&(this.isSticky||(e.type==="focus"&&v.add(i,"blur",this.onMouseOut,this),e.type==="focusin"&&v.add(i,"focusout",this.onMouseOut,this),e.type==="mouseover"&&v.add(i,"mouseleave",this.onMouseOut,this),this.closeDelay&&(v.add(this.tooltipEle,"mouseenter",this.tooltipHover,this),v.add(this.tooltipEle,"mouseleave",this.tooltipMouseOut,this))),this.mouseTrail&&this.openDelay===0&&v.add(i,"mousemove touchstart mouseenter",this.onMouseMove,this))},t.prototype.unwireEvents=function(e){for(var i=this.getTriggerList(e),s=0,n=i;s<n.length;s++){var r=n[s];if(r==="Custom")return;r==="Focus"&&this.unwireFocusEvents(),r==="Click"&&v.remove(this.element,E.touchStartEvent,this.targetClick),r==="Hover"&&(E.isDevice?(this.touchModule&&this.touchModule.destroy(),v.remove(this.element,E.touchEndEvent,this.touchEndHandler)):v.remove(this.element,"mouseover",this.targetHover))}document.removeEventListener("touchend",this.touchEndBound),this.touchEndBound=null,document.removeEventListener("wheel",this.scrollWheelBound),document.removeEventListener("scroll",this.scrollWheelBound),this.scrollWheelBound=null,window.removeEventListener("resize",this.windowResizeBound),this.windowResizeBound=null,document.removeEventListener("keydown",this.keyDownBound),this.keyDownBound=null},t.prototype.unwireFocusEvents=function(){if(h(this.target))v.remove(this.element,"focusin",this.targetHover);else{var e=[].slice.call(ce(this.target,this.element));if(!h(this.targetsList)&&this.targetsList.length>0)for(var i=0,s=e;i<s.length;i++){var n=s[i];v.remove(n,"focus",this.targetHover)}else v.remove(this.element,"focusin",this.targetHover)}},t.prototype.unwireMouseEvents=function(e){if(!this.isSticky){for(var i=this.getTriggerList(this.opensOn),s=0,n=i;s<n.length;s++){var r=n[s];r==="Focus"&&(v.remove(e,"blur",this.onMouseOut),v.remove(e,"focusout",this.onMouseOut)),r==="Hover"&&!E.isDevice&&v.remove(e,"mouseleave",this.onMouseOut)}this.closeDelay&&(v.remove(e,"mouseenter",this.tooltipHover),v.remove(e,"mouseleave",this.tooltipMouseOut))}this.mouseTrail&&v.remove(e,"mousemove touchstart mouseenter",this.onMouseMove)},t.prototype.findTarget=function(){var e=W('[data-tooltip-id= "'+this.ctrlId+'_content"]',document);return e},t.prototype.getModuleName=function(){return"tooltip"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.onPropertyChanged=function(e,i){for(var s=this.findTarget(),n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];switch(o){case"width":this.tooltipEle&&s&&(this.tooltipEle.style.width=this.tooltipEle.style.maxWidth=X(e.width),this.reposition(s));break;case"height":this.tooltipEle&&s&&(this.tooltipEle.style.height=X(e.height),this.reposition(s));break;case"content":this.tooltipEle&&this.renderContent();break;case"opensOn":this.unwireEvents(i.opensOn),this.wireEvents(e.opensOn);break;case"position":if(this.formatPosition(),this.tooltipEle&&s){var l=W("."+ma,this.tooltipEle);l&&(l.style.top=l.style.left=null),this.reposition(s)}break;case"tipPointerPosition":this.tooltipEle&&s&&this.reposition(s);break;case"offsetX":if(this.tooltipEle){var c=e.offsetX-i.offsetX;this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+c).toString()+"px"}break;case"offsetY":if(this.tooltipEle){var d=e.offsetY-i.offsetY;this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+d).toString()+"px"}break;case"cssClass":this.tooltipEle&&(i.cssClass&&k([this.tooltipEle],i.cssClass.split(" ")),e.cssClass&&L([this.tooltipEle],e.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?L([this.tooltipEle],Bu):k([this.tooltipEle],Bu));break;case"isSticky":this.tooltipEle&&s&&(this.renderCloseIcon(),this.reposition(s));break;case"container":h(this.containerElement)||k([this.containerElement],_u),this.container=e.container,this.tooltipEle&&s&&(this.appendContainer(this),this.reposition(s))}}},t.prototype.open=function(e,i){h(i)&&(i=this.animation.open),h(e)&&(e=this.element),e.style.display!=="none"&&this.showTooltip(e,i)},t.prototype.close=function(e){e||(e=this.animation.close),this.hideTooltip(e)},t.prototype.refresh=function(e){if(this.tooltipEle&&this.renderContent(e),this.popupObj&&e&&this.reposition(e),!h(this.targetsList)&&!h(this.target)){var i=ce(this.target,this.element);i.length!==this.targetsList.length&&(this.unwireEvents(this.opensOn),this.wireEvents(this.opensOn))}},t.prototype.destroy=function(){a.prototype.destroy.call(this),this.tooltipEle&&Je(this.tooltipEle),this.popupObj&&this.popupObj.destroy(),gf(),k([this.element],Fl),this.unwireEvents(this.opensOn),this.unwireMouseEvents(this.element),this.tooltipEle=null,this.popupObj=null;for(var e=ce('[data-tooltip-id= "'+this.ctrlId+'_content"]',this.element),i=0,s=e;i<s.length;i++){var n=s[i];this.restoreElement(n)}this.containerElement=null,this.tipClass=null,this.tooltipPositionX=null,this.tooltipPositionY=null,this.ctrlId=null,this.tooltipEventArgs=null,this.touchModule=null,this.mouseMoveEvent=null,this.mouseMoveTarget=null,this.containerElement=null,this.targetsList=null},Le([y("auto")],t.prototype,"width",void 0),Le([y("auto")],t.prototype,"height",void 0),Le([y()],t.prototype,"content",void 0),Le([y("body")],t.prototype,"container",void 0),Le([y()],t.prototype,"target",void 0),Le([y("TopCenter")],t.prototype,"position",void 0),Le([y(0)],t.prototype,"offsetX",void 0),Le([y(0)],t.prototype,"offsetY",void 0),Le([y(!0)],t.prototype,"showTipPointer",void 0),Le([y(!0)],t.prototype,"enableHtmlParse",void 0),Le([y(!1)],t.prototype,"windowCollision",void 0),Le([y("Auto")],t.prototype,"tipPointerPosition",void 0),Le([y("Auto")],t.prototype,"opensOn",void 0),Le([y(!1)],t.prototype,"mouseTrail",void 0),Le([y(!1)],t.prototype,"isSticky",void 0),Le([ye({},Cb)],t.prototype,"animation",void 0),Le([y(0)],t.prototype,"openDelay",void 0),Le([y(0)],t.prototype,"closeDelay",void 0),Le([y()],t.prototype,"cssClass",void 0),Le([y(!0)],t.prototype,"enableHtmlSanitizer",void 0),Le([y("")],t.prototype,"htmlAttributes",void 0),Le([z()],t.prototype,"beforeRender",void 0),Le([z()],t.prototype,"beforeOpen",void 0),Le([z()],t.prototype,"afterOpen",void 0),Le([z()],t.prototype,"beforeClose",void 0),Le([z()],t.prototype,"afterClose",void 0),Le([z()],t.prototype,"beforeCollision",void 0),Le([z()],t.prototype,"created",void 0),Le([z()],t.prototype,"destroyed",void 0),t=Le([ke],t),t}(Ge),dt={},Mb=30,Sb=30,Wu=30,Eb=30,Tb=30,Nb=30,Ib=36,Db=36,Ql="e-spin-show",ba="e-spin-hide",Qu="e-spin-material",Yu="e-spin-material3",Gu="e-spin-fabric",Xu="e-spin-fluent",Ku="e-spin-fluent2",$u="e-spin-tailwind",Lb="e-spin-bootstrap",Ju="e-spin-bootstrap4",Zu="e-spin-bootstrap5",ef="e-spin-high-contrast",Xl="e-spinner-pane",dh="e-spinner-inner",Ta="e-path-circle",wb="e-path-arc",Ob="e-spin-label",Kl="e-spin-template",tf=null,xb=null;function ln(a,t){var e;if(a.target){var i,s=h(t)?P:t,n=Zb(a.target,s);if(!h(a.cssClass)){var r=a.cssClass.split(" ").filter(function(d){return d.trim()!==""});(e=n.wrap.classList).add.apply(e,r)}if(!h(a.template)||!h(tf)){var o=h(a.template)?tf:a.template;n.wrap.classList.add(Kl),Kb(n.wrap,o,xb)}else{var l=h(a.type)?qb(n.wrap):a.type,c=h(a.width)?void 0:a.width;i=$b(c,l),_b(l,n.wrap,i,s),h(a.label)||kb(n.inner_wrap,a.label,s)}n.wrap.classList.add(ba),n=null}}function kb(a,t,e){var i=e("div",{});return i.classList.add(Ob),i.innerHTML=t,a.appendChild(i),i}function Ab(a,t,e){var i=Di();dt[""+i]={timeOut:0,type:"Material",radius:t},Na(a,i,e,Qu),Ia(t,a,"Material",Qu)}function jb(a,t,e){var i=Di();dt[""+i]={timeOut:0,type:"Material3",radius:t},Na(a,i,e,Yu),Ia(t,a,"Material3",Yu)}function Rb(a,t,e){var i=Di();dt[""+i]={timeOut:0,type:"Bootstrap4",radius:t},Na(a,i,e,Ju),Ia(t,a,"Bootstrap4",Ju)}function zb(a,t,e){var i=Di();dt[""+i]={timeOut:0,type:"Bootstrap5",radius:t},Na(a,i,e,Zu),Ia(t,a,"Bootstrap5",Zu)}function Pb(a,t,e){var i={},s=0;dt[""+t].timeOut=0,i[""+t]=Jb(t,e,0,0);var n={uniqueID:t,container:a,globalInfo:i,timeOutVar:s};If(n)}function Bb(a,t,e){var i=Di();dt[""+i]={timeOut:0,type:"Fabric",radius:t},$n(a,i,Gu),Jn(t,a,Gu)}function Hb(a,t,e){var i=Di();dt[""+i]={timeOut:0,type:"Fluent",radius:t},$n(a,i,Xu),Jn(t,a,Xu)}function Fb(a,t,e){var i=Di();dt[""+i]={timeOut:0,type:"Fluent2",radius:t},$n(a,i,Ku),Jn(t,a,Ku)}function Ub(a,t,e){var i=Di();dt[""+i]={timeOut:0,type:"Tailwind",radius:t},$n(a,i,$u),Jn(t,a,$u)}function Vb(a,t,e){var i=Di();dt[""+i]={timeOut:0,type:"HighContrast",radius:t},$n(a,i,ef),Jn(t,a,ef)}function qb(a){var t=window.getComputedStyle(a,":after").getPropertyValue("content");return t.replace(/['"]+/g,"")}function _b(a,t,e,i){var s=t.querySelector("."+dh),n=s.querySelector("svg");switch(h(n)||s.removeChild(n),a){case"Material":Ab(s,e,i);break;case"Material3":jb(s,e,i);break;case"Fabric":Bb(s,e);break;case"Fluent":Hb(s,e);break;case"Fluent2":Fb(s,e);break;case"Bootstrap":Wb(s,e);break;case"HighContrast":Vb(s,e);break;case"Bootstrap4":Rb(s,e,i);break;case"Bootstrap5":zb(s,e,i);break;case"Tailwind":case"Tailwind-dark":Ub(s,e);break}}function Wb(a,t,e){var i=Di();dt[""+i]={timeOut:0,type:"Bootstrap",radius:t},Qb(a,i),Yb(a,t)}function Qb(a,t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=64,n=32,r=2;i.setAttribute("id",t),i.setAttribute("class",Lb),i.setAttribute("viewBox","0 0 "+s+" "+s),a.insertBefore(i,a.firstChild);for(var o=0;o<=7;o++){var l=document.createElementNS("http://www.w3.org/2000/svg","circle");l.setAttribute("class",Ta+"_"+o),l.setAttribute("r",r+""),l.setAttribute("transform","translate("+n+","+n+")"),i.appendChild(l)}}function Yb(a,t){var e=a.querySelector("svg.e-spin-bootstrap"),i=0,s=0,n=24;e.style.width=e.style.height=t+"px";for(var r=90,o=0;o<=7;o++){var l=$l(i,s,n,r),c=e.querySelector("."+Ta+"_"+o);c.setAttribute("cx",l.x+""),c.setAttribute("cy",l.y+""),r=r>=360?0:r,r=r+45}}function Gb(a,t){var e=[],i=a,s=t,n=!1,r=1;o(i);function o(l){e.push(l),(l!==s||r===1)&&(l<=i&&l>1&&!n?l=parseFloat((l-.2).toFixed(2)):l===1?(l=7,l=parseFloat((l+.2).toFixed(2)),n=!0):l<8&&n?(l=parseFloat((l+.2).toFixed(2)),l===8&&(n=!1)):l<=8&&!n&&(l=parseFloat((l-.2).toFixed(2))),++r,o(l))}return e}function Xb(a){for(var t=a.querySelector("svg.e-spin-bootstrap"),e=t.getAttribute("id"),i=1;i<=8;i++){var s=a.getElementsByClassName("e-path-circle_"+(i===8?0:i))[0];n(s,i,i,Gb(i,i),e)}function n(r,o,l,c,d){var p=0;u(o);function u(f){dt[""+d].isAnimate&&(++p,r.setAttribute("r",f+""),p>=c.length&&(p=0),dt[d].timeOut=setTimeout(u.bind(null,c[p]),18))}}}function Kb(a,t,e){h(e)||a.classList.add(e);var i=a.querySelector(".e-spinner-inner");i.innerHTML=t}function $b(a,t){var e;switch(t){case"Material":e=Mb;break;case"Material3":e=Sb;break;case"Fabric":e=Wu;break;case"Tailwind":case"Tailwind-dark":e=Wu;break;case"Fluent":e=Eb;break;case"Fluent2":e=Tb;break;case"Bootstrap4":e=Ib;break;case"Bootstrap5":e=Db;break;default:e=Nb}return a=a?parseFloat(a+""):e,t==="Bootstrap"?a:a/2}function Jb(a,t,e,i){return{radius:t,count:e,previousId:i}}function Di(){for(var a="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=0;e<5;e++)a+=t.charAt(Math.floor(Math.random()*t.length));return a}function $n(a,t,e,i){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("id",t),s.setAttribute("class",e);var n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("class",Ta);var r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("class",wb),a.insertBefore(s,a.firstChild),s.appendChild(n),s.appendChild(r)}function Na(a,t,e,i){var s=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("class",i),s.setAttribute("id",t),n.setAttribute("class",Ta),a.insertBefore(s,a.firstChild),s.appendChild(n)}function Zb(a,t){var e=t("div",{}),i=t("div",{});return e.classList.add(Xl),i.classList.add(dh),i.setAttribute("aria-disabled","true"),a.appendChild(e),e.appendChild(i),{wrap:e,inner_wrap:i}}function If(a){var t=1,e=149,i=1333,s=75;eC(t,e,sC,i,a.globalInfo[a.uniqueID].count,s,a),a.globalInfo[a.uniqueID].count=++a.globalInfo[a.uniqueID].count%4}function eC(a,t,e,i,s,n,r){var o=++r.globalInfo[r.uniqueID].previousId,l=new Date().getTime(),c=t-a,d=tC(r.globalInfo[r.uniqueID].radius*2+""),p=Df(d),u=-90*(r.globalInfo[r.uniqueID].count||0);f(r);function f(g){var b=Math.max(0,Math.min(new Date().getTime()-l,i));m(e(b,a,c,i),g.container),o===g.globalInfo[g.uniqueID].previousId&&b<i?dt[g.uniqueID].timeOut=setTimeout(f.bind(null,g),1):If(g)}function m(g,b){if(!h(b.querySelector("svg.e-spin-material"))||!h(b.querySelector("svg.e-spin-material3"))){var S=void 0;if(!h(b.querySelector("svg.e-spin-material"))&&!h(b.querySelector("svg.e-spin-material").querySelector("path.e-path-circle"))?S=b.querySelector("svg.e-spin-material"):!h(b.querySelector("svg.e-spin-material3"))&&!h(b.querySelector("svg.e-spin-material3").querySelector("path.e-path-circle"))&&(S=b.querySelector("svg.e-spin-material3")),!h(S)){var T=S.querySelector("path.e-path-circle");T.setAttribute("stroke-dashoffset",Lf(d,p,g,n)+""),T.setAttribute("transform","rotate("+u+" "+d/2+" "+d/2+")")}}}}function Ia(a,t,e,i){var s=a*2,n=t.querySelector("svg."+i),r=n.querySelector("path.e-path-circle"),o=Df(s),l=s/2+"px";n.setAttribute("viewBox","0 0 "+s+" "+s),n.style.width=n.style.height=s+"px",n.style.transformOrigin=l+" "+l+" "+l,r.setAttribute("d",iC(s,o)),(e==="Material"||e==="Material3"||e==="Fluent2")&&(r.setAttribute("stroke-width",o+""),r.setAttribute("stroke-dasharray",(s-o)*Math.PI*.75+""),r.setAttribute("stroke-dashoffset",Lf(s,o,1,75)+""))}function tC(a){var t=parseFloat(a);return t}function iC(a,t){var e=a/2,i=t/2;return"M"+e+","+i+"A"+(e-i)+","+(e-i)+" 0 1 1 "+i+","+e}function Df(a){return 10/100*a}function Lf(a,t,e,i){return(a-t)*Math.PI*(3*i/100-e/100)}function sC(a,t,e,i){var s=(a/=i)*a,n=s*a;return t+e*(6*n*s+-15*s*s+10*n)}function Jn(a,t,e){var i=a,s=a,n=a*2,r=315,o=45,l=t.querySelector("."+e),c=l.querySelector(".e-path-circle"),d=l.querySelector(".e-path-arc"),p=n/2+"px";c.setAttribute("d",rC(i,s,a)),d.setAttribute("d",nC(i,s,a,r,o)),l.setAttribute("viewBox","0 0 "+n+" "+n),l.style.transformOrigin=p+" "+p+" "+p,l.style.width=l.style.height=n+"px"}function $l(a,t,e,i){var s=(i-90)*Math.PI/180;return{x:a+e*Math.cos(s),y:t+e*Math.sin(s)}}function nC(a,t,e,i,s){var n=$l(a,t,e,s),r=$l(a,t,e,i),o=["M",n.x,n.y,"A",e,e,0,0,0,r.x,r.y].join(" ");return o}function rC(a,t,e){var i=["M",a,t,"m",-e,0,"a",e,e,0,1,0,e*2,0,"a",e,e,0,1,0,-e*2,0].join(" ");return i}function hn(a){wf(a,!1),a=null}function wf(a,t){var e;if(a)if(a.classList.contains(Xl))e=a;else{var i=a.querySelectorAll("."+Xl);if(E.isIE){for(var s=0;s<i.length;s++)if(i[s].parentElement&&i[s].parentElement===a){e=i[s];break}}else e=Array.from(i).find(function(c){return c.parentElement===a})||null}if(a&&e){var n=e.querySelector("."+dh),r=t?!e.classList.contains(Kl)&&!e.classList.contains(ba):!e.classList.contains(Kl)&&!e.classList.contains(Ql);if(r){var o=e.querySelector("svg");if(h(o))return;var l=o.getAttribute("id");switch(dt[""+l].isAnimate=!t,dt[""+l].type){case"Material":case"Material3":t?clearTimeout(dt[l].timeOut):Pb(n,l,dt[l].radius);break;case"Bootstrap":t?clearTimeout(dt[l].timeOut):Xb(n);break}}t?ut(e,[ba],[Ql]):ut(e,[Ql],[ba]),a=null}}function $i(a){wf(a,!0),a=null}var aC=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),cn=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n};function dn(a,t){for(var e=ue({},a),i=0,s=Object.keys(e);i<s.length;i++){var n=s[i];t.indexOf(n)<0&&Hn(e,n)}return e}function oC(a,t){var e=t===40?0:a.childElementCount-1,i=e,s,n=a.querySelector(".e-selected");n&&n.classList.remove("e-selected");for(var r=0,o=a.children.length;r<o;r++)a.children[r].classList.contains("e-focused")&&(s=a.children[r],i=r,s.classList.remove("e-focused"),t===40?i++:i--,i===(t===40?a.childElementCount:-1)&&(i=e));s=a.children[i],i=Of(a,s,i,t),i!==-1&&(L([a.children[i]],"e-focused"),a.children[i].focus())}function Of(a,t,e,i,s){if(s===void 0&&(s=0),(t.classList.contains("e-separator")||t.classList.contains("e-disabled"))&&(e===(i===40?a.childElementCount-1:0)?e=i===40?0:a.childElementCount-1:i===40?e++:e--),t=a.children[e],t.classList.contains("e-separator")||t.classList.contains("e-disabled")){if(s++,s===a.childElementCount)return e=-1;e=Of(a,t,e,i,s)}return e}function lC(a,t){var e=[].slice.call(a.getElementsByClassName("e-blank-icon"));if(t){var i=[].slice.call(a.getElementsByClassName("e-item"));i.forEach(function(c){(c.style.paddingLeft||c.style.paddingRight)&&c.removeAttribute("style")})}if(e.length){var s=a.querySelector(".e-item:not(.e-blank-icon):not(.e-separator)");if(!h(s)){s.classList.contains("e-url")&&(s=s.querySelector(".e-menu-url"));var n=s.querySelector(".e-menu-icon"),r,o=a.classList.contains("e-rtl");o?r={padding:"paddingRight",margin:"marginLeft"}:r={padding:"paddingLeft",margin:"marginRight"};var l=parseInt(getComputedStyle(n).fontSize,10)+parseInt(getComputedStyle(n)[r.margin],10)+parseInt(getComputedStyle(s).paddingLeft,10)+"px";e.forEach(function(c){c.classList.contains("e-url")?c.querySelector(".e-menu-url").style[r.padding]=l:c.style[r.padding]=l})}}}var uh=function(a){aC(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return cn([y("")],t.prototype,"iconCss",void 0),cn([y("")],t.prototype,"id",void 0),cn([y(!1)],t.prototype,"separator",void 0),cn([y("")],t.prototype,"text",void 0),cn([y("")],t.prototype,"url",void 0),cn([y(!1)],t.prototype,"disabled",void 0),t}(ge),hC=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),ft=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},Li={DISABLED:"e-disabled",FOCUS:"e-focused",ICON:"e-menu-icon",ITEM:"e-item",POPUP:"e-dropdown-popup",RTL:"e-rtl",SEPARATOR:"e-separator",VERTICAL:"e-vertical"},pn=function(a){hC(t,a);function t(e,i){var s=a.call(this,e,i)||this;return s.isPopupCreated=!0,s}return t.prototype.preRender=function(){},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.toggle=function(){this.canOpen()?this.openPopUp():this.createPopupOnClick&&!this.isPopupCreated?(this.createPopup(),this.openPopUp()):this.closePopup()},t.prototype.render=function(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()},t.prototype.addItems=function(e,i){for(var s,n=this.items.length,r=0,o=this.items.length;r<o;r++)if(i===this.items[r].text){n=r;break}for(var l=e.length-1;l>=0;l--)s=new uh(this,"items",e[l],!0),this.items.splice(n,0,s);this.canOpen()||this.createItems()},t.prototype.removeItems=function(e,i){for(var s=!1,n=0,r=e.length;n<r;n++)for(var o=0,l=this.items.length;o<l;o++)if(e[n]===(i?this.items[o].id:this.items[o].text)){this.items.splice(o,1),s=!0;break}s&&this.getULElement()&&this.createItems()},t.prototype.createPopup=function(){var e,i=this.createElement("div",{className:Li.POPUP,id:this.element.id+"-popup"});document.body.appendChild(i),this.dropDown=new jt(i,{relateTo:this.element,collision:{X:"fit",Y:"flip"},position:{X:"left",Y:"bottom"},targetType:"relative",content:this.target?this.getTargetElement():"",enableRtl:this.enableRtl}),this.dropDown.element.setAttribute("role","dialog"),this.dropDown.element.setAttribute("aria-label","dropdown menu"),h(this.popupContent)||(this.popupContent.style.display=""),this.dropDown.element.style.position==="fixed"&&this.dropDown.refreshPosition(this.element),this.dropDown.hide(),le(this.element,(e={},e["aria-haspopup"]=this.items.length||this.target?"true":"false",e["aria-expanded"]="false",e.type="button",e)),this.cssClass&&L([i],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.isPopupCreated=!0},t.prototype.getTargetElement=function(){return this.createPopupOnClick&&!this.isColorPicker()&&!h(this.popupContent)?this.popupContent:typeof this.target=="string"?W(this.target):this.target},t.prototype.createItems=function(e){var i=this.items,s=this.hasIcon(this.items,"iconCss"),n,r,o,l,c=this.getULElement();c?c.innerHTML="":c=this.createElement("ul",{attrs:{role:"menu",tabindex:"0"}});for(var d=0;d<i.length;d++){r=i[d];var p=r.text;o=this.createElement("li",{innerHTML:r.url?"":p,className:r.separator?Li.ITEM+" "+Li.SEPARATOR:Li.ITEM,attrs:r.separator?{role:"separator",tabindex:"-1","aria-label":"separator","aria-hidden":"true"}:{role:"menuitem",tabindex:"-1","aria-label":p},id:r.id?r.id:Ae("e-"+this.getModuleName()+"-item")}),this.enableHtmlSanitizer?o.textContent=r.url?"":p:o.innerHTML=r.url?"":p,r.url&&(o.appendChild(this.createAnchor(r)),o.classList.add("e-url")),r.iconCss?(n=this.createElement("span",{className:Li.ICON+" "+r.iconCss}),r.url?o.childNodes[0].appendChild(n):o.insertBefore(n,o.childNodes[0])):s&&!r.separator&&o.classList.add("e-blank-icon");var u=r.disabled;r.disabled&&o.classList.add("e-disabled"),l={item:r,element:o},this.trigger("beforeItemRender",l);var f=l.item.disabled;u!==f&&(l.item.disabled?o.classList.add("e-disabled"):o.classList.remove("e-disabled")),c.appendChild(o)}e&&this.getPopUpElement().appendChild(c),s&&lC(this.getPopUpElement())},t.prototype.hasIcon=function(e,i){for(var s=0,n=e.length;s<n;s++)if(e[s][""+i])return!0;return!1},t.prototype.createAnchor=function(e){var i=this.enableHtmlSanitizer?Be.sanitize(e.text):e.text;return this.createElement("a",{className:"e-menu-text e-menu-url",innerHTML:i,attrs:{href:e.url}})},t.prototype.initialize=function(){this.button=new Vt({iconCss:this.iconCss,iconPosition:this.iconPosition,cssClass:this.cssClass,content:this.content,disabled:this.disabled,enableRtl:this.enableRtl,enablePersistence:this.enablePersistence}),this.button.createElement=this.createElement,this.button.appendTo(this.element),this.element.id||(this.element.id=Ae("e-"+this.getModuleName())),this.appendArrowSpan(),this.setActiveElem([this.element]),this.element.setAttribute("tabindex","0"),this.element.setAttribute("aria-label",this.element.textContent?this.element.textContent:"dropdownbutton"),this.target&&!this.isColorPicker()&&!this.createPopupOnClick||!this.createPopupOnClick?this.createPopup():(this.isPopupCreated=!1,this.target&&!this.isColorPicker()&&this.createPopupOnClick&&(this.popupContent=this.getTargetElement(),this.popupContent.style.display="none"))},t.prototype.isColorPicker=function(){if(!this.element)return!1;var e=this.element.previousSibling;return!!(e&&e.classList&&e.classList.contains("e-split-colorpicker"))},t.prototype.appendArrowSpan=function(){this.cssClass=h(this.cssClass)?"":this.cssClass,this.element.appendChild(this.createElement("span",{className:"e-btn-icon e-icons e-icon-"+(this.cssClass.indexOf(Li.VERTICAL)>-1?"bottom":"right")+" e-caret"}))},t.prototype.setActiveElem=function(e){this.activeElem=e},t.prototype.getModuleName=function(){return"dropdown-btn"},t.prototype.canOpen=function(){var e=!1;return this.isPopupCreated&&(e=this.getPopUpElement().classList.contains("e-popup-close")),e},t.prototype.destroy=function(){var e=this;if(a.prototype.destroy.call(this),this.getModuleName()==="dropdown-btn"){var i;this.element.querySelector("span.e-caret")&&N(this.element.querySelector("span.e-caret")),this.cssClass&&(i=this.cssClass.split(" ")),this.button.destroy(),i&&k([this.element],i),k(this.activeElem,["e-active"]);var s=this.element.getAttribute("class")?["aria-haspopup","aria-expanded","aria-owns","type"]:["aria-haspopup","aria-expanded","aria-owns","type","class"];s.forEach(function(n){e.element.removeAttribute(n)}),this.popupUnWireEvents(),this.destroyPopup(),this.isPopupCreated=!1,this.disabled||this.unWireEvents()}},t.prototype.destroyPopup=function(){if(this.isPopupCreated){if(this.dropDown.destroy(),this.getPopUpElement()){var e=document.getElementById(this.getPopUpElement().id);e&&(k([e],["e-popup-open","e-popup-close"]),N(e))}v.remove(this.getPopUpElement(),"click",this.clickHandler),v.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler),this.isPopupCreated&&this.dropDown&&(this.dropDown.element=null,this.dropDown=void 0)}this.isPopupCreated=!1},t.prototype.getPopUpElement=function(){var e=null;if(!this.dropDown&&this.activeElem[0].classList.contains("e-split-btn")){var i=ra(this.activeElem[1],"dropdown-btn");i&&(this.dropDown=i.dropDown)}return this.dropDown&&(e=this.dropDown.element),e},t.prototype.getULElement=function(){var e=null;return this.getPopUpElement()&&(e=this.getPopUpElement().children[0]),e},t.prototype.wireEvents=function(){this.delegateMousedownHandler=this.mousedownHandler.bind(this),this.createPopupOnClick||v.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),v.add(this.element,"click",this.clickHandler,this),v.add(this.element,"keydown",this.keyBoardHandler,this),v.add(window,"resize",this.windowResize,this)},t.prototype.windowResize=function(){!this.canOpen()&&this.dropDown&&this.dropDown.refreshPosition(this.element)},t.prototype.popupWireEvents=function(){this.delegateMousedownHandler||(this.delegateMousedownHandler=this.mousedownHandler.bind(this));var e=this.getPopUpElement();this.createPopupOnClick&&v.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),e&&(v.add(e,"click",this.clickHandler,this),v.add(e,"keydown",this.keyBoardHandler,this),this.closeActionEvents&&v.add(e,this.closeActionEvents,this.focusoutHandler,this)),this.rippleFn=Mi(e,{selector:"."+Li.ITEM})},t.prototype.popupUnWireEvents=function(){var e=this.getPopUpElement();this.createPopupOnClick&&v.remove(document,"mousedown touchstart",this.delegateMousedownHandler),e&&e.parentElement&&(v.remove(e,"click",this.clickHandler),v.remove(e,"keydown",this.keyBoardHandler),this.closeActionEvents&&v.remove(e,this.closeActionEvents,this.focusoutHandler)),Qi&&this.rippleFn&&this.rippleFn()},t.prototype.keyBoardHandler=function(e){if(!(e.target===this.element&&(e.keyCode===9||!e.altKey&&e.keyCode===40||e.keyCode===38)))switch(e.keyCode){case 38:case 40:e.altKey&&(e.keyCode===38||e.keyCode===40)?this.keyEventHandler(e):this.upDownKeyHandler(e);break;case 9:case 13:case 27:case 32:this.keyEventHandler(e);break}},t.prototype.upDownKeyHandler=function(e){this.target&&(e.keyCode===38||e.keyCode===40)||(e.preventDefault(),oC(this.getULElement(),e.keyCode))},t.prototype.keyEventHandler=function(e){if(!(this.target&&(e.keyCode===13||e.keyCode===9))){if(e.keyCode===13&&this.activeElem[0].classList.contains("e-split-btn")){this.triggerSelect(e),this.activeElem[0].focus();return}e.target&&e.target.className.indexOf("e-edit-template")>-1&&e.keyCode===32||(e.keyCode!==9&&e.preventDefault(),e.keyCode===27||e.keyCode===38||e.keyCode===9?this.canOpen()||this.closePopup(e,this.element):this.clickHandler(e))}},t.prototype.getLI=function(e){return e.tagName==="LI"?e:M(e,"li")},t.prototype.mousedownHandler=function(e){var i=e.target;this.dropDown&&!this.canOpen()&&!(M(i,'[id="'+this.getPopUpElement().id+'"]')||M(i,'[id="'+this.element.id+'"]'))&&this.closePopup(e)},t.prototype.focusoutHandler=function(e){if(this.isPopupCreated&&!this.canOpen()){var i=e.relatedTarget;if(i&&i.className.indexOf("e-item")>-1){var s=this.getLI(i);if(s){var n=Array.prototype.indexOf.call(this.getULElement().children,s),r=this.items[n];if(r){var o={element:s,item:r,event:e};this.trigger("select",o)}}}this.closePopup(e)}},t.prototype.clickHandler=function(e){var i=e.target;if(M(i,'[id="'+this.element.id+'"]'))!this.createPopupOnClick||this.target&&this.target!==""&&!this.isColorPicker()&&!this.createPopupOnClick?this.getPopUpElement().classList.contains("e-popup-close")?this.openPopUp(e):this.closePopup(e):this.isPopupCreated?this.closePopup(e,this.activeElem[0]):(this.createPopup(),this.openPopUp(e));else if(M(i,'[id="'+this.getPopUpElement().id+'"]')){var s=this.getLI(e.target);s&&(this.triggerSelect(e),this.closePopup(e,this.activeElem[0]))}},t.prototype.triggerSelect=function(e){var i,s,n,r=this.getLI(e.target);r&&(s=Array.prototype.indexOf.call(this.getULElement().children,r),n=this.items[s],n&&(i={element:r,item:n,event:e},this.trigger("select",i)))},t.prototype.openPopUp=function(e){var i=this;e===void 0&&(e=null);var s=this.getPopUpElement();if(!this.target)this.createItems(!0);else if(this.activeElem.length>1){var n=ra(this.activeElem[0],"split-btn");n.isReact&&s.childNodes.length<1&&(n.appendReactElement(this.getTargetElement(),this.getPopUpElement()),this.renderReactTemplates())}else this.isReact&&s.childNodes.length<1&&(this.appendReactElement(this.getTargetElement(),this.getPopUpElement()),this.renderReactTemplates());var r=this.getULElement();this.popupWireEvents();var o={element:r,items:this.items,event:e,cancel:!1};this.trigger("beforeOpen",o,function(l){if(!l.cancel){var c=i.getULElement();if(i.dropDown.show(null,i.element),L([i.element],"e-active"),i.element.setAttribute("aria-expanded","true"),i.element.setAttribute("aria-owns",i.getPopUpElement().id),c&&c.focus(),i.enableRtl&&c.parentElement.style.left!=="0px"){var d=void 0;i.element.parentElement&&i.element.parentElement.classList.contains("e-split-btn-wrapper")?d=i.element.parentElement.offsetWidth:d=i.element.offsetWidth;var p=c.parentElement.offsetWidth-d,u=parseFloat(c.parentElement.style.left)-p;u<0&&(u=0),c.parentElement.style.left=u+"px"}var f={element:c,items:i.items};i.trigger("open",f)}})},t.prototype.closePopup=function(e,i){var s=this;e===void 0&&(e=null);var n=this.getULElement(),r={element:n,items:this.items,event:e,cancel:!1};this.trigger("beforeClose",r,function(o){if(o.cancel)n&&n.focus();else{var l=s.getPopUpElement();l&&v.remove(l,"keydown",s.keyBoardHandler),s.popupUnWireEvents();var c=s.getULElement(),d=void 0;c&&(d=c.querySelector(".e-selected")),d&&d.classList.remove("e-selected"),s.dropDown.hide(),k(s.activeElem,"e-active"),s.element.setAttribute("aria-expanded","false"),s.element.removeAttribute("aria-owns"),i&&i.focus();var p={element:c,items:s.items};s.trigger("close",p),!s.target&&c&&N(c),(!s.target||s.isColorPicker()||s.target&&!s.isColorPicker())&&s.createPopupOnClick&&s.destroyPopup()}})},t.prototype.unWireEvents=function(){this.createPopupOnClick||v.remove(document,"mousedown touchstart",this.delegateMousedownHandler),v.remove(this.element,"click",this.clickHandler),v.remove(this.element,"keydown",this.keyBoardHandler),this.isPopupCreated&&(v.remove(this.getPopUpElement(),"click",this.clickHandler),v.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler)),v.remove(window,"resize",this.windowResize)},t.prototype.onPropertyChanged=function(e,i){var s=["content","cssClass","iconCss","iconPosition","disabled","enableRtl"];this.button.setProperties(dn(e,s));var n;this.isPopupCreated&&(n=this.getPopUpElement(),this.dropDown.setProperties(dn(e,["enableRtl"])));for(var r=0,o=Object.keys(e);r<o.length;r++){var l=o[r];switch(l){case"content":this.element.querySelector("span.e-caret")||this.appendArrowSpan();break;case"disabled":e.disabled?(this.unWireEvents(),this.isPopupCreated&&!this.canOpen()&&this.closePopup()):this.wireEvents();break;case"cssClass":if(e.cssClass.indexOf(Li.VERTICAL)>-1||i.cssClass.indexOf(Li.VERTICAL)>-1){this.element.querySelector("span.e-caret")||this.appendArrowSpan();var c=this.element.querySelector("span.e-caret");e.cssClass.indexOf(Li.VERTICAL)>-1?ut(c,["e-icon-bottom"],["e-icon-right"]):ut(c,["e-icon-right"],["e-icon-bottom"])}this.isPopupCreated&&(i.cssClass&&k([n],i.cssClass.split(" ")),e.cssClass&&L([n],e.cssClass.replace(/\s+/g," ").trim().split(" ")));break;case"target":this.dropDown.content=this.getTargetElement(),this.dropDown.dataBind();break;case"items":this.isPopupCreated&&this.getULElement()&&this.createItems();break;case"createPopupOnClick":e.createPopupOnClick?this.destroyPopup():this.createPopup();break}}},t.prototype.focusIn=function(){this.element.focus()},ft([y("")],t.prototype,"content",void 0),ft([y("")],t.prototype,"cssClass",void 0),ft([y(!1)],t.prototype,"disabled",void 0),ft([y("")],t.prototype,"iconCss",void 0),ft([y("Left")],t.prototype,"iconPosition",void 0),ft([y(!0)],t.prototype,"enableHtmlSanitizer",void 0),ft([Qt([],uh)],t.prototype,"items",void 0),ft([y(!1)],t.prototype,"createPopupOnClick",void 0),ft([y("")],t.prototype,"target",void 0),ft([y("")],t.prototype,"closeActionEvents",void 0),ft([z()],t.prototype,"beforeItemRender",void 0),ft([z()],t.prototype,"beforeOpen",void 0),ft([z()],t.prototype,"beforeClose",void 0),ft([z()],t.prototype,"close",void 0),ft([z()],t.prototype,"open",void 0),ft([z()],t.prototype,"select",void 0),ft([z()],t.prototype,"created",void 0),t=ft([ke],t),t}(Ge),cC=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),yt=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},Da="e-rtl",ph="EJS-SPLITBUTTON",xf=function(a){cC(t,a);function t(e,i){return a.call(this,e,i)||this}return t.prototype.preRender=function(){var e=this.element;if(e.tagName===ph){for(var i=B("ej2_instances",e),s=this.createElement("button",{attrs:{type:"button"}}),n=this.createElement(ph,{className:"e-"+this.getModuleName()+"-wrapper"}),r=0,o=e.attributes.length;r<o;r++)s.setAttribute(e.attributes[r].nodeName,e.attributes[r].nodeValue);e.parentNode.insertBefore(n,e),N(e),e=s,n.appendChild(e),pe("ej2_instances",i,e),this.wrapper=n,this.element=e}this.element.id||(this.element.id=Ae("e-"+this.getModuleName()))},t.prototype.render=function(){this.initWrapper(),this.createPrimaryButton(),this.renderControl()},t.prototype.renderControl=function(){this.createSecondaryButton(),this.setActiveElem([this.element,this.secondaryBtnObj.element]),this.setAria(),this.wireEvents(),this.renderComplete()},t.prototype.addItems=function(e,i){a.prototype.addItems.call(this,e,i),this.secondaryBtnObj.items=this.items},t.prototype.removeItems=function(e,i){a.prototype.removeItems.call(this,e,i),this.secondaryBtnObj.items=this.items},t.prototype.initWrapper=function(){this.wrapper||(this.wrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.element.parentNode.insertBefore(this.wrapper,this.element)),this.element.classList.remove("e-"+this.getModuleName()),this.enableRtl&&this.wrapper.classList.add(Da),this.cssClass&&L([this.wrapper],this.cssClass.replace(/\s+/g," ").trim().split(" "))},t.prototype.createPrimaryButton=function(){var e={cssClass:this.cssClass,enableRtl:this.enableRtl,iconCss:this.iconCss,iconPosition:this.iconPosition,content:this.content,disabled:this.disabled};this.primaryBtnObj=new Vt(e),this.primaryBtnObj.createElement=this.createElement,this.primaryBtnObj.appendTo(this.element),this.element.classList.add("e-"+this.getModuleName()),this.element.type="button",this.wrapper.appendChild(this.element)},t.prototype.createSecondaryButton=function(){var e=this,i=this.createElement("button",{className:"e-icon-btn",attrs:{tabindex:"-1"},id:this.element.id+"_dropdownbtn"});this.wrapper.appendChild(i);var s={cssClass:this.cssClass,disabled:this.disabled,enableRtl:this.enableRtl,items:this.items,target:this.target,createPopupOnClick:this.createPopupOnClick};s.beforeItemRender=function(n){e.createPopupOnClick&&(e.secondaryBtnObj.dropDown.relateTo=e.wrapper,e.dropDown=e.secondaryBtnObj.dropDown),e.trigger("beforeItemRender",n)},s.open=function(n){e.trigger("open",n)},s.close=function(n){e.trigger("close",n)},s.select=function(n){e.trigger("select",n)},s.beforeOpen=function(n){e.createPopupOnClick&&e.items.length===0&&(e.secondaryBtnObj.dropDown.relateTo=e.wrapper,e.dropDown=e.secondaryBtnObj.dropDown);var r=new Zn;return e.trigger("beforeOpen",n,function(o){r.resolve(o)}),r},s.beforeClose=function(n){var r=new Zn;return e.trigger("beforeClose",n,function(o){r.resolve(o)}),r},this.secondaryBtnObj=new pn(s),this.secondaryBtnObj.createElement=this.createElement,this.secondaryBtnObj.appendTo(i),this.createPopupOnClick||(this.secondaryBtnObj.dropDown.relateTo=this.wrapper,this.dropDown=this.secondaryBtnObj.dropDown),this.isPopupCreated=this.secondaryBtnObj.isPopupCreated,this.secondaryBtnObj.activeElem=[this.element,this.secondaryBtnObj.element],this.secondaryBtnObj.element.querySelector(".e-btn-icon").classList.remove("e-icon-right"),this.disabled&&this.wrapper.classList.add("e-splitbtn-disabled")},t.prototype.setAria=function(){le(this.element,{"aria-expanded":"false","aria-haspopup":"true","aria-label":this.element.textContent?this.element.textContent+" splitbutton":"splitbutton","aria-owns":this.element.id+"_dropdownbtn-popup"})},t.prototype.getModuleName=function(){return"split-btn"},t.prototype.toggle=function(){this.secondaryBtnObj.toggle()},t.prototype.destroy=function(){var e=this,i=[Da];if(this.cssClass&&(i=i.concat(this.cssClass.split(" "))),this.element){var s=document.getElementById(this.element.id);s&&s.parentElement===this.wrapper&&(this.wrapper.tagName===ph?(this.wrapper.innerHTML="",k([this.wrapper],["e-rtl","e-"+this.getModuleName()+"-wrapper"]),k([this.wrapper],this.cssClass.split(" "))):(k([this.element],i),["aria-label","aria-haspopup","aria-expanded","aria-owns","type"].forEach(function(n){e.element.removeAttribute(n)}),this.wrapper.parentNode.insertBefore(this.element,this.wrapper),Je(this.wrapper)),this.unWireEvents())}this.primaryBtnObj.destroy(),this.secondaryBtnObj.destroy(),a.prototype.destroy.call(this),this.element&&!this.element.getAttribute("class")&&this.element.removeAttribute("class"),this.refreshing&&this.isAngular&&(this.element=this.wrapper,["e-control","e-split-btn","e-lib"].forEach(function(n){e.element.classList.add(n)}),pe("ej2_instances",[this],this.element)),this.wrapper=null},t.prototype.wireEvents=function(){v.add(this.element,"click",this.primaryBtnClickHandler,this),new oi(this.element,{keyAction:this.btnKeyBoardHandler.bind(this),keyConfigs:{altdownarrow:"alt+downarrow",enter:"enter"}})},t.prototype.unWireEvents=function(){v.remove(this.element,"click",this.primaryBtnClickHandler),xt(this.element,oi).destroy()},t.prototype.primaryBtnClickHandler=function(){this.trigger("click",{element:this.element})},t.prototype.btnKeyBoardHandler=function(e){switch(e.action){case"altdownarrow":this.clickHandler(e);break;case"enter":this.clickHandler(e),this.getPopUpElement()&&!this.getPopUpElement().classList.contains("e-popup-close")?(this.element.classList.remove("e-active"),this.secondaryBtnObj.element.classList.add("e-active")):this.secondaryBtnObj.element.classList.remove("e-active");break}},t.prototype.onPropertyChanged=function(e,i){var s=["content","iconCss","iconPosition","cssClass","disabled","enableRtl"];this.primaryBtnObj.setProperties(dn(e,s)),s=["beforeOpen","beforeItemRender","select","open","close","cssClass","disabled","enableRtl","createPopupOnClick"],Object.keys(e).indexOf("items")>-1&&(this.secondaryBtnObj.items=e.items,this.secondaryBtnObj.dataBind()),this.secondaryBtnObj.setProperties(dn(e,s));for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];switch(o){case"cssClass":i.cssClass&&k([this.wrapper],i.cssClass.split(" ")),L([this.wrapper],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":e.enableRtl?L([this.wrapper],Da):k([this.wrapper],Da);break;case"disabled":e.disabled?L([this.wrapper],"e-splitbtn-disabled"):k([this.wrapper],"e-splitbtn-disabled")}}},t.prototype.focusIn=function(){this.element.focus()},yt([y("")],t.prototype,"content",void 0),yt([y("")],t.prototype,"cssClass",void 0),yt([y(!1)],t.prototype,"disabled",void 0),yt([y("")],t.prototype,"iconCss",void 0),yt([y("Left")],t.prototype,"iconPosition",void 0),yt([y(!1)],t.prototype,"createPopupOnClick",void 0),yt([Qt([],uh)],t.prototype,"items",void 0),yt([y("")],t.prototype,"target",void 0),yt([z()],t.prototype,"beforeItemRender",void 0),yt([z()],t.prototype,"beforeOpen",void 0),yt([z()],t.prototype,"beforeClose",void 0),yt([z()],t.prototype,"click",void 0),yt([z()],t.prototype,"close",void 0),yt([z()],t.prototype,"open",void 0),yt([z()],t.prototype,"select",void 0),yt([z()],t.prototype,"created",void 0),t=yt([ke],t),t}(pn),Zn=function(){function a(){var t=this;this.promise=new Promise(function(e,i){t.resolve=e,t.reject=i}),this.catch=this.promise.catch.bind(this.promise),this.then=this.promise.then.bind(this.promise)}return a}();var ee={RTL:"e-rtl",DISABLE:"e-disabled",INPUT:"e-input",TEXTAREA:"e-multi-line-input",INPUTGROUP:"e-input-group",FLOATINPUT:"e-float-input",FLOATLINE:"e-float-line",FLOATTEXT:"e-float-text",FLOATTEXTCONTENT:"e-float-text-content",CLEARICON:"e-clear-icon",CLEARICONHIDE:"e-clear-icon-hide",LABELTOP:"e-label-top",LABELBOTTOM:"e-label-bottom",NOFLOATLABEL:"e-no-float-label",INPUTCUSTOMTAG:"e-input-custom-tag",FLOATCUSTOMTAG:"e-float-custom-tag"},wh=["title","style","class"],kf="e-input-focus",fe;(function(a){var t,e=!0;function i(C,D){C.element.__eventHandlers={};var V=h(D)?P:D,G={container:null,buttons:[],clearButton:null};if(t=C.floatLabelType,e=C.bindClearAction,h(C.floatLabelType)||C.floatLabelType==="Never"?(G.container=_(C,ee.INPUTGROUP,ee.INPUTCUSTOMTAG,"span",V),C.element.parentNode.insertBefore(G.container,C.element),L([C.element],ee.INPUT),G.container.appendChild(C.element)):b(C,G,V),o(C),!h(C.properties)&&!h(C.properties.showClearButton)&&C.properties.showClearButton&&(tt(C.properties.showClearButton,C.element,G,!0,V),G.clearButton.setAttribute("role","button"),G.container.classList.contains(ee.FLOATINPUT)&&L([G.container],ee.INPUTGROUP)),!h(C.buttons))for(var K=0;K<C.buttons.length;K++)G.buttons.push(Fo(C.buttons[K],G.container,V));return!h(C.element)&&C.element.tagName==="TEXTAREA"&&L([G.container],ee.TEXTAREA),rp(G.container,C.element),G=I(C,G),yi(G.container,V),G}a.createInput=i;function s(C){var D=A(C.element);(D.classList.contains("e-input-group")||D.classList.contains("e-outline")||D.classList.contains("e-filled"))&&D.classList.add("e-input-focus"),C.floatLabelType!=="Never"&&setTimeout(function(){a.calculateWidth(C.element,D)},80)}function n(C){var D=A(C.element);(D.classList.contains("e-input-group")||D.classList.contains("e-outline")||D.classList.contains("e-filled"))&&D.classList.remove("e-input-focus"),C.floatLabelType!=="Never"&&setTimeout(function(){a.calculateWidth(C.element,D)},80)}function r(C){c(C.floatLabelType,C.element)}function o(C){c(C.floatLabelType,C.element);var D=function(){return s(C)},V=function(){return n(C)},G=function(){return r(C)};C.element.addEventListener("focus",D),C.element.addEventListener("blur",V),C.element.addEventListener("input",G),C.element.__eventHandlers.inputFocusHandler={focusHandler:D},C.element.__eventHandlers.inputBlurHandler={blurHandler:V},C.element.__eventHandlers.inputHandler={inputHandler:G}}a.bindInitialEvent=o;function l(C){if(!h(C.element)&&!h(C.element.__eventHandlers)&&!h(C.element.__eventHandlers.inputFocusHandler)&&!h(C.element.__eventHandlers.inputBlurHandler)&&!h(C.element.__eventHandlers.inputHandler)){var D=C.element.__eventHandlers.inputFocusHandler.focusHandler,V=C.element.__eventHandlers.inputBlurHandler.blurHandler,G=C.element.__eventHandlers.inputHandler.inputHandler;C.element.removeEventListener("focus",D),C.element.removeEventListener("blur",V),C.element.removeEventListener("input",G),delete C.element.__eventHandlers.inputFocusHandler,delete C.element.__eventHandlers.inputBlurHandler,delete C.element.__eventHandlers.inputHandler}}function c(C,D){var V=D.value,G=D.parentElement,K=G&&G.parentElement;V!==""&&!h(V)?G&&G.classList.contains("e-input-group")?G.classList.add("e-valid-input"):K&&K.classList.contains("e-input-group")&&K.classList.add("e-valid-input"):C!=="Always"&&(G&&G.classList.contains("e-input-group")?G.classList.remove("e-valid-input"):K&&K.classList.contains("e-input-group")&&K.classList.remove("e-valid-input"))}function d(){var C=A(this).getElementsByClassName("e-float-text")[0];h(C)||(L([C],ee.LABELTOP),C.classList.contains(ee.LABELBOTTOM)&&k([C],ee.LABELBOTTOM))}function p(){var C=A(this);if(C.getElementsByTagName("textarea")[0]?C.getElementsByTagName("textarea")[0].value==="":C.getElementsByTagName("input")[0].value===""){var D=C.getElementsByClassName("e-float-text")[0];h(D)||(D.classList.contains(ee.LABELTOP)&&k([D],ee.LABELTOP),L([D],ee.LABELBOTTOM))}}function u(C){C.addEventListener("focus",d),C.addEventListener("blur",p)}a.wireFloatingEvents=u;function f(C){h(C)||(C.removeEventListener("focus",d),C.removeEventListener("blur",p))}function m(C){O(C.element,C.floatLabelType)}function g(C){O(C.element,C.floatLabelType)}function b(C,D,V){var G=h(V)?P:V;C.floatLabelType==="Auto"&&u(C.element),h(D.container)?(D.container=_(C,ee.FLOATINPUT,ee.FLOATCUSTOMTAG,"div",G),D.container.classList.add(ee.INPUTGROUP),C.element.parentNode&&C.element.parentNode.insertBefore(D.container,C.element)):(h(C.customTag)||D.container.classList.add(ee.FLOATCUSTOMTAG),D.container.classList.add(ee.FLOATINPUT));var K=G("span",{className:ee.FLOATLINE}),Z=G("label",{className:ee.FLOATTEXT});if(!h(C.element.id)&&C.element.id!==""&&(Z.id="label_"+C.element.id.replace(/ /g,"_"),le(C.element,{"aria-labelledby":Z.id})),!h(C.element.placeholder)&&C.element.placeholder!==""&&(Z.innerText=H(C.element.placeholder),C.element.removeAttribute("placeholder")),!h(C.properties)&&!h(C.properties.placeholder)&&C.properties.placeholder!==""&&(Z.innerText=H(C.properties.placeholder)),Z.innerText||D.container.classList.add(ee.NOFLOATLABEL),D.container.classList.contains("e-float-icon-left")){var Te=D.container.querySelector(".e-input-in-wrap");Te.appendChild(C.element),Te.appendChild(K),Te.appendChild(Z)}else D.container.appendChild(C.element),D.container.appendChild(K),D.container.appendChild(Z);if(x(C.element.value,Z),C.floatLabelType==="Always"&&(Z.classList.contains(ee.LABELBOTTOM)&&k([Z],ee.LABELBOTTOM),L([Z],ee.LABELTOP)),C.floatLabelType==="Auto"){var St=function(){return m(C)},ht=function(){return g(C)};C.element.addEventListener("input",St),C.element.addEventListener("blur",ht),C.element.__eventHandlers.floatInputHandler={inputFloatHandler:St},C.element.__eventHandlers.floatBlurHandler={blurFloatHandler:ht}}else S(C);h(C.element.getAttribute("id"))||Z.setAttribute("for",C.element.getAttribute("id"))}function S(C){if(!h(C.element)&&!h(C.element.__eventHandlers)&&!h(C.element.__eventHandlers.floatInputHandler)&&!h(C.element.__eventHandlers.floatBlurHandler)){var D=C.element.__eventHandlers.floatInputHandler.inputFloatHandler,V=C.element.__eventHandlers.floatBlurHandler.blurFloatHandler;C.element.removeEventListener("input",D),C.element.removeEventListener("blur",V),delete C.element.__eventHandlers.floatInputHandler,delete C.element.__eventHandlers.floatBlurHandler}}function T(C,D){C==="Always"&&D.classList.contains("e-outline")&&D.classList.add("e-valid-input")}function I(C,D){if(!h(C.properties))for(var V=0,G=Object.keys(C.properties);V<G.length;V++){var K=G[V];switch(K){case"cssClass":j(C.properties.cssClass,[D.container]),T(C.floatLabelType,D.container);break;case"enabled":Ye(C.properties.enabled,C.element,C.floatLabelType,D.container);break;case"enableRtl":$e(C.properties.enableRtl,[D.container]);break;case"placeholder":ne(C.properties.placeholder,C.element);break;case"readonly":De(C.properties.readonly,C.element);break}}return D}function w(C,D,V){h(D)||(C&&!V?k([D],ee.CLEARICONHIDE):L([D],ee.CLEARICONHIDE))}function x(C,D,V){if(V===void 0&&(V=null),C)L([D],ee.LABELTOP),D.classList.contains(ee.LABELBOTTOM)&&k([D],ee.LABELBOTTOM);else{var G=V!=null?V!==document.activeElement:!0;G&&(D.classList.contains(ee.LABELTOP)&&k([D],ee.LABELTOP),L([D],ee.LABELBOTTOM))}}function A(C){var D=h(C.parentNode)?C:C.parentNode;return D&&D.classList.contains("e-input-in-wrap")&&(D=D.parentNode),D}function q(C,D,V,G){var K=h(G)?P:G,Z=K("span",{className:ee.CLEARICON}),Te=D.container;if(!h(V))Te.appendChild(Z);else{var St=D.container.classList.contains(ee.FLOATINPUT)?D.container.querySelector("."+ee.FLOATTEXT):C;St.insertAdjacentElement("afterend",Z)}return L([Z],ee.CLEARICONHIDE),re(C,Z),Z.setAttribute("aria-label","close"),Z}function F(C,D,V){D.classList.contains(ee.DISABLE)||D.readOnly||(C.preventDefault(),D!==document.activeElement&&D.focus(),D.value="",L([V],ee.CLEARICONHIDE))}function J(C,D){w(C.value,D)}function ae(C,D){w(C.value,D,C.readOnly)}function de(C,D){setTimeout(function(){h(D)||(L([D],ee.CLEARICONHIDE),D=!h(C)&&C.classList.contains("e-combobox")?null:D)},200)}function re(C,D,V){if(e===void 0||e){var G=function(St){return F(St,C,D)};D.addEventListener("click",G),C.__eventHandlers.clearClickHandler={clickHandlerEvent:G}}var K=function(){return J(C,D)},Z=function(){return ae(C,D)},Te=function(){return de(C,D)};C.addEventListener("input",K),C.addEventListener("focus",Z),C.addEventListener("blur",Te),C.__eventHandlers.clearInputHandler={inputHandlerEvent:K},C.__eventHandlers.clearFocusHandler={focusHandlerEvent:Z},C.__eventHandlers.clearBlurHandler={blurHandlerEvent:Te}}a.wireClearBtnEvents=re;function me(C,D){if(!h(C)&&!h(C.__eventHandlers)){if(!h(C.__eventHandlers.clearClickHandler)){var V=C.__eventHandlers.clearClickHandler.clickHandlerEvent;(e===void 0||e)&&(h(D)||D.removeEventListener("click",V)),delete C.__eventHandlers.clearClickHandler}if(!h(C.__eventHandlers.clearInputHandler)&&!h(C.__eventHandlers.clearFocusHandler)&&!h(C.__eventHandlers.clearBlurHandler)){var G=C.__eventHandlers.clearInputHandler.inputHandlerEvent,K=C.__eventHandlers.clearFocusHandler.focusHandlerEvent,Z=C.__eventHandlers.clearBlurHandler.blurHandlerEvent;C.removeEventListener("input",G),C.removeEventListener("focus",K),C.removeEventListener("blur",Z),delete C.__eventHandlers.clearInputHandler,delete C.__eventHandlers.clearFocusHandler,delete C.__eventHandlers.clearBlurHandler}}}function U(C,D){D===void 0&&(D=null),l(C),C.floatLabelType==="Auto"&&S(C),C.properties.showClearButton&&me(C.element,D),h(C.buttons)||qr(!1,null,C.buttons),f(C.element),h(C.element)||(delete C.element.__eventHandlers,C.element.classList.contains(ee.INPUT)&&C.element.classList.remove(ee.INPUT))}a.destroy=U;function O(C,D){var V=A(C);if(V.classList.contains(ee.FLOATINPUT)&&D==="Auto"){var G=A(C).getElementsByClassName("e-float-text")[0];x(C.value,G,C)}}function _(C,D,V,G,K){var Z=h(K)?P:K,Te;return h(C.customTag)?Te=Z(G,{className:D}):(Te=Z(C.customTag,{className:D}),Te.classList.add(V)),Te.classList.add("e-control-wrapper"),Te}function H(C){var D="";if(!h(C)&&C!==""){var V=document.createElement("span");V.innerHTML='<input  placeholder="'+C+'"/>';var G=V.children[0];D=G.placeholder}return D}function Q(C,D,V,G){if(D.value=C,V!=="Never"&&te(D,D.parentElement),!h(V)&&V==="Auto"&&O(D,V),!h(G)&&G){var K=A(D);if(!h(K)){var Z=K.getElementsByClassName(ee.CLEARICON)[0];h(Z)||(D.value&&!h(K)&&K.classList.contains("e-input-focus")?k([Z],ee.CLEARICONHIDE):L([Z],ee.CLEARICONHIDE))}}c(V,D)}a.setValue=Q;function j(C,D,V){!h(V)&&V!==""&&k(D,V.split(" ")),!h(C)&&C!==""&&L(D,C.split(" "))}a.setCssClass=j;function te(C,D,V){if(!(V!=="multiselect"&&!ev(C))){var G=V==="multiselect"?C:C.clientWidth-parseInt(getComputedStyle(C,null).getPropertyValue("padding-left"),10);!h(D)&&!h(D.getElementsByClassName("e-float-text-content")[0])&&(D.getElementsByClassName("e-float-text-content")[0].classList.contains("e-float-text-overflow")&&D.getElementsByClassName("e-float-text-content")[0].classList.remove("e-float-text-overflow"),(G<D.getElementsByClassName("e-float-text-content")[0].clientWidth||G===D.getElementsByClassName("e-float-text-content")[0].clientWidth)&&D.getElementsByClassName("e-float-text-content")[0].classList.add("e-float-text-overflow"))}}a.calculateWidth=te;function xe(C,D){typeof C=="number"?D.style.width=X(C):typeof C=="string"&&(D.style.width=C.match(/px|%|em/)?C:X(C)),te(D.firstChild,D)}a.setWidth=xe;function ne(C,D){C=H(C);var V=A(D);if(V.classList.contains(ee.FLOATINPUT))if(!h(C)&&C!==""){var G=V.getElementsByClassName("e-float-text-content")[0];G&&G.children[0]?G.children[0].textContent=C:V.getElementsByClassName(ee.FLOATTEXT)[0].textContent=C,V.classList.remove(ee.NOFLOATLABEL),D.removeAttribute("placeholder")}else{V.classList.add(ee.NOFLOATLABEL);var G=V.getElementsByClassName("e-float-text-content")[0];G?G.children[0].textContent="":V.getElementsByClassName(ee.FLOATTEXT)[0].textContent=""}else!h(C)&&C!==""?le(D,{placeholder:C}):D.removeAttribute("placeholder")}a.setPlaceholder=ne;function De(C,D,V){C?le(D,{readonly:""}):D.removeAttribute("readonly"),h(V)||O(D,V)}a.setReadonly=De;function $e(C,D){C?L(D,ee.RTL):k(D,ee.RTL)}a.setEnableRtl=$e;function Ye(C,D,V,G){var K={disabled:"","aria-disabled":"true"},Z=!h(G);C?(D.classList.remove(ee.DISABLE),st(K,D),Z&&k([G],ee.DISABLE)):(D.classList.add(ee.DISABLE),lt(K,D),Z&&L([G],ee.DISABLE)),h(V)||O(D,V)}a.setEnabled=Ye;function tt(C,D,V,G,K){var Z=h(K)?P:K;C?V.clearButton=q(D,V,G,Z):(Je(V.clearButton),V.clearButton=null)}a.setClearButton=tt;function st(C,D){for(var V=0,G=Object.keys(C);V<G.length;V++){var K=G[V],Z=A(D);K==="disabled"&&D.classList.remove(ee.DISABLE),K==="disabled"&&Z.classList.contains(ee.INPUTGROUP)&&Z.classList.remove(ee.DISABLE),K==="placeholder"&&Z.classList.contains(ee.FLOATINPUT)?Z.getElementsByClassName(ee.FLOATTEXT)[0].textContent="":D.removeAttribute(K)}}a.removeAttributes=st;function lt(C,D){for(var V=0,G=Object.keys(C);V<G.length;V++){var K=G[V],Z=A(D);K==="disabled"&&D.classList.add(ee.DISABLE),K==="disabled"&&Z.classList.contains(ee.INPUTGROUP)&&Z.classList.add(ee.DISABLE),K==="placeholder"&&Z.classList.contains(ee.FLOATINPUT)?Z.getElementsByClassName(ee.FLOATTEXT)[0].textContent=C[""+K]:D.setAttribute(K,C[""+K])}}a.addAttributes=lt;function qe(C){var D=C.container;if(!h(D)&&D.classList.contains(ee.FLOATINPUT)){var V=D.querySelector("textarea")?D.querySelector("textarea"):D.querySelector("input"),G=D.querySelector("."+ee.FLOATTEXT).textContent,K=D.querySelector(".e-clear-icon")!==null;N(D.querySelector("."+ee.FLOATLINE)),N(D.querySelector("."+ee.FLOATTEXT)),ut(D,[ee.INPUTGROUP],[ee.FLOATINPUT]),f(V),le(V,{placeholder:G}),V.classList.add(ee.INPUT),!K&&V.tagName==="INPUT"&&V.removeAttribute("required")}}a.removeFloating=qe;function ns(C,D,V,G){var K=h(G)?P:G,Z=M(C,"."+ee.INPUTGROUP);t=D;var Te=Z.tagName;Te=Te!=="DIV"&&Te!=="SPAN"?Te:null;var St={element:C,floatLabelType:D,customTag:Te,properties:{placeholder:V}};if(D!=="Never"){var ht=Z.querySelector(".e-clear-icon"),bi={container:Z};C.classList.remove(ee.INPUT),b(St,bi,K),yi(bi.container,K),te(St.element,bi.container);var Ci=Z.classList.contains("e-float-icon-left");if(h(ht))if(Ci){var av=Z.querySelector(".e-input-in-wrap");ht=av.querySelector(".e-input-group-icon")}else ht=Z.querySelector(".e-input-group-icon");if(h(ht))Ci&&(ht=Z.querySelector(".e-input-group-icon"));else{var ov=Z.querySelector("."+ee.FLOATLINE),lv=Z.querySelector("."+ee.FLOATTEXT),Vo=Ci?Z.querySelector(".e-input-in-wrap"):Z;Vo.insertBefore(C,ht),Vo.insertBefore(ov,ht),Vo.insertBefore(lv,ht)}}else S(St);T(D,C.parentElement)}a.addFloating=ns;function yi(C,D){if(C.classList.contains("e-outline")&&C.getElementsByClassName("e-float-text")[0]){var V=D("span",{className:ee.FLOATTEXTCONTENT});V.innerHTML=C.getElementsByClassName("e-float-text")[0].innerHTML,C.getElementsByClassName("e-float-text")[0].innerHTML="",C.getElementsByClassName("e-float-text")[0].appendChild(V)}}a.createSpanElement=yi;function Ws(C,D){for(var V=0;V<D.length;V++)qr(C,D[parseInt(V.toString(),10)].container)}a.setRipple=Ws;function qr(C,D,V){var G=[];G.push(V);var K=h(V)?D.querySelectorAll(".e-input-group-icon"):G;if(C&&K.length>0)for(var Z=0;Z<K.length;Z++)K[parseInt(Z.toString(),10)].addEventListener("mousedown",tp,!1),K[parseInt(Z.toString(),10)].addEventListener("mouseup",ip,!1);else if(K.length>0)for(var Z=0;Z<K.length;Z++)K[parseInt(Z.toString(),10)].removeEventListener("mousedown",tp,this),K[parseInt(Z.toString(),10)].removeEventListener("mouseup",ip,this)}function Zg(C,D){!C.classList.contains("e-disabled")&&!C.querySelector("input").readOnly&&D.classList.add("e-input-btn-ripple")}function ev(C){if(!C)return!1;for(var D=C;D&&D!==document.body;){var V=window.getComputedStyle(D);if(V.display==="none")return!1;D=D.parentElement}return!0}function tp(){for(var C=this,D=this.parentElement;!D.classList.contains("e-input-group");)D=D.parentElement;Zg(D,C)}function ip(){var C=this;setTimeout(function(){C.classList.remove("e-input-btn-ripple")},500)}function sp(C,D){var V=D("span",{className:C});return V.classList.add("e-input-group-icon"),V}function tv(C,D,V,G,K){var Z=typeof D=="string"?D.split(","):D;if(C.toLowerCase()==="append")for(var Te=0,St=Z;Te<St.length;Te++){var ht=St[Te];Fo(ht,V,K)}else for(var bi=0,Ci=Z;bi<Ci.length;bi++){var ht=Ci[bi];np(ht,V,G,K)}V.getElementsByClassName("e-input-group-icon")[0]&&V.getElementsByClassName("e-float-text-overflow")[0]&&V.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon")}a.addIcon=tv;function np(C,D,V,G){var K=h(G)?P:G,Z=sp(C,K);D.classList.add("e-float-icon-left");var Te=D.querySelector(".e-input-in-wrap");if(h(Te)){Te=K("span",{className:"e-input-in-wrap"}),V.parentNode.insertBefore(Te,V);var St=D.querySelectorAll(V.tagName+" ~ *");Te.appendChild(V);for(var ht=0;ht<St.length;ht++){var bi=St[parseInt(ht.toString(),10)],Ci=Te.parentElement;(!bi.classList.contains("e-float-line")||!(Ci&&Ci.classList.contains("e-filled"))&&Ci)&&Te.appendChild(bi)}}return Te.parentNode.insertBefore(Z,Te),qr(!0,D,Z),Z}a.prependSpan=np;function Fo(C,D,V){var G=h(V)?P:V,K=sp(C,G),Z=D.classList.contains("e-float-icon-left")?D.querySelector(".e-input-in-wrap"):D;return Z.appendChild(K),qr(!0,D,K),K}a.appendSpan=Fo;function rp(C,D){D.type==="hidden"?C.classList.add("e-hidden"):C.classList.contains("e-hidden")&&C.classList.remove("e-hidden")}a.validateInputType=rp;function iv(C,D){if(!h(C))for(var V=0,G=Object.keys(C);V<G.length;V++){var K=G[V];wh.indexOf(K)<0&&D.setAttribute(K,C[""+K])}}a.updateHTMLAttributesToElement=iv;function sv(C,D,V){j(Uo(C),[V],Uo(D))}a.updateCssClass=sv;function Uo(C){var D=C;return!h(C)&&C!==""&&(D=C.replace(/\s+/g," ").trim()),D}a.getInputValidClassList=Uo;function nv(C,D){if(!h(C))for(var V=0,G=Object.keys(C);V<G.length;V++){var K=G[V];if(wh.indexOf(K)>-1)if(K==="class"){var Z=this.getInputValidClassList(C[""+K]);Z!==""&&L([D],Z.split(" "))}else if(K==="style"){var Te=D.getAttribute(K);Te=h(Te)?C[""+K]:Te+C[""+K],D.setAttribute(K,Te)}else D.setAttribute(K,C[""+K])}}a.updateHTMLAttributesToWrapper=nv;function rv(C){return!C||/^\s*$/.test(C)}a.isBlank=rv})(fe||(fe={}));var dC=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),He=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},pC="e-control-wrapper e-numeric",fh="e-input-group-icon",mh="e-spin-up",uC="e-spin-down",gh="e-error",un="increment",er="decrement",fC=new RegExp("^(-)?(\\d*)$"),mC=".",gC="e-numerictextbox",vC="e-control",Af="e-input-focus",yC="e-numeric-hidden",jf=["title","style","class"],Rf=0,Oi=function(a){dC(t,a);function t(e,i){var s=a.call(this,e,i)||this;return s.preventChange=!1,s.isDynamicChange=!1,s.numericOptions=e,s}return t.prototype.preRender=function(){this.isPrevFocused=!1,this.decimalSeparator=".",this.intRegExp=new RegExp("/^(-)?(d*)$/"),this.isCalled=!1;var e=B("ej2_instances",this.element);if(this.cloneElement=this.element.cloneNode(!0),k([this.cloneElement],[vC,gC,"e-lib"]),this.angularTagName=null,this.formEle=M(this.element,"form"),this.element.tagName==="EJS-NUMERICTEXTBOX"){this.angularTagName=this.element.tagName;var i=this.createElement("input"),s=0;for(s;s<this.element.attributes.length;s++){var n=this.element.attributes[s].nodeName;n!=="id"&&n!=="class"?(i.setAttribute(this.element.attributes[s].nodeName,this.element.attributes[s].nodeValue),i.innerHTML=this.element.innerHTML):n==="class"&&i.setAttribute(n,this.element.className.split(" ").filter(function(o){return o.indexOf("ng-")!==0}).join(" "))}this.element.hasAttribute("name")&&this.element.removeAttribute("name"),this.element.classList.remove("e-control","e-numerictextbox"),this.element.appendChild(i),this.element=i,pe("ej2_instances",e,this.element)}le(this.element,{role:"spinbutton",tabindex:"0",autocomplete:"off"});var r={incrementTitle:"Increment value",decrementTitle:"Decrement value",placeholder:this.placeholder};this.l10n=new Yt("numerictextbox",r,this.locale),this.l10n.getConstant("placeholder")!==""&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.element.hasAttribute("id")||this.element.setAttribute("id",Ae("numerictextbox")),this.isValidState=!0,this.inputStyle=null,this.inputName=null,this.cultureInfo={},this.initCultureInfo(),this.initCultureFunc(),this.prevValue=this.value,this.updateHTMLAttrToElement(),this.checkAttributes(!1),this.formEle&&(this.inputEleValue=this.value),this.validateMinMax(),this.validateStep(),this.placeholder===null&&this.updatePlaceholder()},t.prototype.render=function(){this.element.tagName.toLowerCase()==="input"&&(this.createWrapper(),this.showSpinButton&&this.spinBtnCreation(),this.setElementWidth(this.width),this.container.classList.contains("e-input-group")||this.container.classList.add("e-input-group"),this.changeValue(this.value===null||isNaN(this.value)?null:this.strictMode?this.trimValue(this.value):this.value),this.wireEvents(),this.value!==null&&!isNaN(this.value)&&this.decimals&&this.setProperties({value:this.roundNumber(this.value,this.decimals)},!0),(this.element.getAttribute("value")||this.value)&&(this.element.setAttribute("value",this.element.value),this.hiddenInput.setAttribute("value",this.hiddenInput.value)),this.elementPrevValue=this.element.value,this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),!this.element.hasAttribute("aria-labelledby")&&!this.element.hasAttribute("placeholder")&&this.element.setAttribute("aria-label","numerictextbox"),!h(M(this.element,"fieldset"))&&M(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete())},t.prototype.checkAttributes=function(e){for(var i=e?h(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","step","disabled","readonly","style","name","placeholder"],s=0,n=i;s<n.length;s++){var r=n[s];if(!h(this.element.getAttribute(r)))switch(r){case"disabled":if(h(this.numericOptions)||this.numericOptions.enabled===void 0||e){var o=!(this.element.getAttribute(r)==="disabled"||this.element.getAttribute(r)===""||this.element.getAttribute(r)==="true");this.setProperties({enabled:o},!e)}break;case"readonly":if(h(this.numericOptions)||this.numericOptions.readonly===void 0||e){var l=this.element.getAttribute(r)==="readonly"||this.element.getAttribute(r)===""||this.element.getAttribute(r)==="true";this.setProperties({readonly:l},!e)}break;case"placeholder":(h(this.numericOptions)||this.numericOptions.placeholder===void 0||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"value":if(h(this.numericOptions)||this.numericOptions.value===void 0||e){var c=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(r));this.setProperties(pe(r,c,{}),!e)}break;case"min":if(h(this.numericOptions)||this.numericOptions.min===void 0||e){var d=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(r));d!==null&&!isNaN(d)&&this.setProperties(pe(r,d,{}),!e)}break;case"max":if(h(this.numericOptions)||this.numericOptions.max===void 0||e){var p=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(r));p!==null&&!isNaN(p)&&this.setProperties(pe(r,p,{}),!e)}break;case"step":if(h(this.numericOptions)||this.numericOptions.step===void 0||e){var u=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(r));u!==null&&!isNaN(u)&&this.setProperties(pe(r,u,{}),!e)}break;case"style":this.inputStyle=this.element.getAttribute(r);break;case"name":this.inputName=this.element.getAttribute(r);break;default:{var f=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(r));(f!==null&&!isNaN(f)||r==="value")&&this.setProperties(pe(r,f,{}),!0)}break}}},t.prototype.updatePlaceholder=function(){this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0)},t.prototype.initCultureFunc=function(){this.instance=new en(this.locale)},t.prototype.initCultureInfo=function(){this.cultureInfo.format=this.format,B("currency",this)!==null&&(pe("currency",this.currency,this.cultureInfo),this.setProperties({currencyCode:this.currency},!0))},t.prototype.createWrapper=function(){var e=this.cssClass;!h(this.cssClass)&&this.cssClass!==""&&(e=this.getNumericValidClassList(this.cssClass));var i=fe.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enableRtl:this.enableRtl,showClearButton:this.showClearButton,enabled:this.enabled}},this.createElement);this.inputWrapper=i,this.container=i.container,this.container.setAttribute("class",pC+" "+this.container.getAttribute("class")),this.updateHTMLAttrToWrapper(),this.readonly&&le(this.element,{"aria-readonly":"true"}),this.hiddenInput=this.createElement("input",{attrs:{type:"text",validateHidden:"true","aria-label":"hidden",class:yC}}),this.inputName=this.inputName!==null?this.inputName:this.element.id,this.element.removeAttribute("name"),this.isAngular&&this.angularTagName==="EJS-NUMERICTEXTBOX"&&this.cloneElement.id.length>0?le(this.hiddenInput,{name:this.cloneElement.id}):le(this.hiddenInput,{name:this.inputName}),this.container.insertBefore(this.hiddenInput,this.container.childNodes[1]),this.updateDataAttribute(!1),this.inputStyle!==null&&le(this.container,{style:this.inputStyle})},t.prototype.updateDataAttribute=function(e){var i={};if(e)i=this.htmlAttributes;else for(var s=0;s<this.element.attributes.length;s++)i[this.element.attributes[s].name]=this.element.getAttribute(this.element.attributes[s].name);for(var n=0,r=Object.keys(i);n<r.length;n++){var o=r[n];o.indexOf("data")===0&&this.hiddenInput.setAttribute(o,i[""+o])}},t.prototype.updateHTMLAttrToElement=function(){if(!h(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var s=i[e];jf.indexOf(s)<0&&this.element.setAttribute(s,this.htmlAttributes[""+s])}},t.prototype.updateCssClass=function(e,i){fe.setCssClass(this.getNumericValidClassList(e),[this.container],this.getNumericValidClassList(i))},t.prototype.getNumericValidClassList=function(e){var i=e;return!h(e)&&e!==""&&(i=e.replace(/\s+/g," ").trim()),i},t.prototype.updateHTMLAttrToWrapper=function(){if(!h(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var s=i[e];if(jf.indexOf(s)>-1)if(s==="class"){var n=this.getNumericValidClassList(this.htmlAttributes[""+s]);n!==""&&L([this.container],n.split(" "))}else if(s==="style"){var r=this.container.getAttribute(s);r=h(r)?this.htmlAttributes[""+s]:r+this.htmlAttributes[""+s],this.container.setAttribute(s,r)}else this.container.setAttribute(s,this.htmlAttributes[""+s])}},t.prototype.setElementWidth=function(e){h(e)||(typeof e=="number"?this.container.style.width=X(e):typeof e=="string"&&(this.container.style.width=e.match(/px|%|em/)?e:X(e)))},t.prototype.spinBtnCreation=function(){this.spinDown=fe.appendSpan(fh+" "+uC,this.container,this.createElement),le(this.spinDown,{title:this.l10n.getConstant("decrementTitle")}),this.spinUp=fe.appendSpan(fh+" "+mh,this.container,this.createElement),le(this.spinUp,{title:this.l10n.getConstant("incrementTitle")}),this.wireSpinBtnEvents()},t.prototype.validateMinMax=function(){typeof this.min=="number"&&!isNaN(this.min)||this.setProperties({min:-Number.MAX_VALUE},!0),typeof this.max=="number"&&!isNaN(this.max)||this.setProperties({max:Number.MAX_VALUE},!0),this.decimals!==null&&(this.min!==-Number.MAX_VALUE&&this.setProperties({min:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.min))},!0),this.max!==Number.MAX_VALUE&&this.setProperties({max:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.max))},!0)),this.setProperties({min:this.min>this.max?this.max:this.min},!0),this.min!==-Number.MAX_VALUE&&le(this.element,{"aria-valuemin":this.min.toString()}),this.max!==Number.MAX_VALUE&&le(this.element,{"aria-valuemax":this.max.toString()})},t.prototype.formattedValue=function(e,i){return this.instance.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(i)},t.prototype.validateStep=function(){this.decimals!==null&&this.setProperties({step:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.step))},!0)},t.prototype.action=function(e,i){this.isInteract=!0;var s=this.isFocused?this.instance.getNumberParser({format:"n"})(this.element.value):this.value;this.changeValue(this.performAction(s,this.step,e)),this.raiseChangeEvent(i)},t.prototype.checkErrorClass=function(){this.isValidState?k([this.container],gh):L([this.container],gh),le(this.element,{"aria-invalid":this.isValidState?"false":"true"})},t.prototype.bindClearEvent=function(){this.showClearButton&&v.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},t.prototype.resetHandler=function(e){e.preventDefault(),(!this.inputWrapper.clearButton.classList.contains("e-clear-icon-hide")||this.inputWrapper.container.classList.contains("e-static-clear"))&&this.clear(e),this.isInteract=!0,this.raiseChangeEvent(e)},t.prototype.clear=function(e){this.setProperties({value:null},!0),this.setElementValue(""),this.hiddenInput.value="";var i=M(this.element,"form");if(i){var s=this.element.nextElementSibling,n=document.createEvent("KeyboardEvent");n.initEvent("keyup",!1,!0),s.dispatchEvent(n)}},t.prototype.resetFormHandler=function(){this.element.tagName==="EJS-NUMERICTEXTBOX"?this.updateValue(null):this.updateValue(this.inputEleValue)},t.prototype.setSpinButton=function(){h(this.spinDown)||le(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),h(this.spinUp)||le(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")})},t.prototype.wireEvents=function(){v.add(this.element,"focus",this.focusHandler,this),v.add(this.element,"blur",this.focusOutHandler,this),v.add(this.element,"keydown",this.keyDownHandler,this),v.add(this.element,"keyup",this.keyUpHandler,this),v.add(this.element,"input",this.inputHandler,this),v.add(this.element,"keypress",this.keyPressHandler,this),v.add(this.element,"change",this.changeHandler,this),v.add(this.element,"paste",this.pasteHandler,this),this.enabled&&(this.bindClearEvent(),this.formEle&&v.add(this.formEle,"reset",this.resetFormHandler,this))},t.prototype.wireSpinBtnEvents=function(){v.add(this.spinUp,E.touchStartEvent,this.mouseDownOnSpinner,this),v.add(this.spinDown,E.touchStartEvent,this.mouseDownOnSpinner,this),v.add(this.spinUp,E.touchEndEvent,this.mouseUpOnSpinner,this),v.add(this.spinDown,E.touchEndEvent,this.mouseUpOnSpinner,this),v.add(this.spinUp,E.touchMoveEvent,this.touchMoveOnSpinner,this),v.add(this.spinDown,E.touchMoveEvent,this.touchMoveOnSpinner,this)},t.prototype.unwireEvents=function(){v.remove(this.element,"focus",this.focusHandler),v.remove(this.element,"blur",this.focusOutHandler),v.remove(this.element,"keyup",this.keyUpHandler),v.remove(this.element,"input",this.inputHandler),v.remove(this.element,"keydown",this.keyDownHandler),v.remove(this.element,"keypress",this.keyPressHandler),v.remove(this.element,"change",this.changeHandler),v.remove(this.element,"paste",this.pasteHandler),this.formEle&&v.remove(this.formEle,"reset",this.resetFormHandler)},t.prototype.unwireSpinBtnEvents=function(){v.remove(this.spinUp,E.touchStartEvent,this.mouseDownOnSpinner),v.remove(this.spinDown,E.touchStartEvent,this.mouseDownOnSpinner),v.remove(this.spinUp,E.touchEndEvent,this.mouseUpOnSpinner),v.remove(this.spinDown,E.touchEndEvent,this.mouseUpOnSpinner),v.remove(this.spinUp,E.touchMoveEvent,this.touchMoveOnSpinner),v.remove(this.spinDown,E.touchMoveEvent,this.touchMoveOnSpinner)},t.prototype.changeHandler=function(e){e.stopPropagation(),this.element.value.length||this.setProperties({value:null},!0);var i=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(i,e)},t.prototype.raiseChangeEvent=function(e){if(this.inputValue=h(this.inputValue)||isNaN(this.inputValue)?null:this.inputValue,this.prevValue!==this.value||this.prevValue!==this.inputValue){var i={};this.changeEventArgs={value:this.value,previousValue:this.prevValue,isInteracted:this.isInteract,isInteraction:this.isInteract,event:e},e&&(this.changeEventArgs.event=e),this.changeEventArgs.event===void 0&&(this.changeEventArgs.isInteracted=!1,this.changeEventArgs.isInteraction=!1),as(i,this.changeEventArgs),this.prevValue=this.value,this.isInteract=!1,this.elementPrevValue=this.element.value,this.preventChange=!1,this.trigger("change",i)}},t.prototype.pasteHandler=function(){var e=this;if(!(!this.enabled||this.readonly)){var i=this.element.value;setTimeout(function(){e.numericRegex().test(e.element.value)||e.setElementValue(i)})}},t.prototype.preventHandler=function(){var e=this,i=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);setTimeout(function(){if(e.element.selectionStart>0){var s=e.element.selectionStart,n=e.element.selectionStart-1,r=0,o=e.element.value.split(""),l=tn(e.locale),c=B("decimal",l),d=c.charCodeAt(0);e.element.value[n]===" "&&e.element.selectionStart>0&&!i?(h(e.prevVal)?e.element.value=e.element.value.trim():n!==0?e.element.value=e.prevVal:n===0&&(e.element.value=e.element.value.trim()),e.element.setSelectionRange(n,n)):isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&e.element.value[e.element.selectionStart-1].charCodeAt(0)!==45?(o.indexOf(e.element.value[e.element.selectionStart-1])!==o.lastIndexOf(e.element.value[e.element.selectionStart-1])&&e.element.value[e.element.selectionStart-1].charCodeAt(0)===d||e.element.value[e.element.selectionStart-1].charCodeAt(0)!==d)&&(e.element.value=e.element.value.substring(0,n)+e.element.value.substring(s,e.element.value.length),e.element.setSelectionRange(n,n),isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&e.element.selectionStart>0&&e.element.value.length&&e.preventHandler()):isNaN(parseFloat(e.element.value[e.element.selectionStart-2]))&&e.element.selectionStart>1&&e.element.value[e.element.selectionStart-2].charCodeAt(0)!==45&&(o.indexOf(e.element.value[e.element.selectionStart-2])!==o.lastIndexOf(e.element.value[e.element.selectionStart-2])&&e.element.value[e.element.selectionStart-2].charCodeAt(0)===d||e.element.value[e.element.selectionStart-2].charCodeAt(0)!==d)&&(e.element.setSelectionRange(n,n),e.nextEle=e.element.value[e.element.selectionStart],e.cursorPosChanged=!0,e.preventHandler()),e.cursorPosChanged===!0&&e.element.value[e.element.selectionStart]===e.nextEle&&isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&(e.element.setSelectionRange(e.element.selectionStart+1,e.element.selectionStart+1),e.cursorPosChanged=!1,e.nextEle=null),e.element.value.trim()===""&&e.element.setSelectionRange(r,r),e.element.selectionStart>0&&(e.element.value[e.element.selectionStart-1].charCodeAt(0)===45&&e.element.selectionStart>1&&(h(e.prevVal)||(e.element.value=e.prevVal),e.element.setSelectionRange(e.element.selectionStart,e.element.selectionStart)),e.element.value[e.element.selectionStart-1]===c&&e.decimals===0&&e.validateDecimalOnType&&(e.element.value=e.element.value.substring(0,n)+e.element.value.substring(s,e.element.value.length))),e.prevVal=e.element.value}})},t.prototype.keyUpHandler=function(){if(!(!this.enabled||this.readonly)){var e=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);!e&&E.isDevice&&this.preventHandler();var i=this.instance.getNumberParser({format:"n"})(this.element.value);i=i===null||isNaN(i)?null:i,this.hiddenInput.value=i||i===0?i.toString():null;var s=M(this.element,"form");if(s){var n=this.element.nextElementSibling,r=document.createEvent("KeyboardEvent");r.initEvent("keyup",!1,!0),n.dispatchEvent(r)}}},t.prototype.inputHandler=function(e){var i=this;if(!(!this.enabled||this.readonly)){var s=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),n=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;if((n||s)&&E.isDevice&&this.preventHandler(),this.isAngular&&this.element.value!==B("decimal",tn(this.locale))&&this.element.value!==B("minusSign",tn(this.locale))){var r=this.instance.getNumberParser({format:"n"})(this.element.value);r=isNaN(r)?null:r,i.localChange({value:r}),this.preventChange=!0}if(this.isVue){var o=this.instance.getNumberParser({format:"n"})(this.element.value),l=this.instance.getNumberParser({format:"n"})(this.elementPrevValue),c=new RegExp("[^0-9]+$");(c.test(this.element.value)||(this.elementPrevValue.indexOf(".")!==-1||this.elementPrevValue.indexOf("-")!==-1)&&this.element.value[this.element.value.length-1]==="0")&&(o=this.value);var d={event:e,value:o===null||isNaN(o)?null:o,previousValue:l===null||isNaN(l)?null:l};this.preventChange=!0,this.elementPrevValue=this.element.value,this.trigger("input",d)}}},t.prototype.keyDownHandler=function(e){if(!this.readonly)switch(e.keyCode){case 38:e.preventDefault(),this.action(un,e);break;case 40:e.preventDefault(),this.action(er,e);break}},t.prototype.performAction=function(e,i,s){(e===null||isNaN(e))&&(e=0);var n=s===un?e+i:e-i;return n=this.correctRounding(e,i,n),this.strictMode?this.trimValue(n):n},t.prototype.correctRounding=function(e,i,s){var n=new RegExp("[,.](.*)"),r=n.test(e.toString()),o=n.test(i.toString());if(r||o){var l=r?n.exec(e.toString())[0].length:0,c=o?n.exec(i.toString())[0].length:0,d=Math.max(l,c);return e=this.roundValue(s,d)}return s},t.prototype.roundValue=function(e,i){i=i||0;var s=Math.pow(10,i);return e*=s,e=Math.round(e)/s},t.prototype.updateValue=function(e,i){i&&(this.isInteract=!0),e!==null&&!isNaN(e)&&this.decimals&&(e=this.roundNumber(e,this.decimals)),this.inputValue=e,this.changeValue(e===null||isNaN(e)?null:this.strictMode?this.trimValue(e):e),this.isDynamicChange||this.raiseChangeEvent(i)},t.prototype.updateCurrency=function(e,i){pe(e,i,this.cultureInfo),this.updateValue(this.value)},t.prototype.changeValue=function(e){if(!(e||e===0))e=null,this.setProperties({value:e},!0);else{var i=this.getNumberOfDecimals(e);this.setProperties({value:this.roundNumber(e,i)},!0)}this.modifyText(),this.strictMode||this.validateState()},t.prototype.modifyText=function(){if(this.value||this.value===0){var e=this.formatNumber(),i=this.isFocused?e:this.instance.getNumberFormat(this.cultureInfo)(this.value);this.setElementValue(i),le(this.element,{"aria-valuenow":e}),this.hiddenInput.value=this.value.toString(),this.value!==null&&this.serverDecimalSeparator&&(this.hiddenInput.value=this.hiddenInput.value.replace(".",this.serverDecimalSeparator))}else this.setElementValue(""),this.element.removeAttribute("aria-valuenow"),this.hiddenInput.value=null},t.prototype.setElementValue=function(e,i){fe.setValue(e,i||this.element,this.floatLabelType,this.showClearButton)},t.prototype.validateState=function(){this.isValidState=!0,(this.value||this.value===0)&&(this.isValidState=!(this.value>this.max||this.value<this.min)),this.checkErrorClass()},t.prototype.getNumberOfDecimals=function(e){var i,s=new RegExp("[eE][-+]?([0-9]+)"),n=e.toString();if(s.test(n)){var r=s.exec(n);h(r)||(n=e.toFixed(Math.min(parseInt(r[1],10),20)))}var o=n.split(".")[1];return i=!o||!o.length?0:o.length,this.decimals!==null&&(i=i<this.decimals?i:this.decimals),i},t.prototype.formatNumber=function(){var e=this.getNumberOfDecimals(this.value);return this.instance.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(this.value)},t.prototype.trimValue=function(e){return e>this.max?this.max:e<this.min?this.min:e},t.prototype.roundNumber=function(e,i){var s=e,n=i||0,r=s.toString().split("e");s=Math.round(+(r[0]+"e"+(r[1]?Number(r[1])+n:n)));var o=s.toString().split("e");return s=+(o[0]+"e"+(o[1]?Number(o[1])-n:-n)),Number(s.toFixed(n))},t.prototype.cancelEvent=function(e){return e.preventDefault(),!1},t.prototype.keyPressHandler=function(e){if(!this.enabled||this.readonly)return!0;if(!E.isDevice&&E.info.version==="11.0"&&e.keyCode===13){var i=this.instance.getNumberParser({format:"n"})(this.element.value);return this.updateValue(i,e),!0}if(e.which===0||e.metaKey||e.ctrlKey||e.keyCode===8||e.keyCode===13)return!0;var s=String.fromCharCode(e.which),n=B("decimal",tn(this.locale)),r=e.code==="NumpadDecimal"&&s!==n;r&&(s=n);var o=this.element.value;if(o=o.substring(0,this.element.selectionStart)+s+o.substring(this.element.selectionEnd),this.numericRegex().test(o)){if(r){var l=this.element.selectionStart+1;this.element.value=o,this.element.setSelectionRange(l,l),e.preventDefault(),e.stopPropagation()}return!0}else return e.preventDefault(),e.stopPropagation(),!1},t.prototype.numericRegex=function(){var e=tn(this.locale),i=B("decimal",e),s="*";return i===mC&&(i="\\"+i),this.decimals===0&&this.validateDecimalOnType?fC:(this.decimals&&this.validateDecimalOnType&&(s="{0,"+this.decimals+"}"),new RegExp("^(-)?(((\\d+("+i+"\\d"+s+")?)|("+i+"\\d"+s+")))?$"))},t.prototype.mouseWheel=function(e){e.preventDefault();var i,s=e;s.wheelDelta?i=s.wheelDelta/120:s.detail&&(i=-s.detail/3),i>0?this.action(un,e):i<0&&this.action(er,e),this.cancelEvent(e)},t.prototype.focusHandler=function(e){var i=this;if(clearTimeout(Rf),this.focusEventArgs={event:e,value:this.value,container:this.container},this.trigger("focus",this.focusEventArgs),!(!this.enabled||this.readonly)){if(this.isFocused=!0,k([this.container],gh),this.prevValue=this.value,this.value||this.value===0){var s=this.formatNumber();if(this.setElementValue(s),!this.isPrevFocused)if(!E.isDevice&&E.info.version==="11.0")this.element.setSelectionRange(0,s.length);else{var n=E.isDevice&&E.isIos?600:0;Rf=setTimeout(function(){i.element.setSelectionRange(0,s.length)},n)}}E.isDevice||v.add(this.element,"mousewheel DOMMouseScroll",this.mouseWheel,this)}},t.prototype.focusOutHandler=function(e){var i=this;if(this.blurEventArgs={event:e,value:this.value,container:this.container},this.trigger("blur",this.blurEventArgs),!(!this.enabled||this.readonly)){if(this.isPrevFocused){if(e.preventDefault(),E.isDevice){var s=this.element.value;this.element.focus(),this.isPrevFocused=!1;var n=this.element;setTimeout(function(){i.setElementValue(s,n)},200)}}else{this.isFocused=!1,this.element.value.length||this.setProperties({value:null},!0);var r=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(r),E.isDevice||v.remove(this.element,"mousewheel DOMMouseScroll",this.mouseWheel)}var o=M(this.element,"form");if(o){var l=this.element.nextElementSibling,c=document.createEvent("FocusEvent");c.initEvent("focusout",!1,!0),l.dispatchEvent(c)}}},t.prototype.mouseDownOnSpinner=function(e){var i=this;if(this.isFocused&&(this.isPrevFocused=!0,e.preventDefault()),!!this.getElementData(e)){this.getElementData(e);var s=e.currentTarget,n=s.classList.contains(mh)?un:er;v.add(s,"mouseleave",this.mouseUpClick,this),this.timeOut=setInterval(function(){i.isCalled=!0,i.action(n,e)},150),v.add(document,"mouseup",this.mouseUpClick,this)}},t.prototype.touchMoveOnSpinner=function(e){var i;if(e.type==="touchmove"){var s=e.touches;i=s.length&&document.elementFromPoint(s[0].pageX,s[0].pageY)}else i=document.elementFromPoint(e.clientX,e.clientY);i.classList.contains(fh)||clearInterval(this.timeOut)},t.prototype.mouseUpOnSpinner=function(e){if(this.prevValue=this.value,this.isPrevFocused&&(this.element.focus(),E.isDevice||(this.isPrevFocused=!1)),E.isDevice||e.preventDefault(),!!this.getElementData(e)){var i=e.currentTarget,s=i.classList.contains(mh)?un:er;v.remove(i,"mouseleave",this.mouseUpClick),this.isCalled||this.action(s,e),this.isCalled=!1,v.remove(document,"mouseup",this.mouseUpClick);var n=M(this.element,"form");if(n){var r=this.element.nextElementSibling,o=document.createEvent("KeyboardEvent");o.initEvent("keyup",!1,!0),r.dispatchEvent(o)}}},t.prototype.getElementData=function(e){return e.which&&e.which===3||e.button&&e.button===2||!this.enabled||this.readonly?!1:(clearInterval(this.timeOut),!0)},t.prototype.floatLabelTypeUpdate=function(){fe.removeFloating(this.inputWrapper);var e=this.hiddenInput;this.hiddenInput.remove(),fe.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement),this.container.insertBefore(e,this.container.childNodes[1])},t.prototype.mouseUpClick=function(e){e.stopPropagation(),clearInterval(this.timeOut),this.isCalled=!1,this.spinUp&&v.remove(this.spinUp,"mouseleave",this.mouseUpClick),this.spinDown&&v.remove(this.spinDown,"mouseleave",this.mouseUpClick)},t.prototype.increment=function(e){e===void 0&&(e=this.step),this.isInteract=!1,this.changeValue(this.performAction(this.value,e,un)),this.raiseChangeEvent()},t.prototype.decrement=function(e){e===void 0&&(e=this.step),this.isInteract=!1,this.changeValue(this.performAction(this.value,e,er)),this.raiseChangeEvent()},t.prototype.destroy=function(){this.unwireEvents(),this.showClearButton&&(this.clearButton=document.getElementsByClassName("e-clear-icon")[0]),N(this.hiddenInput),this.showSpinButton&&(this.unwireSpinBtnEvents(),N(this.spinUp),N(this.spinDown));for(var e=["aria-labelledby","role","autocomplete","aria-readonly","aria-disabled","autocapitalize","spellcheck","aria-autocomplete","tabindex","aria-valuemin","aria-valuemax","aria-valuenow","aria-invalid"],i=0;i<e.length;i++)this.element.removeAttribute(e[i]);this.element.classList.remove("e-input"),this.container.insertAdjacentElement("afterend",this.element),N(this.container),this.spinUp=null,this.spinDown=null,this.container=null,this.hiddenInput=null,this.changeEventArgs=null,this.blurEventArgs=null,this.focusEventArgs=null,this.inputWrapper=null,fe.destroy({element:this.element,floatLabelType:this.floatLabelType,properties:this.properties},this.clearButton),a.prototype.destroy.call(this)},t.prototype.getText=function(){return this.element.value},t.prototype.focusIn=function(){document.activeElement!==this.element&&this.enabled&&(this.element.focus(),L([this.container],[Af]))},t.prototype.focusOut=function(){document.activeElement===this.element&&this.enabled&&(this.element.blur(),k([this.container],[Af]))},t.prototype.getPersistData=function(){var e=["value"];return this.addOnPersist(e)},t.prototype.onPropertyChanged=function(e,i){for(var s=0,n=Object.keys(e);s<n.length;s++){var r=n[s];switch(r){case"width":this.setElementWidth(e.width),fe.calculateWidth(this.element,this.container);break;case"cssClass":this.updateCssClass(e.cssClass,i.cssClass);break;case"enabled":fe.setEnabled(e.enabled,this.element),this.bindClearEvent();break;case"enableRtl":fe.setEnableRtl(e.enableRtl,[this.container]);break;case"readonly":fe.setReadonly(e.readonly,this.element),this.readonly?le(this.element,{"aria-readonly":"true"}):this.element.removeAttribute("aria-readonly");break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.updateDataAttribute(!0),this.checkAttributes(!0),fe.validateInputType(this.container,this.element);break;case"placeholder":fe.setPlaceholder(e.placeholder,this.element),fe.calculateWidth(this.element,this.container);break;case"step":this.step=e.step,this.validateStep();break;case"showSpinButton":this.updateSpinButton(e);break;case"showClearButton":this.updateClearButton(e);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,this.floatLabelTypeUpdate();break;case"value":this.isDynamicChange=(this.isAngular||this.isVue)&&this.preventChange,this.updateValue(e.value),this.isDynamicChange&&(this.preventChange=!1,this.isDynamicChange=!1);break;case"min":case"max":pe(r,B(r,e),this),this.validateMinMax(),this.updateValue(this.value);break;case"strictMode":this.strictMode=e.strictMode,this.updateValue(this.value),this.validateState();break;case"locale":this.initCultureFunc(),this.l10n.setLocale(this.locale),this.setSpinButton(),this.updatePlaceholder(),fe.setPlaceholder(this.placeholder,this.element),this.updateValue(this.value);break;case"currency":{var o=B(r,e);this.setProperties({currencyCode:o},!0),this.updateCurrency(r,o)}break;case"currencyCode":{var l=B(r,e);this.setProperties({currency:l},!0),this.updateCurrency("currency",l)}break;case"format":pe(r,B(r,e),this),this.initCultureInfo(),this.updateValue(this.value);break;case"decimals":this.decimals=e.decimals,this.updateValue(this.value)}}},t.prototype.updateClearButton=function(e){fe.setClearButton(e.showClearButton,this.element,this.inputWrapper,void 0,this.createElement),this.bindClearEvent()},t.prototype.updateSpinButton=function(e){e.showSpinButton?this.spinBtnCreation():(N(this.spinUp),N(this.spinDown))},t.prototype.getModuleName=function(){return"numerictextbox"},He([y("")],t.prototype,"cssClass",void 0),He([y(null)],t.prototype,"value",void 0),He([y(-Number.MAX_VALUE)],t.prototype,"min",void 0),He([y(Number.MAX_VALUE)],t.prototype,"max",void 0),He([y(1)],t.prototype,"step",void 0),He([y(null)],t.prototype,"width",void 0),He([y(null)],t.prototype,"placeholder",void 0),He([y({})],t.prototype,"htmlAttributes",void 0),He([y(!0)],t.prototype,"showSpinButton",void 0),He([y(!1)],t.prototype,"readonly",void 0),He([y(!0)],t.prototype,"enabled",void 0),He([y(!1)],t.prototype,"showClearButton",void 0),He([y(!1)],t.prototype,"enablePersistence",void 0),He([y("n2")],t.prototype,"format",void 0),He([y(null)],t.prototype,"decimals",void 0),He([y(null)],t.prototype,"currency",void 0),He([y(null)],t.prototype,"currencyCode",void 0),He([y(!0)],t.prototype,"strictMode",void 0),He([y(!1)],t.prototype,"validateDecimalOnType",void 0),He([y("Never")],t.prototype,"floatLabelType",void 0),He([z()],t.prototype,"created",void 0),He([z()],t.prototype,"destroyed",void 0),He([z()],t.prototype,"change",void 0),He([z()],t.prototype,"focus",void 0),He([z()],t.prototype,"blur",void 0),t=He([ke],t),t}(Ge);var or=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),be=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},bC=function(a){or(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return be([y("None")],t.prototype,"placement",void 0),be([y(10)],t.prototype,"largeStep",void 0),be([y(1)],t.prototype,"smallStep",void 0),be([y(!1)],t.prototype,"showSmallTicks",void 0),be([y(null)],t.prototype,"format",void 0),t}(ge),CC=function(a){or(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return be([y(null)],t.prototype,"color",void 0),be([y(null)],t.prototype,"start",void 0),be([y(null)],t.prototype,"end",void 0),t}(ge),MC=function(a){or(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return be([y(!1)],t.prototype,"enabled",void 0),be([y(null)],t.prototype,"minStart",void 0),be([y(null)],t.prototype,"minEnd",void 0),be([y(null)],t.prototype,"maxStart",void 0),be([y(null)],t.prototype,"maxEnd",void 0),be([y(!1)],t.prototype,"startHandleFixed",void 0),be([y(!1)],t.prototype,"endHandleFixed",void 0),t}(ge),SC=function(a){or(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return be([y("")],t.prototype,"cssClass",void 0),be([y("Before")],t.prototype,"placement",void 0),be([y("Focus")],t.prototype,"showOn",void 0),be([y(!1)],t.prototype,"isVisible",void 0),be([y(null)],t.prototype,"format",void 0),t}(ge),EC=6,TC=3,R={root:"e-slider",rtl:"e-rtl",sliderHiddenInput:"e-slider-input",controlWrapper:"e-control-wrapper",sliderHandle:"e-handle",rangeBar:"e-range",sliderButton:"e-slider-button",firstButton:"e-first-button",secondButton:"e-second-button",scale:"e-scale",tick:"e-tick",large:"e-large",tickValue:"e-tick-value",sliderTooltip:"e-slider-tooltip",sliderHover:"e-slider-hover",sliderFirstHandle:"e-handle-first",sliderSecondHandle:"e-handle-second",sliderDisabled:"e-disabled",sliderContainer:"e-slider-container",horizontalTooltipBefore:"e-slider-horizontal-before",horizontalTooltipAfter:"e-slider-horizontal-after",verticalTooltipBefore:"e-slider-vertical-before",verticalTooltipAfter:"e-slider-vertical-after",materialTooltip:"e-material-tooltip",materialTooltipOpen:"e-material-tooltip-open",materialTooltipActive:"e-tooltip-active",materialSlider:"e-material-slider",sliderTrack:"e-slider-track",sliderHorizantalColor:"e-slider-horizantal-color",sliderVerticalColor:"e-slider-vertical-color",sliderHandleFocused:"e-handle-focused",verticalSlider:"e-vertical",horizontalSlider:"e-horizontal",sliderHandleStart:"e-handle-start",sliderTooltipStart:"e-material-tooltip-start",sliderTabHandle:"e-tab-handle",sliderButtonIcon:"e-button-icon",sliderSmallSize:"e-small-size",sliderTickPosition:"e-tick-pos",sliderFirstTick:"e-first-tick",sliderLastTick:"e-last-tick",sliderButtonClass:"e-slider-btn",sliderTooltipWrapper:"e-tooltip-wrap",sliderTabTrack:"e-tab-track",sliderTabRange:"e-tab-range",sliderActiveHandle:"e-handle-active",sliderMaterialHandle:"e-material-handle",sliderMaterialRange:"e-material-range",sliderMaterialDefault:"e-material-default",materialTooltipShow:"e-material-tooltip-show",materialTooltipHide:"e-material-tooltip-hide",readonly:"e-read-only",limits:"e-limits",limitBarDefault:"e-limit-bar",limitBarFirst:"e-limit-first",limitBarSecond:"e-limit-second",dragHorizontal:"e-drag-horizontal",dragVertical:"e-drag-vertical"},zf=function(a){or(t,a);function t(e,i){var s=a.call(this,e,i)||this;return s.horDir="left",s.verDir="bottom",s.transition={handle:"left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)",rangeBar:"all .4s cubic-bezier(.25, .8, .25, 1)"},s.transitionOnMaterialTooltip={handle:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, top 1ms ease-out",rangeBar:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out"},s.scaleTransform="transform .4s cubic-bezier(.25, .8, .25, 1)",s.customAriaText=null,s.drag=!0,s.isDragComplete=!1,s.initialTooltip=!0,s}return t.prototype.preRender=function(){var e={incrementTitle:"Increase",decrementTitle:"Decrease"};this.l10n=new Yt("slider",e,this.locale),this.isElementFocused=!1,this.tickElementCollection=[],this.tooltipFormatInfo={},this.ticksFormatInfo={},this.initCultureInfo(),this.initCultureFunc(),this.formChecker()},t.prototype.formChecker=function(){var e=M(this.element,"form");e?(this.isForm=!0,h(this.formResetValue)||this.setProperties({value:this.formResetValue},!0),this.formResetValue=this.value,this.type==="Range"&&(h(this.formResetValue)||typeof this.formResetValue!="object")?this.formResetValue=[parseFloat(X(this.min)),parseFloat(X(this.max))]:h(this.formResetValue)&&(this.formResetValue=parseFloat(X(this.min))),this.formElement=e):this.isForm=!1},t.prototype.initCultureFunc=function(){this.internationalization=new en(this.locale)},t.prototype.initCultureInfo=function(){this.tooltipFormatInfo.format=h(this.tooltip.format)?null:this.tooltip.format,this.ticksFormatInfo.format=h(this.ticks.format)?null:this.ticks.format},t.prototype.formatString=function(e,i){var s=null,n=null;if(e||e===0){s=this.formatNumber(e);var r=this.numberOfDecimals(e);n=this.internationalization.getNumberFormat(i)(this.makeRoundNumber(e,r))}return{elementVal:s,formatString:n}},t.prototype.formatNumber=function(e){var i=this.numberOfDecimals(e);return this.internationalization.getNumberFormat({maximumFractionDigits:i,minimumFractionDigits:i,useGrouping:!1})(e)},t.prototype.numberOfDecimals=function(e){var i=e.toString().split(".")[1],s=!i||!i.length?0:i.length;return s},t.prototype.makeRoundNumber=function(e,i){var s=i||0;return Number(e.toFixed(s))},t.prototype.fractionalToInteger=function(e){e=this.numberOfDecimals(e)===0?Number(e).toFixed(this.noOfDecimals):e;for(var i=1,s=0;s<this.noOfDecimals;s++)i*=10;return e=Number((e*i).toFixed(0)),e},t.prototype.render=function(){var e=this;this.initialize(),this.initRender(),this.wireEvents(),this.setZindex(),this.renderComplete(),this.element.tagName==="EJS-SLIDER"&&this.getTheme(this.sliderContainer)==="none"&&setTimeout(function(){e.refresh()},0)},t.prototype.initialize=function(){L([this.element],R.root),this.setCSSClass()},t.prototype.setElementWidth=function(e){!h(e)&&!h(this.sliderContainer)&&(typeof e=="number"?this.sliderContainer.style.width=X(e):typeof e=="string"&&(this.sliderContainer.style.width=e.match(/px|%|em/)?e:X(e)))},t.prototype.setCSSClass=function(e){e&&k([this.element],e.split(" ")),this.cssClass&&L([this.element],this.cssClass.split(" "))},t.prototype.setEnabled=function(){this.enabled?(k([this.sliderContainer],[R.sliderDisabled]),this.tooltip.isVisible&&this.tooltipElement&&this.tooltip.showOn==="Always"&&this.tooltipElement.classList.remove(R.sliderDisabled),this.wireEvents()):(L([this.sliderContainer],[R.sliderDisabled]),this.tooltip.isVisible&&this.tooltipElement&&this.tooltip.showOn==="Always"&&this.tooltipElement.classList.add(R.sliderDisabled),this.unwireEvents())},t.prototype.getTheme=function(e){var i=window.getComputedStyle(e,":after").getPropertyValue("content");return i.replace(/['"]+/g,"")},t.prototype.initRender=function(){this.sliderContainer=this.createElement("div",{className:R.sliderContainer+" "+R.controlWrapper}),this.element.parentNode.insertBefore(this.sliderContainer,this.element),this.sliderContainer.appendChild(this.element),this.sliderTrack=this.createElement("div",{className:R.sliderTrack}),this.element.appendChild(this.sliderTrack),this.setElementWidth(this.width),this.element.tabIndex=-1,this.getThemeInitialization(),this.setHandler(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setOrientClass(),this.hiddenInput=this.createElement("input",{attrs:{type:"hidden",value:h(this.value)?h(this.min)?"0":this.min.toString():this.value.toString(),name:this.element.getAttribute("name")||this.element.getAttribute("id")||"_"+(Math.random()*1e3).toFixed(0)+"slider",class:R.sliderHiddenInput}}),this.hiddenInput.tabIndex=-1,this.sliderContainer.appendChild(this.hiddenInput),this.showButtons&&this.setButtons(),this.setEnableRTL(),this.type==="Range"?this.rangeValueUpdate():this.value=h(this.value)?h(this.min)?0:parseFloat(X(this.min.toString())):this.value,this.previousVal=this.type!=="Range"?this.checkHandleValue(parseFloat(X(this.value.toString()))):[this.checkHandleValue(parseFloat(X(this.value[0].toString()))),this.checkHandleValue(parseFloat(X(this.value[1].toString())))],this.previousChanged=this.previousVal,h(this.element.hasAttribute("name"))||this.element.removeAttribute("name"),this.setValue(),this.limits.enabled&&this.setLimitBar(),this.ticks.placement!=="None"&&this.renderScale(),this.tooltip.isVisible&&this.renderTooltip(),this.enabled?k([this.sliderContainer],[R.sliderDisabled]):L([this.sliderContainer],[R.sliderDisabled]),this.readonly?L([this.sliderContainer],[R.readonly]):k([this.sliderContainer],[R.readonly])},t.prototype.getThemeInitialization=function(){this.isMaterial=this.getTheme(this.sliderContainer)==="material"||this.getTheme(this.sliderContainer)==="material-dark",this.isMaterial3=this.getTheme(this.sliderContainer)==="Material3"||this.getTheme(this.sliderContainer)==="Material3-dark",this.isBootstrap=this.getTheme(this.sliderContainer)==="bootstrap"||this.getTheme(this.sliderContainer)==="bootstrap-dark",this.isBootstrap4=this.getTheme(this.sliderContainer)==="bootstrap4",this.isTailwind=this.getTheme(this.sliderContainer)==="tailwind"||this.getTheme(this.sliderContainer)==="tailwind-dark",this.isBootstrap5=this.getTheme(this.sliderContainer)==="bootstrap5",this.isFluent=this.getTheme(this.sliderContainer)==="FluentUI",this.isFluent2=this.getTheme(this.sliderContainer)==="fluent2",this.isMaterialTooltip=(this.isMaterial||this.isMaterial3)&&this.type!=="Range"&&this.tooltip.isVisible},t.prototype.createRangeBar=function(){this.type!=="Default"&&(this.rangeBar=this.createElement("div",{attrs:{class:R.rangeBar}}),this.element.appendChild(this.rangeBar),this.drag&&this.type==="Range"&&(this.orientation==="Horizontal"?this.rangeBar.classList.add(R.dragHorizontal):this.rangeBar.classList.add(R.dragVertical)))},t.prototype.createLimitBar=function(){var e=this.type!=="Range"?R.limitBarDefault:R.limitBarFirst;e+=" "+R.limits,this.limitBarFirst=this.createElement("div",{attrs:{class:e}}),this.element.appendChild(this.limitBarFirst),this.type==="Range"&&(this.limitBarSecond=this.createElement("div",{attrs:{class:R.limitBarSecond+" "+R.limits}}),this.element.appendChild(this.limitBarSecond))},t.prototype.setOrientClass=function(){this.orientation!=="Vertical"?(this.sliderContainer.classList.remove(R.verticalSlider),this.sliderContainer.classList.add(R.horizontalSlider),this.firstHandle.setAttribute("aria-orientation","horizontal"),this.type==="Range"&&this.secondHandle.setAttribute("aria-orientation","horizontal")):(this.sliderContainer.classList.remove(R.horizontalSlider),this.sliderContainer.classList.add(R.verticalSlider),this.firstHandle.setAttribute("aria-orientation","vertical"),this.type==="Range"&&this.secondHandle.setAttribute("aria-orientation","vertical"))},t.prototype.setAriaAttributes=function(e){var i=this,s=this.min,n=this.max;if(!h(this.customValues)&&this.customValues.length>0&&(s=this.customValues[0],n=this.customValues[this.customValues.length-1]),this.type!=="Range")le(e,{"aria-valuemin":h(s)?"0":s.toString(),"aria-valuemax":h(n)?"100":n.toString()});else{var r=!h(this.customValues)&&this.customValues.length>0?[[s.toString(),this.customValues[this.value[1]].toString()],[this.customValues[this.value[0]].toString(),n.toString()]]:[[s.toString(),this.value[1].toString()],[this.value[0].toString(),n.toString()]];r.forEach(function(o,l){var c=l===0?i.firstHandle:i.secondHandle;c&&le(c,{"aria-valuemin":o[0],"aria-valuemax":o[1]})})}},t.prototype.createSecondHandle=function(){this.secondHandle=this.createElement("div",{attrs:{class:R.sliderHandle,role:"slider",tabIndex:"0","aria-label":"slider"}}),this.secondHandle.classList.add(R.sliderSecondHandle),this.element.appendChild(this.secondHandle)},t.prototype.createFirstHandle=function(){this.firstHandle=this.createElement("div",{attrs:{class:R.sliderHandle,role:"slider",tabIndex:"0","aria-label":"slider"}}),this.firstHandle.classList.add(R.sliderFirstHandle),this.element.appendChild(this.firstHandle),this.isMaterialTooltip&&(this.materialHandle=this.createElement("div",{attrs:{class:R.sliderHandle+" "+R.sliderMaterialHandle}}),this.element.appendChild(this.materialHandle))},t.prototype.wireFirstHandleEvt=function(e){e?(v.remove(this.firstHandle,"mousedown touchstart",this.handleFocus),v.remove(this.firstHandle,"transitionend",this.transitionEnd),v.remove(this.firstHandle,"mouseenter touchenter",this.handleOver),v.remove(this.firstHandle,"mouseleave touchend",this.handleLeave)):(v.add(this.firstHandle,"mousedown touchstart",this.handleFocus,this),v.add(this.firstHandle,"transitionend",this.transitionEnd,this),v.add(this.firstHandle,"mouseenter touchenter",this.handleOver,this),v.add(this.firstHandle,"mouseleave touchend",this.handleLeave,this))},t.prototype.wireSecondHandleEvt=function(e){e?(v.remove(this.secondHandle,"mousedown touchstart",this.handleFocus),v.remove(this.secondHandle,"transitionend",this.transitionEnd),v.remove(this.secondHandle,"mouseenter touchenter",this.handleOver),v.remove(this.secondHandle,"mouseleave touchend",this.handleLeave)):(v.add(this.secondHandle,"mousedown touchstart",this.handleFocus,this),v.add(this.secondHandle,"transitionend",this.transitionEnd,this),v.add(this.secondHandle,"mouseenter touchenter",this.handleOver,this),v.add(this.secondHandle,"mouseleave touchend",this.handleLeave,this))},t.prototype.handleStart=function(){this.type!=="Range"&&(this.firstHandle.classList[this.handlePos1===0?"add":"remove"](R.sliderHandleStart),this.isMaterialTooltip&&(this.materialHandle.classList[this.handlePos1===0?"add":"remove"](R.sliderHandleStart),this.tooltipElement&&this.tooltipElement.classList[this.handlePos1===0?"add":"remove"](R.sliderTooltipStart)))},t.prototype.transitionEnd=function(e){e.propertyName!=="transform"&&(this.handleStart(),this.enableAnimation||(this.getHandle().style.transition="none"),this.type!=="Default"&&(this.rangeBar.style.transition="none"),(this.isMaterial||this.isMaterial3)&&this.tooltip.isVisible&&this.type==="Default"&&(this.tooltipElement.style.transition=this.transition.handle),this.tooltipToggle(this.getHandle()),this.closeTooltip())},t.prototype.handleFocusOut=function(){this.firstHandle.classList.contains(R.sliderHandleFocused)&&this.firstHandle.classList.remove(R.sliderHandleFocused),this.type==="Range"&&this.secondHandle.classList.contains(R.sliderHandleFocused)&&this.secondHandle.classList.remove(R.sliderHandleFocused)},t.prototype.handleFocus=function(e){this.focusSliderElement(),this.sliderBarClick(e),e.currentTarget===this.firstHandle?(this.firstHandle.classList.add(R.sliderHandleFocused),this.firstHandle.classList.add(R.sliderTabHandle)):(this.secondHandle.classList.add(R.sliderHandleFocused),this.secondHandle.classList.add(R.sliderTabHandle)),v.add(document,"mousemove touchmove",this.sliderBarMove,this),v.add(document,"mouseup touchend",this.sliderBarUp,this)},t.prototype.handleOver=function(e){this.tooltip.isVisible&&this.tooltip.showOn==="Hover"&&this.tooltipToggle(e.currentTarget),this.type==="Default"&&this.tooltipToggle(this.getHandle())},t.prototype.handleLeave=function(e){this.tooltip.isVisible&&this.tooltip.showOn==="Hover"&&!e.currentTarget.classList.contains(R.sliderHandleFocused)&&!e.currentTarget.classList.contains(R.sliderTabHandle)&&this.closeTooltip()},t.prototype.setHandler=function(){this.createFirstHandle(),this.type==="Range"&&this.createSecondHandle()},t.prototype.setEnableRTL=function(){this.enableRtl&&this.orientation!=="Vertical"?L([this.sliderContainer],R.rtl):k([this.sliderContainer],R.rtl);var e=this.orientation!=="Vertical"?this.horDir:this.verDir;this.enableRtl?(this.horDir="right",this.verDir="bottom"):(this.horDir="left",this.verDir="bottom");var i=this.orientation!=="Vertical"?this.horDir:this.verDir;e!==i&&this.orientation==="Horizontal"&&(se(this.firstHandle,{right:"",left:"auto"}),this.type==="Range"&&se(this.secondHandle,{top:"",left:"auto"})),this.setBarColor()},t.prototype.tooltipValue=function(){var e=this,i,s={value:this.value,text:""};this.initialTooltip&&(this.initialTooltip=!1,this.setTooltipContent(),s.text=i=typeof this.tooltipObj.content=="function"?this.tooltipObj.content():this.tooltipObj.content,this.trigger("tooltipChange",s,function(n){if(e.addTooltipClass(n.text),i!==n.text){e.customAriaText=n.text,e.enableHtmlSanitizer?n.text=Be.sanitize(n.text.toString()):n.text=n.text.toString();var r=function(){return n.text};e.tooltipObj.content=sn(r),e.setAriaAttrValue(e.firstHandle),e.type==="Range"&&e.setAriaAttrValue(e.secondHandle)}}),this.isMaterialTooltip&&this.setPreviousVal("change",this.value))},t.prototype.setTooltipContent=function(){var e=this.formatContent(this.tooltipFormatInfo,!1),i=function(){return e};this.tooltipObj.content=sn(i)},t.prototype.formatContent=function(e,i){var s="",n=this.handleVal1,r=this.handleVal2;return!h(this.customValues)&&this.customValues.length>0&&(n=this.customValues[this.handleVal1],r=this.customValues[this.handleVal2]),i?(this.type==="Range"?this.enableRtl&&this.orientation!=="Vertical"?s=!h(this.tooltip)&&!h(this.tooltip.format)?this.formatString(r,e).elementVal+" - "+this.formatString(n,e).elementVal:r.toString()+" - "+n.toString():s=!h(this.tooltip)&&!h(this.tooltip.format)?this.formatString(n,e).elementVal+" - "+this.formatString(r,e).elementVal:n.toString()+" - "+r.toString():h(n)||(s=!h(this.tooltip)&&!h(this.tooltip.format)?this.formatString(n,e).elementVal:n.toString()),s):(this.type==="Range"?this.enableRtl&&this.orientation!=="Vertical"?s=h(e.format)?r.toString()+" - "+n.toString():this.formatString(r,e).formatString+" - "+this.formatString(n,e).formatString:s=h(e.format)?n.toString()+" - "+r.toString():this.formatString(n,e).formatString+" - "+this.formatString(r,e).formatString:h(n)||(s=h(e.format)?n.toString():this.formatString(n,e).formatString),s)},t.prototype.addTooltipClass=function(e){if(this.isMaterialTooltip){var i=e.toString().length;if(this.tooltipElement){var s=i>4?{oldCss:R.sliderMaterialDefault,newCss:R.sliderMaterialRange}:{oldCss:R.sliderMaterialRange,newCss:R.sliderMaterialDefault};this.tooltipElement.classList.remove(s.oldCss),this.tooltipElement.classList.contains(s.newCss)||(this.tooltipElement.classList.add(s.newCss),this.tooltipElement.style.transform=i>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate)}else{var s=i>4?R.sliderMaterialRange:R.sliderMaterialDefault;this.tooltipObj.cssClass=R.sliderTooltip+" "+s}}},t.prototype.tooltipPlacement=function(){return this.orientation==="Horizontal"?this.tooltip.placement==="Before"?"TopCenter":"BottomCenter":this.tooltip.placement==="Before"?"LeftCenter":"RightCenter"},t.prototype.tooltipBeforeOpen=function(e){this.tooltipElement=e.element,this.tooltip.cssClass&&L([this.tooltipElement],this.tooltip.cssClass.split(" ").filter(function(i){return i})),e.target.removeAttribute("aria-describedby"),this.isMaterialTooltip&&(this.tooltipElement.firstElementChild.classList.add(R.materialTooltipHide),this.handleStart(),this.setTooltipTransform())},t.prototype.tooltipCollision=function(e){if(this.isBootstrap||this.isBootstrap4||(this.isMaterial||this.isMaterial3)&&!this.isMaterialTooltip){var i=this.isBootstrap4?TC:EC;switch(e){case"TopCenter":this.tooltipObj.setProperties({offsetY:-i},!1);break;case"BottomCenter":this.tooltipObj.setProperties({offsetY:i},!1);break;case"LeftCenter":this.tooltipObj.setProperties({offsetX:-i},!1);break;case"RightCenter":this.tooltipObj.setProperties({offsetX:i},!1);break}}},t.prototype.materialTooltipEventCallBack=function(e){this.sliderBarClick(e),v.add(document,"mousemove touchmove",this.sliderBarMove,this),v.add(document,"mouseup touchend",this.sliderBarUp,this)},t.prototype.wireMaterialTooltipEvent=function(e){this.isMaterialTooltip&&(e?v.remove(this.tooltipElement,"mousedown touchstart",this.materialTooltipEventCallBack):v.add(this.tooltipElement,"mousedown touchstart",this.materialTooltipEventCallBack,this))},t.prototype.tooltipPositionCalculation=function(e){var i;switch(e){case"TopCenter":i=R.horizontalTooltipBefore;break;case"BottomCenter":i=R.horizontalTooltipAfter;break;case"LeftCenter":i=R.verticalTooltipBefore;break;case"RightCenter":i=R.verticalTooltipAfter;break}return i},t.prototype.getTooltipTransformProperties=function(e){var i;if(this.tooltipElement){var s=this.orientation==="Horizontal"?this.tooltipElement.clientHeight+14-this.tooltipElement.clientHeight/2:this.tooltipElement.clientWidth+14-this.tooltipElement.clientWidth/2;i=this.orientation==="Horizontal"?e===R.horizontalTooltipBefore?{rotate:"rotate(45deg)",translate:"translateY("+s+"px)"}:{rotate:"rotate(225deg)",translate:"translateY("+-s+"px)"}:e===R.verticalTooltipBefore?{rotate:"rotate(-45deg)",translate:"translateX("+s+"px)"}:{rotate:"rotate(-225deg)",translate:"translateX("+-s+"px)"}}return i},t.prototype.openMaterialTooltip=function(){var e=this;if(this.isMaterialTooltip){this.refreshTooltip(this.firstHandle);var i=this.tooltipElement.firstElementChild;i.classList.remove(R.materialTooltipHide),i.classList.add(R.materialTooltipShow),this.firstHandle.style.cursor="default",this.tooltipElement.style.transition=this.scaleTransform,this.tooltipElement.classList.add(R.materialTooltipOpen),this.materialHandle.style.transform="scale(0)",i.innerText.length>4?this.tooltipElement.style.transform="scale(1)":this.tooltipElement.style.transform=this.getTooltipTransformProperties(this.previousTooltipClass).rotate,this.type==="Default"?setTimeout(function(){e.tooltipElement&&(e.tooltipElement.style.transition=e.transition.handle)},2500):setTimeout(function(){e.tooltipElement&&(e.tooltipElement.style.transition="none")},2500)}},t.prototype.closeMaterialTooltip=function(){var e=this;if(this.isMaterialTooltip){var i=this.tooltipElement.firstElementChild;this.tooltipElement.style.transition=this.scaleTransform,i.classList.remove(R.materialTooltipShow),i.classList.add(R.materialTooltipHide),this.firstHandle.style.cursor="-webkit-grab",this.firstHandle.style.cursor="grab",this.materialHandle&&(this.materialHandle.style.transform="scale(1)"),this.tooltipElement.classList.remove(R.materialTooltipOpen),this.setTooltipTransform(),this.tooltipTarget=void 0,setTimeout(function(){e.tooltipElement&&(e.tooltipElement.style.transition="none")},2500)}},t.prototype.checkTooltipPosition=function(e){var i=this.tooltipPositionCalculation(e.collidedPosition);(this.tooltipCollidedPosition===void 0||this.tooltipCollidedPosition!==e.collidedPosition||!e.element.classList.contains(i))&&(this.isMaterialTooltip&&(i!==void 0&&(e.element.classList.remove(this.previousTooltipClass),e.element.classList.add(i),this.previousTooltipClass=i),e.element.style.transform&&e.element.classList.contains(R.materialTooltipOpen)&&e.element.firstElementChild.innerText.length<=4&&(e.element.style.transform=this.getTooltipTransformProperties(this.previousTooltipClass).rotate)),this.tooltipCollidedPosition=e.collidedPosition),this.isMaterialTooltip&&this.tooltipElement&&this.tooltipElement.style.transform.indexOf("translate")!==-1&&this.setTooltipTransform()},t.prototype.setTooltipTransform=function(){var e=this.getTooltipTransformProperties(this.previousTooltipClass);h(this.tooltipElement)||(this.tooltipElement.firstElementChild.innerText.length>4?this.tooltipElement.style.transform=e.translate+" scale(0.01)":this.tooltipElement.style.transform=e.translate+" "+e.rotate+" scale(0.01)")},t.prototype.renderTooltip=function(){this.tooltipObj=new ms({showTipPointer:this.isBootstrap||this.isMaterial||this.isMaterial3||this.isBootstrap4||this.isTailwind||this.isBootstrap5||this.isFluent||this.isFluent2,cssClass:R.sliderTooltip,height:this.isMaterial||this.isMaterial3?30:"auto",animation:{open:{effect:"None"},close:{effect:"FadeOut",duration:500}},opensOn:"Custom",beforeOpen:this.tooltipBeforeOpen.bind(this),beforeCollision:this.checkTooltipPosition.bind(this),beforeClose:this.tooltipBeforeClose.bind(this),enableHtmlSanitizer:this.enableHtmlSanitizer}),this.tooltipObj.appendTo(this.firstHandle),this.initializeTooltipProps()},t.prototype.initializeTooltipProps=function(){var e=this.tooltip.showOn==="Auto"?"Hover":this.tooltip.showOn;this.setProperties({tooltip:{showOn:e}},!0),this.tooltipObj.position=this.tooltipPlacement(),this.tooltipCollision(this.tooltipObj.position),[this.firstHandle,this.rangeBar,this.secondHandle].forEach(function(i){h(i)||(i.style.transition="none")}),this.isMaterialTooltip&&(this.sliderContainer.classList.add(R.materialSlider),this.tooltipValue(),this.tooltipObj.animation.close.effect="None",this.tooltipObj.open(this.firstHandle))},t.prototype.tooltipBeforeClose=function(){this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0},t.prototype.setButtons=function(){this.firstBtn=this.createElement("div",{className:R.sliderButton+" "+R.firstButton}),this.firstBtn.appendChild(this.createElement("span",{className:R.sliderButtonIcon})),this.isTailwind&&this.firstBtn.querySelector("span").classList.add("e-icons"),this.firstBtn.tabIndex=-1,this.secondBtn=this.createElement("div",{className:R.sliderButton+" "+R.secondButton}),this.secondBtn.appendChild(this.createElement("span",{className:R.sliderButtonIcon})),this.isTailwind&&this.secondBtn.querySelector("span").classList.add("e-icons"),this.secondBtn.tabIndex=-1,this.sliderContainer.classList.add(R.sliderButtonClass),this.sliderContainer.appendChild(this.firstBtn),this.sliderContainer.appendChild(this.secondBtn),this.sliderContainer.appendChild(this.element),this.buttonTitle()},t.prototype.buttonTitle=function(){var e=this.enableRtl&&this.orientation!=="Vertical";this.l10n.setLocale(this.locale);var i=this.l10n.getConstant("decrementTitle"),s=this.l10n.getConstant("incrementTitle");le(e?this.secondBtn:this.firstBtn,{"aria-label":i,title:i}),le(e?this.firstBtn:this.secondBtn,{"aria-label":s,title:s})},t.prototype.buttonFocusOut=function(){(this.isMaterial||this.isMaterial3)&&this.getHandle().classList.remove("e-large-thumb-size")},t.prototype.repeatButton=function(e){var i=this.handleValueUpdate(),s=this.enableRtl&&this.orientation!=="Vertical",n;e.target.parentElement.classList.contains(R.firstButton)||e.target.classList.contains(R.firstButton)?s?n=this.add(i,parseFloat(this.step.toString()),!0):n=this.add(i,parseFloat(this.step.toString()),!1):(e.target.parentElement.classList.contains(R.secondButton)||e.target.classList.contains(R.secondButton))&&(s?n=this.add(i,parseFloat(this.step.toString()),!1):n=this.add(i,parseFloat(this.step.toString()),!0)),this.limits.enabled&&(n=this.getLimitCorrectedValues(n)),n>=this.min&&n<=this.max&&(this.changeHandleValue(n),this.tooltipToggle(this.getHandle()))},t.prototype.repeatHandlerMouse=function(e){e.preventDefault(),(e.type==="mousedown"||e.type==="touchstart")&&(this.buttonClick(e),this.repeatInterval=setInterval(this.repeatButton.bind(this),180,e))},t.prototype.materialChange=function(){this.getHandle().classList.contains("e-large-thumb-size")||this.getHandle().classList.add("e-large-thumb-size")},t.prototype.focusHandle=function(){this.getHandle().classList.contains(R.sliderTabHandle)||this.getHandle().classList.add(R.sliderTabHandle)},t.prototype.repeatHandlerUp=function(e){this.changeEvent("changed",e),this.closeTooltip(),clearInterval(this.repeatInterval),this.getHandle().focus()},t.prototype.customTickCounter=function(e){var i=4;return!h(this.customValues)&&this.customValues.length>0&&(e>4&&(i=3),e>7&&(i=2),e>14&&(i=1),e>28&&(i=0)),i},t.prototype.renderScale=function(){var e=this.orientation==="Vertical"?"v":"h";this.noOfDecimals=this.numberOfDecimals(this.step),this.ul=this.createElement("ul",{className:R.scale+" e-"+e+"-scale "+R.tick+"-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),this.ul.style.zIndex="-1",E.isAndroid&&e==="h"&&this.ul.classList.add(R.sliderTickPosition);var i=this.ticks.smallStep;this.ticks.showSmallTicks?i<=0&&(i=parseFloat(X(this.step))):this.ticks.largeStep>0?i=this.ticks.largeStep:i=parseFloat(X(this.max))-parseFloat(X(this.min));var s=this.fractionalToInteger(this.min),n=this.fractionalToInteger(this.max),r=this.fractionalToInteger(i),o=!h(this.customValues)&&this.customValues.length>0&&this.customValues.length-1,l=this.customTickCounter(o),c=!h(this.customValues)&&this.customValues.length>0?o*l+o:Math.abs((n-s)/r);this.element.appendChild(this.ul);var d,p=parseFloat(this.min.toString());e==="v"&&(p=parseFloat(this.max.toString()));var u=0,f,m=100/c;m===1/0&&(m=5);for(var g=0,b=!h(this.customValues)&&this.customValues.length>0?this.customValues.length-1:0,S=0;g<=c;g++){if(d=this.createElement("li",{attrs:{class:R.tick,role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),!h(this.customValues)&&this.customValues.length>0)f=g%(l+1)===0,f&&(e==="h"?(p=this.customValues[S],S++):(p=this.customValues[b],b--),d.setAttribute("title",p.toString()));else if(d.setAttribute("title",p.toString()),this.numberOfDecimals(this.max)===0&&this.numberOfDecimals(this.min)===0&&this.numberOfDecimals(this.step)===0)e==="h"?f=(p-parseFloat(this.min.toString()))%this.ticks.largeStep===0:f=Math.abs(p-parseFloat(this.max.toString()))%this.ticks.largeStep===0;else{var T=this.fractionalToInteger(this.ticks.largeStep),I=this.fractionalToInteger(p);e==="h"?f=(I-s)%T===0:f=Math.abs(I-parseFloat(n.toString()))%T===0}f&&d.classList.add(R.large),e==="h"?d.style.width=m+"%":d.style.height=m+"%";var w=f?this.ticks.placement==="Both"?2:1:0;if(f)for(var x=0;x<w;x++)this.createTick(d,p,m);else h(this.customValues)&&this.formatTicksValue(d,p);this.ul.appendChild(d),this.tickElementCollection.push(d);var A=void 0;h(this.customValues)&&(this.numberOfDecimals(i)>this.numberOfDecimals(p)?A=this.numberOfDecimals(i):A=this.numberOfDecimals(p),e==="h"?p=this.makeRoundNumber(p+i,A):this.min>this.max?p=this.makeRoundNumber(p+i,A):p=this.makeRoundNumber(p-i,A),u=this.makeRoundNumber(u+i,A))}this.ticksAlignment(e,m)},t.prototype.ticksAlignment=function(e,i,s){s===void 0&&(s=!0),this.firstChild=this.ul.firstElementChild,this.lastChild=this.ul.lastElementChild,this.firstChild.classList.add(R.sliderFirstTick),this.lastChild.classList.add(R.sliderLastTick),this.sliderContainer.classList.add(R.scale+"-"+this.ticks.placement.toLowerCase()),e==="h"?(this.firstChild.style.width=i/2+"%",this.lastChild.style.width=i/2+"%"):(this.firstChild.style.height=i/2+"%",this.lastChild.style.height=i/2+"%");var n={ticksWrapper:this.ul,tickElements:this.tickElementCollection};s&&this.trigger("renderedTicks",n),this.scaleAlignment()},t.prototype.createTick=function(e,i,s){var n=this.createElement("span",{className:R.tickValue+" "+R.tick+"-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}});e.appendChild(n),h(this.customValues)?this.formatTicksValue(e,i,n):this.enableHtmlSanitizer?n.innerHTML=Be.sanitize(i.toString()):n.innerHTML=i.toString()},t.prototype.formatTicksValue=function(e,i,s){var n=this,r=this.formatNumber(i),o=!h(this.ticks)&&!h(this.ticks.format)?this.formatString(i,this.ticksFormatInfo).formatString:r,l={value:i,text:o,tickElement:e};this.trigger("renderingTicks",l,function(c){e.setAttribute("title",c.text.toString()),s&&(n.enableHtmlSanitizer?s.innerHTML=Be.sanitize(c.text.toString()):s.innerHTML=c.text.toString())})},t.prototype.scaleAlignment=function(){this.tickValuePosition(),this.orientation==="Vertical"?this.element.getBoundingClientRect().width<=15?this.sliderContainer.classList.add(R.sliderSmallSize):this.sliderContainer.classList.remove(R.sliderSmallSize):this.element.getBoundingClientRect().height<=15?this.sliderContainer.classList.add(R.sliderSmallSize):this.sliderContainer.classList.remove(R.sliderSmallSize)},t.prototype.tickValuePosition=function(){this.firstChild=this.element.querySelector("ul").children[0];var e=this.firstChild.getBoundingClientRect(),i,s,n=this.ticks.smallStep,r=Math.abs(parseFloat(X(this.max))-parseFloat(X(this.min)))/n;this.firstChild.children.length>0&&(i=this.firstChild.children[0].getBoundingClientRect());var o=[this.sliderContainer.querySelectorAll("."+R.tick+"."+R.large+" ."+R.tickValue)],l;this.ticks.placement==="Both"?l=[].slice.call(o[0],2):l=[].slice.call(o[0],1);for(var c=this.orientation==="Vertical"?e.height*2:e.width*2,d=0;d<this.firstChild.children.length;d++)this.orientation==="Vertical"?this.firstChild.children[d].style.top=-(i.height/2)+"px":this.enableRtl?this.firstChild.children[d].style.left=(c-this.firstChild.children[d].getBoundingClientRect().width)/2+"px":this.firstChild.children[d].style.left=-(i.width/2)+"px";for(var d=0;d<l.length;d++)s=l[d].getBoundingClientRect(),this.orientation==="Vertical"?se(l[d],{top:(c-s.height)/2+"px"}):se(l[d],{left:(c-s.width)/2+"px"});this.enableRtl&&this.lastChild.children.length&&r!==0&&(this.lastChild.children[0].style.left=-(this.lastChild.getBoundingClientRect().width/2)+"px",this.ticks.placement==="Both"&&(this.lastChild.children[1].style.left=-(this.lastChild.getBoundingClientRect().width/2)+"px")),r===0&&(this.orientation==="Horizontal"&&(this.enableRtl?(this.firstChild.classList.remove(R.sliderLastTick),this.firstChild.style.right=this.firstHandle.style.right,this.firstChild.children[0].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px",this.ticks.placement==="Both"&&(this.firstChild.children[1].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px")):(this.firstChild.classList.remove(R.sliderLastTick),this.firstChild.style.left=this.firstHandle.style.left)),this.orientation==="Vertical"&&this.firstChild.classList.remove(R.sliderLastTick))},t.prototype.setAriaAttrValue=function(e){var i,s=!h(this.ticks)&&!h(this.ticks.format),n=s?this.formatContent(this.tooltipFormatInfo,!1):this.formatContent(this.ticksFormatInfo,!1),r=s?this.formatContent(this.ticksFormatInfo,!0):this.formatContent(this.tooltipFormatInfo,!0);n=this.customAriaText?this.customAriaText:n,n.split(" - ").length===2?i=n.split(" - "):i=[n,n],this.setAriaAttributes(e),this.type!=="Range"?le(e,{"aria-valuenow":r,"aria-valuetext":n}):this.enableRtl?e===this.firstHandle?le(e,{"aria-valuenow":r.split(" - ")[1],"aria-valuetext":i[1]}):le(e,{"aria-valuenow":r.split(" - ")[0],"aria-valuetext":i[0]}):e===this.firstHandle?le(e,{"aria-valuenow":r.split(" - ")[0],"aria-valuetext":i[0]}):le(e,{"aria-valuenow":r.split(" - ")[1],"aria-valuetext":i[1]})},t.prototype.handleValueUpdate=function(){var e;return this.type==="Range"?this.activeHandle===1?e=this.handleVal1:e=this.handleVal2:e=this.handleVal1,e},t.prototype.getLimitCorrectedValues=function(e){return this.type==="MinRange"||this.type==="Default"?e=this.getLimitValueAndPosition(e,this.limits.minStart,this.limits.minEnd)[0]:this.activeHandle===1?e=this.getLimitValueAndPosition(e,this.limits.minStart,this.limits.minEnd)[0]:e=this.getLimitValueAndPosition(e,this.limits.maxStart,this.limits.maxEnd)[0],e},t.prototype.focusSliderElement=function(){this.isElementFocused||(this.element.focus(),this.isElementFocused=!0)},t.prototype.buttonClick=function(e){this.focusSliderElement();var i,s=this.enableRtl&&this.orientation!=="Vertical",n=this.handleValueUpdate();e.keyCode===40||e.keyCode===37||e.currentTarget.classList.contains(R.firstButton)?s?i=this.add(n,parseFloat(this.step.toString()),!0):i=this.add(n,parseFloat(this.step.toString()),!1):e.keyCode===38||e.keyCode===39||e.currentTarget.classList.contains(R.secondButton)?s?i=this.add(n,parseFloat(this.step.toString()),!1):i=this.add(n,parseFloat(this.step.toString()),!0):e.keyCode===33||e.currentTarget.classList.contains(R.firstButton)?s?i=this.add(n,parseFloat(this.ticks.largeStep.toString()),!1):i=this.add(n,parseFloat(this.ticks.largeStep.toString()),!0):e.keyCode===34||e.currentTarget.classList.contains(R.secondButton)?s?i=this.add(n,parseFloat(this.ticks.largeStep.toString()),!0):i=this.add(n,parseFloat(this.ticks.largeStep.toString()),!1):e.keyCode===36?i=parseFloat(this.min<this.max?this.min.toString():this.max.toString()):e.keyCode===35&&(i=parseFloat(this.min<this.max?this.max.toString():this.min.toString())),this.limits.enabled&&(i=this.getLimitCorrectedValues(i)),this.changeHandleValue(i),(this.isMaterial||this.isMaterial3)&&!this.tooltip.isVisible&&!this.getHandle().classList.contains(R.sliderTabHandle)&&this.materialChange(),this.tooltipToggle(this.getHandle()),this.getHandle().focus(),this.focusHandle(),e.currentTarget.classList.contains(R.firstButton)&&v.add(this.firstBtn,"mouseup touchend",this.buttonUp,this),e.currentTarget.classList.contains(R.secondButton)&&v.add(this.secondBtn,"mouseup touchend",this.buttonUp,this)},t.prototype.tooltipToggle=function(e){this.isMaterialTooltip?this.tooltipElement.classList.contains(R.materialTooltipOpen)?this.refreshTooltip(this.firstHandle):this.openMaterialTooltip():this.tooltipElement?this.refreshTooltip(e):this.openTooltip(e)},t.prototype.buttonUp=function(e){e.currentTarget.classList.contains(R.firstButton)&&v.remove(this.firstBtn,"mouseup touchend",this.buttonUp),e.currentTarget.classList.contains(R.secondButton)&&v.remove(this.secondBtn,"mouseup touchend",this.buttonUp)},t.prototype.setRangeBar=function(){this.orientation==="Horizontal"&&!h(this.rangeBar)?this.type==="MinRange"?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",se(this.rangeBar,{width:h(this.handlePos1)?0:this.handlePos1+"px"})):(this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",se(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"})):h(this.rangeBar)||(this.type==="MinRange"?(this.rangeBar.style.bottom=this.min>this.max?this.handlePos1+"px":"0px",se(this.rangeBar,{height:h(this.handlePos1)?0:this.min>this.max?this.element.clientHeight-this.handlePos1+"px":this.handlePos1+"px"})):(this.rangeBar.style.bottom=this.min>this.max?this.handlePos2+"px":this.handlePos1+"px",se(this.rangeBar,{height:this.min>this.max?this.handlePos1-this.handlePos2+"px":this.handlePos2-this.handlePos1+"px"})))},t.prototype.checkValidValueAndPos=function(e){return e=this.checkHandleValue(e),e=this.checkHandlePosition(e),e},t.prototype.setLimitBarPositions=function(e,i,s,n){this.orientation==="Horizontal"?this.enableRtl?(this.limitBarFirst.style.right=e+"px",this.limitBarFirst.style.width=i-e+"px"):(this.limitBarFirst.style.left=e+"px",this.limitBarFirst.style.width=i-e+"px"):(this.limitBarFirst.style.bottom=(this.min<this.max?e:i)+"px",this.limitBarFirst.style.height=(this.min<this.max?i-e:e-i)+"px"),this.type==="Range"&&(this.orientation==="Horizontal"?this.enableRtl?(this.limitBarSecond.style.right=s+"px",this.limitBarSecond.style.width=n-s+"px"):(this.limitBarSecond.style.left=s+"px",this.limitBarSecond.style.width=n-s+"px"):(this.limitBarSecond.style.bottom=(this.min<this.max?s:n)+"px",this.limitBarSecond.style.height=(this.min<this.max?n-s:s-n)+"px"))},t.prototype.setLimitBar=function(){if(this.type==="Default"||this.type==="MinRange"){var e=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];e=this.checkValidValueAndPos(e);var i=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];i=this.checkValidValueAndPos(i),this.setLimitBarPositions(e,i)}else if(this.type==="Range"){var s=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];s=this.checkValidValueAndPos(s);var n=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];n=this.checkValidValueAndPos(n);var r=this.getLimitValueAndPosition(this.limits.maxStart,this.limits.maxStart,this.limits.maxEnd,!0)[0];r=this.checkValidValueAndPos(r);var o=this.getLimitValueAndPosition(this.limits.maxEnd,this.limits.maxStart,this.limits.maxEnd,!0)[0];o=this.checkValidValueAndPos(o),this.setLimitBarPositions(s,n,r,o)}},t.prototype.getLimitValueAndPosition=function(e,i,s,n){return h(i)&&(i=this.min<this.max?this.min:this.max,h(e)&&n&&(e=i)),h(s)&&(s=this.min<this.max?this.max:this.min,h(e)&&n&&(e=s)),e<i&&(e=i),e>s&&(e=s),[e,this.checkHandlePosition(e)]},t.prototype.setValue=function(){if(!h(this.customValues)&&this.customValues.length>0&&(this.min=0,this.max=this.customValues.length-1,this.setBarColor()),this.setAriaAttributes(this.firstHandle),this.handleVal1=h(this.value)?this.checkHandleValue(parseFloat(this.min.toString())):this.checkHandleValue(parseFloat(this.value.toString())),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.preHandlePos1=this.handlePos1,h(this.activeHandle)&&(this.activeHandle=this.type==="Range"?2:1),this.type==="Default"||this.type==="MinRange"){if(this.limits.enabled){var e=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=e[0],this.handlePos1=e[1],this.preHandlePos1=this.handlePos1}this.setHandlePosition(null),this.handleStart(),this.value=this.handleVal1,this.setAriaAttrValue(this.firstHandle),this.changeEvent("changed",null)}else this.validateRangeValue();this.type!=="Default"&&this.setRangeBar(),this.limits.enabled&&this.setLimitBar()},t.prototype.rangeValueUpdate=function(){(this.value===null||typeof this.value!="object")&&(this.value=[parseFloat(X(this.min)),parseFloat(X(this.max))])},t.prototype.validateRangeValue=function(){this.rangeValueUpdate(),this.setRangeValue()},t.prototype.modifyZindex=function(){this.type==="Range"&&!h(this.firstHandle)&&!h(this.secondHandle)?this.activeHandle===1?(this.firstHandle.style.zIndex=this.zIndex+4+"",this.secondHandle.style.zIndex=this.zIndex+3+""):(this.firstHandle.style.zIndex=this.zIndex+3+"",this.secondHandle.style.zIndex=this.zIndex+4+""):this.isMaterialTooltip&&this.tooltipElement&&(this.tooltipElement.style.zIndex=fs(this.element)+"")},t.prototype.setHandlePosition=function(e){var i=this,s,n=this.activeHandle===1?this.handlePos1:this.handlePos2;this.isMaterialTooltip?s=[this.firstHandle,this.materialHandle]:s=[this.getHandle()],this.handleStart(),s.forEach(function(r){h(r)||(i.orientation==="Horizontal"?i.enableRtl?r.style.right=n+"px":r.style.left=n+"px":r.style.bottom=n+"px")}),this.changeEvent("change",e)},t.prototype.getHandle=function(){return this.activeHandle===1?this.firstHandle:this.secondHandle},t.prototype.setRangeValue=function(){this.updateRangeValue(),this.activeHandle=1,this.setHandlePosition(null),this.activeHandle=2,this.setHandlePosition(null),this.activeHandle=1},t.prototype.changeEvent=function(e,i){var s=e==="change"?this.previousVal:this.previousChanged;if(this.type!=="Range")this.setProperties({value:this.handleVal1},!0),s!==this.value&&(!this.isMaterialTooltip||!this.initialTooltip)&&(this.trigger(e,this.changeEventArgs(e,i)),this.initialTooltip=!0,this.setPreviousVal(e,this.value)),this.setAriaAttrValue(this.firstHandle);else{var n=this.value=[this.handleVal1,this.handleVal2];this.setProperties({value:n},!0),(s.length===this.value.length&&this.value[0]!==s[0]||this.value[1]!==s[1])&&(this.initialTooltip=!1,this.trigger(e,this.changeEventArgs(e,i)),this.initialTooltip=!0,this.setPreviousVal(e,this.value)),this.setAriaAttrValue(this.getHandle())}this.hiddenInput.value=this.value.toString()},t.prototype.changeEventArgs=function(e,i){var s;return this.tooltip.isVisible&&this.tooltipObj&&this.initialTooltip?(this.tooltipValue(),s={value:this.value,previousValue:e==="change"?this.previousVal:this.previousChanged,action:e,text:typeof this.tooltipObj.content=="function"?this.tooltipObj.content():this.tooltipObj.content,isInteracted:!h(i)}):s={value:this.value,previousValue:e==="change"?this.previousVal:this.previousChanged,action:e,text:h(this.ticksFormatInfo.format)?this.value.toString():this.type!=="Range"?this.formatString(this.value,this.ticksFormatInfo).formatString:this.formatString(this.value[0],this.ticksFormatInfo).formatString+" - "+this.formatString(this.value[1],this.ticksFormatInfo).formatString,isInteracted:!h(i)},s},t.prototype.setPreviousVal=function(e,i){e==="change"?this.previousVal=i:this.previousChanged=i},t.prototype.updateRangeValue=function(){var e=this.value.toString().split(",").map(Number);if(this.enableRtl&&this.orientation!=="Vertical"||this.rtl?this.value=[e[1],e[0]]:this.value=[e[0],e[1]],this.enableRtl&&this.orientation!=="Vertical"?(this.handleVal1=this.checkHandleValue(this.value[1]),this.handleVal2=this.checkHandleValue(this.value[0])):(this.handleVal1=this.checkHandleValue(this.value[0]),this.handleVal2=this.checkHandleValue(this.value[1])),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2),this.min<this.max&&this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.min>this.max&&this.handlePos1<this.handlePos2&&(this.handlePos2=this.handlePos1,this.handleVal2=this.handleVal1),this.preHandlePos1=this.handlePos1,this.preHandlePos2=this.handlePos2,this.limits.enabled){this.activeHandle=1;var i=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=i[0],this.handlePos1=i[1],this.preHandlePos1=this.handlePos1,this.activeHandle=2,i=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=i[0],this.handlePos2=i[1],this.preHandlePos2=this.handlePos2}},t.prototype.checkHandlePosition=function(e){var i;return e=100*(e-parseFloat(X(this.min)))/(parseFloat(X(this.max))-parseFloat(X(this.min))),this.orientation==="Horizontal"?i=this.element.getBoundingClientRect().width*(e/100):i=this.element.getBoundingClientRect().height*(e/100),parseFloat(X(this.max))===parseFloat(X(this.min))&&(this.orientation==="Horizontal"?i=this.element.getBoundingClientRect().width:i=this.element.getBoundingClientRect().height),i},t.prototype.checkHandleValue=function(e){if(this.min===this.max)return parseFloat(X(this.max));var i=this.tempStartEnd();return e<i.start?e=i.start:e>i.end&&(e=i.end),e},t.prototype.reposition=function(){var e=this;h(this.firstHandle)||(this.firstHandle.style.transition="none"),this.type!=="Default"&&!h(this.rangeBar)&&(this.rangeBar.style.transition="none"),this.type==="Range"&&!h(this.secondHandle)&&(this.secondHandle.style.transition="none"),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handleVal2&&(this.handlePos2=this.checkHandlePosition(this.handleVal2)),this.orientation==="Horizontal"?(this.enableRtl?this.firstHandle.style.right=this.handlePos1+"px":this.firstHandle.style.left=this.handlePos1+"px",this.isMaterialTooltip&&!h(this.materialHandle)&&(this.enableRtl?this.materialHandle.style.right=this.handlePos1+"px":this.materialHandle.style.left=this.handlePos1+"px"),this.type==="MinRange"&&!h(this.rangeBar)?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",se(this.rangeBar,{width:h(this.handlePos1)?0:this.handlePos1+"px"})):this.type==="Range"&&!h(this.secondHandle)&&!h(this.rangeBar)&&(this.enableRtl?(this.secondHandle.style.right=this.handlePos2+"px",this.rangeBar.style.right=this.handlePos1+"px"):(this.secondHandle.style.left=this.handlePos2+"px",this.rangeBar.style.left=this.handlePos1+"px"),se(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"}))):(this.firstHandle.style.bottom=this.handlePos1+"px",this.isMaterialTooltip&&(this.materialHandle.style.bottom=this.handlePos1+"px"),this.type==="MinRange"?(this.rangeBar.style.bottom=this.min>this.max?this.handlePos1+"px":"0px",se(this.rangeBar,{height:h(this.handlePos1)?0:this.min>this.max?this.element.clientHeight-this.handlePos1+"px":this.handlePos1+"px"})):this.type==="Range"&&(this.secondHandle.style.bottom=this.handlePos2+"px",this.rangeBar.style.bottom=this.min>this.max?this.handlePos2+"px":this.handlePos1+"px",se(this.rangeBar,{height:this.min>this.max?this.handlePos1-this.handlePos2+"px":this.handlePos2-this.handlePos1+"px"}))),this.limits.enabled&&this.setLimitBar(),this.ticks.placement!=="None"&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.handleStart(),this.tooltip.isVisible||setTimeout(function(){h(e.firstHandle)||(e.firstHandle.style.transition=e.scaleTransform),e.type==="Range"&&!h(e.secondHandle)&&(e.secondHandle.style.transition=e.scaleTransform)}),this.refreshTooltip(this.tooltipTarget),this.setBarColor()},t.prototype.changeHandleValue=function(e){var i=null;this.activeHandle===1?(this.limits.enabled&&this.limits.startHandleFixed||(this.handleVal1=this.checkHandleValue(e),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.type==="Range"&&(this.handlePos1>this.handlePos2&&this.min<this.max||this.handlePos1<this.handlePos2&&this.min>this.max)&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.handlePos1!==this.preHandlePos1&&(i=this.preHandlePos1=this.handlePos1)),this.modifyZindex()):(this.limits.enabled&&this.limits.endHandleFixed||(this.handleVal2=this.checkHandleValue(e),this.handlePos2=this.checkHandlePosition(this.handleVal2),this.type==="Range"&&(this.handlePos2<this.handlePos1&&this.min<this.max||this.handlePos2>this.handlePos1&&this.min>this.max)&&(this.handlePos2=this.handlePos1,this.handleVal2=this.handleVal1),this.handlePos2!==this.preHandlePos2&&(i=this.preHandlePos2=this.handlePos2)),this.modifyZindex()),i!==null&&(this.type!=="Default"&&this.setRangeBar(),this.setHandlePosition(null))},t.prototype.tempStartEnd=function(){return this.min>this.max?{start:this.max,end:this.min}:{start:this.min,end:this.max}},t.prototype.xyToPosition=function(e){var i;if(this.min===this.max)return 100;if(this.orientation==="Horizontal"){var s=e.x-this.element.getBoundingClientRect().left,n=this.element.offsetWidth/100;this.val=s/n}else{var r=e.y-this.element.getBoundingClientRect().top,n=this.element.offsetHeight/100;this.val=100-r/n}var o=this.stepValueCalculation(this.val);return o<0?o=0:o>100&&(o=100),this.enableRtl&&this.orientation!=="Vertical"&&(o=100-o),this.orientation==="Horizontal"?i=this.element.getBoundingClientRect().width*(o/100):i=this.element.getBoundingClientRect().height*(o/100),i},t.prototype.stepValueCalculation=function(e){this.step===0&&(this.step=1);var i=parseFloat(X(this.step))/((parseFloat(X(this.max))-parseFloat(X(this.min)))/100),s=e%Math.abs(i);return s!==0&&(i/2>s?e-=s:e+=Math.abs(i)-s),e},t.prototype.add=function(e,i,s){var n=Math.pow(10,3),r;return s?r=(Math.round(e*n)+Math.round(i*n))/n:r=(Math.round(e*n)-Math.round(i*n))/n,r},t.prototype.positionToValue=function(e){var i,s=parseFloat(X(this.max))-parseFloat(X(this.min));this.orientation==="Horizontal"?i=e/this.element.getBoundingClientRect().width*s:i=e/this.element.getBoundingClientRect().height*s;var n=this.add(i,parseFloat(this.min.toString()),!0);return n},t.prototype.sliderBarClick=function(e){e.preventDefault();var i;e.type==="mousedown"||e.type==="mouseup"||e.type==="click"?i={x:e.clientX,y:e.clientY}:(e.type==="touchend"||e.type==="touchstart")&&(i={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY});var s=this.xyToPosition(i),n=this.positionToValue(s);if(this.type==="Range"&&(this.min<this.max&&this.handlePos2-s<s-this.handlePos1||this.min>this.max&&this.handlePos1-s>s-this.handlePos2)){if(this.activeHandle=2,!(this.limits.enabled&&this.limits.endHandleFixed)){if(this.limits.enabled){var r=this.getLimitValueAndPosition(n,this.limits.maxStart,this.limits.maxEnd);n=r[0],s=r[1]}this.secondHandle.classList.add(R.sliderActiveHandle),this.handlePos2=this.preHandlePos2=s,this.handleVal2=n}this.modifyZindex(),this.secondHandle.focus()}else{if(this.activeHandle=1,!(this.limits.enabled&&this.limits.startHandleFixed)){if(this.limits.enabled){var r=this.getLimitValueAndPosition(n,this.limits.minStart,this.limits.minEnd);n=r[0],s=r[1]}this.firstHandle.classList.add(R.sliderActiveHandle),this.handlePos1=this.preHandlePos1=s,this.handleVal1=n}this.modifyZindex(),this.firstHandle.focus()}this.isMaterialTooltip&&this.tooltipElement.classList.add(R.materialTooltipActive);var o=this.element.querySelector("."+R.sliderTabHandle);o&&this.getHandle()!==o&&o.classList.remove(R.sliderTabHandle);var l=this.activeHandle===1?this.firstHandle:this.secondHandle,c;if((e.type==="click"||e.type==="mousedown")&&e.target===l){var d=e.clientX,p=e.clientY;c=document.elementFromPoint(d,p)}if(e.target===l&&c!==l){(this.isMaterial||this.isMaterial3)&&!this.tooltip.isVisible&&!this.getHandle().classList.contains(R.sliderTabHandle)&&this.materialChange(),this.sliderBarUp(e),this.tooltipToggle(this.getHandle());return}if(this.checkRepeatedValue(n)){var u=(this.isMaterial||this.isMaterial3)&&this.tooltip.isVisible?this.transitionOnMaterialTooltip:this.transition;this.getHandle().style.transition=u.handle,this.type!=="Default"&&(this.rangeBar.style.transition=u.rangeBar),this.setHandlePosition(e),this.isMaterialTooltip&&(this.initialTooltip=!1),e.target!==l&&this.changeEvent("changed",e),this.type!=="Default"&&this.setRangeBar()}},t.prototype.handleValueAdjust=function(e,i,s){s===1?(this.handleVal1=i,this.handleVal2=this.handleVal1+this.minDiff):s===2&&(this.handleVal2=i,this.handleVal1=this.handleVal2-this.minDiff),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2)},t.prototype.dragRangeBarMove=function(e){var i,s;e.type!=="touchmove"&&e.preventDefault(),this.rangeBarDragged=!0;var n;this.rangeBar.style.transition="none",this.firstHandle.style.transition="none",this.secondHandle.style.transition="none";var r,o;if(e.type==="mousemove"?(i=[e.clientX,e.clientY],r=i[0],o=i[1]):(s=[e.changedTouches[0].clientX,e.changedTouches[0].clientY],r=s[0],o=s[1]),!(this.limits.enabled&&this.limits.startHandleFixed)&&!(this.limits.enabled&&this.limits.endHandleFixed)){if(this.enableRtl?n={x:r+this.secondPartRemain,y:o+this.secondPartRemain}:n={x:r-this.firstPartRemain,y:o+this.secondPartRemain},this.min>this.max?(this.handlePos2=this.xyToPosition(n),this.handleVal2=this.positionToValue(this.handlePos2)):(this.handlePos1=this.xyToPosition(n),this.handleVal1=this.positionToValue(this.handlePos1)),this.enableRtl?n={x:r-this.firstPartRemain,y:o-this.firstPartRemain}:n={x:r+this.secondPartRemain,y:o-this.firstPartRemain},this.min>this.max?(this.handlePos1=this.xyToPosition(n),this.handleVal1=this.positionToValue(this.handlePos1)):(this.handlePos2=this.xyToPosition(n),this.handleVal2=this.positionToValue(this.handlePos2)),this.limits.enabled){var l=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=l[0],this.handlePos1=l[1],this.handleVal1===this.limits.minEnd&&this.handleValueAdjust(this.handleVal1,this.limits.minEnd,1),this.handleVal1===this.limits.minStart&&this.handleValueAdjust(this.handleVal1,this.limits.minStart,1),l=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=l[0],this.handlePos2=l[1],this.handleVal2===this.limits.maxStart&&this.handleValueAdjust(this.handleVal2,this.limits.maxStart,2),this.handleVal2===this.limits.maxEnd&&this.handleValueAdjust(this.handleVal2,this.limits.maxEnd,2)}this.handleVal2===(this.min>this.max?this.min:this.max)&&this.handleValueAdjust(this.handleVal2,this.min>this.max?this.min:this.max,2),this.handleVal1===(this.min>this.max?this.max:this.min)&&this.handleValueAdjust(this.handleVal1,this.min>this.max?this.max:this.min,1)}this.activeHandle=1,this.setHandlePosition(e),this.activeHandle=2,this.setHandlePosition(e),this.tooltipToggle(this.rangeBar),this.setRangeBar()},t.prototype.sliderBarUp=function(e){this.changeEvent("changed",e),this.handleFocusOut(),this.firstHandle.classList.remove(R.sliderActiveHandle),this.type==="Range"&&(this.initialTooltip=!1,this.secondHandle.classList.remove(R.sliderActiveHandle)),this.closeTooltip(),(this.isMaterial||this.isMaterial3)&&(this.getHandle().classList.remove("e-large-thumb-size"),this.isMaterialTooltip&&this.tooltipElement.classList.remove(R.materialTooltipActive)),v.remove(document,"mousemove touchmove",this.sliderBarMove),v.remove(document,"mouseup touchend",this.sliderBarUp)},t.prototype.sliderBarMove=function(e){e.type!=="touchmove"&&e.preventDefault();var i;e.type==="mousemove"?i={x:e.clientX,y:e.clientY}:i={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};var s=this.xyToPosition(i),n=this.positionToValue(s);if(s=Math.round(s),this.type!=="Range"&&this.activeHandle===1){if(!(this.limits.enabled&&this.limits.startHandleFixed)){if(this.limits.enabled){var r=this.getLimitValueAndPosition(n,this.limits.minStart,this.limits.minEnd);s=r[1],n=r[0]}this.handlePos1=s,this.handleVal1=n}this.firstHandle.classList.add(R.sliderActiveHandle)}if(this.type==="Range"){if(this.activeHandle===1){if(this.firstHandle.classList.add(R.sliderActiveHandle),!(this.limits.enabled&&this.limits.startHandleFixed)&&((this.min<this.max&&s>this.handlePos2||this.min>this.max&&s<this.handlePos2)&&(s=this.handlePos2,n=this.handleVal2),s!==this.preHandlePos1)){if(this.limits.enabled){var o=this.getLimitValueAndPosition(n,this.limits.minStart,this.limits.minEnd);n=o[0],s=o[1]}this.handlePos1=this.preHandlePos1=s,this.handleVal1=n,this.activeHandle=1}}else if(this.activeHandle===2&&(this.secondHandle.classList.add(R.sliderActiveHandle),!(this.limits.enabled&&this.limits.endHandleFixed)&&((this.min<this.max&&s<this.handlePos1||this.min>this.max&&s>this.handlePos1)&&(s=this.handlePos1,n=this.handleVal1),s!==this.preHandlePos2))){if(this.limits.enabled){var o=this.getLimitValueAndPosition(n,this.limits.maxStart,this.limits.maxEnd);n=o[0],s=o[1]}this.handlePos2=this.preHandlePos2=s,this.handleVal2=n,this.activeHandle=2}}this.checkRepeatedValue(n)&&(this.getHandle().style.transition=this.scaleTransform,this.type!=="Default"&&(this.rangeBar.style.transition="none"),this.setHandlePosition(e),(this.isMaterial||this.isMaterial3)&&!this.tooltip.isVisible&&!this.getHandle().classList.contains(R.sliderTabHandle)&&this.materialChange(),this.tooltipToggle(this.getHandle()),this.type!=="Default"&&this.setRangeBar())},t.prototype.dragRangeBarUp=function(e){this.rangeBarDragged?this.isDragComplete=!0:(this.focusSliderElement(),this.sliderBarClick(e)),this.changeEvent("changed",e),this.closeTooltip(),v.remove(document,"mousemove touchmove",this.dragRangeBarMove),v.remove(document,"mouseup touchend",this.dragRangeBarUp),this.rangeBarDragged=!1},t.prototype.checkRepeatedValue=function(e){if(this.type==="Range"){var i=this.enableRtl&&this.orientation!=="Vertical"?this.activeHandle===1?this.previousVal[1]:this.previousVal[0]:this.activeHandle===1?this.previousVal[0]:this.previousVal[1];if(e===i)return 0}else if(e===this.previousVal)return 0;return 1},t.prototype.refreshTooltip=function(e){this.tooltip.isVisible&&this.tooltipObj&&(this.tooltipValue(),e&&(this.tooltipObj.refresh(e),this.tooltipTarget=e))},t.prototype.openTooltip=function(e){this.tooltip.isVisible&&this.tooltipObj&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.open(e),this.tooltipTarget=e)},t.prototype.closeTooltip=function(){this.tooltip.isVisible&&this.tooltipObj&&this.tooltip.showOn!=="Always"&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.close(),this.tooltipTarget=void 0)},t.prototype.keyDown=function(e){switch(e.keyCode){case 37:case 38:case 39:case 40:case 33:case 34:case 36:case 35:e.preventDefault(),this.buttonClick(e);break}},t.prototype.wireButtonEvt=function(e){e?(v.remove(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut),v.remove(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut),v.remove(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse),v.remove(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),v.remove(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse),v.remove(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),v.remove(this.firstBtn,"focusout",this.sliderFocusOut),v.remove(this.secondBtn,"focusout",this.sliderFocusOut)):(v.add(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut,this),v.add(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut,this),v.add(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse,this),v.add(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),v.add(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse,this),v.add(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),v.add(this.firstBtn,"focusout",this.sliderFocusOut,this),v.add(this.secondBtn,"focusout",this.sliderFocusOut,this))},t.prototype.rangeBarMousedown=function(e){var i,s;if(e.preventDefault(),this.focusSliderElement(),this.type==="Range"&&this.drag&&e.target===this.rangeBar){var n=void 0,r=void 0;e.type==="mousedown"?(i=[e.clientX,e.clientY],n=i[0],r=i[1]):e.type==="touchstart"&&(s=[e.changedTouches[0].clientX,e.changedTouches[0].clientY],n=s[0],r=s[1]),this.orientation==="Horizontal"?(this.firstPartRemain=n-this.rangeBar.getBoundingClientRect().left,this.secondPartRemain=this.rangeBar.getBoundingClientRect().right-n):(this.firstPartRemain=r-this.rangeBar.getBoundingClientRect().top,this.secondPartRemain=this.rangeBar.getBoundingClientRect().bottom-r),this.minDiff=this.handleVal2-this.handleVal1,this.tooltipToggle(this.rangeBar);var o=this.element.querySelector("."+R.sliderTabHandle);o&&o.classList.remove(R.sliderTabHandle),v.add(document,"mousemove touchmove",this.dragRangeBarMove,this),v.add(document,"mouseup touchend",this.dragRangeBarUp,this)}},t.prototype.elementClick=function(e){if(this.isDragComplete){this.isDragComplete=!1;return}e.preventDefault(),this.focusSliderElement(),this.sliderBarClick(e),this.focusHandle()},t.prototype.wireEvents=function(){this.onresize=this.reposition.bind(this),window.addEventListener("resize",this.onresize),this.enabled&&!this.readonly&&(v.add(this.element,"click",this.elementClick,this),this.type==="Range"&&this.drag&&v.add(this.rangeBar,"mousedown touchstart",this.rangeBarMousedown,this),v.add(this.sliderContainer,"keydown",this.keyDown,this),v.add(this.sliderContainer,"keyup",this.keyUp,this),v.add(this.element,"focusout",this.sliderFocusOut,this),v.add(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover,this),this.wireFirstHandleEvt(!1),this.type==="Range"&&this.wireSecondHandleEvt(!1),this.showButtons&&this.wireButtonEvt(!1),this.wireMaterialTooltipEvent(!1),this.isForm&&v.add(this.formElement,"reset",this.formResetHandler,this))},t.prototype.unwireEvents=function(){v.remove(this.element,"click",this.elementClick),this.type==="Range"&&this.drag&&v.remove(this.rangeBar,"mousedown touchstart",this.rangeBarMousedown),v.remove(this.sliderContainer,"keydown",this.keyDown),v.remove(this.sliderContainer,"keyup",this.keyUp),v.remove(this.element,"focusout",this.sliderFocusOut),v.remove(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover),this.wireFirstHandleEvt(!0),this.type==="Range"&&this.wireSecondHandleEvt(!0),this.showButtons&&this.wireButtonEvt(!0),this.wireMaterialTooltipEvent(!0),v.remove(this.element,"reset",this.formResetHandler)},t.prototype.formResetHandler=function(){this.setProperties({value:this.formResetValue},!0),this.setValue()},t.prototype.keyUp=function(e){if(e.keyCode===9&&e.target.classList.contains(R.sliderHandle)&&(this.focusSliderElement(),!e.target.classList.contains(R.sliderTabHandle))){this.element.querySelector("."+R.sliderTabHandle)&&this.element.querySelector("."+R.sliderTabHandle).classList.remove(R.sliderTabHandle),e.target.classList.add(R.sliderTabHandle);var i=e.target.parentElement;if(i===this.element&&(i.querySelector("."+R.sliderTrack).classList.add(R.sliderTabTrack),(this.type==="Range"||this.type==="MinRange")&&i.querySelector("."+R.rangeBar).classList.add(R.sliderTabRange)),this.type==="Range"){var s=e.target.previousSibling;s&&s.classList.contains(R.sliderHandle)?this.activeHandle=2:this.activeHandle=1}this.getHandle().focus(),this.tooltipToggle(this.getHandle())}this.closeTooltip(),this.changeEvent("changed",e)},t.prototype.hover=function(e){if(!h(e))if(e.type==="mouseover"||e.type==="touchmove"||e.type==="mousemove"||e.type==="pointermove"||e.type==="touchstart")this.sliderContainer.classList.add(R.sliderHover);else{this.sliderContainer.classList.remove(R.sliderHover);var i=e.currentTarget;this.tooltip.isVisible&&this.tooltip.showOn!=="Always"&&this.tooltipObj&&this.isMaterialTooltip&&!i.classList.contains(R.sliderHandleFocused)&&!i.classList.contains(R.sliderTabHandle)&&this.closeMaterialTooltip()}},t.prototype.sliderFocusOut=function(e){e.relatedTarget!==this.secondHandle&&e.relatedTarget!==this.firstHandle&&e.relatedTarget!==this.element&&e.relatedTarget!==this.firstBtn&&e.relatedTarget!==this.secondBtn&&(this.closeMaterialTooltip(),this.closeTooltip(),this.element.querySelector("."+R.sliderTabHandle)&&this.element.querySelector("."+R.sliderTabHandle).classList.remove(R.sliderTabHandle),this.element.querySelector("."+R.sliderTabTrack)&&(this.element.querySelector("."+R.sliderTabTrack).classList.remove(R.sliderTabTrack),(this.type==="Range"||this.type==="MinRange")&&this.element.querySelector("."+R.sliderTabRange)&&this.element.querySelector("."+R.sliderTabRange).classList.remove(R.sliderTabRange)),this.hiddenInput.focus(),this.hiddenInput.blur(),this.isElementFocused=!1)},t.prototype.removeElement=function(e){e.parentNode&&e.parentNode.removeChild(e)},t.prototype.changeSliderType=function(e,i){this.isMaterialTooltip&&this.materialHandle&&(this.sliderContainer.classList.remove(R.materialSlider),this.removeElement(this.materialHandle),this.materialHandle=void 0),this.removeElement(this.firstHandle),this.firstHandle=void 0,e!=="Default"&&(e==="Range"&&(this.removeElement(this.secondHandle),this.secondHandle=void 0),this.removeElement(this.rangeBar),this.rangeBar=void 0),this.tooltip.isVisible&&!h(this.tooltipObj)&&(this.tooltipObj.destroy(),this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0),this.limits.enabled&&(e==="MinRange"||e==="Default"?h(this.limitBarFirst)||(this.removeElement(this.limitBarFirst),this.limitBarFirst=void 0):h(this.limitBarSecond)||(this.removeElement(this.limitBarSecond),this.limitBarSecond=void 0)),this.activeHandle=1,this.getThemeInitialization(),this.type==="Range"&&this.rangeValueUpdate(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setHandler(),this.setOrientClass(),this.wireFirstHandleEvt(!1),this.type==="Range"&&this.wireSecondHandleEvt(!1),this.setValue(),this.tooltip.isVisible&&(this.renderTooltip(),this.wireMaterialTooltipEvent(!1)),this.setBarColor(),i!=="tooltip"&&this.updateConfig(),this.readonly&&(this.sliderContainer.classList.remove(R.readonly),this.setReadOnly())},t.prototype.changeRtl=function(){if(!this.enableRtl&&this.type==="Range"&&(this.value=[this.handleVal2,this.handleVal1]),this.updateConfig(),this.tooltip.isVisible&&this.tooltipObj.refresh(this.firstHandle),this.showButtons){var e=this.enableRtl&&this.orientation!=="Vertical";le(e?this.secondBtn:this.firstBtn,{"aria-label":"Decrease",title:"Decrease"}),le(e?this.firstBtn:this.secondBtn,{"aria-label":"Increase",title:"Increase"})}},t.prototype.changeOrientation=function(){this.changeSliderType(this.type,"null")},t.prototype.updateConfig=function(){this.setEnableRTL(),this.setValue(),this.tooltip.isVisible&&this.refreshTooltip(this.tooltipTarget),this.ticks.placement!=="None"&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.limitsPropertyChange()},t.prototype.limitsPropertyChange=function(){this.limits.enabled?(h(this.limitBarFirst)&&this.type!=="Range"&&this.createLimitBar(),h(this.limitBarFirst)&&h(this.limitBarSecond)&&this.type==="Range"&&this.createLimitBar(),this.setLimitBar(),this.setValue()):(h(this.limitBarFirst)||N(this.limitBarFirst),h(this.limitBarSecond)||N(this.limitBarSecond))},t.prototype.getPersistData=function(){var e=["value"];return this.addOnPersist(e)},t.prototype.destroy=function(){a.prototype.destroy.call(this),this.unwireEvents(),window.removeEventListener("resize",this.onresize),k([this.sliderContainer],[R.sliderDisabled]),this.firstHandle.removeAttribute("aria-orientation"),this.type==="Range"&&this.secondHandle.removeAttribute("aria-orientation"),this.sliderContainer.parentNode&&this.sliderContainer.parentNode.insertBefore(this.element,this.sliderContainer),N(this.sliderContainer),this.tooltip.isVisible&&this.tooltipObj.destroy(),this.element.innerHTML="",this.hiddenInput=null,this.sliderContainer=null,this.sliderTrack=null,this.rangeBar=null,this.firstHandle=null,this.secondHandle=null,this.tickElementCollection=null,this.ul=null,this.firstBtn=null,this.secondBtn=null,this.materialHandle=null,this.tooltipObj=null,this.tooltipTarget=null,this.limitBarFirst=null,this.limitBarSecond=null,this.firstChild=null,this.lastChild=null,this.tooltipElement=null},t.prototype.onPropertyChanged=function(e,i){for(var s=this,n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];switch(o){case"cssClass":this.setCSSClass(i.cssClass);break;case"value":if(e&&i){var l=h(e.value)?this.type==="Range"?[this.min,this.max]:this.min:e.value;this.setProperties({value:l},!0),!h(i.value)&&i.value.toString()!==l.toString()&&(this.setValue(),this.refreshTooltip(this.tooltipTarget),this.type==="Range"&&(h(e.value)||i.value[1]===l[1]?this.activeHandle=1:this.activeHandle=2))}break;case"min":case"step":case"max":this.setMinMaxValue();break;case"tooltip":!h(e.tooltip)&&!h(i.tooltip)&&(this.initialTooltip=!0,this.setTooltip(o),this.showButtons||this.wireEvents());break;case"type":!h(i)&&Object.keys(i).length&&!h(i.type)&&(this.changeSliderType(i.type,o),this.setZindex());break;case"enableRtl":i.enableRtl!==e.enableRtl&&this.orientation!=="Vertical"&&(this.rtl=i.enableRtl,this.changeRtl());break;case"limits":this.limitsPropertyChange();break;case"orientation":this.changeOrientation();break;case"ticks":h(this.sliderContainer.querySelector("."+R.scale))||(N(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,function(c){c.match(/e-scale-/)&&s.sliderContainer.classList.remove(c)})),this.ticks.placement!=="None"&&(this.renderScale(),this.setZindex());break;case"locale":this.showButtons&&this.buttonTitle();break;case"showButtons":e.showButtons?(this.setButtons(),this.reposition(),this.enabled&&!this.readonly&&this.wireButtonEvt(!1)):this.firstBtn&&this.secondBtn&&(this.sliderContainer.removeChild(this.firstBtn),this.sliderContainer.removeChild(this.secondBtn),this.sliderContainer.classList.remove(R.sliderButtonClass),this.firstBtn=void 0,this.secondBtn=void 0,this.reposition());break;case"enabled":this.setEnabled();break;case"readonly":this.setReadOnly();break;case"customValues":this.setValue(),this.reposition();break;case"colorRange":this.reposition();break;case"width":this.setElementWidth(e.width),this.setMinMaxValue(),this.limits&&this.limitsPropertyChange();break}}},t.prototype.setReadOnly=function(){this.readonly?(this.unwireEvents(),this.sliderContainer.classList.add(R.readonly)):(this.wireEvents(),this.sliderContainer.classList.remove(R.readonly))},t.prototype.setMinMaxValue=function(){var e=this;this.setValue(),this.refreshTooltip(this.tooltipTarget),h(this.sliderContainer.querySelector("."+R.scale))||this.ul&&(N(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,function(i){i.match(/e-scale-/)&&e.sliderContainer.classList.remove(i)})),this.ticks.placement!=="None"&&(this.renderScale(),this.setZindex())},t.prototype.setZindex=function(){this.zIndex=6,!h(this.ticks)&&this.ticks.placement!=="None"&&!h(this.ul)&&!h(this.element)&&(this.ul.style.zIndex=this.zIndex+-7+"",this.element.style.zIndex=this.zIndex+2+""),!this.isMaterial&&!this.isMaterial3&&!h(this.ticks)&&this.ticks.placement==="Both"&&(this.element.style.zIndex=this.zIndex+2+""),h(this.firstHandle)||(this.firstHandle.style.zIndex=this.zIndex+3+""),this.type==="Range"&&!h(this.secondHandle)&&(this.secondHandle.style.zIndex=this.zIndex+4+"")},t.prototype.setTooltip=function(e){this.changeSliderType(this.type,e)},t.prototype.setBarColor=function(){for(var e,i,s=this.sliderTrack.lastElementChild;s;)this.sliderTrack.removeChild(s),s=this.sliderTrack.lastElementChild;for(var n=0;n<this.colorRange.length;n++)if(!h(this.colorRange[n].start)&&!h(this.colorRange[n].end)&&this.colorRange[n].end>this.colorRange[n].start){this.colorRange[n].start<this.min&&(this.colorRange[n].start=this.min),this.colorRange[n].end>this.max&&(this.colorRange[n].end=this.max);var r=this.checkHandlePosition(this.colorRange[n].start),o=this.checkHandlePosition(this.colorRange[n].end),l=this.createElement("div");l.style.backgroundColor=this.colorRange[n].color,l.style.border="1px solid "+this.colorRange[n].color,this.orientation==="Horizontal"?(i=R.sliderHorizantalColor,this.enableRtl?h(this.customValues)?e=this.checkHandlePosition(this.max)-this.checkHandlePosition(this.colorRange[n].end):e=this.checkHandlePosition(this.customValues.length-this.colorRange[n].end-1):e=this.checkHandlePosition(this.colorRange[n].start),l.style.width=o-r+"px",l.style.left=e+"px"):(i=R.sliderVerticalColor,e=this.checkHandlePosition(this.colorRange[n].start),l.style.height=o-r+"px",l.style.bottom=e+"px"),l.classList.add(i),this.sliderTrack.appendChild(l)}},t.prototype.getModuleName=function(){return"slider"},be([y(null)],t.prototype,"value",void 0),be([y(null)],t.prototype,"customValues",void 0),be([y(1)],t.prototype,"step",void 0),be([y(null)],t.prototype,"width",void 0),be([y(0)],t.prototype,"min",void 0),be([y(100)],t.prototype,"max",void 0),be([y(!1)],t.prototype,"readonly",void 0),be([y("Default")],t.prototype,"type",void 0),be([Qt([{}],CC)],t.prototype,"colorRange",void 0),be([ye({},bC)],t.prototype,"ticks",void 0),be([ye({},MC)],t.prototype,"limits",void 0),be([y(!0)],t.prototype,"enabled",void 0),be([ye({},SC)],t.prototype,"tooltip",void 0),be([y(!1)],t.prototype,"showButtons",void 0),be([y(!0)],t.prototype,"enableAnimation",void 0),be([y("Horizontal")],t.prototype,"orientation",void 0),be([y("")],t.prototype,"cssClass",void 0),be([y(!0)],t.prototype,"enableHtmlSanitizer",void 0),be([z()],t.prototype,"created",void 0),be([z()],t.prototype,"change",void 0),be([z()],t.prototype,"changed",void 0),be([z()],t.prototype,"renderingTicks",void 0),be([z()],t.prototype,"renderedTicks",void 0),be([z()],t.prototype,"tooltipChange",void 0),t=be([ke],t),t}(Ge);var lT={EMAIL:new RegExp("^[A-Za-z0-9._%+-]{1,}@[A-Za-z0-9._%+-]{1,}([.]{1}[a-zA-Z0-9]{2,}|[.]{1}[a-zA-Z0-9]{2,4}[.]{1}[a-zA-Z0-9]{2,4})$"),URL:/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/m,DATE_ISO:new RegExp("^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"),DIGITS:new RegExp("^[0-9]*$"),PHONE:new RegExp("^[+]?[0-9]{9,13}$"),CREDITCARD:new RegExp("^\\d{13,16}$")};var Pa=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),ve=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},NC="e-upload e-control-wrapper",Pf="e-file-select",vh="e-file-drop",IC="e-file-select-wrap",Bf="e-upload-files",La="e-upload-file-list",Ze="e-file-status",DC="e-upload-actions",LC="e-file-upload-btn e-css e-btn e-flat e-primary",wC="e-file-clear-btn e-css e-btn e-flat",Hf="e-file-name",Ff="e-file-type",Uf="e-file-size",mt="e-file-remove-btn",Kt="e-file-delete-btn",Vf="e-spinner-pane",Xe="e-file-abort-btn",wi="e-file-reload-btn",yh="e-upload-drag-hover",Ls="e-upload-progress-wrap",wa="e-upload-progress-bar",bh="e-progress-bar-text",$t="e-upload-progress",ci="e-upload-success",Jt="e-upload-fails",Ch="e-file-container",qf="e-validation-fails",_f="e-rtl",Mh="e-disabled",Wf="e-rtl-container",Sh="e-clear-icon-focus",OC="e-progress-inner-wrap",Tt="e-file-pause-btn",ws="e-file-play-btn",tr="e-restrict-retry",Qf=["title","style","class"],Yf="e-form-upload",xC="e-hidden-file-input",fn="e-file-invalid",kC="e-file-information",AC=function(a){Pa(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return ve([y("")],t.prototype,"name",void 0),ve([y(null)],t.prototype,"size",void 0),ve([y("")],t.prototype,"type",void 0),t}(ge),jC=function(a){Pa(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return ve([y("Browse...")],t.prototype,"browse",void 0),ve([y("Upload")],t.prototype,"upload",void 0),ve([y("Clear")],t.prototype,"clear",void 0),t}(ge),RC=function(a){Pa(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return ve([y("")],t.prototype,"saveUrl",void 0),ve([y("")],t.prototype,"removeUrl",void 0),ve([y(0)],t.prototype,"chunkSize",void 0),ve([y(3)],t.prototype,"retryCount",void 0),ve([y(500)],t.prototype,"retryAfterDelay",void 0),t}(ge),bn=function(a){Pa(t,a);function t(e,i){var s=a.call(this,e,i)||this;return s.initialAttr={accept:null,multiple:!1,disabled:!1},s.uploadedFilesData=[],s.base64String=[],s.isForm=!1,s.allTypes=!1,s.pausedData=[],s.uploadMetaData=[],s.tabIndex="0",s.btnTabIndex="0",s.disableKeyboardNavigation=!1,s.count=-1,s.actionCompleteCount=0,s.flag=!0,s.selectedFiles=[],s.uploaderName="UploadFiles",s.fileStreams=[],s.newFileRef=0,s.isFirstFileOnSelection=!1,s.dragCounter=0,s.fileList=[],s.filesData=[],s.uploaderOptions=e,s}return t.prototype.onPropertyChanged=function(e,i){for(var s=0,n=Object.keys(e);s<n.length;s++){var r=n[s];switch(r){case"allowedExtensions":this.setExtensions(this.allowedExtensions),this.clearAll();break;case"enabled":this.setControlStatus();break;case"multiple":this.setMultipleSelection();break;case"enableRtl":this.setRTL(),this.reRenderFileList();break;case"buttons":this.buttons.browse=h(this.buttons.browse)?"":this.buttons.browse,this.buttons.clear=h(this.buttons.clear)?"":this.buttons.clear,this.buttons.upload=h(this.buttons.upload)?"":this.buttons.upload,this.renderButtonTemplates();break;case"dropArea":this.unBindDropEvents(),this.updateDropArea();break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.checkHTMLAttributes(!0);break;case"files":this.renderPreLoadFiles();break;case"directoryUpload":this.updateDirectoryAttributes();break;case"template":this.isReact?this.reRenderFileList():this.clearAll();break;case"minFileSize":case"maxFileSize":case"autoUpload":this.clearAll();break;case"sequentialUpload":this.clearAll();break;case"locale":this.l10n.setLocale(this.locale),this.setLocalizedTexts(),this.preLocaleObj=B("currentLocale",this.l10n);break;case"cssClass":this.setCSSClass(i.cssClass);break}}},t.prototype.setLocalizedTexts=function(){h(this.template)&&(typeof this.buttons.browse=="string"&&(this.browseButton.innerText=this.buttons.browse==="Browse..."?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.innerText),this.uploadWrapper&&!h(this.uploadWrapper.querySelector("."+vh))&&(this.uploadWrapper.querySelector("."+vh).innerHTML=this.localizedTexts("dropFilesHint"))),this.updateFileList())},t.prototype.getKeyValue=function(e){for(var i,s=0,n=Object.keys(this.preLocaleObj);s<n.length;s++){var r=n[s];this.preLocaleObj[""+r]===e&&(i=r)}return i},t.prototype.updateFileList=function(){var e;if(this.fileList.length>0&&!h(this.uploadWrapper.querySelector("."+Bf)))for(var i=0;i<this.fileList.length;i++)e=this.fileList[i].querySelector(".e-file-status"),e.innerHTML=this.localizedTexts(this.getKeyValue(this.filesData[i].status)),this.filesData[i].status=this.localizedTexts(this.getKeyValue(this.filesData[i].status)),this.fileList[i].classList.contains(ci)&&this.fileList[i].querySelector(".e-icons").setAttribute("title",this.localizedTexts("delete")),this.fileList[i].querySelector(".e-file-play-btn")&&this.fileList[i].querySelector(".e-icons").setAttribute("title",this.localizedTexts("resume")),this.fileList[i].querySelector(".e-file-remove-btn")&&this.fileList[i].querySelector(".e-icons").setAttribute("title",this.localizedTexts("remove")),this.fileList[i].querySelector(".e-file-reload-btn")&&this.fileList[i].querySelector(".e-icons").setAttribute("title",this.localizedTexts("retry")),this.autoUpload||(this.uploadButton.innerText=this.buttons.upload==="Upload"?this.localizedTexts("Upload"):this.buttons.upload,this.uploadButton.setAttribute("title",this.localizedTexts("Upload")),this.clearButton.innerText=this.buttons.clear==="Clear"?this.localizedTexts("Clear"):this.buttons.clear,this.clearButton.setAttribute("title",this.localizedTexts("Clear")))},t.prototype.reRenderFileList=function(){this.listParent&&(N(this.listParent),this.listParent=null,this.fileList=[],this.internalCreateFileList(this.filesData),this.actionButtons&&(this.removeActionButtons(),this.renderActionButtons(),this.checkActionButtonStatus()))},t.prototype.preRender=function(){this.localeText={Browse:"Browse...",Clear:"Clear",Upload:"Upload",invalidFileName:"File Name is not allowed",dropFilesHint:"Or drop files here",invalidMaxFileSize:"File size is too large",invalidMinFileSize:"File size is too small",invalidFileType:"File type is not allowed",uploadFailedMessage:"File failed to upload",uploadSuccessMessage:"File uploaded successfully",removedSuccessMessage:"File removed successfully",removedFailedMessage:"Unable to remove file",inProgress:"Uploading",readyToUploadMessage:"Ready to upload",abort:"Abort",remove:"Remove",cancel:"Cancel",delete:"Delete file",pauseUpload:"File upload paused",pause:"Pause",resume:"Resume",retry:"Retry",fileUploadCancel:"File upload canceled",invalidFileSelection:"Invalid files selected",totalFiles:"Total files",size:"Size"},this.l10n=new Yt("uploader",this.localeText,this.locale),this.preLocaleObj=B("currentLocale",this.l10n),this.formRendered(),this.updateHTMLAttrToElement(),this.checkHTMLAttributes(!1);var e=B("ej2_instances",this.element);if(this.element.tagName==="EJS-UPLOADER"){var i=this.createElement("input",{attrs:{type:"file"}}),s=0;for(s;s<this.element.attributes.length;s++)this.element.attributes[s].nodeName!=="id"?i.setAttribute(this.element.attributes[s].nodeName,this.element.attributes[s].nodeValue):this.element.attributes[s].nodeName==="id"&&i.setAttribute(this.element.attributes[s].nodeName,Ae("uploader")),i.innerHTML=this.element.innerHTML;i.hasAttribute("name")||i.setAttribute("name","UploadFiles"),this.element.appendChild(i),this.element=i,pe("ej2_instances",e,this.element)}e[0].isPureReactComponent&&(h(e[0].props.name)?!h(e[0].props.id)&&h(e[0].props.name)?this.element.setAttribute("name",e[0].props.id):this.element.setAttribute("name","UploadFiles"):this.element.setAttribute("name",e[0].props.name)),h(this.element.getAttribute("name"))&&this.element.setAttribute("name",this.element.getAttribute("id")),this.element.hasAttribute("type")||this.element.setAttribute("type","file"),this.updateDirectoryAttributes(),this.keyConfigs={enter:"enter"},this.element.hasAttribute("tabindex")&&(this.tabIndex=this.element.getAttribute("tabindex")),this.browserName=E.info.name,this.uploaderName=this.element.getAttribute("name")},t.prototype.formRendered=function(){var e=M(this.element,"form");if(!h(e))for(;e&&e!==document.documentElement;e=e.parentElement)e.tagName==="FORM"&&(this.isForm=!0,this.formElement=e,e.setAttribute("enctype","multipart/form-data"),e.setAttribute("encoding","multipart/form-data"))},t.prototype.getPersistData=function(){return this.addOnPersist(["filesData"])},t.prototype.getModuleName=function(){return"uploader"},t.prototype.updateDirectoryAttributes=function(){this.directoryUpload?(this.element.setAttribute("directory","true"),this.element.setAttribute("webkitdirectory","true")):(this.element.removeAttribute("directory"),this.element.removeAttribute("webkitdirectory"))},t.prototype.render=function(){this.renderBrowseButton(),this.initializeUpload(),this.updateHTMLAttrToWrapper(),this.wireEvents(),this.setMultipleSelection(),this.setExtensions(this.allowedExtensions),this.setRTL(),this.renderPreLoadFiles(),this.setControlStatus(),this.setCSSClass()},t.prototype.renderBrowseButton=function(){this.browseButton=this.createElement("button",{className:"e-css e-btn",attrs:{type:"button"}}),this.browseButton.setAttribute("tabindex",this.tabIndex),typeof this.buttons.browse=="string"?(this.browseButton.textContent=this.buttons.browse==="Browse..."?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.innerText)):this.browseButton.appendChild(this.buttons.browse),this.element.setAttribute("aria-label","Uploader")},t.prototype.renderActionButtons=function(){this.element.setAttribute("tabindex","-1"),this.actionButtons=this.createElement("div",{className:DC}),this.uploadButton=this.createElement("button",{className:LC,attrs:{type:"button",tabindex:this.btnTabIndex,"aria-label":this.localizedTexts("Upload")}}),this.clearButton=this.createElement("button",{className:wC,attrs:{type:"button",tabindex:this.btnTabIndex,"aria-label":this.localizedTexts("Clear")}}),this.actionButtons.appendChild(this.clearButton),this.actionButtons.appendChild(this.uploadButton),this.renderButtonTemplates(),this.uploadWrapper.appendChild(this.actionButtons),this.browseButton.blur(),this.isPreloadFiles||this.uploadButton.focus(),this.wireActionButtonEvents()},t.prototype.serverActionButtonsEventBind=function(e){e&&!this.isForm&&(this.browseButton.blur(),this.actionButtons=e,this.uploadButton=this.actionButtons.querySelector(".e-file-upload-btn"),this.clearButton=this.actionButtons.querySelector(".e-file-clear-btn"),this.uploadButton.focus(),this.unwireActionButtonEvents(),this.wireActionButtonEvents(),this.checkActionButtonStatus())},t.prototype.wireActionButtonEvents=function(){v.add(this.uploadButton,"click",this.uploadButtonClick,this),v.add(this.clearButton,"click",this.clearButtonClick,this)},t.prototype.unwireActionButtonEvents=function(){v.remove(this.uploadButton,"click",this.uploadButtonClick),v.remove(this.clearButton,"click",this.clearButtonClick)},t.prototype.removeActionButtons=function(){this.actionButtons&&(this.unwireActionButtonEvents(),N(this.actionButtons),this.actionButtons=null)},t.prototype.renderButtonTemplates=function(){if(typeof this.buttons.browse=="string"?(this.browseButton.textContent=this.buttons.browse==="Browse..."?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.textContent)):(this.browseButton.innerHTML="",this.browseButton.appendChild(this.buttons.browse)),this.uploadButton){var e=h(this.buttons.upload)?"Upload":this.buttons.upload;this.buttons.upload=e,typeof this.buttons.upload=="string"?(this.uploadButton.textContent=this.buttons.upload==="Upload"?this.localizedTexts("Upload"):this.buttons.upload,this.uploadButton.setAttribute("title",this.uploadButton.textContent)):(this.uploadButton.innerHTML="",this.uploadButton.appendChild(this.buttons.upload))}if(this.clearButton){var i=h(this.buttons.clear)?"Clear":this.buttons.clear;this.buttons.clear=i,typeof this.buttons.clear=="string"?(this.clearButton.textContent=this.buttons.clear==="Clear"?this.localizedTexts("Clear"):this.buttons.clear,this.clearButton.setAttribute("title",this.clearButton.textContent)):(this.clearButton.innerHTML="",this.clearButton.appendChild(this.buttons.clear))}},t.prototype.initializeUpload=function(){this.element.setAttribute("tabindex","-1");var e=this.createElement("span",{className:Pf});this.element.parentElement.insertBefore(e,this.element),this.dropAreaWrapper=this.createElement("div",{className:IC}),this.element.parentElement.insertBefore(this.dropAreaWrapper,this.element),e.appendChild(this.element),this.dropAreaWrapper.appendChild(this.browseButton),this.dropAreaWrapper.appendChild(e),this.uploadWrapper=this.createElement("div",{className:NC}),this.dropAreaWrapper.parentElement.insertBefore(this.uploadWrapper,this.dropAreaWrapper),this.uploadWrapper.appendChild(this.dropAreaWrapper),this.setDropArea()},t.prototype.renderPreLoadFiles=function(){if(this.files.length){if(this.enablePersistence&&this.filesData.length){this.internalCreateFileList(this.filesData);return}if(h(this.files[0].size))return;this.isPreloadFiles=!0;var e=[].slice.call(this.files),i=[];this.multiple||(this.clearData(),e=[e[0]]);for(var s=0,n=e;s<n.length;s++){var r=n[s],o={name:r.name+"."+r.type.split(".")[r.type.split(".").length-1],rawFile:"",size:r.size,status:this.localizedTexts("uploadSuccessMessage"),type:r.type,validationMessages:{minSize:"",maxSize:""},statusCode:"2"};i.push(o),this.filesData.push(o)}this.internalCreateFileList(i),!this.autoUpload&&this.listParent&&!this.actionButtons&&(!this.isForm||this.allowUpload())&&this.showFileList&&this.renderActionButtons(),this.checkActionButtonStatus(),this.sequentialUpload&&(this.count=this.filesData.length-1),this.isPreloadFiles=!1}},t.prototype.checkActionButtonStatus=function(){if(this.actionButtons){var e=this.uploadWrapper.querySelectorAll("."+qf).length+this.uploadWrapper.querySelectorAll(".e-upload-fails:not(.e-upload-progress)").length+this.uploadWrapper.querySelectorAll("span."+ci).length+this.uploadWrapper.querySelectorAll("span."+$t).length;e>0&&e===this.uploadWrapper.querySelectorAll("li").length?this.uploadButton.setAttribute("disabled","disabled"):this.uploadButton.removeAttribute("disabled")}},t.prototype.setDropArea=function(){var e=this.dropAreaWrapper.querySelector(".e-file-drop");if(this.dropArea){this.dropZoneElement=typeof this.dropArea!="string"?this.dropArea:W(this.dropArea,document);for(var i=this.element,s=!1;i.parentNode;)i=i.parentNode,i===this.dropZoneElement&&(s=!0,e?e.innerHTML=this.localizedTexts("dropFilesHint"):this.createDropTextHint());!s&&e&&Je(e)}else!h(this.uploaderOptions)&&this.uploaderOptions.dropArea===void 0&&(this.createDropTextHint(),this.dropZoneElement=this.uploadWrapper,this.setProperties({dropArea:this.uploadWrapper},!0));this.bindDropEvents()},t.prototype.updateDropArea=function(){if(this.dropArea)this.setDropArea();else{this.dropZoneElement=null;var e=this.dropAreaWrapper.querySelector(".e-file-drop");e&&Je(e)}},t.prototype.createDropTextHint=function(){var e=this.createElement("span",{className:vh});e.innerHTML=this.localizedTexts("dropFilesHint"),this.dropAreaWrapper.appendChild(e)},t.prototype.updateHTMLAttrToElement=function(){if(!h(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var s=i[e];Qf.indexOf(s)<0&&this.element.setAttribute(s,this.htmlAttributes[""+s])}},t.prototype.updateHTMLAttrToWrapper=function(){if(!h(this.htmlAttributes))for(var e=0,i=Object.keys(this.htmlAttributes);e<i.length;e++){var s=i[e];if(Qf.indexOf(s)>-1)if(s==="class"){var n=this.htmlAttributes[""+s].replace(/\s+/g," ").trim();n!==""&&L([this.uploadWrapper],n.split(" "))}else if(s==="style"){var r=this.uploadWrapper.getAttribute(s);r=h(r)?this.htmlAttributes[""+s]:r+this.htmlAttributes[""+s],this.uploadWrapper.setAttribute(s,r)}else this.uploadWrapper.setAttribute(s,this.htmlAttributes[""+s])}},t.prototype.setMultipleSelection=function(){if(this.multiple&&!this.element.hasAttribute("multiple")){var e=document.createAttribute("multiple");e.value="multiple",this.element.setAttributeNode(e)}else this.multiple||this.element.removeAttribute("multiple")},t.prototype.checkAutoUpload=function(e){this.autoUpload?(this.sequentialUpload?this.sequenceUpload(e):this.upload(e),this.removeActionButtons()):this.actionButtons||this.renderActionButtons(),this.checkActionButtonStatus()},t.prototype.sequenceUpload=function(e){if(this.filesData.length-e.length===0||this.filesData[this.filesData.length-e.length-1].statusCode!=="1"){(this.multiple||this.count<0)&&++this.count;var i=!this.showFileList;typeof this.filesData[this.count]=="object"?(this.isFirstFileOnSelection=!1,this.upload(this.filesData[this.count],i),this.filesData[this.count].statusCode==="0"&&this.sequenceUpload(e)):--this.count}},t.prototype.setCSSClass=function(e){var i=e;h(e)||(i=e.replace(/\s+/g," ").trim()),!h(e)&&i!==""&&k([this.uploadWrapper],i.split(" "));var s=this.cssClass;!h(this.cssClass)&&this.cssClass!==""&&(s=this.cssClass.replace(/\s+/g," ").trim()),!h(this.cssClass)&&s!==""&&L([this.uploadWrapper],s.split(s.indexOf(",")>-1?",":" "))},t.prototype.wireEvents=function(){v.add(this.browseButton,"click",this.browseButtonClick,this),v.add(this.element,"change",this.onSelectFiles,this),v.add(document,"click",this.removeFocus,this),this.keyboardModule=new oi(this.uploadWrapper,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.isForm&&v.add(this.formElement,"reset",this.resetForm,this)},t.prototype.unWireEvents=function(){v.remove(this.browseButton,"click",this.browseButtonClick),v.remove(this.element,"change",this.onSelectFiles),v.remove(document,"click",this.removeFocus),this.isForm&&v.remove(this.formElement,"reset",this.resetForm),this.keyboardModule&&this.keyboardModule.destroy()},t.prototype.resetForm=function(){this.clearAll()},t.prototype.keyActionHandler=function(e){var i=e.target;switch(e.action){case"enter":if(e.target===this.clearButton)this.clearButtonClick();else if(e.target===this.uploadButton)this.uploadButtonClick();else if(e.target===this.browseButton)this.browseButtonClick();else if(i.classList.contains(Tt)){var s=this.getCurrentMetaData(null,e);s.file.statusCode="4",s.file.status=this.localizedTexts("pauseUpload"),this.abortUpload(s,!1)}else if(i.classList.contains(ws))this.resumeUpload(this.getCurrentMetaData(null,e),e);else if(i.classList.contains(wi)){var s=this.getCurrentMetaData(null,e);if(!h(s))s.file.statusCode="1",s.file.status=this.localizedTexts("readyToUploadMessage"),this.chunkUpload(s.file);else{var n=e.target.parentElement,r=this.filesData[this.fileList.indexOf(n)];this.retry(r)}}else this.removeFiles(e),i.classList.contains(Xe)||this.browseButton.focus();e.preventDefault(),e.stopPropagation();break}},t.prototype.getCurrentMetaData=function(e,i){var s,n;if(h(e)){var r=i.target.parentElement;s=this.filesData[this.fileList.indexOf(r)]}else s=e;for(var o=0;o<this.uploadMetaData.length;o++)this.uploadMetaData[o].file.name===s.name&&(n=this.uploadMetaData[o]);return n},t.prototype.removeFocus=function(){this.uploadWrapper&&this.listParent&&this.listParent.querySelector("."+Sh)&&(document.activeElement.blur(),this.listParent.querySelector("."+Sh).classList.remove(Sh))},t.prototype.browseButtonClick=function(){this.element.click()},t.prototype.uploadButtonClick=function(){this.sequentialUpload?this.sequenceUpload(this.filesData):this.upload(this.filesData)},t.prototype.clearButtonClick=function(){this.clearAll(),this.sequentialUpload&&(this.count=-1),this.actionCompleteCount=0},t.prototype.bindDropEvents=function(){this.dropZoneElement&&(v.add(this.dropZoneElement,"drop",this.dropElement,this),v.add(this.dropZoneElement,"dragover",this.dragHover,this),v.add(this.dropZoneElement,"dragleave",this.onDragLeave,this),v.add(this.dropZoneElement,"paste",this.onPasteFile,this),v.add(this.dropZoneElement,"dragenter",this.onDragEnter,this))},t.prototype.unBindDropEvents=function(){this.dropZoneElement&&(v.remove(this.dropZoneElement,"drop",this.dropElement),v.remove(this.dropZoneElement,"dragover",this.dragHover),v.remove(this.dropZoneElement,"dragleave",this.onDragLeave),v.remove(this.dropZoneElement,"dragenter",this.onDragEnter))},t.prototype.onDragEnter=function(e){this.enabled&&(this.dropZoneElement.classList.add(yh),this.dragCounter=this.dragCounter+1,e.preventDefault(),e.stopPropagation())},t.prototype.onDragLeave=function(){this.enabled&&(this.dragCounter=this.dragCounter-1,this.dragCounter||this.dropZoneElement.classList.remove(yh))},t.prototype.dragHover=function(e){this.enabled&&(this.dropEffect!=="Default"&&(e.dataTransfer.dropEffect=this.dropEffect.toLowerCase()),e.preventDefault(),e.stopPropagation())},t.prototype.dropElement=function(e){this.dragCounter=0,this.dropZoneElement.classList.remove(yh),this.onSelectFiles(e),e.preventDefault(),e.stopPropagation()},t.prototype.onPasteFile=function(e){var i=e.clipboardData.items;if(e.type==="paste"&&this.browserName!=="msie"&&this.browserName!=="edge"&&this.browserName!=="safari"&&(this.element.files=e.clipboardData.files),!(i.length!==1&&!this.multiple))for(var s=0;s<i.length;s++){var n=[].slice.call(i)[s];(n.kind==="file"||n.type.match("^image/"))&&this.renderSelectedFiles(e,[n.getAsFile()],!1,!0)}},t.prototype.getSelectedFiles=function(e){for(var i=[],s=this.fileList[e],n=this.getFilesData(),r=+s.getAttribute("data-files-count"),o=0,l=0;l<e;l++)o+=+this.fileList[l].getAttribute("data-files-count");for(var c=o;c<o+r;c++)i.push(n[c]);return i},t.prototype.removeFiles=function(e){if(this.enabled){var i=e.target.parentElement,s=this.fileList.indexOf(i),n=this.fileList[s],r=this.isFormUpload(),o=r?this.getSelectedFiles(s):this.getFilesInArray(this.filesData[s]);if(!h(o)){if(e.target.classList.contains(Xe)&&!r){if(o[0].statusCode="5",!h(n)){var l=n.querySelector("."+Xe);ln({target:l,width:"20px"}),hn(l)}this.sequentialUpload&&this.uploadSequential(),n.classList.contains(tr)||this.checkActionComplete(!0)}else M(e.target,"."+Vf)||this.remove(o,!1,!1,!0,e);this.isForm&&n&&n.classList.contains(fn)&&(this.element.value=""),this.checkActionButtonStatus()}}},t.prototype.removeFilesData=function(e,i){var s;if(i){this.showFileList||(s=this.filesData.indexOf(e),this.filesData.splice(s,1));return}var n=this.getLiElement(e);h(n)||(this.element.value="",N(n),s=this.fileList.indexOf(n),this.fileList.splice(s,1),this.filesData.splice(s,1),this.fileList.length===0&&!h(this.listParent)&&(N(this.listParent),this.listParent=null,this.removeActionButtons()),this.sequentialUpload&&s<=this.count&&--this.count)},t.prototype.removeUploadedFile=function(e,i,s,n){var r=this,o=e,l=new ri(this.asyncSettings.removeUrl,"POST",!0,null);l.emitError=!1;var c=new FormData;l.beforeSend=function(d){i.currentRequest=l.httpRequest,s?r.removingEventCallback(i,c,o,e):r.trigger("removing",i,function(p){p.cancel?d.cancel=!0:r.removingEventCallback(p,c,o,e)})},l.onLoad=function(d){return r.removeCompleted(d,o,n),{}},l.onError=function(d){return r.removeFailed(d,o,n),{}},l.send(c)},t.prototype.removingEventCallback=function(e,i,s,n){var r=this.element.getAttribute("name"),o=this.getLiElement(n);if(!h(o)&&(!h(o.querySelector("."+Kt))||!h(o.querySelector("."+mt)))){var l=o.querySelector("."+Kt)?o.querySelector("."+Kt):o.querySelector("."+mt);ln({target:l,width:"20px"}),hn(l)}e.postRawFile&&!h(s.rawFile)&&s.rawFile!==""?i.append(r,s.rawFile,s.name):i.append(r,s.name),this.updateFormData(i,e.customFormData)},t.prototype.updateFormData=function(e,i){if(i.length>0&&i[0])for(var s=function(r){var o=i[r],l=Object.keys(o).map(function(c){return o[""+c]});e.append(Object.keys(o)[0],l)},n=0;n<i.length;n++)s(n)},t.prototype.updateCustomheader=function(e,i){if(i.length>0&&i[0])for(var s=function(r){var o=i[r],l=Object.keys(o).map(function(c){return o[""+c]});e.setRequestHeader(Object.keys(o)[0],l)},n=0;n<i.length;n++)s(n)},t.prototype.removeCompleted=function(e,i,s){var n=e&&e.currentTarget?this.getResponse(e):null,r=e.target;if(r.readyState===4&&r.status>=200&&r.status<=299){var o={e,response:n,operation:"remove",file:this.updateStatus(i,this.localizedTexts("removedSuccessMessage"),"2")};this.trigger("success",o),this.removeFilesData(i,s);var l=this.uploadedFilesData.indexOf(i);this.uploadedFilesData.splice(l,1),this.trigger("change",{files:this.uploadedFilesData})}else this.removeFailed(e,i,s)},t.prototype.removeFailed=function(e,i,s){var n=e&&e.currentTarget?this.getResponse(e):null,r={e,response:n,operation:"remove",file:this.updateStatus(i,this.localizedTexts("removedFailedMessage"),"0")};if(!s){var o=this.filesData.indexOf(i),l=this.fileList[o];if(l){l.classList.remove(ci),l.classList.add(Jt);var c=l.querySelector("."+Ze);c&&(c.classList.remove(ci),c.classList.add(Jt))}this.checkActionButtonStatus()}this.trigger("failure",r);var d=this.getLiElement(i);if(!h(d)&&!h(d.querySelector("."+Kt))){var p=d.querySelector("."+Kt);$i(p),N(d.querySelector(".e-spinner-pane"))}},t.prototype.getFilesFromFolder=function(e){this.filesEntries=[];var i=this.multiple?e.dataTransfer.items:[e.dataTransfer.items[0]],s=this.checkDirectoryUpload(i);if(s)for(var n=function(l){var c=i[l].webkitGetAsEntry();if(c.isFile){var d=[];c.file(function(p){var u=c.fullPath;d.push({path:u,file:p})}),r.renderSelectedFiles(e,d,!0)}else c.isDirectory&&r.traverseFileTree(c,e)},r=this,o=0;o<i.length;o++)n(o)},t.prototype.checkDirectoryUpload=function(e){for(var i=0;e&&i<e.length;i++){var s=e[i].webkitGetAsEntry();if(s.isDirectory)return!0}return!1},t.prototype.traverseFileTree=function(e,i){if(e.isFile)this.filesEntries.push(e);else if(e.isDirectory){var s=e.createReader();this.readFileFromDirectory(s,i)}},t.prototype.readFileFromDirectory=function(e,i){var s=this;e.readEntries(function(n){for(var r=0;r<n.length;r++)s.traverseFileTree(n[r],i);s.pushFilesEntries(i),n.length&&s.readFileFromDirectory(e)})},t.prototype.pushFilesEntries=function(e){for(var i=this,s=[],n=function(l){r.filesEntries[l].file(function(c){if(i.filesEntries.length){var d=i.filesEntries[l].fullPath;s.push({path:d,file:c}),l===i.filesEntries.length-1&&(i.filesEntries=[],i.renderSelectedFiles(e,s,!0))}})},r=this,o=0;o<this.filesEntries.length;o++)n(o)},t.prototype.onSelectFiles=function(e){if(this.enabled){var i;if(e.type==="drop")if(this.directoryUpload)this.getFilesFromFolder(e);else{var s=this.sortFilesList=e.dataTransfer.files;this.browserName!=="msie"&&this.browserName!=="edge"&&this.browserName!=="safari"&&(this.element.files=s),s.length>0&&(i=this.multiple?this.sortFileList(s):[s[0]],this.renderSelectedFiles(e,i))}else i=[].slice.call(e.target.files),this.renderSelectedFiles(e,i);(this.isAngular||this.isReact)&&e.stopPropagation()}},t.prototype.getBase64=function(e){return new Promise(function(i,s){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return i(n.result)},n.onerror=function(r){return s(r)}})},t.prototype.renderSelectedFiles=function(e,i,s,n){var r=this;this.base64String=[];var o={event:e,cancel:!1,filesData:[],isModified:!1,modifiedFilesData:[],progressInterval:"",isCanceled:!1,currentRequest:null,customFormData:null};if(i.length<1){o.isCanceled=!0,this.trigger("selected",o);return}this.flag=!0;var l=[];this.multiple||(this.clearData(!0),this.actionCompleteCount=0,i=[i[0]]);for(var c=0;c<i.length;c++){var d=s?i[c].file:i[c];this.updateInitialFileDetails(e,i,d,c,l,s,n)}if(o.filesData=l,this.allowedExtensions.indexOf("*")>-1&&(this.allTypes=!0),this.enableHtmlSanitizer)for(var c=0;c<l.length;c++){for(var p=Be.beforeSanitize(),u=Be.serializeValue(p,l[parseInt(c.toString(),10)].name),f=l[parseInt(c.toString(),10)].name,m=!1,g=0;g<f.length;g++)if(f.charCodeAt(g)>127){m=!0;break}var b=/<([a-z][a-z0-9]*)\b[^>]*>(.*?)<\/\1>/i,S=b.test(f);if(u!==l[parseInt(c.toString(),10)].name&&!(m&&!S)){var T=i[parseInt(c.toString(),10)].name.replace(/[\u00A0-\u9999<>\\&]/g,function(w){return"&#"+w.charCodeAt(0)+";"});l[parseInt(c.toString(),10)].name=T,l[parseInt(c.toString(),10)].status=this.localizedTexts("invalidFileName"),l[parseInt(c.toString(),10)].statusCode="0"}}this.allTypes||(l=this.checkExtension(l)),this.trigger("selected",o,function(I){r._internalRenderSelect(I,l)})},t.prototype.updateInitialFileDetails=function(e,i,s,n,r,o,l){var c=o?i[n].path.substring(1,i[n].path.length):l?Ae(s.name.substring(0,s.name.lastIndexOf(".")))+"."+this.getFileType(s.name):this.directoryUpload?i[n].webkitRelativePath:s.name,d={name:c,rawFile:s,size:s.size,status:this.localizedTexts("readyToUploadMessage"),type:this.getFileType(s.name),validationMessages:this.validatedFileSize(s.size),statusCode:"1",id:Ae(s.name.substring(0,s.name.lastIndexOf(".")))+"."+this.getFileType(s.name)};l&&(d.fileSource="paste"),d.status=d.validationMessages.minSize!==""?this.localizedTexts("invalidMinFileSize"):d.validationMessages.maxSize!==""?this.localizedTexts("invalidMaxFileSize"):d.status,(d.validationMessages.minSize!==""||d.validationMessages.maxSize!=="")&&(d.statusCode="0"),r.push(d)},t.prototype._internalRenderSelect=function(e,i){if(!e.cancel){if(this.selectedFiles=this.selectedFiles.concat(i),this.btnTabIndex=this.disableKeyboardNavigation?"-1":"0",this.showFileList){if(e.isModified&&e.modifiedFilesData.length>0){for(var s=0;s<e.modifiedFilesData.length;s++)for(var n=0;n<i.length;n++)e.modifiedFilesData[s].id===i[n].id&&(e.modifiedFilesData[s].rawFile=i[n].rawFile);var r=this.allTypes?e.modifiedFilesData:this.checkExtension(e.modifiedFilesData);this.updateSortedFileList(r),this.filesData=this.filesData.concat(r),(!this.isForm||this.allowUpload())&&this.checkAutoUpload(r)}else{if(this.internalCreateFileList(i),this.autoUpload&&this.sequenceUpload&&this.sequentialUpload&&this.filesData.length>0&&this.filesData[this.filesData.length-1].statusCode!=="2"&&this.filesData[this.filesData.length-1].statusCode!=="0"){this.filesData=this.filesData.concat(i);return}this.filesData=this.filesData.concat(i),(!this.isForm||this.allowUpload())&&this.checkAutoUpload(i)}!h(e.progressInterval)&&e.progressInterval!==""&&(this.progressInterval=e.progressInterval)}else this.filesData=this.filesData.concat(i),this.autoUpload&&this.upload(this.filesData,!0);for(var o=0;o<this.filesData.length;o++)this.filesData[o].statusCode==="0"&&this.checkActionComplete(!0);this.isFirstFileOnSelection=!0}},t.prototype.allowUpload=function(){var e=!1;return this.isForm&&!h(this.asyncSettings.saveUrl)&&this.asyncSettings.saveUrl!==""&&(e=!0),e},t.prototype.isFormUpload=function(){var e=!1;return this.isForm&&(h(this.asyncSettings.saveUrl)||this.asyncSettings.saveUrl==="")&&(h(this.asyncSettings.removeUrl)||this.asyncSettings.removeUrl==="")&&(e=!0),e},t.prototype.clearData=function(e){h(this.listParent)||(N(this.listParent),this.listParent=null),this.browserName!=="msie"&&!e&&(this.element.value=""),this.fileList=[],this.filesData=[],this.removeActionButtons()},t.prototype.updateSortedFileList=function(e){var i=this.createElement("div",{id:"clonewrapper"}),s=-1;if(this.listParent){for(var n=0;n<this.listParent.querySelectorAll("li").length;n++){var r=this.listParent.querySelectorAll("li")[n];i.appendChild(r.cloneNode(!0))}this.removeActionButtons();var o=[].slice.call(i.childNodes);this.createParentUL();for(var l=0;l<e.length;l++){for(var c=0;c<this.filesData.length;c++)this.filesData[c].name===e[l].name&&(this.listParent.appendChild(o[c]),v.add(o[c].querySelector(".e-icons"),"click",this.removeFiles,this),this.fileList.push(o[c]),s=l);s!==l&&this.internalCreateFileList([e[l]])}}else this.internalCreateFileList(e)},t.prototype.isBlank=function(e){return!e||/^\s*$/.test(e)},t.prototype.checkExtension=function(e){var i=e;if(!this.isBlank(this.allowedExtensions)){for(var s=[],n=this.allowedExtensions.split(","),r=0,o=n;r<o.length;r++){var l=o[r];s.push(l.trim().toLocaleLowerCase())}for(var c=0;c<e.length;c++){var d=e[c].type.indexOf(".")!==-1?e[c].type.replace(".",""):e[c].type;s.indexOf(("."+d).toLocaleLowerCase())===-1&&(e[c].status=this.localizedTexts("invalidFileType"),e[c].statusCode="0")}}return i},t.prototype.validatedFileSize=function(e){var i="",s="";e<this.minFileSize?i=this.localizedTexts("invalidMinFileSize"):e>this.maxFileSize?s=this.localizedTexts("invalidMaxFileSize"):(i="",s="");var n={minSize:i,maxSize:s};return n},t.prototype.isPreLoadFile=function(e){for(var i=!1,s=0;s<this.files.length;s++)this.files[s].name===e.name.slice(0,e.name.lastIndexOf("."))&&this.files[s].type===e.type&&(i=!0);return i},t.prototype.createCustomfileList=function(e){this.createParentUL();for(var i=0,s=e;i<s.length;i++){var n=s[i],r=this.createElement("li",{className:La,attrs:{"data-file-name":n.name}});this.uploadTemplateFn=this.templateComplier(this.template);var o=this.uploadTemplateFn(n,this,"template",this.element.id+"Template",this.isStringTemplate,null,r);if(o){var l=[].slice.call(o);Pe(l,r)}var c=e.indexOf(n),d={element:r,fileInfo:n,index:c,isPreload:this.isPreLoadFile(n)},p={element:r,fileInfo:n,index:c,isPreload:this.isPreLoadFile(n)};this.trigger("rendering",d),this.trigger("fileListRendering",p),this.listParent.appendChild(r),this.fileList.push(r)}this.renderReactTemplates()},t.prototype.createParentUL=function(){h(this.listParent)&&(this.listParent=this.createElement("ul",{className:Bf}),this.uploadWrapper.appendChild(this.listParent))},t.prototype.formFileList=function(e,i){var s=this.createElement("li",{className:La});s.setAttribute("data-files-count",e.length+"");for(var n=this.createElement("span",{className:Ch}),r,o=0,l=e;o<l.length;o++){var c=l[o],d=this.createElement("span",{className:Hf});d.innerHTML=this.getFileNameOnly(c.name);var p=this.createElement("span",{className:Ff}),u=this.getFileType(c.name);if(p.innerHTML="."+u,u||p.classList.add("e-hidden"),!this.enableRtl)n.appendChild(d),n.appendChild(p);else{var f=this.createElement("span",{className:Wf});f.appendChild(p),f.appendChild(d),n.appendChild(f)}this.truncateName(d),r=this.formValidateFileInfo(c,s)}s.appendChild(n),this.setListToFileInfo(e,s);var m=this.listParent.querySelectorAll("li").length,g=this.createElement("span");if(s.classList.contains(fn)?(g.classList.add(Ze),g.classList.add(fn),g.innerText=e.length>1?this.localizedTexts("invalidFileSelection"):r):(g.classList.add(e.length>1?kC:Uf),g.innerText=e.length>1?this.localizedTexts("totalFiles")+": "+e.length+" , "+this.localizedTexts("size")+": "+this.bytesToSize(this.getFileSize(e)):this.bytesToSize(e[0].size),this.createFormInput(e)),n.appendChild(g),h(s.querySelector(".e-icons"))){var b=this.createElement("span",{className:"e-icons",attrs:{tabindex:this.btnTabIndex}});this.browserName==="msie"&&b.classList.add("e-msie"),b.setAttribute("title",this.localizedTexts("remove")),s.appendChild(n),s.appendChild(b),v.add(b,"click",this.removeFiles,this),b.classList.add(mt)}var S={element:s,fileInfo:this.mergeFileInfo(e,s),index:m,isPreload:this.isPreLoadFile(this.mergeFileInfo(e,s))},T={element:s,fileInfo:this.mergeFileInfo(e,s),index:m,isPreload:this.isPreLoadFile(this.mergeFileInfo(e,s))};this.trigger("rendering",S),this.trigger("fileListRendering",T),this.listParent.appendChild(s),this.fileList.push(s)},t.prototype.formValidateFileInfo=function(e,i){var s=e.status,n=this.validatedFileSize(e.size);(n.minSize!==""||n.maxSize!=="")&&(this.addInvalidClass(i),s=n.minSize!==""?this.localizedTexts("invalidMinFileSize"):n.maxSize!==""?this.localizedTexts("invalidMaxFileSize"):s);var r=this.checkExtension(this.getFilesInArray(e))[0].status;return r===this.localizedTexts("invalidFileType")&&(this.addInvalidClass(i),s=r),s},t.prototype.addInvalidClass=function(e){e.classList.add(fn)},t.prototype.createFormInput=function(e){if(this.browserName!=="safari"){var i=this.element.cloneNode(!0);i.classList.add(xC);for(var s=0,n=e;s<n.length;s++){var r=n[s];r.input=i}i.setAttribute("id",Ae("hiddenUploader")),i.setAttribute("name",this.uploaderName),this.uploadWrapper.querySelector("."+Pf).appendChild(i),this.browserName!=="msie"&&this.browserName!=="edge"&&(this.element.value="")}},t.prototype.getFileSize=function(e){for(var i=0,s=0,n=e;s<n.length;s++){var r=n[s];i+=r.size}return i},t.prototype.mergeFileInfo=function(e,i){for(var s={name:"",rawFile:"",size:0,status:"",type:"",validationMessages:{minSize:"",maxSize:""},statusCode:"1",list:i},n=[],r="",o=0,l=e;o<l.length;o++){var c=l[o];n.push(c.name),r=c.type}return s.name=n.join(", "),s.size=this.getFileSize(e),s.type=r,s.status=this.statusForFormUpload(e,i),s},t.prototype.statusForFormUpload=function(e,i){for(var s=!0,n,r=0,o=e;r<o.length;r++){var l=o[r];n=l.status;var c=this.validatedFileSize(l.size);(c.minSize!==""||c.maxSize!=="")&&(s=!1,n=c.minSize!==""?this.localizedTexts("invalidMinFileSize"):c.maxSize!==""?this.localizedTexts("invalidMaxFileSize"):n);var d=this.checkExtension(this.getFilesInArray(l))[0].status;d===this.localizedTexts("invalidFileType")&&(s=!1,n=d)}return s?n=this.localizedTexts("totalFiles")+": "+e.length+" , "+this.localizedTexts("size")+": "+this.bytesToSize(this.getFileSize(e)):(i.classList.add(fn),n=e.length>1?this.localizedTexts("invalidFileSelection"):n),n},t.prototype.formCustomFileList=function(e,i){this.createParentUL();var s=this.createElement("li",{className:La});s.setAttribute("data-files-count",e.length+""),this.setListToFileInfo(e,s);var n=this.mergeFileInfo(e,s);s.setAttribute("data-file-name",n.name),this.uploadTemplateFn=this.templateComplier(this.template);var r=this.uploadTemplateFn(n,this,"template",this.element.id+"Template",this.isStringTemplate,null,s);if(r){var o=[].slice.call(r);Pe(o,s)}var l=this.listParent.querySelectorAll("li").length;s.classList.contains(fn)||this.createFormInput(e);var c={element:s,fileInfo:n,index:l,isPreload:this.isPreLoadFile(n)},d={element:s,fileInfo:n,index:l,isPreload:this.isPreLoadFile(n)};this.trigger("rendering",c),this.trigger("fileListRendering",d),this.listParent.appendChild(s),this.fileList.push(s),this.renderReactTemplates()},t.prototype.createFileList=function(e){this.filesData=this.filesData&&this.filesData.length>0?this.filesData.concat(e):e,this.internalCreateFileList(e)},t.prototype.internalCreateFileList=function(e){if(this.createParentUL(),this.template!==""&&!h(this.template))this.isFormUpload()?(this.uploadWrapper.classList.add(Yf),this.formCustomFileList(e,this.element.files)):this.createCustomfileList(e);else if(this.isFormUpload())this.uploadWrapper.classList.add(Yf),this.formFileList(e,this.element.files);else for(var i=0,s=e;i<s.length;i++){var n=s[i],r=this.createElement("li",{className:La,attrs:{"data-file-name":n.name,"data-files-count":"1"}}),o=this.createElement("span",{className:Ch}),l=this.createElement("span",{className:Hf,attrs:{title:n.name}});l.innerHTML=this.getFileNameOnly(n.name);var c=this.createElement("span",{className:Ff}),d=this.getFileType(n.name);if(c.innerHTML="."+d,d||c.classList.add("e-hidden"),!this.enableRtl)o.appendChild(l),o.appendChild(c);else{var p=this.createElement("span",{className:Wf});p.appendChild(c),p.appendChild(l),o.appendChild(p)}var u=this.createElement("span",{className:Uf});u.innerHTML=this.bytesToSize(n.size),o.appendChild(u);var f=this.createElement("span",{className:Ze});o.appendChild(f),f.innerHTML=n.status,r.appendChild(o);var m=this.createElement("span",{className:" e-icons",attrs:{tabindex:this.btnTabIndex}});this.browserName==="msie"&&m.classList.add("e-msie"),m.setAttribute("title",this.localizedTexts("remove")),r.appendChild(m),v.add(m,"click",this.removeFiles,this),n.statusCode==="2"?(f.classList.add(ci),m.classList.add(Kt),m.setAttribute("title",this.localizedTexts("delete"))):n.statusCode!=="1"&&(f.classList.remove(ci),f.classList.add(qf)),this.autoUpload&&n.statusCode==="1"&&this.asyncSettings.saveUrl!==""&&(f.innerHTML=""),m.classList.contains(Kt)||(m.classList.add(mt),m.setAttribute("aria-label",this.localizedTexts("remove")));var g=e.indexOf(n),b={element:r,fileInfo:n,index:g,isPreload:this.isPreLoadFile(n)},S={element:r,fileInfo:n,index:g,isPreload:this.isPreLoadFile(n)};this.trigger("rendering",b),this.trigger("fileListRendering",S),this.listParent.appendChild(r),this.fileList.push(r),this.truncateName(l);var T=this.flag;this.isPreLoadFile(n)&&(this.flag=!1,this.checkActionComplete(!0),this.flag=T)}},t.prototype.getSlicedName=function(e){var i=e.textContent;e.dataset.tail=i.slice(i.length-10)},t.prototype.setListToFileInfo=function(e,i){for(var s=0,n=e;s<n.length;s++){var r=n[s];r.list=i}},t.prototype.truncateName=function(e){var i=e;this.browserName!=="edge"&&i.offsetWidth<i.scrollWidth?this.getSlicedName(i):i.offsetWidth+1<i.scrollWidth&&this.getSlicedName(i)},t.prototype.getFileType=function(e){var i,s=e.lastIndexOf(".");return s>=0&&(i=e.substring(s+1)),i||""},t.prototype.getFileNameOnly=function(e){var i=this.getFileType(e),s=e.split("."+i);return i=s[0]},t.prototype.setInitialAttributes=function(){if(this.initialAttr.accept&&this.element.setAttribute("accept",this.initialAttr.accept),this.initialAttr.disabled&&this.element.setAttribute("disabled","disabled"),this.initialAttr.multiple){var e=document.createAttribute("multiple");this.element.setAttributeNode(e)}},t.prototype.filterfileList=function(e){for(var i=[],s,n=0;n<e.length;n++)s=this.getLiElement(e[n]),(!h(s)&&!s.classList.contains(ci)||!this.showFileList&&e[n].status!=="File uploaded successfully")&&i.push(e[n]);return i},t.prototype.updateStatus=function(e,i,s,n){if(n===void 0&&(n=!0),!(i===""||h(i))&&!(s===""||h(s))&&(e.status=i,e.statusCode=s),n){var r=this.getLiElement(e);h(r)||!h(r.querySelector("."+Ze))&&!(i===""||h(i))&&(r.querySelector("."+Ze).textContent=i)}return e},t.prototype.getLiElement=function(e){for(var i,s=0;s<this.filesData.length;s++)!h(e)&&(!h(this.filesData[s].id)&&!h(e.id)?this.filesData[s].name===e.name&&this.filesData[s].id===e.id:this.filesData[s].name===e.name)&&(i=s);return this.fileList[i]},t.prototype.createProgressBar=function(e){var i=this.createElement("span",{className:Ls}),s=this.createElement("progressbar",{className:wa,attrs:{value:"0",max:"100"}}),n=this.createElement("span",{className:OC});s.setAttribute("style","width: 0%");var r=this.createElement("span",{className:bh});r.textContent="0%",n.appendChild(s),i.appendChild(n),i.appendChild(r),e.querySelector("."+Ch).appendChild(i)},t.prototype.updateProgressbar=function(e,i){if(!isNaN(Math.round(e.loaded/e.total*100))&&!h(i.querySelector("."+wa)))if(!h(this.progressInterval)&&this.progressInterval!==""){var s=Math.round(e.loaded/e.total*100)%parseInt(this.progressInterval,10);(s===0||s===100)&&this.changeProgressValue(i,Math.round(e.loaded/e.total*100).toString()+"%")}else this.changeProgressValue(i,Math.round(e.loaded/e.total*100).toString()+"%")},t.prototype.changeProgressValue=function(e,i){e.querySelector("."+wa).setAttribute("style","width:"+i),e.querySelector("."+bh).textContent=i},t.prototype.uploadInProgress=function(e,i,s,n){var r=this.getLiElement(i);if(!(h(r)&&!s)){if(h(r))this.cancelUploadingFile(i,e,n);else{i.statusCode==="5"&&this.cancelUploadingFile(i,e,n,r),!(r.querySelectorAll("."+Ls).length>0)&&r.querySelector("."+Ze)&&(r.querySelector("."+Ze).classList.add($t),this.createProgressBar(r),this.updateProgressBarClasses(r,$t),r.querySelector("."+Ze).classList.remove(Jt)),this.updateProgressbar(e,r);var o=r.querySelector("."+mt);h(o)||(o.classList.add(Xe,$t),o.setAttribute("title",this.localizedTexts("abort")),o.classList.remove(mt))}var l={e,operation:"upload",file:this.updateStatus(i,this.localizedTexts("inProgress"),"3")};this.trigger("progress",l)}},t.prototype.cancelUploadingFile=function(e,i,s,n){var r=this;if(e.statusCode==="5"){var o={event:i,fileData:e,cancel:!1,customFormData:[],currentRequest:null};this.trigger("canceling",o,function(l){if(l.cancel){if(e.statusCode="3",!h(n)){var c=n.querySelector("."+Xe);h(c)||($i(c),N(n.querySelector(".e-spinner-pane")))}}else{s.emitError=!1,s.httpRequest.abort();var d=new FormData;if(e.statusCode==="5"){var p=r.element.getAttribute("name");d.append(p,e.name),d.append("cancel-uploading",e.name),r.updateFormData(d,l.customFormData);var u=new ri(r.asyncSettings.removeUrl,"POST",!0,null);u.emitError=!1,u.beforeSend=function(f){l.currentRequest&&r.updateCustomheader(u.httpRequest,l.currentRequest)},u.onLoad=function(f){return r.removecanceledFile(f,e),{}},u.send(d)}}})}},t.prototype.removecanceledFile=function(e,i){var s=this.getLiElement(i);if(!(h(s)||s.querySelector("."+wi)||h(s.querySelector("."+Xe)))){this.updateStatus(i,this.localizedTexts("fileUploadCancel"),"5"),this.renderFailureState(e,i,s);var n=s.querySelector("."+mt);h(s)||($i(n),h(s.querySelector(".e-spinner-pane"))||N(s.querySelector(".e-spinner-pane")));var r=e&&e.currentTarget?this.getResponse(e):null,o={event:e,response:r,operation:"cancel",file:i};this.trigger("success",o)}},t.prototype.renderFailureState=function(e,i,s){var n=this;this.updateProgressBarClasses(s,Jt),this.removeProgressbar(s,"failure"),h(s.querySelector(".e-file-status"))||s.querySelector(".e-file-status").classList.add(Jt);var r=s.querySelector("."+Xe);if(!h(r)){r.classList.remove(Xe,$t),r.classList.add(mt),r.setAttribute("title",this.localizedTexts("remove")),this.pauseButton=this.createElement("span",{className:"e-icons e-file-reload-btn",attrs:{tabindex:this.btnTabIndex}}),r.parentElement.insertBefore(this.pauseButton,r),this.pauseButton.setAttribute("title",this.localizedTexts("retry")),this.pauseButton.setAttribute("aria-label",this.localizedTexts("retry"));var o=s.querySelector("."+wi);o.addEventListener("click",function(l){n.reloadcanceledFile(l,i,s,!1)},!1)}},t.prototype.reloadcanceledFile=function(e,i,s,n){i.statusCode="1",i.status=this.localizedTexts("readyToUploadMessage"),n||(h(s.querySelector("."+Ze))||s.querySelector("."+Ze).classList.remove(Jt),h(s.querySelector("."+wi))||N(s.querySelector("."+wi)),this.pauseButton=null),h(s)||s.classList.add(tr),this.upload([i])},t.prototype.uploadComplete=function(e,i,s){var n=e.target;if(n.readyState===4&&n.status>=200&&n.status<=299){var r=this.getLiElement(i);if(h(r)&&(!s||h(s))&&this.showFileList)return;if(!h(r)){this.updateProgressBarClasses(r,ci),this.removeProgressbar(r,"success");var o=r.querySelector("."+Xe);h(o)||(o.classList.add(Kt),o.setAttribute("title",this.localizedTexts("delete")),o.setAttribute("aria-label",this.localizedTexts("delete")),o.classList.remove(Xe),o.classList.remove($t))}this.raiseSuccessEvent(e,i)}else this.uploadFailed(e,i)},t.prototype.getResponse=function(e){var i=e.currentTarget,s={readyState:i.readyState,statusCode:i.status,statusText:i.statusText,headers:i.getAllResponseHeaders(),withCredentials:i.withCredentials};return s},t.prototype.raiseSuccessEvent=function(e,i){var s=this,n=e&&e.currentTarget?this.getResponse(e):null,r=this.localizedTexts("uploadSuccessMessage"),o={e,response:n,operation:"upload",file:this.updateStatus(i,r,"2",!1),statusText:r},l=this.getLiElement(i);if(!h(l)){var c=l.querySelector("."+Vf);h(c)||($i(l),N(c))}this.trigger("success",o,function(d){s.updateStatus(i,d.statusText,"2"),s.multiple?s.uploadedFilesData.push(i):s.uploadedFilesData=[i],s.trigger("change",{file:s.uploadedFilesData}),s.checkActionButtonStatus(),s.fileList.length>0?s.getLiElement(i).classList.contains(tr)?s.getLiElement(i).classList.remove(tr):(s.uploadSequential(),s.checkActionComplete(!0)):s.showFileList||s.checkActionComplete(!0)})},t.prototype.uploadFailed=function(e,i){var s=this,n=this.getLiElement(i),r=e&&e.currentTarget?this.getResponse(e):null,o=this.localizedTexts("uploadFailedMessage"),l={e,response:r,operation:"upload",file:this.updateStatus(i,o,"0",!1),statusText:o};h(n)||this.renderFailureState(e,i,n),this.trigger("failure",l,function(c){s.updateStatus(i,c.statusText,"0"),s.checkActionButtonStatus(),s.uploadSequential(),s.checkActionComplete(!0)})},t.prototype.uploadSequential=function(){this.sequentialUpload&&(this.autoUpload?this.checkAutoUpload(this.filesData):this.uploadButtonClick())},t.prototype.checkActionComplete=function(e){e?++this.actionCompleteCount:--this.actionCompleteCount,this.raiseActionComplete()},t.prototype.raiseActionComplete=function(){if(this.filesData.length===this.actionCompleteCount&&this.flag){this.flag=!1;var e={fileData:[]};e.fileData=this.getSelectedFileStatus(this.selectedFiles),this.trigger("actionComplete",e)}},t.prototype.getSelectedFileStatus=function(e){for(var i=[],s=0,n=0;n<e.length;n++)for(var r=e[n],o=0;o<this.filesData.length;o++)this.filesData[o].name===r.name&&this.filesData[o].status===r.status&&(i[s]=this.filesData[o],++s);return i},t.prototype.updateProgressBarClasses=function(e,i){var s=e.querySelector("."+wa);h(s)||s.classList.add(i)},t.prototype.removeProgressbar=function(e,i){var s=this;h(e.querySelector("."+Ls))||(this.progressAnimation=new ai({duration:1250}),this.progressAnimation.animate(e.querySelector("."+Ls),{name:"FadeOut"}),this.progressAnimation.animate(e.querySelector("."+bh),{name:"FadeOut"}),setTimeout(function(){s.animateProgressBar(e,i)},750))},t.prototype.animateProgressBar=function(e,i){i==="success"?(e.classList.add(ci),h(e.querySelector("."+Ze))||(e.querySelector("."+Ze).classList.remove($t),this.progressAnimation.animate(e.querySelector("."+Ze),{name:"FadeIn"}),e.querySelector("."+Ze).classList.add(ci))):h(e.querySelector("."+Ze))||(e.querySelector("."+Ze).classList.remove($t),this.progressAnimation.animate(e.querySelector("."+Ze),{name:"FadeIn"}),e.querySelector("."+Ze).classList.add(Jt)),e.querySelector("."+Ls)&&N(e.querySelector("."+Ls))},t.prototype.setExtensions=function(e){e!==""&&!h(e)?this.element.setAttribute("accept",e):this.element.removeAttribute("accept")},t.prototype.templateComplier=function(e){if(e)try{return typeof e!="function"&&ce(e,document).length?kt(W(e,document).innerHTML.trim()):kt(e)}catch{return kt(e)}},t.prototype.setRTL=function(){this.enableRtl?L([this.uploadWrapper],_f):k([this.uploadWrapper],_f)},t.prototype.localizedTexts=function(e){return this.l10n.setLocale(this.locale),this.l10n.getConstant(e)},t.prototype.setControlStatus=function(){this.enabled?(this.uploadWrapper.classList.contains(Mh)&&this.uploadWrapper.classList.remove(Mh),!h(this.browseButton)&&this.element.hasAttribute("disabled")&&(this.element.removeAttribute("disabled"),this.browseButton.removeAttribute("disabled")),!h(this.clearButton)&&this.clearButton.hasAttribute("disabled")&&this.clearButton.removeAttribute("disabled"),!h(this.uploadButton)&&this.uploadButton.hasAttribute("disabled")&&this.uploadButton.hasAttribute("disabled")):(this.uploadWrapper.classList.add(Mh),this.element.setAttribute("disabled","disabled"),this.browseButton.setAttribute("disabled","disabled"),h(this.clearButton)||this.clearButton.setAttribute("disabled","disabled"),h(this.uploadButton)||this.uploadButton.setAttribute("disabled","disabled"))},t.prototype.checkHTMLAttributes=function(e){for(var i=e?h(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["accept","multiple","disabled"],s=0,n=i;s<n.length;s++){var r=n[s];if(!h(this.element.getAttribute(r)))switch(r){case"accept":(h(this.uploaderOptions)||this.uploaderOptions.allowedExtensions===void 0||e)&&(this.setProperties({allowedExtensions:this.element.getAttribute("accept")},!e),this.initialAttr.accept=this.allowedExtensions);break;case"multiple":if(h(this.uploaderOptions)||this.uploaderOptions.multiple===void 0||e){var o=this.element.getAttribute(r)==="multiple"||this.element.getAttribute(r)===""||this.element.getAttribute(r)==="true";this.setProperties({multiple:o},!e),this.initialAttr.multiple=!0}break;case"disabled":if(h(this.uploaderOptions)||this.uploaderOptions.enabled===void 0||e){var l=!(this.element.getAttribute(r)==="disabled"||this.element.getAttribute(r)===""||this.element.getAttribute(r)==="true");this.setProperties({enabled:l},!e),this.initialAttr.disabled=!0}}}},t.prototype.chunkUpload=function(e,i,s){var n=0,r=Math.min(this.asyncSettings.chunkSize,e.size),o=0,l=e.rawFile.slice(n,r),c={chunkIndex:o,blob:l,file:e,start:n,end:r,retryCount:0,request:null};this.sendRequest(e,c,i,s)},t.prototype.sendRequest=function(e,i,s,n){var r=this,o=new FormData,l=e.rawFile.slice(i.start,i.end);o.append(this.uploaderName,l,e.name),o.append("chunk-index",i.chunkIndex.toString()),o.append("chunkIndex",i.chunkIndex.toString());var c=Math.max(Math.ceil(e.size/this.asyncSettings.chunkSize),1);o.append("total-chunk",c.toString()),o.append("totalChunk",c.toString());var d=new ri({url:this.asyncSettings.saveUrl,type:"POST",async:!0,contentType:null});d.emitError=!1,d.onLoad=function(u){return r.chunkUploadComplete(u,i,s),{}},d.onUploadProgress=function(u){return r.chunkUploadInProgress(u,i,s),{}};var p={fileData:e,customFormData:[],cancel:!1,chunkSize:this.asyncSettings.chunkSize===0?null:this.asyncSettings.chunkSize};d.beforeSend=function(u){p.currentRequest=d.httpRequest,p.currentChunkIndex=i.chunkIndex,p.currentChunkIndex===0?r.trigger("uploading",p,function(f){r.uploadingEventCallback(o,f,u,e)}):r.trigger("chunkUploading",p,function(f){r.uploadingEventCallback(o,f,u,e)})},d.onError=function(u){return r.chunkUploadFailed(u,i,s),{}},d.send(o),i.request=d},t.prototype.uploadingEventCallback=function(e,i,s,n){i.cancel?this.eventCancelByArgs(s,i,n):this.updateFormData(e,i.customFormData)},t.prototype.eventCancelByArgs=function(e,i,s){var n=this;if(e.cancel=!0,i.fileData.statusCode!=="5"){i.fileData.statusCode="5",i.fileData.status=this.localizedTexts("fileUploadCancel");var r=this.getLiElement(i.fileData);if(r){h(r.querySelector("."+Ze))||(r.querySelector("."+Ze).innerHTML=this.localizedTexts("fileUploadCancel"),r.querySelector("."+Ze).classList.add(Jt)),this.pauseButton=this.createElement("span",{className:"e-icons e-file-reload-btn",attrs:{tabindex:this.btnTabIndex}});var o=r.querySelector("."+mt);o&&o.parentElement.insertBefore(this.pauseButton,o),this.pauseButton.setAttribute("title",this.localizedTexts("retry")),this.pauseButton.addEventListener("click",function(l){n.reloadcanceledFile(l,s,r)},!1),this.checkActionButtonStatus()}}},t.prototype.checkChunkUpload=function(){return!(this.asyncSettings.chunkSize<=0||h(this.asyncSettings.chunkSize))},t.prototype.chunkUploadComplete=function(e,i,s){var n=this,r=e.target,o;if(r.readyState===4&&r.status>=200&&r.status<300){var l=e&&e.currentTarget?this.getResponse(e):null,c=Math.max(Math.ceil(i.file.size/this.asyncSettings.chunkSize),1),d={event:e,file:i.file,chunkIndex:i.chunkIndex,totalChunk:c,chunkSize:this.asyncSettings.chunkSize,response:l};if(this.trigger("chunkSuccess",d),(h(s)||!s)&&(o=this.getLiElement(i.file)),this.updateMetaData(i),i.end===i.file.size&&(i.file.statusCode="3"),i.file.statusCode==="5"){var p={event:e,fileData:i.file,cancel:!1,customFormData:[]};this.trigger("canceling",p,function(f){if(f.cancel){i.file.statusCode="3";var m=o.querySelector("."+Xe);!h(o)&&!h(m)&&($i(m),N(o.querySelector(".e-spinner-pane"))),n.sendNextRequest(i)}else{i.request.emitError=!1,r.abort();var g=new FormData,b=n.element.getAttribute("name");g.append(b,i.file.name),g.append("cancel-uploading",i.file.name),g.append("cancelUploading",i.file.name),n.updateFormData(g,f.customFormData);var S=new ri(n.asyncSettings.removeUrl,"POST",!0,null);S.emitError=!1,S.onLoad=function(T){return n.removeChunkFile(T,i,s),{}},S.send(g)}})}else{if(c-1===i.chunkIndex&&c>i.chunkIndex){var u=this.pausedData.indexOf(i);u>=0&&this.pausedData.splice(u,1),h(this.template)&&(h(s)||!s)&&o&&(o&&!h(o.querySelector("."+Tt))&&N(o.querySelector("."+Tt)),this.removeChunkProgressBar(i)),this.raiseSuccessEvent(e,i.file);return}i.file.statusCode!=="4"&&this.sendNextRequest(i)}}else this.chunkUploadFailed(e,i)},t.prototype.sendNextRequest=function(e){e.start=e.end,e.end+=this.asyncSettings.chunkSize,e.end=Math.min(e.end,e.file.size),e.chunkIndex+=1,this.sendRequest(e.file,e)},t.prototype.removeChunkFile=function(e,i,s){if(h(this.template)&&h(s)&&!s){var n=this.getLiElement(i.file),r=n.querySelector("."+Xe),o=r;this.updateStatus(i.file,this.localizedTexts("fileUploadCancel"),"5"),this.updateProgressBarClasses(n,Jt),this.removeProgressbar(n,"failure"),r&&(r.classList.remove(Xe),r.classList.add(mt),r.setAttribute("title",this.localizedTexts("remove")));var l=n.querySelector("."+Tt);l&&(l.classList.add(wi),l.classList.remove(Tt),l.setAttribute("title",this.localizedTexts("retry"))),!h(n)&&!h(r)&&!h(n.querySelector(".e-spinner-pane"))&&($i(o),N(n.querySelector(".e-spinner-pane")))}},t.prototype.pauseUpload=function(e,i,s){e.file.statusCode="4",e.file.status=this.localizedTexts("pause"),this.updateMetaData(e);var n={event:i||null,file:e.file,chunkIndex:e.chunkIndex,chunkCount:Math.round(e.file.size/this.asyncSettings.chunkSize),chunkSize:this.asyncSettings.chunkSize};this.abortUpload(e,s,n)},t.prototype.abortUpload=function(e,i,s){e.file.statusCode!=="4"&&(e.request.emitError=!1,e.request.httpRequest.abort());var n=this.getLiElement(e.file);if(h(this.template)&&(h(i)||!i)){var r=n.querySelector("."+Tt);r.classList.remove(Tt),r.classList.add(ws),r.setAttribute("title",this.localizedTexts("resume")),r.nextElementSibling.classList.add(mt),r.nextElementSibling.classList.remove(Xe),r.nextElementSibling.setAttribute("title",this.localizedTexts("remove"))}for(var o=0;o<this.pausedData.length;o++)this.pausedData[o].file.name===e.file.name&&this.pausedData.splice(o,1);this.pausedData.push(e),this.trigger("pausing",s)},t.prototype.resumeUpload=function(e,i,s){var n=this.getLiElement(e.file),r;h(n)||(r=n.querySelector("."+ws)),!h(r)&&(h(s)||!s)&&(r.classList.remove(ws),r.classList.add(Tt),r.setAttribute("title",this.localizedTexts("pause")),r.nextElementSibling.classList.remove(mt),r.nextElementSibling.classList.add(Xe),r.nextElementSibling.setAttribute("title",this.localizedTexts("abort"))),e.file.status=this.localizedTexts("inProgress"),e.file.statusCode="3",this.updateMetaData(e);var o={event:i||null,file:e.file,chunkIndex:e.chunkIndex,chunkCount:Math.round(e.file.size/this.asyncSettings.chunkSize),chunkSize:this.asyncSettings.chunkSize};this.trigger("resuming",o);for(var l=0;l<this.pausedData.length;l++)this.pausedData[l].end===this.pausedData[l].file.size?this.chunkUploadComplete(i,e,s):this.pausedData[l].file.name===e.file.name&&(this.pausedData[l].start=this.pausedData[l].end,this.pausedData[l].end=this.pausedData[l].end+this.asyncSettings.chunkSize,this.pausedData[l].end=Math.min(this.pausedData[l].end,this.pausedData[l].file.size),this.pausedData[l].chunkIndex=this.pausedData[l].chunkIndex+1,this.sendRequest(this.pausedData[l].file,this.pausedData[l],s))},t.prototype.updateMetaData=function(e){this.uploadMetaData.indexOf(e)===-1?this.uploadMetaData.push(e):(this.uploadMetaData.splice(this.uploadMetaData.indexOf(e),1),this.uploadMetaData.push(e))},t.prototype.removeChunkProgressBar=function(e){var i=this.getLiElement(e.file);if(!h(i)){this.updateProgressBarClasses(i,ci),this.removeProgressbar(i,"success");var s=i.querySelector("."+Xe);h(s)||(s.classList.add(Kt),s.setAttribute("title",this.localizedTexts("delete")),s.classList.remove(Xe,$t))}},t.prototype.chunkUploadFailed=function(e,i,s){var n=this,r=Math.max(Math.ceil(i.file.size/this.asyncSettings.chunkSize),1),o;h(this.template)&&(h(s)||!s)&&(o=this.getLiElement(i.file));var l=e&&e.currentTarget?this.getResponse(e):null,c={event:e,file:i.file,chunkIndex:i.chunkIndex,totalChunk:r,chunkSize:this.asyncSettings.chunkSize,cancel:!1,response:l};this.trigger("chunkFailure",c,function(d){if(!d.cancel)if(i.retryCount<n.asyncSettings.retryCount)setTimeout(function(){n.retryRequest(o,i,s)},n.asyncSettings.retryAfterDelay);else{if(!h(o)){var p=o.querySelector("."+Tt)?o.querySelector("."+Tt):o.querySelector("."+ws);h(p)||(p.classList.add(wi),p.classList.remove(Tt,ws)),n.updateProgressBarClasses(o,Jt),n.removeProgressbar(o,"failure"),o.querySelector(".e-icons").classList.remove($t);var u=o.querySelector("."+Xe)?o.querySelector("."+Xe):o.querySelector("."+mt);u.classList.remove(Xe),h(o.querySelector("."+Tt))||N(o.querySelector("."+Tt)),i.start>0?(u.classList.add(Kt),u.setAttribute("title",n.localizedTexts("delete"))):(u.classList.add(mt),u.setAttribute("title",n.localizedTexts("remove")))}i.retryCount=0;var f=i.file,m=n.localizedTexts("uploadFailedMessage"),g={e,response:l,operation:"upload",file:n.updateStatus(f,m,"0",!1),statusText:m};n.trigger("failure",g,function(b){n.updateStatus(f,b.statusText,"0"),n.uploadSequential(),n.checkActionComplete(!0)})}})},t.prototype.retryRequest=function(e,i,s){h(this.template)&&(h(s)||!s)&&e&&this.updateProgressBarClasses(e,Jt),i.retryCount+=1,this.sendRequest(i.file,i)},t.prototype.checkPausePlayAction=function(e){var i=e.target,s=e.target.parentElement,n=this.fileList.indexOf(s),r=this.filesData[n],o=this.getCurrentMetaData(r);i.classList.contains(Tt)?this.pauseUpload(o,e):i.classList.contains(ws)?this.resumeUpload(o,e):i.classList.contains(wi)&&(o.file.status===this.localizedTexts("fileUploadCancel")?this.retryUpload(o,!1):this.retryUpload(o,!0))},t.prototype.retryUpload=function(e,i){i?(e.end=e.end+this.asyncSettings.chunkSize,e.start=e.start+this.asyncSettings.chunkSize,this.sendRequest(e.file,e)):(e.file.statusCode="1",e.file.status=this.localizedTexts("readyToUploadMessage"),this.chunkUpload(e.file)),this.getLiElement(e.file).classList.add(tr)},t.prototype.chunkUploadInProgress=function(e,i,s){var n=this;if(i.file.statusCode!=="4"){i.file.statusCode!=="4"&&i.file.statusCode!=="5"&&(i.file.statusCode="3",i.file.status=this.localizedTexts("inProgress")),this.updateMetaData(i);var r=this.getLiElement(i.file);if(!h(r)){var o=r.querySelector("."+wi);if(h(o)||(o.classList.add(Tt),o.setAttribute("title",this.localizedTexts("pause")),o.classList.remove(wi)),!h(r)){if(!(r.querySelectorAll("."+Ls).length>0)){var l=r.querySelector("."+Ze);h(this.template)&&(l.classList.add($t),l.classList.remove(Jt),this.createProgressBar(r),this.updateProgressBarClasses(r,$t));var c=r.querySelector("."+mt)?r.querySelector("."+mt):r.querySelector("."+Kt);h(c)||(c.classList.add(Xe),c.setAttribute("title",this.localizedTexts("abort")),c.classList.remove(mt))}if(!isNaN(Math.round(e.loaded/e.total*100))&&h(this.template)&&i.file.statusCode!=="4"){var d=void 0,p=Math.ceil(i.file.size/this.asyncSettings.chunkSize)-1;this.asyncSettings.chunkSize&&p&&(d=Math.round(i.chunkIndex/p*100),this.changeProgressValue(r,d.toString()+"%"))}i.chunkIndex===0&&this.checkActionButtonStatus()}if(h(r.querySelector("."+Tt))&&h(this.template)&&h(r.querySelector("."+Kt))){this.pauseButton=this.createElement("span",{className:"e-icons e-file-pause-btn",attrs:{tabindex:this.btnTabIndex}}),this.browserName==="msie"&&this.pauseButton.classList.add("e-msie");var u=r.querySelector("."+Xe);u.parentElement.insertBefore(this.pauseButton,u),this.pauseButton.setAttribute("title",this.localizedTexts("pause")),this.pauseButton.addEventListener("click",function(f){n.checkPausePlayAction(f)},!1)}}}},t.prototype.bytesToSize=function(e){var i=-1;if(!e)return"0.0 KB";do e=e/1024,i++;while(e>99);return i>=2&&(e=e*1024,i=1),Math.max(e,0).toFixed(1)+" "+["KB","MB"][i]},t.prototype.sortFileList=function(e){e=e||this.sortFilesList;for(var i=e,s=[],n=0;n<i.length;n++)s.push(i[n].name);for(var r=s.sort(),o=[],l=0,c=r;l<c.length;l++)for(var d=c[l],n=0;n<i.length;n++)d===i[n].name&&o.push(i[n]);return o},t.prototype.destroy=function(){this.element.value=null,this.clearTemplate(),this.clearAll(),this.unWireEvents(),this.unBindDropEvents(),this.multiple&&this.element.removeAttribute("multiple"),this.enabled||this.element.removeAttribute("disabled"),this.element.removeAttribute("accept"),this.setInitialAttributes();for(var e=["aria-label","directory","webkitdirectory","tabindex"],i=0,s=e;i<s.length;i++){var n=s[i];this.element.removeAttribute(n)}h(this.uploadWrapper)||(this.uploadWrapper.parentElement.appendChild(this.element),N(this.uploadWrapper)),this.uploadWrapper=null,this.uploadWrapper=null,this.browseButton=null,this.dropAreaWrapper=null,this.dropZoneElement=null,this.dropArea=null,this.keyboardModule=null,this.clearButton=null,this.uploadButton=null,a.prototype.destroy.call(this)},t.prototype.upload=function(e,i){var s=this;if(e=e||this.filesData,this.sequentialUpload&&(this.isFirstFileOnSelection||i))this.sequenceUpload(e);else{var n=this.getFilesInArray(e),r={customFormData:[],currentRequest:null,cancel:!1};this.trigger("beforeUpload",r,function(o){o.cancel||s.uploadFiles(n,i)})}},t.prototype.getFilesInArray=function(e){var i=[];return e instanceof Array?i=e:i.push(e),i},t.prototype.serverReadFileBase64=function(e,i,s){var n=this;return new Promise(function(r,o){var l=n.fileStreams[e].rawFile;try{var c=new FileReader;c.onload=function(d){return function(){try{var p=d.result,u=p?p.split(";base64,")[1]:null;r(u)}catch(f){o(f)}}}(c),c.readAsDataURL(l.slice(i,i+s))}catch(d){o(d)}})},t.prototype.uploadFileCount=function(e){var i=this.filesData;if(!i||i.length===0)return-1;var s=i.length;return s},t.prototype.getFileRead=function(e,i){var s=this.filesData;if(!s||s.length===0)return-1;var n=s[e],r=this.newFileRef++;return this.fileStreams[r]=n,r},t.prototype.uploadFiles=function(e,i){var s=[];if(!(this.asyncSettings.saveUrl===""||h(this.asyncSettings.saveUrl))){if(!i||h(i))if(this.multiple)s=this.filterfileList(e);else{var n=[];n.push(e[0]),s=this.filterfileList(n)}else s=e;for(var r=0;r<s.length;r++)this.uploadFilesRequest(s,r,i)}},t.prototype.uploadFilesRequest=function(e,i,s){var n=this,r=this.checkChunkUpload(),o=new ri(this.asyncSettings.saveUrl,"POST",!0,null);o.emitError=!1;var l={fileData:e[i],customFormData:[],cancel:!1},c=new FormData;if(o.beforeSend=function(p){l.currentRequest=o.httpRequest,n.trigger("uploading",l,function(u){u.cancel&&n.eventCancelByArgs(p,u,e[i]),n.updateFormData(c,u.customFormData)})},e[i].statusCode==="1"){var d=this.element.getAttribute("name");c.append(d,e[i].rawFile,e[i].name),r&&e[i].size>this.asyncSettings.chunkSize?this.chunkUpload(e[i],s,i):(o.onLoad=function(p){return l.cancel?{}:(n.uploadComplete(p,e[i],s),{})},o.onUploadProgress=function(p){return l.cancel?{}:(n.uploadInProgress(p,e[i],s,o),{})},o.onError=function(p){return n.uploadFailed(p,e[i]),{}},o.send(c))}},t.prototype.spliceFiles=function(e){for(var i=this.fileList[e],s=this.getFilesData(),n=+i.getAttribute("data-files-count"),r=0,o=0;o<e;o++)r+=+this.fileList[o].getAttribute("data-files-count");for(var l=r+n-1,c=l;c>=r;c--)s.splice(c,1)},t.prototype.remove=function(e,i,s,n,r){var o=this;h(n)&&(n=!0);var l={event:r,cancel:!1,filesData:[],customFormData:[],postRawFile:n,currentRequest:null},c={cancel:!1,customFormData:[],currentRequest:null};this.trigger("beforeRemove",c,function(d){if(!d.cancel)if(o.isFormUpload())l.filesData=e,o.trigger("removing",l,function(T){if(!T.cancel)for(var I=o.getFilesInArray(e),w=!1,x=void 0,A=0,q=I;A<q.length;A++){var F=q[A];if(w||(x=o.fileList.indexOf(F.list)),x>-1){var J=h(F.input)?null:F.input;J&&N(J),o.spliceFiles(x),N(o.fileList[x]),o.fileList.splice(x,1),w=!0,x=-1}}});else if(o.isForm&&(h(o.asyncSettings.removeUrl)||o.asyncSettings.removeUrl===""))l.filesData=o.getFilesData(),o.trigger("removing",l,function(T){T.cancel||o.clearAll()});else{var p=[];e=h(e)?o.filesData:e,e instanceof Array?p=e:p.push(e),l.filesData=p;for(var u=o.asyncSettings.removeUrl,f=!(u===""||h(u)),m=function(T){var I=o.uploadedFilesData.indexOf(T);(T.statusCode==="2"||T.statusCode==="4"||T.statusCode==="0"&&I!==-1)&&f?o.removeUploadedFile(T,l,s,i):s?o.removeFilesData(T,i):o.trigger("removing",l,function(w){w.cancel||o.removeFilesData(T,i)}),r&&!r.target.classList.contains(mt)&&o.checkActionComplete(!1)},g=0,b=p;g<b.length;g++){var S=b[g];m(S)}}})},t.prototype.clearAll=function(){var e=this;if(h(this.listParent)){this.browserName!=="msie"&&(this.element.value=""),this.filesData=[];return}var i={cancel:!1,filesData:this.filesData};this.trigger("clearing",i,function(s){s.cancel||(e.clearData(),e.actionCompleteCount=0,e.count=-1)})},t.prototype.getFilesData=function(e){return h(e)?this.filesData:this.getSelectedFiles(e)},t.prototype.pause=function(e,i){e=e||this.filesData;var s=this.getFilesInArray(e);this.pauseUploading(s,i)},t.prototype.pauseUploading=function(e,i){for(var s=this.getFiles(e),n=0;n<s.length;n++)s[n].statusCode==="3"&&this.pauseUpload(this.getCurrentMetaData(s[n],null),null,i)},t.prototype.getFiles=function(e){var i=[];return!h(e)&&!(e instanceof Array)?i.push(e):i=e,i},t.prototype.resume=function(e,i){e=e||this.filesData;var s=this.getFilesInArray(e);this.resumeFiles(s,i)},t.prototype.resumeFiles=function(e,i){for(var s=this.getFiles(e),n=0;n<s.length;n++)s[n].statusCode==="4"&&this.resumeUpload(this.getCurrentMetaData(s[n],null),null,i)},t.prototype.retry=function(e,i,s){e=e||this.filesData;var n=this.getFilesInArray(e);this.sequentialUpload&&this.isFirstFileOnSelection&&(this.isFirstFileOnSelection=!1),this.retryFailedFiles(n,i,s)},t.prototype.retryFailedFiles=function(e,i,s){for(var n=this.getFiles(e),r=0;r<n.length;r++)if(n[r].statusCode==="5"||n[r].statusCode==="0")if(this.asyncSettings.chunkSize>0&&this.getCurrentMetaData(n[r],null))this.retryUpload(this.getCurrentMetaData(n[r],null),i);else{var o=void 0;s||(o=this.fileList[this.filesData.indexOf(n[r])]),this.reloadcanceledFile(null,n[r],o,s)}},t.prototype.cancel=function(e){e=e||this.filesData;var i=this.getFilesInArray(e);this.cancelUpload(i)},t.prototype.cancelUpload=function(e){var i=this.getFiles(e);if(this.asyncSettings.chunkSize>0){for(var s=0;s<i.length;s++)if(i[s].statusCode==="3"){var n=this.getCurrentMetaData(i[s],null);n.file.statusCode="5",n.file.status=this.localizedTexts("fileUploadCancel"),this.updateMetaData(n),this.showHideUploadSpinner(i[s])}}else for(var s=0;s<i.length;s++)i[s].statusCode==="3"&&(i[s].statusCode="5",i[s].status=this.localizedTexts("fileUploadCancel"),this.showHideUploadSpinner(i[s]))},t.prototype.showHideUploadSpinner=function(e){var i=this.getLiElement(e);if(!h(i)&&h(this.template)){var s=i.querySelector("."+Xe);ln({target:s,width:"20px"}),hn(s)}},ve([ye({saveUrl:"",removeUrl:""},RC)],t.prototype,"asyncSettings",void 0),ve([y(!1)],t.prototype,"sequentialUpload",void 0),ve([y({})],t.prototype,"htmlAttributes",void 0),ve([y("")],t.prototype,"cssClass",void 0),ve([y(!0)],t.prototype,"enabled",void 0),ve([y(null)],t.prototype,"template",void 0),ve([y(!0)],t.prototype,"multiple",void 0),ve([y(!0)],t.prototype,"autoUpload",void 0),ve([y(!0)],t.prototype,"enableHtmlSanitizer",void 0),ve([ye({},jC)],t.prototype,"buttons",void 0),ve([y("")],t.prototype,"allowedExtensions",void 0),ve([y(0)],t.prototype,"minFileSize",void 0),ve([y(3e7)],t.prototype,"maxFileSize",void 0),ve([y(null)],t.prototype,"dropArea",void 0),ve([Qt([{}],AC)],t.prototype,"files",void 0),ve([y(!0)],t.prototype,"showFileList",void 0),ve([y(!1)],t.prototype,"directoryUpload",void 0),ve([y("Default")],t.prototype,"dropEffect",void 0),ve([z()],t.prototype,"created",void 0),ve([z()],t.prototype,"actionComplete",void 0),ve([z()],t.prototype,"rendering",void 0),ve([z()],t.prototype,"beforeUpload",void 0),ve([z()],t.prototype,"fileListRendering",void 0),ve([z()],t.prototype,"selected",void 0),ve([z()],t.prototype,"uploading",void 0),ve([z()],t.prototype,"success",void 0),ve([z()],t.prototype,"failure",void 0),ve([z()],t.prototype,"removing",void 0),ve([z()],t.prototype,"beforeRemove",void 0),ve([z()],t.prototype,"clearing",void 0),ve([z()],t.prototype,"progress",void 0),ve([z()],t.prototype,"change",void 0),ve([z()],t.prototype,"chunkSuccess",void 0),ve([z()],t.prototype,"chunkFailure",void 0),ve([z()],t.prototype,"chunkUploading",void 0),ve([z()],t.prototype,"canceling",void 0),ve([z()],t.prototype,"pausing",void 0),ve([z()],t.prototype,"resuming",void 0),t=ve([ke],t),t}(Ge),zC=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ke=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},ir="e-apply",Oa="e-cancel",Eh="e-current",PC="e-container",sr="e-ctrl-btn",mn="e-switch-ctrl-btn",Gf="e-disabled",Xf="e-value-switch-btn",Kf="e-handler",$f="e-hex",Th="e-hide-hex-value",Nh="e-hide-opacity",gn="e-hide-switchable-value",Os="e-hide-value",Jf="e-hide-valueswitcher",nr="e-hsv-color",Zf="e-hsv-container",vn="e-selected-value",xa="e-mode-switch-btn",Ih="e-nocolor-item",Dh="e-opacity-value",rr="e-palette",ka="e-color-palette",Lh="e-color-picker",Aa="e-preview-container",ja="e-previous",BC="e-rtl",yn="e-show-value",ar="e-selected",Ra="e-split-preview",za="e-tile",HC={default:["#000000","#f44336","#e91e63","#9c27b0","#673ab7","#2196f3","#03a9f4","#00bcd4","#009688","#ffeb3b","#ffffff","#ffebee","#fce4ec","#f3e5f5","#ede7f6","#e3f2fd","#e1f5fe","#e0f7fa","#e0f2f1","#fffde7","#f2f2f2","#ffcdd2","#f8bbd0","#e1bee7","#d1c4e9","#bbdefb","#b3e5fc","#b2ebf2","#b2dfdb","#fff9c4","#e6e6e6","#ef9a9a","#f48fb1","#ce93d8","#b39ddb","#90caf9","#81d4fa","#80deea","#80cbc4","#fff59d","#cccccc","#e57373","#f06292","#ba68c8","#9575cd","#64b5f6","#4fc3f7","#4dd0e1","#4db6ac","#fff176","#b3b3b3","#ef5350","#ec407a","#ab47bc","#7e57c2","#42a5f5","#29b6f6","#26c6da","#26a69a","#ffee58","#999999","#e53935","#d81b60","#8e24aa","#5e35b1","#1e88e5","#039be5","#00acc1","#00897b","#fdd835","#808080","#d32f2f","#c2185b","#7b1fa2","#512da8","#1976d2","#0288d1","#0097a7","#00796b","#fbc02d","#666666","#c62828","#ad1457","#6a1b9a","#4527a0","#1565c0","#0277bd","#00838f","#00695c","#f9a825","#4d4d4d","#b71c1c","#880e4f","#4a148c","#311b92","#0d47a1","#01579b","#006064","#004d40","#f57f17"]},Oh=function(a){zC(t,a);function t(e,i){return a.call(this,e,i)||this}return t.prototype.preRender=function(){var e=this.element;this.formElement=M(this.element,"form"),this.formElement&&v.add(this.formElement,"reset",this.formResetHandler,this);var i={Apply:"Apply",Cancel:"Cancel",ModeSwitcher:"Switch Mode"};this.l10n=new Yt("colorpicker",i,this.locale),e.getAttribute("ejs-for")&&!e.getAttribute("name")&&e.setAttribute("name",e.id)},t.prototype.render=function(){this.initWrapper(),this.inline?this.createWidget():this.createSplitBtn(),this.enableOpacity||L([this.container.parentElement],Nh),this.renderComplete()},t.prototype.initWrapper=function(){var e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"});this.element.parentNode.insertBefore(e,this.element),e.appendChild(this.element),le(this.element,{tabindex:"-1",spellcheck:"false","aria-label":"colorpicker"}),this.container=this.createElement("div",{className:PC}),this.getWrapper().appendChild(this.container);var i=this.value?this.roundValue(this.value).toLowerCase():"#008000ff";this.noColor&&this.mode==="Palette"&&this.value===""&&(i="");var s=i.slice(0,7);h(this.initialInputValue)&&(this.initialInputValue=s),this.element.value=s,this.enableOpacity?this.setProperties({value:i},!0):this.setProperties({value:s},!0),this.enableRtl&&e.classList.add(BC),this.cssClass&&L([e],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.tileRipple=Mi(this.container,{selector:"."+za}),this.ctrlBtnRipple=Mi(this.container,{selector:".e-btn"})},t.prototype.getWrapper=function(){return this.element.parentElement},t.prototype.createWidget=function(){this.mode==="Palette"?(this.createPalette(),this.inline||this.firstPaletteFocus()):(this.createPicker(),this.inline||this.getDragHandler().focus()),this.isRgb=!0,this.createInput(),this.createCtrlBtn(),this.disabled||this.wireEvents(),this.inline&&this.disabled&&this.toggleDisabled(!0),E.isDevice&&this.refreshPopupPos()},t.prototype.createSplitBtn=function(){var e=this,i=this.createElement("button",{className:"e-split-colorpicker"});this.getWrapper().appendChild(i),this.splitBtn=new xf({iconCss:"e-selected-color",target:this.container,disabled:this.disabled,enableRtl:this.enableRtl,createPopupOnClick:this.createPopupOnClick,open:this.onOpen.bind(this),click:function(){var o=new MouseEvent("click",{bubbles:!0,cancelable:!1});e.trigger("change",{currentValue:{hex:e.value.slice(0,7),rgba:e.convertToRgbString(e.hexToRgb(e.value))},previousValue:{hex:null,rgba:null},value:e.value,event:o})}}),this.splitBtn.createElement=this.createElement,this.splitBtn.appendTo(i);var s=this.createElement("span",{className:Ra});W(".e-selected-color",i).appendChild(s),s.style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value));var n=this.getPopupEle();if(L([n],"e-colorpicker-popup"),this.cssClass&&L([n],this.cssClass.replace(/\s+/g," ").trim().split(" ")),E.isDevice&&!this.createPopupOnClick){var r=this.getPopupInst();r.relateTo=document.body,r.position={X:"center",Y:"center"},r.targetType="container",r.collision={X:"fit",Y:"fit"},r.offsetY=4,n.style.zIndex=fs(this.splitBtn.element).toString()}this.bindCallBackEvent()},t.prototype.onOpen=function(){if(this.trigger("open",{element:this.container}),!E.isDevice){var e=this.getPopupInst(),i=us(e.element);i.length>0&&(e.collision={X:"flip",Y:"fit"},e.position={X:"right",Y:"bottom"},e.targetType="container")}},t.prototype.getPopupInst=function(){return xt(this.getPopupEle(),jt)},t.prototype.bindCallBackEvent=function(){var e=this;this.splitBtn.beforeOpen=function(i){var s=new Zn;return e.trigger("beforeOpen",i,function(n){if(!n.cancel){var r=e.getPopupEle();if(r.style.top=X(0+pageYOffset),r.style.left=X(0+pageXOffset),r.style.display="block",e.createWidget(),r.style.display="",E.isDevice){if(e.createPopupOnClick){var o=e.getPopupInst();o.relateTo=document.body,o.position={X:"center",Y:"center"},o.targetType="container",o.collision={X:"fit",Y:"fit"},o.offsetY=4,r.style.zIndex=fs(e.splitBtn.element).toString()}e.modal=e.createElement("div"),e.modal.className="e-"+e.getModuleName()+" e-modal",e.modal.style.display="none",document.body.insertBefore(e.modal,r),document.body.className+=" e-colorpicker-overflow",e.modal.style.display="block",e.modal.style.zIndex=(Number(r.style.zIndex)-1).toString()}}i.cancel=n.cancel,s.resolve(n)}),s},this.splitBtn.beforeClose=function(i){var s=new Zn;if(h(i.event))s.resolve(i);else{var n={element:e.container,event:i.event,cancel:!1};e.trigger("beforeClose",n,function(r){E.isDevice&&i.event.target===e.modal&&(r.cancel=!0),r.cancel||e.onPopupClose(),i.cancel=r.cancel,s.resolve(r)})}return s}},t.prototype.onPopupClose=function(){this.unWireEvents(),this.destroyOtherComp(),this.container.style.width="",W("."+Ra,this.splitBtn.element).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value)),this.container.innerHTML="",k([this.container],[Lh,ka]),E.isDevice&&this.modal&&(k([document.body],"e-colorpicker-overflow"),this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)},t.prototype.createPalette=function(){if(ut(this.container,[ka],[Lh]),this.presetColors){var e=this.createElement("div",{className:"e-custom-palette"});this.appendElement(e);var i=Object.keys(this.presetColors);if(i.length===1)this.appendPalette(this.presetColors[i[0]],i[0],e);else for(var s=0,n=i.length;s<n;s++)this.appendPalette(this.presetColors[i[s]],i[s],e);ce(".e-row",e).length>10&&L([e],"e-palette-group")}else this.appendPalette(HC.default,"default");this.mode==="Palette"&&!this.modeSwitcher&&this.noColor&&this.setNoColor();var r=parseInt(getComputedStyle(this.container).borderBottomWidth,10);this.container.style.width=X(this.container.children[0].offsetWidth+r+r),this.rgb=this.hexToRgb(this.roundValue(this.value)),this.hsv=this.rgbToHsv.apply(this,this.rgb)},t.prototype.firstPaletteFocus=function(){W("."+ar,this.container.children[0])||ce("."+rr,this.container)[0].focus()},t.prototype.appendPalette=function(e,i,s){var n=this.createElement("div",{className:rr,attrs:{tabindex:"0",role:"grid"}});s?s.appendChild(n):this.appendElement(n);for(var r,o,l,c=0,d=e.length;c<d;c++)(c===0||c%this.columns===0)&&(r=this.createElement("div",{className:"e-row",attrs:{role:"row"}}),n.appendChild(r)),l=this.roundValue(e[c]).toLowerCase(),o=this.createElement("span",{className:za,attrs:{role:"gridcell","aria-label":l,"aria-selected":"false",tabindex:"0"}}),this.trigger("beforeTileRender",{element:o,presetName:i,value:e[c]}),r.appendChild(o),this.value===l&&(this.addTileSelection(o),n.focus()),o.style.backgroundColor=this.convertToRgbString(this.hexToRgb(l))},t.prototype.setNoColor=function(){var e=this.container.querySelector(".e-row").children[0];e.classList.add(Ih),this.value||(e.classList.add(ar),M(e,"."+rr).focus()),["aria-selected","aria-label"].forEach(function(i){e.removeAttribute(i)}),e.style.backgroundColor=""},t.prototype.appendElement=function(e,i){i===void 0&&(i=0);var s=this.container.children[i];s?this.container.insertBefore(e,s):this.container.appendChild(e)},t.prototype.addTileSelection=function(e){e.classList.add(ar),e.setAttribute("aria-selected","true")},t.prototype.createPicker=function(){ut(this.container,[Lh],[ka]);var e=this.createElement("div",{className:Zf});this.appendElement(e),e.appendChild(this.createElement("div",{className:nr}));var i=this.createElement("span",{className:Kf,attrs:{tabindex:"0"}});e.appendChild(i),(this.value===null||this.value==="")&&(this.value="#008000ff"),this.rgb=this.hexToRgb(this.value),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHsvContainerBg(),this.setHandlerPosition(),this.createSlider(),this.createDragTooltip()},t.prototype.setHsvContainerBg=function(e){e===void 0&&(e=this.hsv[0]),this.getHsvContainer().style.backgroundColor=this.convertToRgbString(this.hsvToRgb(e,100,100,1))},t.prototype.getHsvContainer=function(){return W("."+Zf,this.container)},t.prototype.setHandlerPosition=function(){var e=this.getDragHandler(),i=W("."+nr,this.container);this.enableRtl?e.style.left=X(i.offsetWidth*Math.abs(100-this.hsv[1])/100):e.style.left=X(i.offsetWidth*this.hsv[1]/100),e.style.top=X(i.offsetHeight*(100-this.hsv[2])/100)},t.prototype.createSlider=function(){var e=this.createElement("div",{className:"e-slider-preview"});this.appendElement(e,1),this.createPreview(e);var i=this.createElement("div",{className:"e-colorpicker-slider"});e.insertBefore(i,e.children[0]);var s=this.createElement("div",{className:"e-hue-slider"});i.appendChild(s),this.hueSlider=new zf({value:this.hsv[0],min:0,max:359,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.hueChange.bind(this)}),this.hueSlider.createElement=this.createElement,this.hueSlider.appendTo(s),this.enableOpacity&&(s=this.createElement("div",{className:"e-opacity-slider"}),i.appendChild(s),this.createOpacitySlider(s))},t.prototype.createOpacitySlider=function(e){this.opacitySlider=new zf({value:this.rgb[3]*100,min:0,max:100,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.opacityChange.bind(this)}),this.opacitySlider.createElement=this.createElement,this.opacitySlider.appendTo(e);var i=this.createElement("div",{className:"e-opacity-empty-track"});e.appendChild(i),this.updateOpacitySliderBg()},t.prototype.updateOpacitySliderBg=function(){var e=this.enableRtl?"to left":"to right",i=W(".e-opacity-empty-track",this.opacitySlider.element);i&&(i.style.background="linear-gradient("+e+", rgba("+this.rgb.slice(0,3)+", 0) 0%, "+this.convertToRgbString(this.rgb.slice(0,3))+" 100%)")},t.prototype.hueChange=function(e){this.hsv[0]=e.value,this.setHsvContainerBg(),this.convertToOtherFormat()},t.prototype.opacityChange=function(e){var i=e.value,s=this.rgbToHex(this.rgb);this.hsv[3]=i/100,this.rgb[3]=i/100;var n=this.rgbToHex(this.rgb);this.updateOpacityInput(i);var r=this.convertToRgbString(this.rgb);this.updatePreview(r),this.triggerEvent(n,s,r)},t.prototype.updateOpacityInput=function(e){if(this.enableOpacity&&!this.getWrapper().classList.contains(Os)){var i=xt(W("."+Dh,this.container),Oi);i.value=e,i.dataBind()}},t.prototype.createPreview=function(e){var i=this.createElement("div",{className:Aa});e.appendChild(i);var s=this.createElement("span",{className:"e-preview "+Eh});i.appendChild(s);var n=this.convertToRgbString(this.rgb);s.style.backgroundColor=n,s=this.createElement("span",{className:"e-preview "+ja}),i.appendChild(s),s.style.backgroundColor=n},t.prototype.isPicker=function(){return!this.container.classList.contains(ka)},t.prototype.getPopupEle=function(){return this.container.parentElement},t.prototype.createNumericInput=function(e,i,s,n){var r=this,o=new Oi({value:i,placeholder:s,min:0,max:n,format:"###.##",showSpinButton:!1,floatLabelType:"Always",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker(),change:function(l){l.event&&r.inputHandler(l.event)}});o.createElement=this.createElement,o.appendTo(e)},t.prototype.createInput=function(){var e=this.isPicker(),i=this.getWrapper();if(e&&!i.classList.contains(Os)||!e&&i.classList.contains(yn)){var s=this.createElement("div",{className:vn});e?this.appendElement(s,2):this.appendElement(s,1);var n=this.createElement("div",{className:"e-input-container"});if(s.appendChild(n),i.classList.contains(Jf)||this.appendValueSwitchBtn(s),!i.classList.contains(Th)){var r=this.createElement("input",{className:$f,attrs:{maxlength:"7",spellcheck:"false","aria-label":"HEX"}});n.appendChild(r),fe.createInput({element:r,floatLabelType:"Always",properties:{placeholder:"HEX",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker()}},this.createElement),fe.setValue(this.value.slice(0,7),r),r.addEventListener("input",this.inputHandler.bind(this))}if(!i.classList.contains(gn)){var o=void 0,l=void 0;this.isRgb?(o="RGB",l=this.rgb):(o="HSV",l=this.hsv);for(var c=["rh","gs","bv"],d=0;d<3;d++)this.createNumericInput(n.appendChild(this.createElement("input",{className:"e-"+c[d]+"-value"})),l[d],o[d],255);this.enableOpacity&&this.appendOpacityValue(n)}}},t.prototype.appendOpacityValue=function(e){this.createNumericInput(e.appendChild(this.createElement("input",{className:Dh})),this.rgb[3]*100,"A",100)},t.prototype.appendValueSwitchBtn=function(e){var i=this.createElement("button",{className:"e-icons e-css e-btn e-flat e-icon-btn "+Xf,attrs:{title:"Toggle format"}});e.appendChild(i),this.isPicker()&&!this.getWrapper().classList.contains(gn)&&i.addEventListener("click",this.formatSwitchHandler.bind(this))},t.prototype.createCtrlBtn=function(){if(this.modeSwitcher||this.showButtons){this.l10n.setLocale(this.locale);var e=this.createElement("div",{className:mn});if(this.container.appendChild(e),this.showButtons){var i=this.createElement("div",{className:sr});e.appendChild(i);var s=this.l10n.getConstant("Apply");i.appendChild(this.createElement("button",{innerHTML:s,className:"e-btn e-css e-flat e-primary e-small "+ir,attrs:{title:s}}));var n=this.l10n.getConstant("Cancel");i.appendChild(this.createElement("button",{innerHTML:n,className:"e-btn e-css e-flat e-small "+Oa,attrs:{title:n}}))}this.modeSwitcher&&this.appendModeSwitchBtn()}},t.prototype.appendModeSwitchBtn=function(){var e=this.createElement("button",{className:"e-icons e-btn e-flat e-icon-btn "+xa,attrs:{title:this.l10n.getConstant("ModeSwitcher")}});W("."+mn,this.container).insertBefore(e,W("."+sr,this.container))},t.prototype.createDragTooltip=function(){var e=this,i=new ms({opensOn:"Custom",showTipPointer:!1,cssClass:"e-color-picker-tooltip",htmlAttributes:{title:"tooltip"},beforeOpen:function(s){e.tooltipEle=s.element},animation:{open:{effect:"None"},close:{effect:"None"}}});i.createElement=this.createElement,i.appendTo(this.container),i.open(this.container),this.tooltipEle.style.zIndex=fs(this.tooltipEle).toString(),this.tooltipEle.setAttribute("aria-label","colorpicker-tooltip"),W(".e-tip-content",this.tooltipEle).appendChild(this.createElement("div",{className:"e-tip-transparent"}))},t.prototype.getTooltipInst=function(){return xt(this.container,ms)},t.prototype.setTooltipOffset=function(e){this.getTooltipInst().offsetY=e},t.prototype.toggleDisabled=function(e){e?this.getWrapper().classList.add(Gf):this.getWrapper().classList.remove(Gf),this.showButtons&&[].slice.call(ce(".e-btn",this.container)).forEach(function(i){e?le(i,{disabled:""}):i.removeAttribute("disabled")})},t.prototype.convertToRgbString=function(e){return e.length?e.length===4?"rgba("+e.join()+")":"rgb("+e.join()+")":""},t.prototype.convertToHsvString=function(e){return e.length===4?"hsva("+e.join()+")":"hsv("+e.join()+")"},t.prototype.updateHsv=function(){this.hsv[1]=this.hsv[1]>100?100:this.hsv[1],this.hsv[2]=this.hsv[2]>100?100:this.hsv[2],this.setHandlerPosition()},t.prototype.convertToOtherFormat=function(e,i){e===void 0&&(e=!1);var s=this.rgbToHex(this.rgb);this.rgb=this.hsvToRgb.apply(this,this.hsv);var n=this.rgbToHex(this.rgb),r=this.convertToRgbString(this.rgb);this.updatePreview(r),this.updateInput(n),this.triggerEvent(n,s,r,e,i)},t.prototype.updateInput=function(e){var i=this.getWrapper();i.classList.contains(Os)||(i.classList.contains(Th)||fe.setValue(e.substr(0,7),W("."+$f,this.container)),i.classList.contains(gn)||(this.isRgb?this.updateValue(this.rgb,!1):this.updateValue(this.hsv,!1)))},t.prototype.updatePreview=function(e){this.enableOpacity&&this.updateOpacitySliderBg(),W(".e-tip-transparent",this.tooltipEle).style.backgroundColor=e,W("."+Aa+" ."+Eh,this.container).style.backgroundColor=e,W("."+Aa+" ."+ja,this.container).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value))},t.prototype.getDragHandler=function(){return W("."+Kf,this.container)},t.prototype.removeTileSelection=function(){var e=[].slice.call(ce("."+ar,this.container.children[0]));e.forEach(function(i){i.classList.remove(ar),i.setAttribute("aria-selected","false")})},t.prototype.convertRgbToNumberArray=function(e){return e.slice(e.indexOf("(")+1,e.indexOf(")")).split(",").map(function(i,s){return s!==3?parseInt(i,10):parseFloat(i)})},t.prototype.getValue=function(e,i){if(e||(e=this.value),i=i?i.toLowerCase():"hex",e[0]==="r"){var s=this.convertRgbToNumberArray(e);if(i==="hex"||i==="hexa"){var n=this.rgbToHex(s);return i==="hex"?n.slice(0,7):n}else return i==="hsv"?this.convertToHsvString(this.rgbToHsv.apply(this,s.slice(0,3))):i==="hsva"?this.convertToHsvString(this.rgbToHsv.apply(this,s)):"null"}else if(e[0]==="h"){var s=this.hsvToRgb.apply(this,this.convertRgbToNumberArray(e));if(i==="rgba")return this.convertToRgbString(s);if(i==="hex"||i==="hexa"){var n=this.rgbToHex(s);return i==="hex"?n.slice(0,7):n}else return i==="rgb"?this.convertToRgbString(s.slice(0,3)):"null"}else{e=this.roundValue(e);var r=this.hexToRgb(e);return(i==="rgb"||i==="hsv")&&(r=r.slice(0,3)),i==="rgba"||i==="rgb"?this.convertToRgbString(r):i==="hsva"||i==="hsv"?this.convertToHsvString(this.rgbToHsv.apply(this,r)):i==="hex"?e.slice(0,7):i==="a"?r[3].toString():"null"}},t.prototype.toggle=function(){this.container.parentElement.classList.contains("e-popup-close")?this.splitBtn.toggle():this.closePopup(null)},t.prototype.getModuleName=function(){return"colorpicker"},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.wireEvents=function(){if(this.isPicker()){var e=this.getDragHandler();v.add(e,"keydown",this.pickerKeyDown,this);var i=W("."+sr,this.container);i&&v.add(i,"keydown",this.ctrlBtnKeyDown,this),v.add(this.getHsvContainer(),"mousedown touchstart",this.handlerDown,this),(this.modeSwitcher||this.showButtons)&&this.addCtrlSwitchEvent(),v.add(W("."+ja,this.container),"click",this.previewHandler,this)}else v.add(this.container,"click",this.paletteClickHandler,this),v.add(this.container,"keydown",this.paletteKeyDown,this)},t.prototype.formResetHandler=function(){this.value=this.initialInputValue,le(this.element,{value:this.initialInputValue})},t.prototype.addCtrlSwitchEvent=function(){var e=W("."+mn,this.container);e&&v.add(e,"click",this.btnClickHandler,this)},t.prototype.ctrlBtnKeyDown=function(e){if(e.keyCode===13){var i=W("."+ir,this.container);if(i){var s=this.rgbToHex(this.rgb);this.triggerChangeEvent(s)}this.splitBtn.element.focus()}},t.prototype.pickerKeyDown=function(e){switch(e.keyCode){case 39:this.handlerDragPosition(1,this.enableRtl?-1:1,e);break;case 37:this.handlerDragPosition(1,this.enableRtl?1:-1,e);break;case 38:this.handlerDragPosition(2,1,e);break;case 40:this.handlerDragPosition(2,-1,e);break;case 13:{e.preventDefault();var i=this.rgbToHex(this.rgb);this.enterKeyHandler(i,e)}}},t.prototype.enterKeyHandler=function(e,i){this.triggerChangeEvent(e),this.inline||this.splitBtn.element.focus()},t.prototype.closePopup=function(e){var i=this,s={element:this.container,event:e,cancel:!1};this.trigger("beforeClose",s,function(n){n.cancel||(i.splitBtn.toggle(),i.onPopupClose())})},t.prototype.triggerChangeEvent=function(e,i){var s=e.slice(0,7);this.trigger("change",{currentValue:{hex:s,rgba:this.convertToRgbString(this.rgb)},event:i,previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:this.enableOpacity?e:s}),this.enableOpacity?this.setProperties({value:e},!0):this.setProperties({value:s},!0),this.element.value=s||"#000000"},t.prototype.handlerDragPosition=function(e,i,s){s.preventDefault(),this.hsv[e]+=i*(s.ctrlKey?1:3),this.hsv[e]<0&&(this.hsv[e]=0),this.updateHsv(),this.convertToOtherFormat(!0,s)},t.prototype.handlerDown=function(e){e.preventDefault(),e.type==="mousedown"?(this.clientX=Math.abs(e.pageX-pageXOffset),this.clientY=Math.abs(e.pageY-pageYOffset),this.setTooltipOffset(8)):(this.clientX=Math.abs(e.changedTouches[0].pageX-pageXOffset),this.clientY=Math.abs(e.changedTouches[0].pageY-pageYOffset),this.setTooltipOffset(-8)),this.setHsv(this.clientX,this.clientY),this.getDragHandler().style.transition="left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)",this.updateHsv(),this.convertToOtherFormat(!1,e),this.getDragHandler().focus(),v.add(document,"mousemove touchmove",this.handlerMove,this),v.add(document,"mouseup touchend",this.handlerEnd,this)},t.prototype.handlerMove=function(e){e.type!=="touchmove"&&e.preventDefault();var i,s;e.type==="mousemove"?(i=Math.abs(e.pageX-pageXOffset),s=Math.abs(e.pageY-pageYOffset)):(i=Math.abs(e.changedTouches[0].pageX-pageXOffset),s=Math.abs(e.changedTouches[0].pageY-pageYOffset)),this.setHsv(i,s);var n=this.getDragHandler();this.updateHsv(),this.convertToOtherFormat(!1,e),this.getTooltipInst().refresh(n),this.tooltipEle.style.transform||(Math.abs(this.clientX-i)>8||Math.abs(this.clientY-s)>8)&&(W("."+nr,this.container).style.cursor="pointer",n.style.transition="none",this.inline||(this.tooltipEle.style.zIndex=(parseInt(this.getPopupEle().style.zIndex,10)+1).toString()),this.tooltipEle.style.transform="rotate(45deg)",n.classList.add("e-hide-handler"))},t.prototype.setHsv=function(e,i){var s=W("."+nr,this.container),n=s.getBoundingClientRect();this.enableRtl?e=e>n.right?0:Math.abs(e-n.right):e=e>n.left?Math.abs(e-n.left):0,i=i>n.top?Math.abs(i-n.top):0,this.hsv[2]=Math.round(Number(100*(s.offsetHeight-Math.max(0,Math.min(s.offsetHeight,i-s.offsetTop)))/s.offsetHeight)*10)/10,this.hsv[1]=Math.round(Number(100*Math.max(0,Math.min(s.offsetWidth,e-s.offsetLeft))/s.offsetWidth)*10)/10},t.prototype.handlerEnd=function(e){e.type!=="touchend"&&e.preventDefault(),v.remove(document,"mousemove touchmove",this.handlerMove),v.remove(document,"mouseup touchend",this.handlerEnd);var i=this.getDragHandler();W("."+nr,this.container).style.cursor="",this.tooltipEle.style.transform&&(this.tooltipEle.style.transform="",i.classList.remove("e-hide-handler")),!this.inline&&!this.showButtons&&this.closePopup(e)},t.prototype.btnClickHandler=function(e){var i=e.target;M(i,"."+xa)?(e.stopPropagation(),this.switchToPalette()):(i.classList.contains(ir)||i.classList.contains(Oa))&&this.ctrlBtnClick(i,e)},t.prototype.switchToPalette=function(){this.trigger("beforeModeSwitch",{element:this.container,mode:"Palette"}),this.unWireEvents(),this.destroyOtherComp(),N(W(".e-slider-preview",this.container)),this.getWrapper().classList.contains(Os)||Je(W("."+vn,this.container)),N(this.getHsvContainer()),this.createPalette(),this.firstPaletteFocus(),this.createInput(),this.refreshPopupPos(),this.element.parentElement&&this.element.parentElement.parentElement&&this.element.parentElement.parentElement.classList.contains("e-ie-ddb-popup")&&this.refreshImageEditorPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Palette"})},t.prototype.refreshImageEditorPopupPos=function(){if(E.isDevice){var e=this.getPopupEle();e.style.left=X(0+pageXOffset),e.style.top=X(0+pageYOffset);var i=document.querySelector("#"+this.element.parentElement.parentElement.id.split("-popup")[0]);i&&e.parentElement.ej2_instances[0].refreshPosition(i)}},t.prototype.refreshPopupPos=function(){if(!this.inline){var e=this.getPopupEle();e.style.left=X(0+pageXOffset),e.style.top=X(0+pageYOffset),this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement)}},t.prototype.formatSwitchHandler=function(){this.isRgb?(this.updateValue(this.hsv,!0,3,[360,100,100]),this.isRgb=!1):(this.updateValue(this.rgb,!0,2),this.isRgb=!0)},t.prototype.updateValue=function(e,i,s,n){for(var r=["e-rh-value","e-gs-value","e-bv-value"],o,l=0,c=r.length;l<c;l++)o=xt(W("."+r[l],this.container),Oi),o.value=Math.round(e[l]),i&&(o.placeholder=r[l].substr(s,1).toUpperCase(),o.max=n?n[l]:255),o.dataBind()},t.prototype.previewHandler=function(e){var i=e.target,s=this.rgbToHex(this.rgb);this.rgb=this.convertRgbToNumberArray(i.style.backgroundColor),this.rgb[3]||(this.rgb[3]=1);var n=this.rgbToHex(this.rgb),r=this.rgbToHsv.apply(this,this.rgb);r[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:r[0]},!0),this.hueSlider.refresh()),this.setHsvContainerBg(r[0]),this.enableOpacity&&r[3]!==this.hsv[3]&&(this.opacitySlider.setProperties({value:r[3]*100},!0),this.opacitySlider.refresh(),this.updateOpacitySliderBg()),this.hsv=r,this.setHandlerPosition(),this.updateInput(n),W("."+Aa+" ."+Eh,this.container).style.backgroundColor=this.convertToRgbString(this.rgb),this.triggerEvent(n,s,this.convertToRgbString(this.rgb),!1,e)},t.prototype.paletteClickHandler=function(e){e.preventDefault();var i=e.target;if(i.classList.contains(za)){if(this.removeTileSelection(),this.addTileSelection(i),i.classList.contains(Ih))this.noColorTile();else{var s=i.getAttribute("aria-label"),n=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(this.roundValue(s)),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(yn)&&this.updateInput(s),this.triggerEvent(s,n,this.convertToRgbString(this.rgb),!1,e)}!this.inline&&!this.showButtons&&this.closePopup(e)}else M(i,"."+xa)?this.switchToPicker():i.classList.contains(ir)||i.classList.contains(Oa)?this.ctrlBtnClick(i,e):this.getWrapper().classList.contains(yn)&&M(i,"."+Xf)&&this.formatSwitchHandler()},t.prototype.noColorTile=function(e){e===void 0&&(e=!1);var i=this.rgbToHex(this.rgb);this.rgb=[],this.hsv=[],this.triggerEvent("",i,"",e)},t.prototype.switchToPicker=function(){var e=this.getWrapper();this.trigger("beforeModeSwitch",{element:this.container,mode:"Picker"}),this.unWireEvents(),[].slice.call(ce("."+rr,this.container)).forEach(function(s){N(s)}),e.classList.contains(yn)&&N(W("."+vn,this.container)),this.container.style.width="";var i=W(".e-custom-palette",this.container);this.presetColors&&Je(i),this.createPicker(),this.getDragHandler().focus(),this.createInput(),this.refreshPopupPos(),this.element.parentElement&&this.element.parentElement.parentElement&&this.element.parentElement.parentElement.classList.contains("e-ie-ddb-popup")&&this.refreshImageEditorPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Picker"})},t.prototype.ctrlBtnClick=function(e,i){if(e.classList.contains(ir)){var s=this.rgbToHex(this.rgb);this.triggerChangeEvent(s,i)}if(!this.inline)this.closePopup(i),this.splitBtn.element.focus();else if(e.classList.contains(Oa)){var n={element:this.container,event:i,cancel:!1};this.trigger("beforeClose",n)}},t.prototype.paletteKeyDown=function(e){var i=e.target;if(i.classList.contains(rr)){var s,n,r=[].slice.call(ce("."+za,i)),o=r.filter(function(c){return c.classList.contains("e-selected")}).pop();switch(!e.altKey&&e.keyCode){case 39:e.preventDefault(),s=o?r[this.tilePosition(r,o,this.enableRtl?-1:1)]:r[this.enableRtl?r.length-1:0],this.keySelectionChanges(s);break;case 37:e.preventDefault(),s=o?r[this.tilePosition(r,o,this.enableRtl?1:-1)]:r[this.enableRtl?0:r.length-1],this.keySelectionChanges(s);break;case 38:e.preventDefault(),n=o?this.tilePosition(r,o,-this.columns):0,s=r[n]?r[n]:r[n-this.columns],this.keySelectionChanges(s);break;case 40:e.preventDefault(),n=o?this.tilePosition(r,o,this.columns):r.length-1,r[n]||(n%=r.length,n+=r[r.length-1].parentElement.childElementCount),s=r[n],this.keySelectionChanges(s);break;case 13:if(e.preventDefault(),o){var l=o.getAttribute("aria-label");this.enterKeyHandler(l||"",e)}}}},t.prototype.keySelectionChanges=function(e){if(this.removeTileSelection(),this.addTileSelection(e),e.classList.contains(Ih))this.noColorTile(!0);else{var i=e.getAttribute("aria-label"),s=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(i),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(yn)&&this.updateInput(i),this.triggerEvent(i,s,this.convertToRgbString(this.rgb),!0)}},t.prototype.tilePosition=function(e,i,s){e=Array.prototype.slice.call(e);var n=e.length,r=this.columns-e[n-1].parentElement.childElementCount,o=e.indexOf(i);return o+=s,o<0?o+=n+r:o%=n+r,o},t.prototype.inputHandler=function(e){var i=e.target;if(i.value.length){var s,n,r=W(".e-float-text",i.parentElement).textContent;switch(r){case"HEX":{var o="";if((i.value[0]==="#"&&i.value.length!==5||i.value[0]!=="#"&&i.value.length!==4)&&(o=this.roundValue(i.value)),o.length===9)n=this.rgbToHex(this.rgb),this.rgb=this.hexToRgb(o+o.substr(-2)),this.inputValueChange(this.rgbToHsv.apply(this,this.rgb),n,i.value,e);else return;break}case"R":this.rgb[0]!==Number(i.value)&&(n=this.rgbToHex(this.rgb),this.rgb[0]=Number(i.value),s=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(s,n,null,e));break;case"G":this.rgb[1]!==Number(i.value)&&(n=this.rgbToHex(this.rgb),this.rgb[1]=Number(i.value),s=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(s,n,null,e));break;case"B":this.rgb[2]!==Number(i.value)&&(n=this.rgbToHex(this.rgb),this.rgb[2]=Number(i.value),s=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(s,n,null,e));break;case"H":this.hueSlider.value=Number(i.value);break;case"S":this.hsv[1]!==Number(i.value)&&(this.hsv[1]=Number(i.value),this.updateHsv(),this.convertToOtherFormat(!1,e));break;case"V":this.hsv[2]!==Number(i.value)&&(this.hsv[2]=Number(i.value),this.updateHsv(),this.convertToOtherFormat(!1,e));break;case"A":this.opacitySlider.value=Number(i.value);break}}},t.prototype.inputValueChange=function(e,i,s,n){e[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:e[0]},!0),this.hueSlider.refresh(),this.setHsvContainerBg(e[0])),this.hsv=e;var r=this.rgbToHex(this.rgb);this.setHandlerPosition(),this.updateInput(s||r);var o=this.convertToRgbString(this.rgb);this.updatePreview(o),this.triggerEvent(r,i,o,!1,n)},t.prototype.triggerEvent=function(e,i,s,n,r){n===void 0&&(n=!1);var o=e.slice(0,7);h(r)&&(r=new MouseEvent("click",{bubbles:!0,cancelable:!1})),!this.showButtons&&!n?(this.trigger("change",{currentValue:{hex:o,rgba:s},event:r,previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:e}),this.enableOpacity?this.setProperties({value:e},!0):this.setProperties({value:o},!0),this.element.value=o||"#000000"):this.trigger("select",{currentValue:{hex:o,rgba:s},event:r,previousValue:{hex:i.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(i))}})},t.prototype.destroy=function(){var e=this,i=this.getWrapper();a.prototype.destroy.call(this),["tabindex","spellcheck"].forEach(function(s){e.element.removeAttribute(s)}),this.inline?(this.unWireEvents(),this.destroyOtherComp()):(this.isPopupOpen()&&(this.unWireEvents(),this.destroyOtherComp()),this.splitBtn.destroy(),this.splitBtn=null),this.tileRipple(),this.tileRipple=null,this.ctrlBtnRipple(),this.ctrlBtnRipple=null,this.element.nextElementSibling&&N(this.element.nextElementSibling),i&&(i.parentElement.insertBefore(this.element,i),N(i)),this.container=null,this.formElement&&v.remove(this.formElement,"reset",this.formResetHandler)},t.prototype.destroyOtherComp=function(){if(this.isPicker()){for(var e=M(this.hueSlider.element,".e-color-picker"),i=e.querySelectorAll(".e-numerictextbox"),s=0;s<i.length;s++)xt(i[s],Oi).destroy();this.hueSlider.destroy(),this.enableOpacity&&(this.opacitySlider.destroy(),this.opacitySlider=null),this.hueSlider=null;var n=this.getTooltipInst();n.close(),n.destroy(),this.tooltipEle=null}},t.prototype.isPopupOpen=function(){return this.getPopupEle().classList.contains("e-popup-open")},t.prototype.unWireEvents=function(){if(this.isPicker()){var e=this.getDragHandler();v.remove(e,"keydown",this.pickerKeyDown);var i=W("."+sr,this.container);i&&v.remove(i,"keydown",this.ctrlBtnKeyDown),v.remove(this.getHsvContainer(),"mousedown touchstart",this.handlerDown),(this.modeSwitcher||this.showButtons)&&v.remove(W("."+mn,this.container),"click",this.btnClickHandler),v.remove(W("."+ja,this.container),"click",this.previewHandler)}else v.remove(this.container,"click",this.paletteClickHandler),v.remove(this.container,"keydown",this.paletteKeyDown)},t.prototype.roundValue=function(e){if(!e)return"";e[0]!=="#"&&(e="#"+e);var i=e.length;if(i===4&&(e+="f",i=5),i===5){for(var s="",n=1,r=e.length;n<r;n++)s+=e.charAt(n)+e.charAt(n);e="#"+s,i=9}return i===7&&(e+="ff"),e},t.prototype.hexToRgb=function(e){if(!e)return[];e=e.trim(),e.length!==9&&(e=this.roundValue(e));var i=Number((parseInt(e.slice(-2),16)/255).toFixed(2));e=e.slice(1,7);var s=parseInt(e,16),n=[];return n.push(s>>16&255),n.push(s>>8&255),n.push(s&255),n.push(i),n},t.prototype.rgbToHsv=function(e,i,s,n){if(this.rgb&&!this.rgb.length)return[];e/=255,i/=255,s/=255;var r=Math.max(e,i,s),o=Math.min(e,i,s),l,c=r,d=r-o,p=r===0?0:d/r;if(r===o)l=0;else{switch(r){case e:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-e)/d+2;break;case s:l=(e-i)/d+4;break}l/=6}var u=[Math.round(l*360),Math.round(p*1e3)/10,Math.round(c*1e3)/10];return h(n)||u.push(n),u},t.prototype.hsvToRgb=function(e,i,s,n){var r,o,l;if(i/=100,s/=100,i===0)return r=o=l=s,[Math.round(r*255),Math.round(o*255),Math.round(l*255),n];e/=60;var c=Math.floor(e),d=e-c,p=s*(1-i),u=s*(1-i*d),f=s*(1-i*(1-d));switch(c){case 0:r=s,o=f,l=p;break;case 1:r=u,o=s,l=p;break;case 2:r=p,o=s,l=f;break;case 3:r=p,o=u,l=s;break;case 4:r=f,o=p,l=s;break;default:r=s,o=p,l=u}var m=[Math.round(r*255),Math.round(o*255),Math.round(l*255)];return h(n)||m.push(n),m},t.prototype.rgbToHex=function(e){return e.length?"#"+this.hex(e[0])+this.hex(e[1])+this.hex(e[2])+(h(e[3])?"":e[3]!==0?(Math.round(e[3]*255)+65536).toString(16).substr(-2):"00"):""},t.prototype.hex=function(e){return("0"+e.toString(16)).slice(-2)},t.prototype.changeModeSwitcherProp=function(e){var i=W("."+mn,this.container);e?i?this.appendModeSwitchBtn():(this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):i&&(this.showButtons?N(W("."+xa,i)):Je(i))},t.prototype.changeShowBtnProps=function(e){var i=W("."+mn,this.container);e?(i&&Je(i),this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):this.modeSwitcher?N(W("."+sr,i)):Je(i)},t.prototype.changeValueProp=function(e){if(this.isPicker())this.rgb=this.hexToRgb(e),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHandlerPosition(),N(M(this.hueSlider.element,".e-slider-preview")),this.createSlider(),this.setHsvContainerBg(),this.updateInput(e),this.rgb.length===4&&this.updateOpacityInput(this.rgb[3]*100);else{this.removeTileSelection();var i=this.container.querySelector('span[aria-label="'+this.roundValue(e)+'"]');i&&this.addTileSelection(i)}},t.prototype.setInputEleProps=function(){Je(W("."+vn,this.container)),this.createInput()},t.prototype.changeDisabledProp=function(e){this.isPicker()&&(this.hueSlider.enabled=!e,this.opacitySlider.enabled=!e,this.setInputEleProps()),e?(this.toggleDisabled(!0),this.unWireEvents()):(this.toggleDisabled(!1),this.wireEvents())},t.prototype.changeCssClassProps=function(e,i){var s=this.getWrapper(),n=this.getPopupEle();i&&k([s,n],i.split(" ")),e&&L([s,n],e.replace(/\s+/g," ").trim().split(" "))},t.prototype.changeRtlProps=function(e){e?L([this.getWrapper()],"e-rtl"):k([this.getWrapper()],"e-rtl")},t.prototype.changePaletteProps=function(){N(this.container.children[0]),this.container.style.width="",this.createPalette()},t.prototype.changeOpacityProps=function(e){var i=this.getWrapper();e?(k([this.container.parentElement],Nh),this.createOpacitySlider(W(".e-colorpicker-slider",this.container).appendChild(this.createElement("div",{className:"e-opacity-slider"}))),!i.classList.contains(Os)&&!i.classList.contains(gn)&&this.appendOpacityValue(W(".e-input-container",this.container))):(L([this.container.parentElement],Nh),this.opacitySlider.destroy(),Je(this.opacitySlider.element),this.opacitySlider=null,!i.classList.contains(Os)&&!i.classList.contains(gn)&&Je(W("."+Dh,this.container).parentElement))},t.prototype.onPropertyChanged=function(e,i){var s=this;if(!h(e.value)){var n=this.roundValue(e.value);if(n.length===9){this.element.value=this.roundValue(n).slice(0,7);var r=this.splitBtn&&W("."+Ra,this.splitBtn.element);r&&(r.style.backgroundColor=this.convertToRgbString(this.hexToRgb(e.value)))}else if(this.noColor&&this.mode==="Palette"&&this.value===""){var r=this.splitBtn&&W("."+Ra,this.splitBtn.element);r.style.backgroundColor=""}else this.value=i.value}if(!this.inline&&h(e.inline)){var o=["disabled","enableRtl"];if(this.splitBtn.setProperties(dn(e,o)),!this.isPopupOpen()){this.changeCssClassProps(e.cssClass,i.cssClass),this.changeRtlProps(e.enableRtl);return}}for(var l=function(f){switch(f){case"inline":e.inline?(c.getWrapper().appendChild(c.container),c.splitBtn.destroy(),N(c.element.nextElementSibling),c.container.children.length||c.createWidget()):(c.destroyOtherComp(),c.unWireEvents(),c.container.innerHTML="",c.createSplitBtn());break;case"cssClass":{c.changeCssClassProps(e.cssClass,i.cssClass);var m=e.cssClass.split(" ").concat(i.cssClass.split(" "));m=m.reduce(function(b,S){return b.indexOf(S)<0&&b.push(S),b},[]);var g=0;m.forEach(function(b){if(g===0&&(b===Os||b===Jf||b===yn||b===Th||b===gn)){var S=W("."+vn,s.container);S&&Je(W("."+vn,s.container)),s.createInput(),g++}});break}case"enableRtl":c.isPicker()&&(c.hueSlider.enableRtl=e.enableRtl,c.enableOpacity&&(c.opacitySlider.enableRtl=e.enableRtl),c.setInputEleProps()),c.changeRtlProps(e.enableRtl);break;case"disabled":c.changeDisabledProp(e.disabled);break;case"value":c.value!==i.value&&c.changeValueProp(e.value);break;case"showButtons":c.changeShowBtnProps(e.showButtons);break;case"mode":e.mode==="Picker"?c.switchToPicker():c.switchToPalette();break;case"modeSwitcher":c.changeModeSwitcherProp(e.modeSwitcher);break;case"columns":case"presetColors":c.isPicker()||c.changePaletteProps();break;case"noColor":e.noColor?c.mode==="Palette"&&!c.modeSwitcher&&c.setNoColor():c.changePaletteProps();break;case"enableOpacity":c.changeOpacityProps(e.enableOpacity);break}},c=this,d=0,p=Object.keys(e);d<p.length;d++){var u=p[d];l(u)}},t.prototype.focusIn=function(){this.element.parentElement.focus()},Ke([y("#008000ff")],t.prototype,"value",void 0),Ke([y("")],t.prototype,"cssClass",void 0),Ke([y(!1)],t.prototype,"disabled",void 0),Ke([y("Picker")],t.prototype,"mode",void 0),Ke([y(!0)],t.prototype,"modeSwitcher",void 0),Ke([y(null)],t.prototype,"presetColors",void 0),Ke([y(!0)],t.prototype,"showButtons",void 0),Ke([y(10)],t.prototype,"columns",void 0),Ke([y(!1)],t.prototype,"inline",void 0),Ke([y(!1)],t.prototype,"noColor",void 0),Ke([y(!1)],t.prototype,"enablePersistence",void 0),Ke([y(!0)],t.prototype,"enableOpacity",void 0),Ke([y(!1)],t.prototype,"createPopupOnClick",void 0),Ke([z()],t.prototype,"select",void 0),Ke([z()],t.prototype,"change",void 0),Ke([z()],t.prototype,"beforeTileRender",void 0),Ke([z()],t.prototype,"beforeOpen",void 0),Ke([z()],t.prototype,"open",void 0),Ke([z()],t.prototype,"beforeClose",void 0),Ke([z()],t.prototype,"beforeModeSwitch",void 0),Ke([z()],t.prototype,"onModeSwitch",void 0),Ke([z()],t.prototype,"created",void 0),t=Ke([ke],t),t}(Ge),FC=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),nt=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},UC="e-clear-icon-hide",lr=function(a){FC(t,a);function t(e,i){var s=a.call(this,e,i)||this;return s.previousValue=null,s.isHiddenInput=!1,s.isForm=!1,s.inputPreviousValue=null,s.textboxOptions=e,s}return t.prototype.onPropertyChanged=function(e,i){for(var s=0,n=Object.keys(e);s<n.length;s++){var r=n[s];switch(r){case"floatLabelType":fe.removeFloating(this.textboxWrapper),fe.addFloating(this.respectiveElement,this.floatLabelType,this.placeholder);break;case"enabled":fe.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container),this.bindClearEvent();break;case"width":fe.setWidth(e.width,this.textboxWrapper.container);break;case"value":{var o=this.isProtectedOnChange;this.isProtectedOnChange=!0,fe.isBlank(this.value)||(this.value=this.value.toString()),this.isProtectedOnChange=o,fe.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.inputPreviousValue=this.respectiveElement.value,(this.isAngular||this.isVue)&&this.preventChange===!0?(this.previousValue=this.isAngular?this.value:this.previousValue,this.preventChange=!1):(h(this.isAngular)||!this.isAngular||this.isAngular&&!this.preventChange||this.isAngular&&h(this.preventChange))&&this.raiseChangeEvent()}break;case"htmlAttributes":this.updateHTMLAttributesToElement(),this.updateHTMLAttributesToWrapper(),this.checkAttributes(!0),this.multiline&&!h(this.textarea)?fe.validateInputType(this.textboxWrapper.container,this.textarea):fe.validateInputType(this.textboxWrapper.container,this.element);break;case"readonly":fe.setReadonly(this.readonly,this.respectiveElement);break;case"type":this.respectiveElement.tagName!=="TEXTAREA"&&(this.respectiveElement.setAttribute("type",this.type),fe.validateInputType(this.textboxWrapper.container,this.element),this.raiseChangeEvent());break;case"showClearButton":fe.setClearButton(this.showClearButton,this.respectiveElement,this.textboxWrapper),this.bindClearEvent();break;case"enableRtl":fe.setEnableRtl(this.enableRtl,[this.textboxWrapper.container]);break;case"placeholder":fe.setPlaceholder(this.placeholder,this.respectiveElement),fe.calculateWidth(this.respectiveElement,this.textboxWrapper.container);break;case"autocomplete":this.autocomplete!=="on"&&this.autocomplete!==""?this.respectiveElement.autocomplete=this.autocomplete:this.removeAttributes(["autocomplete"]);break;case"cssClass":fe.updateCssClass(e.cssClass,i.cssClass,this.textboxWrapper.container);break;case"locale":this.globalize=new en(this.locale),this.l10n.setLocale(this.locale),this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0),fe.setPlaceholder(this.placeholder,this.respectiveElement);break}}},t.prototype.getModuleName=function(){return"textbox"},t.prototype.preRender=function(){if(this.cloneElement=this.element.cloneNode(!0),this.formElement=M(this.element,"form"),h(this.formElement)||(this.isForm=!0),this.element.tagName==="EJS-TEXTBOX"){var e=B("ej2_instances",this.element),i=this.multiline?this.createElement("textarea"):this.createElement("input"),s=0;for(s;s<this.element.attributes.length;s++){var n=this.element.attributes[s].nodeName;n!=="id"&&n!=="class"?(i.setAttribute(n,this.element.attributes[s].nodeValue),i.innerHTML=this.element.innerHTML,n==="name"&&this.element.removeAttribute("name")):n==="class"&&i.setAttribute(n,this.element.className.split(" ").filter(function(l){return l.indexOf("ng-")!==0}).join(" "))}this.element.appendChild(i),this.element=i,pe("ej2_instances",e,this.element)}this.updateHTMLAttributesToElement(),this.checkAttributes(!1),(h(this.textboxOptions)||this.textboxOptions.value===void 0)&&this.element.value!==""&&this.setProperties({value:this.element.value},!0),this.element.tagName!=="TEXTAREA"&&this.element.setAttribute("type",this.type),(this.type==="text"||this.element.tagName==="INPUT"&&this.multiline&&this.isReact)&&this.element.setAttribute("role","textbox"),this.globalize=new en(this.locale);var r={placeholder:this.placeholder};if(this.l10n=new Yt("textbox",r,this.locale),this.l10n.getConstant("placeholder")!==""&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.element.hasAttribute("id")||this.element.setAttribute("id",Ae("textbox")),this.element.hasAttribute("name")||this.element.setAttribute("name",this.element.getAttribute("id")),this.element.tagName==="INPUT"&&this.multiline){this.isHiddenInput=!0,this.textarea=this.createElement("textarea"),this.element.parentNode.insertBefore(this.textarea,this.element),this.element.setAttribute("type","hidden"),this.textarea.setAttribute("name",this.element.getAttribute("name")),this.element.removeAttribute("name"),this.textarea.setAttribute("role",this.element.getAttribute("role")),this.element.removeAttribute("role"),this.textarea.setAttribute("id",Ae("textarea"));for(var o=["placeholder","disabled","value","readonly","type","autocomplete"],s=0;s<this.element.attributes.length;s++){var n=this.element.attributes[s].nodeName;this.element.hasAttribute(n)&&wh.indexOf(n)<0&&!(n==="id"||n==="type"||n==="e-mappinguid")&&(this.textarea.setAttribute(n,this.element.attributes[s].nodeValue),o.indexOf(n)<0&&(this.element.removeAttribute(n),s--))}}},t.prototype.checkAttributes=function(e){for(var i=e?h(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["placeholder","disabled","value","readonly","type","autocomplete"],s=0,n=i;s<n.length;s++){var r=n[s];if(!h(this.element.getAttribute(r)))switch(r){case"disabled":if(h(this.textboxOptions)||this.textboxOptions.enabled===void 0||e){var o=!(this.element.getAttribute(r)==="disabled"||this.element.getAttribute(r)===""||this.element.getAttribute(r)==="true");this.setProperties({enabled:o},!e)}break;case"readonly":if(h(this.textboxOptions)||this.textboxOptions.readonly===void 0||e){var l=this.element.getAttribute(r)==="readonly"||this.element.getAttribute(r)===""||this.element.getAttribute(r)==="true";this.setProperties({readonly:l},!e)}break;case"placeholder":(h(this.textboxOptions)||this.textboxOptions.placeholder===void 0||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"autocomplete":if(h(this.textboxOptions)||this.textboxOptions.autocomplete===void 0||e){var c=this.element.autocomplete==="off"?"off":"on";this.setProperties({autocomplete:c},!e)}break;case"value":(h(this.textboxOptions)||this.textboxOptions.value===void 0||e)&&this.element.value!==""&&this.setProperties({value:this.element.value},!e);break;case"type":(h(this.textboxOptions)||this.textboxOptions.type===void 0||e)&&this.setProperties({type:this.element.type},!e);break}}},t.prototype.render=function(){var e=this.cssClass;!h(this.cssClass)&&this.cssClass!==""&&(e=fe.getInputValidClassList(this.cssClass)),this.respectiveElement=this.isHiddenInput?this.textarea:this.element,this.textboxWrapper=fe.createInput({element:this.respectiveElement,floatLabelType:this.floatLabelType,properties:{enabled:this.enabled,enableRtl:this.enableRtl,cssClass:e,readonly:this.readonly,placeholder:this.placeholder,showClearButton:this.showClearButton}}),this.updateHTMLAttributesToWrapper(),this.isHiddenInput&&this.respectiveElement.parentNode.insertBefore(this.element,this.respectiveElement),this.wireEvents(),h(this.value)||(fe.setValue(this.value,this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value)),h(this.value)||(this.initialValue=this.value,this.setInitialValue()),this.autocomplete!=="on"&&this.autocomplete!==""?this.respectiveElement.autocomplete=this.autocomplete:!h(this.textboxOptions)&&this.textboxOptions.autocomplete!==void 0&&this.removeAttributes(["autocomplete"]),this.previousValue=this.value,this.inputPreviousValue=this.value,this.respectiveElement.defaultValue=this.respectiveElement.value,fe.setWidth(this.width,this.textboxWrapper.container),!h(M(this.element,"fieldset"))&&M(this.element,"fieldset").disabled&&(this.enabled=!1),!this.element.hasAttribute("aria-labelledby")&&!this.element.hasAttribute("placeholder")&&!this.element.hasAttribute("aria-label")&&this.element.setAttribute("aria-label","textbox"),this.renderComplete()},t.prototype.updateHTMLAttributesToWrapper=function(){fe.updateHTMLAttributesToWrapper(this.htmlAttributes,this.textboxWrapper.container)},t.prototype.updateHTMLAttributesToElement=function(){fe.updateHTMLAttributesToElement(this.htmlAttributes,this.respectiveElement?this.respectiveElement:this.multiline&&!h(this.textarea)?this.textarea:this.element)},t.prototype.setInitialValue=function(){this.isAngular||this.respectiveElement.setAttribute("value",this.initialValue)},t.prototype.wireEvents=function(){v.add(this.respectiveElement,"focus",this.focusHandler,this),v.add(this.respectiveElement,"blur",this.focusOutHandler,this),v.add(this.respectiveElement,"keydown",this.keydownHandler,this),v.add(this.respectiveElement,"input",this.inputHandler,this),v.add(this.respectiveElement,"change",this.changeHandler,this),this.isForm&&v.add(this.formElement,"reset",this.resetForm,this),this.bindClearEvent(),!h(this.textboxWrapper.container.querySelector(".e-float-text"))&&this.floatLabelType==="Auto"&&this.textboxWrapper.container.classList.contains("e-autofill")&&this.textboxWrapper.container.classList.contains("e-outline")&&v.add(this.textboxWrapper.container.querySelector(".e-float-text"),"animationstart",this.animationHandler,this)},t.prototype.animationHandler=function(){this.textboxWrapper.container.classList.add("e-valid-input");var e=this.textboxWrapper.container.querySelector(".e-float-text");h(e)||(e.classList.add("e-label-top"),e.classList.contains("e-label-bottom")&&e.classList.remove("e-label-bottom"))},t.prototype.resetValue=function(e){var i=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.value=e,e==null&&this.textboxWrapper.container.classList.contains("e-valid-input")&&this.textboxWrapper.container.classList.remove("e-valid-input"),this.isProtectedOnChange=i},t.prototype.resetForm=function(){if(this.isAngular?this.resetValue(""):this.resetValue(this.initialValue),!h(this.textboxWrapper)){var e=this.textboxWrapper.container.querySelector(".e-float-text");!h(e)&&this.floatLabelType!=="Always"&&(h(this.initialValue)||this.initialValue===""?(e.classList.add("e-label-bottom"),e.classList.remove("e-label-top")):this.initialValue!==""&&(e.classList.add("e-label-top"),e.classList.remove("e-label-bottom")))}},t.prototype.focusHandler=function(e){var i={container:this.textboxWrapper.container,event:e,value:this.value};this.trigger("focus",i)},t.prototype.focusOutHandler=function(e){!(this.previousValue===null&&this.value===null&&this.respectiveElement.value==="")&&this.previousValue!==this.value&&this.raiseChangeEvent(e,!0);var i={container:this.textboxWrapper.container,event:e,value:this.value};this.trigger("blur",i)},t.prototype.keydownHandler=function(e){(e.keyCode===13||e.keyCode===9)&&!((this.previousValue===null||this.previousValue==="")&&(this.value===null||this.value==="")&&this.respectiveElement.value==="")&&this.setProperties({value:this.respectiveElement.value},!0)},t.prototype.inputHandler=function(e){var i=this,s={event:e,value:this.respectiveElement.value,previousValue:this.inputPreviousValue,container:this.textboxWrapper.container};this.inputPreviousValue=this.respectiveElement.value,this.isAngular&&(i.localChange({value:this.respectiveElement.value}),this.preventChange=!0),this.isVue&&(this.preventChange=!0),this.trigger("input",s),e.stopPropagation()},t.prototype.changeHandler=function(e){this.setProperties({value:this.respectiveElement.value},!0),this.previousValue!==this.value&&this.raiseChangeEvent(e,!0),e.stopPropagation()},t.prototype.raiseChangeEvent=function(e,i){var s={event:e,value:this.value,previousValue:this.previousValue,container:this.textboxWrapper.container,isInteraction:i||!1,isInteracted:i||!1};this.preventChange=!1,this.trigger("change",s),this.previousValue=this.value,this.element.tagName==="INPUT"&&this.multiline&&E.info.name==="mozilla"&&(this.element.value=this.respectiveElement.value)},t.prototype.bindClearEvent=function(){this.showClearButton&&(this.enabled?v.add(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler,this):v.remove(this.textboxWrapper.clearButton,"mousedown touchstart",this.resetInputHandler))},t.prototype.resetInputHandler=function(e){if(e.preventDefault(),!this.textboxWrapper.clearButton.classList.contains(UC)||this.textboxWrapper.container.classList.contains("e-static-clear")){fe.setValue("",this.respectiveElement,this.floatLabelType,this.showClearButton),this.isHiddenInput&&(this.element.value=this.respectiveElement.value),this.setProperties({value:this.respectiveElement.value},!0);var i={event:e,value:this.respectiveElement.value,previousValue:this.inputPreviousValue,container:this.textboxWrapper.container};if(this.trigger("input",i),this.inputPreviousValue=this.respectiveElement.value,this.raiseChangeEvent(e,!0),M(this.element,"form")){var s=this.element,n=document.createEvent("KeyboardEvent");n.initEvent("keyup",!1,!0),s.dispatchEvent(n)}}},t.prototype.unWireEvents=function(){v.remove(this.respectiveElement,"focus",this.focusHandler),v.remove(this.respectiveElement,"blur",this.focusOutHandler),v.remove(this.respectiveElement,"keydown",this.keydownHandler),v.remove(this.respectiveElement,"input",this.inputHandler),v.remove(this.respectiveElement,"change",this.changeHandler),this.isForm&&v.remove(this.formElement,"reset",this.resetForm),!h(this.textboxWrapper.container.querySelector(".e-float-text"))&&this.floatLabelType==="Auto"&&this.textboxWrapper.container.classList.contains("e-outline")&&this.textboxWrapper.container.classList.contains("e-autofill")&&v.remove(this.textboxWrapper.container.querySelector(".e-float-text"),"animationstart",this.animationHandler)},t.prototype.destroy=function(){this.unWireEvents(),this.showClearButton&&(this.clearButton=document.getElementsByClassName("e-clear-icon")[0]),this.element.tagName==="INPUT"&&this.multiline&&(N(this.textboxWrapper.container.getElementsByTagName("textarea")[0]),this.respectiveElement=this.element,this.element.removeAttribute("type")),this.respectiveElement.value=this.respectiveElement.defaultValue,this.respectiveElement.classList.remove("e-input"),this.removeAttributes(["aria-disabled","aria-readonly","aria-labelledby"]),h(this.textboxWrapper)||(this.textboxWrapper.container.insertAdjacentElement("afterend",this.respectiveElement),N(this.textboxWrapper.container)),this.textboxWrapper=null,fe.destroy({element:this.respectiveElement,floatLabelType:this.floatLabelType,properties:this.properties},this.clearButton),a.prototype.destroy.call(this)},t.prototype.addIcon=function(e,i){fe.addIcon(e,i,this.textboxWrapper.container,this.respectiveElement,this.createElement)},t.prototype.getPersistData=function(){var e=["value"];return this.addOnPersist(e)},t.prototype.addAttributes=function(e){for(var i=0,s=Object.keys(e);i<s.length;i++){var n=s[i];n==="disabled"?(this.setProperties({enabled:!1},!0),fe.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):n==="readonly"?(this.setProperties({readonly:!0},!0),fe.setReadonly(this.readonly,this.respectiveElement)):n==="class"?this.respectiveElement.classList.add(e[""+n]):n==="placeholder"?(this.setProperties({placeholder:e[""+n]},!0),fe.setPlaceholder(this.placeholder,this.respectiveElement)):n==="rows"&&this.respectiveElement.tagName==="TEXTAREA"?this.respectiveElement.setAttribute(n,e[""+n]):this.respectiveElement.setAttribute(n,e[""+n])}},t.prototype.removeAttributes=function(e){for(var i=0,s=e;i<s.length;i++){var n=s[i];n==="disabled"?(this.setProperties({enabled:!0},!0),fe.setEnabled(this.enabled,this.respectiveElement,this.floatLabelType,this.textboxWrapper.container)):n==="readonly"?(this.setProperties({readonly:!1},!0),fe.setReadonly(this.readonly,this.respectiveElement)):n==="placeholder"?(this.setProperties({placeholder:null},!0),fe.setPlaceholder(this.placeholder,this.respectiveElement)):this.respectiveElement.removeAttribute(n)}},t.prototype.focusIn=function(){document.activeElement!==this.respectiveElement&&this.enabled&&(this.respectiveElement.focus(),(this.textboxWrapper.container.classList.contains("e-input-group")||this.textboxWrapper.container.classList.contains("e-outline")||this.textboxWrapper.container.classList.contains("e-filled"))&&L([this.textboxWrapper.container],[kf]))},t.prototype.focusOut=function(){document.activeElement===this.respectiveElement&&this.enabled&&(this.respectiveElement.blur(),(this.textboxWrapper.container.classList.contains("e-input-group")||this.textboxWrapper.container.classList.contains("e-outline")||this.textboxWrapper.container.classList.contains("e-filled"))&&k([this.textboxWrapper.container],[kf]))},nt([y("text")],t.prototype,"type",void 0),nt([y(!1)],t.prototype,"readonly",void 0),nt([y(null)],t.prototype,"value",void 0),nt([y("Never")],t.prototype,"floatLabelType",void 0),nt([y("")],t.prototype,"cssClass",void 0),nt([y(null)],t.prototype,"placeholder",void 0),nt([y("on")],t.prototype,"autocomplete",void 0),nt([y({})],t.prototype,"htmlAttributes",void 0),nt([y(!1)],t.prototype,"multiline",void 0),nt([y(!0)],t.prototype,"enabled",void 0),nt([y(!1)],t.prototype,"showClearButton",void 0),nt([y(!1)],t.prototype,"enablePersistence",void 0),nt([y(null)],t.prototype,"width",void 0),nt([z()],t.prototype,"created",void 0),nt([z()],t.prototype,"destroyed",void 0),nt([z()],t.prototype,"change",void 0),nt([z()],t.prototype,"blur",void 0),nt([z()],t.prototype,"focus",void 0),nt([z()],t.prototype,"input",void 0),t=nt([ke],t),t}(Ge);var VC=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),em=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},qC="e-hscroll",gs="e-rtl",vs="e-overlay",_C="e-hscroll-bar",WC="e-hscroll-content",hr="e-nav-arrow",cr="e-nav-right-arrow",Ba="e-nav-left-arrow",xs="e-scroll-nav",xh="e-scroll-right-nav",tm="e-scroll-left-nav",im="e-scroll-device",Ha="e-scroll-overlay",kh="e-scroll-right-overlay",Ah="e-scroll-left-overlay",sm=40,QC=function(a){VC(t,a);function t(e,i){return a.call(this,e,i)||this}return t.prototype.preRender=function(){this.browser=E.info.name,this.browserCheck=this.browser==="mozilla",this.isDevice=E.isDevice,this.customStep=!0;var e=this.element;this.ieCheck=this.browser==="edge"||this.browser==="msie",this.initialize(),e.id===""&&(e.id=Ae("hscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(gs)},t.prototype.render=function(){this.touchModule=new Si(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),v.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add(im),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()},t.prototype.setScrollState=function(){h(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=this.createElement("div",{className:WC}),i=this.createElement("div",{className:_C});i.setAttribute("tabindex","-1");for(var s=this.element,n=[].slice.call(s.children),r=0,o=n;r<o.length;r++){var l=o[r];e.appendChild(l)}i.appendChild(e),s.appendChild(i),i.style.overflowX="hidden",this.scrollEle=i,this.scrollItems=e},t.prototype.getPersistData=function(){var e=["scrollStep"];return this.addOnPersist(e)},t.prototype.getModuleName=function(){return"hScroll"},t.prototype.destroy=function(){var e=this.element;e.style.display="",e.classList.remove(qC),e.classList.remove(im),e.classList.remove(gs);var i=ce(".e-"+e.id+"_nav."+xs,e),s=ce("."+Ha,e);[].slice.call(s).forEach(function(l){N(l)});for(var n=0,r=[].slice.call(this.scrollItems.children);n<r.length;n++){var o=r[n];e.appendChild(o)}this.uniqueId&&this.element.removeAttribute("id"),N(this.scrollEle),i.length>0&&(N(i[0]),h(i[1])||N(i[1])),v.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,a.prototype.destroy.call(this)},t.prototype.disable=function(e){var i=ce(".e-scroll-nav:not(."+vs+")",this.element);e?this.element.classList.add(vs):this.element.classList.remove(vs),[].slice.call(i).forEach(function(s){s.setAttribute("tabindex",e?"-1":"0")})},t.prototype.createOverlay=function(e){var i=e.id.concat("_nav"),s=this.createElement("div",{className:Ha+" "+kh}),n="e-"+e.id.concat("_nav "+xs+" "+xh),r=this.createElement("div",{id:i.concat("_right"),className:n}),o=this.createElement("div",{className:cr+" "+hr+" e-icons"});r.appendChild(o);var l=this.createElement("div",{className:Ha+" "+Ah});this.ieCheck&&r.classList.add("e-ie-align"),e.appendChild(s),e.appendChild(r),e.insertBefore(l,e.firstChild),this.eventBinding([r])},t.prototype.createNavIcon=function(e){var i=e.id.concat("_nav"),s="e-"+e.id.concat("_nav "+xs+" "+xh),n={role:"button",id:i.concat("_right"),"aria-label":"Scroll right"},r=this.createElement("div",{className:s,attrs:n});r.setAttribute("aria-disabled","false");var o=this.createElement("div",{className:cr+" "+hr+" e-icons"}),l="e-"+e.id.concat("_nav "+xs+" "+tm),c={role:"button",id:i.concat("_left"),"aria-label":"Scroll left"},d=this.createElement("div",{className:l+" "+vs,attrs:c});d.setAttribute("aria-disabled","true");var p=this.createElement("div",{className:Ba+" "+hr+" e-icons"});d.appendChild(p),r.appendChild(o),e.appendChild(r),e.insertBefore(d,e.firstChild),this.ieCheck&&(r.classList.add("e-ie-align"),d.classList.add("e-ie-align")),this.eventBinding([r,d])},t.prototype.onKeyPress=function(e){var i=this;if(e.key==="Enter"){var s=function(){i.keyTimeout=!0,i.eleScrolling(10,e.target,!0)};this.keyTimer=window.setTimeout(function(){s()},100)}},t.prototype.onKeyUp=function(e){e.key==="Enter"&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var i=this;[].slice.call(e).forEach(function(s){new Si(s,{tapHold:i.tabHoldHandler.bind(i),tapHoldThreshold:500}),s.addEventListener("keydown",i.onKeyPress.bind(i)),s.addEventListener("keyup",i.onKeyUp.bind(i)),s.addEventListener("mouseup",i.repeatScroll.bind(i)),s.addEventListener("touchend",i.repeatScroll.bind(i)),s.addEventListener("contextmenu",function(n){n.preventDefault()}),v.add(s,"click",i.clickEventHandler,i)})},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var i=this,s=e.originalEvent.target;s=this.contains(s,xs)?s.firstElementChild:s;var n=10,r=function(){i.eleScrolling(n,s,!0)};this.timeout=window.setInterval(function(){r()},50)},t.prototype.contains=function(e,i){return e.classList.contains(i)},t.prototype.eleScrolling=function(e,i,s){var n=this.element,r=i.classList;r.contains(xs)&&(r=i.querySelector("."+hr).classList),this.contains(n,gs)&&this.browserCheck&&(e=-e),!this.contains(n,gs)||this.browserCheck||this.ieCheck?r.contains(cr)?this.frameScrollRequest(e,"add",s):this.frameScrollRequest(e,"",s):r.contains(Ba)?this.frameScrollRequest(e,"add",s):this.frameScrollRequest(e,"",s)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.swipeHandler=function(e){var i=this.scrollEle,s;e.velocity<=1?s=e.distanceX/(e.velocity*10):s=e.distanceX/e.velocity;var n=.5,r=function(){var o=Math.sin(n);o<=0?window.cancelAnimationFrame(o):(e.swipeDirection==="Left"?i.scrollLeft+=s*o:e.swipeDirection==="Right"&&(i.scrollLeft-=s*o),n-=.5,window.requestAnimationFrame(r))};r()},t.prototype.scrollUpdating=function(e,i){i==="add"?this.scrollEle.scrollLeft+=e:this.scrollEle.scrollLeft-=e,this.enableRtl&&this.scrollEle.scrollLeft>0&&(this.scrollEle.scrollLeft=0)},t.prototype.frameScrollRequest=function(e,i,s){var n=this,r=10;if(s){this.scrollUpdating(e,i);return}this.customStep||[].slice.call(ce("."+Ha,this.element)).forEach(function(l){e-=l.offsetWidth});var o=function(){var l,c;n.contains(n.element,gs)&&n.browserCheck?(l=-e,c=-r):(l=e,c=r),l<r?window.cancelAnimationFrame(c):(n.scrollUpdating(c,i),e-=c,window.requestAnimationFrame(o))};o()},t.prototype.touchHandler=function(e){var i=this.scrollEle,s=e.distanceX;this.ieCheck&&this.contains(this.element,gs)&&(s=-s),e.scrollDirection==="Left"?i.scrollLeft=i.scrollLeft+s:e.scrollDirection==="Right"&&(i.scrollLeft=i.scrollLeft-s)},t.prototype.arrowDisabling=function(e,i){if(this.isDevice){var s=h(e)?i:e,n=s.querySelector("."+hr);h(e)?ut(n,[cr],[Ba]):ut(n,[Ba],[cr])}else e&&i&&(e.classList.add(vs),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),i.classList.remove(vs),i.setAttribute("aria-disabled","false"),i.setAttribute("tabindex","0"));this.repeatScroll()},t.prototype.scrollHandler=function(e){var i=e.target,s=i.offsetWidth,n=this.element,r=this.element.querySelector("."+tm),o=this.element.querySelector("."+xh),l=this.element.querySelector("."+Ah),c=this.element.querySelector("."+kh),d=i.scrollLeft;if(d<=0&&(d=-d),this.isDevice&&(this.enableRtl&&!(this.browserCheck||this.ieCheck)&&(l=this.element.querySelector("."+kh),c=this.element.querySelector("."+Ah)),d<sm?l.style.width=d+"px":l.style.width="40px",i.scrollWidth-Math.ceil(s+d)<sm?c.style.width=i.scrollWidth-Math.ceil(s+d)+"px":c.style.width="40px"),d===0)this.arrowDisabling(r,o);else if(Math.ceil(s+d+.1)>=i.scrollWidth)this.arrowDisabling(o,r);else{var p=this.element.querySelector("."+xs+"."+vs);p&&(p.classList.remove(vs),p.setAttribute("aria-disabled","false"),p.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,i){for(var s=0,n=Object.keys(e);s<n.length;s++){var r=n[s];switch(r){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(gs):this.element.classList.remove(gs);break}}},em([y(null)],t.prototype,"scrollStep",void 0),t=em([ke],t),t}(Ge),YC=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),nm=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},GC="e-vscroll",Fa="e-rtl",ys="e-overlay",XC="e-vscroll-bar",KC="e-vscroll-content",dr="e-nav-arrow",Ua="e-nav-up-arrow",pr="e-nav-down-arrow",ks="e-scroll-nav",rm="e-scroll-up-nav",jh="e-scroll-down-nav",am="e-scroll-device",Va="e-scroll-overlay",om="e-scroll-up-overlay",lm="e-scroll-down-overlay",hm=40,$C=function(a){YC(t,a);function t(e,i){return a.call(this,e,i)||this}return t.prototype.preRender=function(){this.browser=E.info.name,this.browserCheck=this.browser==="mozilla",this.isDevice=E.isDevice,this.customStep=!0;var e=this.element;this.ieCheck=this.browser==="edge"||this.browser==="msie",this.initialize(),e.id===""&&(e.id=Ae("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(Fa)},t.prototype.render=function(){this.touchModule=new Si(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),v.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add(am),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),v.add(this.element,"wheel",this.wheelEventHandler,this)},t.prototype.setScrollState=function(){h(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=P("div",{className:KC}),i=P("div",{className:XC});i.setAttribute("tabindex","-1");for(var s=this.element,n=[].slice.call(s.children),r=0,o=n;r<o.length;r++){var l=o[r];e.appendChild(l)}i.appendChild(e),s.appendChild(i),i.style.overflow="hidden",this.scrollEle=i,this.scrollItems=e},t.prototype.getPersistData=function(){var e=["scrollStep"];return this.addOnPersist(e)},t.prototype.getModuleName=function(){return"vScroll"},t.prototype.destroy=function(){var e=this.element;e.style.display="",k([this.element],[GC,am,Fa]);var i=ce(".e-"+e.id+"_nav."+ks,e),s=ce("."+Va,e);[].slice.call(s).forEach(function(l){N(l)});for(var n=0,r=[].slice.call(this.scrollItems.children);n<r.length;n++){var o=r[n];e.appendChild(o)}this.uniqueId&&this.element.removeAttribute("id"),N(this.scrollEle),i.length>0&&(N(i[0]),h(i[1])||N(i[1])),v.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,a.prototype.destroy.call(this)},t.prototype.disable=function(e){var i=ce(".e-scroll-nav:not(."+ys+")",this.element);e?this.element.classList.add(ys):this.element.classList.remove(ys),[].slice.call(i).forEach(function(s){s.setAttribute("tabindex",e?"-1":"0")})},t.prototype.createOverlayElement=function(e){var i=e.id.concat("_nav"),s=P("div",{className:Va+" "+lm}),n="e-"+e.id.concat("_nav "+ks+" "+jh),r=P("div",{id:i.concat("down"),className:n}),o=P("div",{className:pr+" "+dr+" e-icons"});r.appendChild(o);var l=P("div",{className:Va+" "+om});this.ieCheck&&r.classList.add("e-ie-align"),e.appendChild(s),e.appendChild(r),e.insertBefore(l,e.firstChild),this.eventBinding([r])},t.prototype.createNavIcon=function(e){var i=e.id.concat("_nav"),s="e-"+e.id.concat("_nav "+ks+" "+jh),n=P("div",{id:i.concat("_down"),className:s});n.setAttribute("aria-disabled","false");var r=P("div",{className:pr+" "+dr+" e-icons"}),o="e-"+e.id.concat("_nav "+ks+" "+rm),l=P("div",{id:i.concat("_up"),className:o+" "+ys});l.setAttribute("aria-disabled","true");var c=P("div",{className:Ua+" "+dr+" e-icons"});l.appendChild(c),n.appendChild(r),n.setAttribute("tabindex","0"),e.appendChild(n),e.insertBefore(l,e.firstChild),this.ieCheck&&(n.classList.add("e-ie-align"),l.classList.add("e-ie-align")),this.eventBinding([n,l])},t.prototype.onKeyPress=function(e){var i=this;if(e.key==="Enter"){var s=function(){i.keyTimeout=!0,i.eleScrolling(10,e.target,!0)};this.keyTimer=window.setTimeout(function(){s()},100)}},t.prototype.onKeyUp=function(e){e.key==="Enter"&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var i=this;[].slice.call(e).forEach(function(s){new Si(s,{tapHold:i.tabHoldHandler.bind(i),tapHoldThreshold:500}),s.addEventListener("keydown",i.onKeyPress.bind(i)),s.addEventListener("keyup",i.onKeyUp.bind(i)),s.addEventListener("mouseup",i.repeatScroll.bind(i)),s.addEventListener("touchend",i.repeatScroll.bind(i)),s.addEventListener("contextmenu",function(n){n.preventDefault()}),v.add(s,"click",i.clickEventHandler,i)})},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var i=this,s=e.originalEvent.target;s=this.contains(s,ks)?s.firstElementChild:s;var n=10,r=function(){i.eleScrolling(n,s,!0)};this.timeout=window.setInterval(function(){r()},50)},t.prototype.contains=function(e,i){return e.classList.contains(i)},t.prototype.eleScrolling=function(e,i,s){var n=i.classList;n.contains(ks)&&(n=i.querySelector("."+dr).classList),n.contains(pr)?this.frameScrollRequest(e,"add",s):n.contains(Ua)&&this.frameScrollRequest(e,"",s)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.wheelEventHandler=function(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)},t.prototype.swipeHandler=function(e){var i=this.scrollEle,s;e.velocity<=1?s=e.distanceY/(e.velocity*10):s=e.distanceY/e.velocity;var n=.5,r=function(){var o=Math.sin(n);o<=0?window.cancelAnimationFrame(o):(e.swipeDirection==="Up"?i.scrollTop+=s*o:e.swipeDirection==="Down"&&(i.scrollTop-=s*o),n-=.02,window.requestAnimationFrame(r))};r()},t.prototype.scrollUpdating=function(e,i){i==="add"?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e},t.prototype.frameScrollRequest=function(e,i,s){var n=this,r=10;if(s){this.scrollUpdating(e,i);return}this.customStep||[].slice.call(ce("."+Va,this.element)).forEach(function(l){e-=l.offsetHeight});var o=function(){e<r?window.cancelAnimationFrame(r):(n.scrollUpdating(r,i),e-=r,window.requestAnimationFrame(o))};o()},t.prototype.touchHandler=function(e){var i=this.scrollEle,s=e.distanceY;e.scrollDirection==="Up"?i.scrollTop=i.scrollTop+s:e.scrollDirection==="Down"&&(i.scrollTop=i.scrollTop-s)},t.prototype.arrowDisabling=function(e,i){if(this.isDevice){var s=h(e)?i:e,n=s.querySelector("."+dr);h(e)?ut(n,[pr],[Ua]):ut(n,[Ua],[pr])}else e.classList.add(ys),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),i.classList.remove(ys),i.setAttribute("aria-disabled","false"),i.setAttribute("tabindex","0");this.repeatScroll()},t.prototype.scrollEventHandler=function(e){var i=e.target,s=i.offsetHeight,n=this.element.querySelector("."+rm),r=this.element.querySelector("."+jh),o=this.element.querySelector("."+om),l=this.element.querySelector("."+lm),c=i.scrollTop;if(c<=0&&(c=-c),this.isDevice&&(c<hm?o.style.height=c+"px":o.style.height="40px",i.scrollHeight-Math.ceil(s+c)<hm?l.style.height=i.scrollHeight-Math.ceil(s+c)+"px":l.style.height="40px"),c===0)this.arrowDisabling(n,r);else if(Math.ceil(s+c+.1)>=i.scrollHeight)this.arrowDisabling(r,n);else{var d=this.element.querySelector("."+ks+"."+ys);d&&(d.classList.remove(ys),d.setAttribute("aria-disabled","false"),d.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,i){for(var s=0,n=Object.keys(e);s<n.length;s++){var r=n[s];switch(r){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(Fa):this.element.classList.remove(Fa);break}}},nm([y(null)],t.prototype,"scrollStep",void 0),t=nm([ke],t),t}(Ge);var ym=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Oe=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},Rh="e-vertical",Re="e-toolbar-items",ze="e-toolbar-item",xi="e-rtl",We="e-separator",qa="e-popup-up-icon",ur="e-popup-down-icon",cm="e-popup-open",dm="e-template",Nt="e-overlay",pm="e-toolbar-text",zh="e-popup-text",di="e-overflow-show",_a="e-overflow-hide",JC="e-tbar-btn",Rt="e-hor-nav",um="e-scroll-nav",ZC="e-toolbar-right",e0="e-toolbar-left",fm="e-toolbar-center",pi="e-tbar-pos",t0="e-hscroll-content",i0="e-vscroll-content",Ph="e-hscroll-bar",s0="e-hor-nav",fr="e-toolbar-pop",bs="e-toolbar-popup",n0="e-tbar-btn-text",mr="e-nav-active",gr="e-ignore",Bh="e-popup-alone",ki="e-hidden",mm="e-toolbar-multirow",gm="e-multirow-pos",Hh="e-multirow-separator",Fh="e-extended-separator",vm="e-extended-toolbar",Wa="e-toolbar-extended",r0="e-expended-nav",Uh="e-tbar-extended",a0=function(a){ym(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Oe([y("")],t.prototype,"id",void 0),Oe([y("")],t.prototype,"text",void 0),Oe([y("auto")],t.prototype,"width",void 0),Oe([y("")],t.prototype,"cssClass",void 0),Oe([y(!1)],t.prototype,"showAlwaysInPopup",void 0),Oe([y(!1)],t.prototype,"disabled",void 0),Oe([y("")],t.prototype,"prefixIcon",void 0),Oe([y("")],t.prototype,"suffixIcon",void 0),Oe([y(!0)],t.prototype,"visible",void 0),Oe([y("None")],t.prototype,"overflow",void 0),Oe([y("")],t.prototype,"template",void 0),Oe([y("Button")],t.prototype,"type",void 0),Oe([y("Both")],t.prototype,"showTextOn",void 0),Oe([y(null)],t.prototype,"htmlAttributes",void 0),Oe([y("")],t.prototype,"tooltipText",void 0),Oe([y("Left")],t.prototype,"align",void 0),Oe([z()],t.prototype,"click",void 0),Oe([y(-1)],t.prototype,"tabIndex",void 0),t}(ge),bm=function(a){ym(t,a);function t(e,i){var s=a.call(this,e,i)||this;return s.resizeContext=s.resize.bind(s),s.orientationChangeContext=s.orientationChange.bind(s),s.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"},s}return t.prototype.destroy=function(){var e=this;(this.isReact||this.isAngular)&&this.clearTemplate();var i=this.element.querySelectorAll(".e-control.e-btn");for([].slice.call(i).forEach(function(s){!h(s)&&!h(s.ej2_instances)&&!h(s.ej2_instances[0])&&!s.ej2_instances[0].isDestroyed&&s.ej2_instances[0].destroy()}),this.unwireEvents(),this.tempId.forEach(function(s){h(e.element.querySelector(s))||(document.body.appendChild(e.element.querySelector(s)).style.display="none")}),this.destroyItems();this.element.lastElementChild;)this.element.removeChild(this.element.lastElementChild);this.trgtEle&&(this.element.appendChild(this.ctrlTem),this.trgtEle=null,this.ctrlTem=null),this.popObj&&(this.popObj.destroy(),N(this.popObj.element)),this.activeEle&&(this.activeEle=null),this.popObj=null,this.tbarAlign=null,this.tbarItemsCol=[],this.remove(this.element,"e-toolpop"),this.cssClass&&k([this.element],this.cssClass.split(" ")),this.element.removeAttribute("style"),["aria-disabled","aria-orientation","role"].forEach(function(s){return e.element.removeAttribute(s)}),a.prototype.destroy.call(this)},t.prototype.preRender=function(){var e={enableCollision:this.enableCollision,scrollStep:this.scrollStep};this.trigger("beforeCreate",e),this.enableCollision=e.enableCollision,this.scrollStep=e.scrollStep,this.scrollModule=null,this.popObj=null,this.tempId=[],this.tbarItemsCol=this.items,this.isVertical=!!this.element.classList.contains(Rh),this.isExtendedOpen=!1,this.popupPriCount=0,this.enableRtl&&this.add(this.element,xi)},t.prototype.wireEvents=function(){v.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),window.addEventListener("orientationchange",this.orientationChangeContext),this.allowKeyboard&&this.wireKeyboardEvent()},t.prototype.wireKeyboardEvent=function(){this.keyModule=new oi(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),v.add(this.element,"keydown",this.docKeyDown,this),this.updateTabIndex("0")},t.prototype.updateTabIndex=function(e){var i=this.element.querySelector("."+ze+":not(."+Nt+" ):not(."+We+" ):not(."+ki+" )");if(!h(i)&&!h(i.firstElementChild)){var s=i.firstElementChild.getAttribute("data-tabindex");s&&s==="-1"&&i.firstElementChild.tagName!=="INPUT"&&i.firstElementChild.setAttribute("tabindex",e)}},t.prototype.unwireKeyboardEvent=function(){this.keyModule&&(v.remove(this.element,"keydown",this.docKeyDown),this.keyModule.destroy(),this.keyModule=null)},t.prototype.docKeyDown=function(e){if(e.target.tagName!=="INPUT"){var i=!h(this.popObj)&&It(this.popObj.element)&&this.overflowMode!=="Extended";e.keyCode===9&&e.target.classList.contains("e-hor-nav")===!0&&i&&this.popObj.hide({name:"FadeOut",duration:100});var s=e.keyCode===40||e.keyCode===38||e.keyCode===35||e.keyCode===36;s&&e.preventDefault()}},t.prototype.unwireEvents=function(){v.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.unwireKeyboardEvent(),window.removeEventListener("resize",this.resizeContext),window.removeEventListener("orientationchange",this.orientationChangeContext),document.removeEventListener("scroll",this.clickEvent),document.removeEventListener("click",this.scrollEvent),this.scrollEvent=null,this.clickEvent=null},t.prototype.clearProperty=function(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}},t.prototype.docEvent=function(e){var i=M(e.target,".e-popup");this.popObj&&It(this.popObj.element)&&!i&&this.overflowMode==="Popup"&&this.popObj.hide({name:"FadeOut",duration:100})},t.prototype.destroyScroll=function(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,pi),this.scrollModule.destroy(),this.scrollModule=null)},t.prototype.destroyItems=function(){if(this.element&&[].slice.call(this.element.querySelectorAll("."+ze)).forEach(function(i){N(i)}),this.tbarAlign){var e=this.element.querySelector("."+Re);[].slice.call(e.children).forEach(function(i){N(i)}),this.tbarAlign=!1,this.remove(e,pi)}this.clearProperty()},t.prototype.destroyMode=function(){this.scrollModule&&(this.remove(this.scrollModule.element,xi),this.destroyScroll()),this.remove(this.element,Uh),this.remove(this.element,vm);var e=this.element.querySelector(".e-toolbar-multirow");e&&this.remove(e,mm),this.popObj&&this.popupRefresh(this.popObj.element,!0)},t.prototype.add=function(e,i){e.classList.add(i)},t.prototype.remove=function(e,i){e.classList.remove(i)},t.prototype.elementFocus=function(e){var i=e.firstElementChild;i?(i.focus(),this.activeEleSwitch(e)):e.focus()},t.prototype.clstElement=function(e,i){var s;return e&&this.popObj&&It(this.popObj.element)?s=this.popObj.element.querySelector("."+ze):this.element===i||e?s=this.element.querySelector("."+ze+":not(."+Nt+" ):not(."+We+" ):not(."+ki+" )"):s=M(i,"."+ze),s},t.prototype.keyHandling=function(e,i,s,n,r){var o=this.popObj,l=this.element,c={name:"FadeOut",duration:100},d=i.action==="moveUp"?"previous":"next",p,u;switch(i.action){case"moveRight":if(this.isVertical)return;l===s?this.elementFocus(e):n||this.eleFocus(e,"next");break;case"moveLeft":if(this.isVertical)return;n||this.eleFocus(e,"previous");break;case"home":case"end":if(e){var f=M(e,".e-popup"),m=this.element.querySelector("."+Wa);this.overflowMode==="Extended"&&m&&m.classList.contains("e-popup-open")&&(f=i.action==="end"?m:null),f?It(this.popObj.element)&&(u=[].slice.call(f.children),i.action==="home"?p=this.focusFirstVisibleEle(u):p=this.focusLastVisibleEle(u)):(u=this.element.querySelectorAll("."+Re+" ."+ze+":not(."+We+")"),i.action==="home"?p=this.focusFirstVisibleEle(u):p=this.focusLastVisibleEle(u)),p&&this.elementFocus(p)}break;case"moveUp":case"moveDown":if(this.isVertical)i.action==="moveUp"?this.eleFocus(e,"previous"):this.eleFocus(e,"next");else if(o&&M(s,".e-popup")){var g=o.element,b=g.firstElementChild;d==="previous"&&b===e?g.lastElementChild.firstChild.focus():d==="next"&&g.lastElementChild===e?b.firstChild.focus():this.eleFocus(e,d)}else i.action==="moveDown"&&o&&It(o.element)&&this.elementFocus(e);break;case"tab":if(!r&&!n){var S=e.firstElementChild;l===s&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(S),S.focus()))}break;case"popupClose":o&&this.overflowMode!=="Extended"&&o.hide(c);break;case"popupOpen":if(!n)return;o&&!It(o.element)?(o.element.style.top=l.offsetHeight+"px",o.show({name:"FadeIn",duration:100})):o.hide(c);break}},t.prototype.keyActionHandler=function(e){var i=e.target;if(!(i.tagName==="INPUT"||i.tagName==="TEXTAREA"||this.element.classList.contains(Nt))){e.preventDefault();var s=i.classList.contains(Rt),n=i.classList.contains(um),r=this.clstElement(s,i);(r||n)&&this.keyHandling(r,e,i,s,n)}},t.prototype.disable=function(e){var i=this.element;e?i.classList.add(Nt):i.classList.remove(Nt),this.activeEle&&this.activeEle.setAttribute("tabindex",this.activeEle.getAttribute("data-tabindex")),this.scrollModule&&this.scrollModule.disable(e),this.popObj&&(It(this.popObj.element)&&this.overflowMode!=="Extended"&&this.popObj.hide(),i.querySelector("#"+i.id+"_nav").setAttribute("tabindex",e?"-1":"0"))},t.prototype.eleContains=function(e){return e.classList.contains(We)||e.classList.contains(Nt)||e.getAttribute("disabled")||e.classList.contains(ki)||!It(e)||!e.classList.contains(ze)},t.prototype.focusFirstVisibleEle=function(e){for(var i,s=0;s<e.length;){var n=e[parseInt(s.toString(),10)];if(!n.classList.contains(ki)&&!n.classList.contains(Nt))return n;s++}return i},t.prototype.focusLastVisibleEle=function(e){for(var i,s=e.length-1;s>=0;){var n=e[parseInt(s.toString(),10)];if(!n.classList.contains(ki)&&!n.classList.contains(Nt))return n;s--}return i},t.prototype.eleFocus=function(e,i){var s=Object(e)[i+"ElementSibling"];if(s){var n=this.eleContains(s);if(n){this.eleFocus(s,i);return}this.elementFocus(s)}else if(this.tbarAlign){var r=Object(e.parentElement)[i+"ElementSibling"];if(!h(r)&&r.children.length===0&&(r=Object(r)[i+"ElementSibling"]),!h(r)&&r.children.length>0)if(i==="next"){var o=r.querySelector("."+ze);this.eleContains(o)?this.eleFocus(o,i):(o.firstElementChild.focus(),this.activeEleSwitch(o))}else{var o=r.lastElementChild;this.eleContains(o)?this.eleFocus(o,i):this.elementFocus(o)}}else if(!h(e)){var l=this.element.querySelectorAll("."+Re+" ."+ze+":not(."+We+"):not(."+Nt+"):not(."+ki+")");i==="next"&&l?this.elementFocus(l[0]):i==="previous"&&l&&this.elementFocus(l[l.length-1])}},t.prototype.clickHandler=function(e){var i=this,s=e.target,n=this.element,r=!h(M(s,"."+fr)),o=s.classList,l=M(s,"."+Rt);l||(l=s),!n.children[0].classList.contains("e-hscroll")&&!n.children[0].classList.contains("e-vscroll")&&o.contains(Rt)&&(o=s.querySelector(".e-icons").classList),(o.contains(qa)||o.contains(ur))&&this.popupClickHandler(n,l,xi);var c,d=M(e.target,"."+ze);if(!((h(d)||d.classList.contains(Nt))&&!l.classList.contains(Rt))){if(d){var p=this.items[this.tbarEle.indexOf(d)];c=p}var u={originalEvent:e,item:c},f=c&&!h(c.click)&&typeof c.click=="object"?!h(c.click.observers)&&c.click.observers.length>0:!h(c)&&!h(c.click);f&&this.trigger("items["+this.tbarEle.indexOf(d)+"].click",u),u.cancel||this.trigger("clicked",u,function(m){!h(i.popObj)&&r&&!m.cancel&&i.overflowMode==="Popup"&&m.item&&m.item.type!=="Input"&&i.popObj.hide({name:"FadeOut",duration:100})})}},t.prototype.popupClickHandler=function(e,i,s){var n=this.popObj;It(n.element)?(i.classList.remove(mr),n.hide({name:"FadeOut",duration:100})):(e.classList.contains(s)&&(n.enableRtl=!0,n.position={X:"left",Y:"top"}),n.offsetX===0&&!e.classList.contains(s)&&(n.enableRtl=!1,n.position={X:"right",Y:"top"}),this.overflowMode==="Extended"&&(n.element.style.minHeight="0px",n.width=this.getToolbarPopupWidth(this.element)),n.dataBind(),n.refreshPosition(),n.element.style.top=this.getElementOffsetY()+"px",i.classList.add(mr),n.show({name:"FadeIn",duration:100}))},t.prototype.getToolbarPopupWidth=function(e){var i=window.getComputedStyle(e);return parseFloat(i.width)+parseFloat(i.borderRightWidth)*2},t.prototype.render=function(){var e=this;this.initialize(),this.renderControl(),this.wireEvents(),this.clickEvent=this.docEvent.bind(this),this.scrollEvent=this.docEvent.bind(this),this.renderComplete(),this.isReact&&this.portals&&this.portals.length>0&&this.renderReactTemplates(function(){e.refreshOverflow()})},t.prototype.initialize=function(){var e=X(this.width),i=X(this.height);(E.info.name!=="msie"||this.height!=="auto"||this.overflowMode==="MultiRow")&&se(this.element,{height:i}),se(this.element,{width:e});var s={role:"toolbar","aria-disabled":"false","aria-orientation":this.isVertical?"vertical":"horizontal"};le(this.element,s),this.cssClass&&L([this.element],this.cssClass.split(" "))},t.prototype.renderControl=function(){var e=this.element;this.trgtEle=e.children.length>0?e.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderLayout()},t.prototype.renderLayout=function(){this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1),this.separator()},t.prototype.itemsAlign=function(e,i){var s,n;this.tbarEle||(this.tbarEle=[]);for(var r=0;r<e.length;r++)s=this.renderSubComponent(e[parseInt(r.toString(),10)],r),this.tbarEle.indexOf(s)===-1&&this.tbarEle.push(s),this.tbarAlign||this.tbarItemAlign(e[parseInt(r.toString(),10)],i,r),n=i.querySelector(".e-toolbar-"+e[parseInt(r.toString(),10)].align.toLowerCase()),n?(e[parseInt(r.toString(),10)].showAlwaysInPopup&&e[parseInt(r.toString(),10)].overflow!=="Show"||this.tbarAlgEle[(e[parseInt(r.toString(),10)].align+"s").toLowerCase()].push(s),n.appendChild(s)):i.appendChild(s);if(this.isReact){var o="portals";this.notify("render-react-toolbar-template",this[""+o]),this.renderReactTemplates()}},t.prototype.changeOrientation=function(){var e=this.element;this.isVertical?(e.classList.remove(Rh),this.isVertical=!1,(this.height==="auto"||this.height==="100%")&&(e.style.height=this.height),e.setAttribute("aria-orientation","horizontal")):(e.classList.add(Rh),this.isVertical=!0,e.setAttribute("aria-orientation","vertical"),se(this.element,{height:X(this.height),width:X(this.width)})),this.destroyMode(),this.refreshOverflow()},t.prototype.initScroll=function(e,i){if(!this.scrollModule&&this.checkOverflow(e,i[0])){this.tbarAlign&&this.element.querySelector("."+Re+" ."+fm).removeAttribute("style"),this.isVertical?this.scrollModule=new $C({scrollStep:this.scrollStep,enableRtl:this.enableRtl},i[0]):this.scrollModule=new QC({scrollStep:this.scrollStep,enableRtl:this.enableRtl},i[0]),this.cssClass&&L([i[0]],this.cssClass.split(" "));var s=this.scrollModule.element.querySelector("."+Ph+", .e-vscroll-bar");s&&s.removeAttribute("tabindex"),this.remove(this.scrollModule.element,pi),se(this.element,{overflow:"hidden"})}},t.prototype.itemWidthCal=function(e){var i=this,s=0,n;return[].slice.call(ce("."+ze,e)).forEach(function(r){It(r)&&(n=window.getComputedStyle(r),s+=i.isVertical?r.offsetHeight:r.offsetWidth,s+=parseFloat(i.isVertical?n.marginTop:n.marginRight),s+=parseFloat(i.isVertical?n.marginBottom:n.marginLeft))}),s},t.prototype.getScrollCntEle=function(e){var i=this.isVertical?".e-vscroll-content":".e-hscroll-content";return e.querySelector(i)},t.prototype.checkOverflow=function(e,i){if(h(e)||h(i)||!It(e))return!1;var s=this.isVertical?e.offsetHeight:e.offsetWidth,n=this.isVertical?i.offsetHeight:i.offsetWidth;(this.tbarAlign||this.scrollModule||s===n)&&(n=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(i):i));var r=e.querySelector("."+Rt),o=e.querySelector("."+um),l=0;return r?l=this.isVertical?r.offsetHeight:r.offsetWidth:o&&(l=this.isVertical?o.offsetHeight*2:o.offsetWidth*2),n>s-l},t.prototype.refreshOverflow=function(){this.resize()},t.prototype.toolbarAlign=function(e){this.tbarAlign&&(this.add(e,pi),this.itemPositioning())},t.prototype.renderOverflowMode=function(){var e=this.element,i=e.querySelector("."+Re),s=this.popupPriCount>0;if(e&&e.children.length>0)switch(this.offsetWid=e.offsetWidth,this.remove(this.element,"e-toolpop"),E.info.name==="msie"&&this.height==="auto"&&(e.style.height=""),this.overflowMode){case"Scrollable":h(this.scrollModule)&&this.initScroll(e,[].slice.call(e.getElementsByClassName(Re)));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(e,i)||s)&&this.setOverflowAttributes(e),this.toolbarAlign(i);break;case"MultiRow":this.add(i,mm),this.checkOverflow(e,i)&&this.tbarAlign&&(this.removePositioning(),this.add(i,gm)),e.style.overflow==="hidden"&&(e.style.overflow=""),(E.info.name==="msie"||e.style.height!=="auto")&&(e.style.height="auto");break;case"Extended":this.add(this.element,vm),(this.checkOverflow(e,i)||s)&&(this.tbarAlign&&this.removePositioning(),this.setOverflowAttributes(e)),this.toolbarAlign(i)}},t.prototype.setOverflowAttributes=function(e){this.createPopupEle(e,[].slice.call(ce("."+Re+" ."+ze,e)));var i={tabindex:"0",role:"button","aria-haspopup":"true","aria-label":"overflow"};le(this.element.querySelector("."+Rt),i)},t.prototype.separator=function(){var e=this.element,i=[].slice.call(e.querySelectorAll("."+We)),s=e.querySelector("."+Hh),n=e.querySelector("."+Fh),r=this.overflowMode==="MultiRow"?s:n;r!==null&&(this.overflowMode==="MultiRow"?r.classList.remove(Hh):this.overflowMode==="Extended"&&r.classList.remove(Fh));for(var o=0;o<=i.length-1;o++)i[parseInt(o.toString(),10)].offsetLeft<30&&i[parseInt(o.toString(),10)].offsetLeft!==0&&(this.overflowMode==="MultiRow"?i[parseInt(o.toString(),10)].classList.add(Hh):this.overflowMode==="Extended"&&i[parseInt(o.toString(),10)].classList.add(Fh))},t.prototype.createPopupEle=function(e,i){var s=e.querySelector("."+Rt),n=this.isVertical;s||this.createPopupIcon(e),s=e.querySelector("."+Rt);var r=n?s.offsetHeight:s.offsetWidth,o=(n?e.offsetHeight:e.offsetWidth)-r;this.element.classList.remove("e-rtl"),se(this.element,{direction:"initial"}),this.checkPriority(e,i,o,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()},t.prototype.pushingPoppedEle=function(e,i,s,n,r){var o=e.element,l=[].slice.call(ce("."+bs,o.querySelector("."+Re))),c=ce("."+di,s),d=0,p=0;l.forEach(function(g,b){c=ce("."+di,s),g.classList.contains(di)&&c.length>0?e.tbResize&&c.length>b?(s.insertBefore(g,c[parseInt(b.toString(),10)]),++p):(s.insertBefore(g,s.children[c.length]),++p):g.classList.contains(di)||e.tbResize&&g.classList.contains(_a)&&s.children.length>0&&c.length===0?(s.insertBefore(g,s.firstChild),++p):g.classList.contains(_a)?i.push(g):e.tbResize?(s.insertBefore(g,s.childNodes[d+p]),++d):s.appendChild(g),g.classList.contains(We)?se(g,{display:"",height:r+"px"}):se(g,{display:"",height:n+"px"})}),i.forEach(function(g){s.appendChild(g)});for(var u=ce("."+ze,o.querySelector("."+Re)),f=u.length-1;f>=0;f--){var m=u[parseInt(f.toString(),10)];if(m.classList.contains(We)&&this.overflowMode!=="Extended")se(m,{display:"none"});else break}},t.prototype.createPopup=function(){var e=this.element,i,s;this.overflowMode==="Extended"&&(s=e.querySelector("."+We),i=e.style.height==="auto"||e.style.height===""?null:s&&s.offsetHeight);var n=e.querySelector("."+ze+":not(."+We+"):not(."+bs+")"),r=e.style.height==="auto"||e.style.height===""?null:n&&n.offsetHeight,o,l=[];if(W("#"+e.id+"_popup."+fr,e))o=W("#"+e.id+"_popup."+fr,e);else{var c=this.createElement("div",{id:e.id+"_popup",className:fr+" "+Wa}),d=this.createElement("div",{id:e.id+"_popup",className:fr});o=this.overflowMode==="Extended"?c:d}this.pushingPoppedEle(this,l,o,r,i),this.popupInit(e,o)},t.prototype.getElementOffsetY=function(){return this.overflowMode==="Extended"&&window.getComputedStyle(this.element).getPropertyValue("box-sizing")==="border-box"?this.element.clientHeight:this.element.offsetHeight},t.prototype.popupInit=function(e,i){if(this.popObj){if(this.overflowMode!=="Extended"){var r=this.popObj.element;se(r,{maxHeight:"",display:"block"}),se(r,{maxHeight:r.offsetHeight+"px",display:""})}}else{e.appendChild(i),this.cssClass&&L([i],this.cssClass.split(" ")),se(this.element,{overflow:""});var s=new jt(null,{relateTo:this.element,offsetY:this.isVertical?0:this.getElementOffsetY(),enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.enableCollision?"flip":"none"},position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});if(this.overflowMode==="Extended"&&(s.width=this.getToolbarPopupWidth(this.element),s.offsetX=0),s.appendTo(i),document.addEventListener("scroll",this.clickEvent),document.addEventListener("click",this.scrollEvent),this.overflowMode!=="Extended"&&(s.element.style.maxHeight=s.element.offsetHeight+"px"),this.isVertical&&(s.element.style.visibility="hidden"),this.isExtendedOpen){var n=this.element.querySelector("."+Rt);n.classList.add(mr),ut(n.firstElementChild,[qa],[ur]),this.element.querySelector("."+Wa).classList.add(cm)}else s.hide();this.popObj=s}},t.prototype.tbarPopupHandler=function(e){this.overflowMode==="Extended"&&(e?this.add(this.element,Uh):this.remove(this.element,Uh))},t.prototype.popupOpen=function(e){var i=this.popObj;this.isVertical||(i.offsetY=this.getElementOffsetY(),i.dataBind());var s=this.popObj.element,n=this.popObj.element.parentElement,r=n.querySelector("."+Rt);r.setAttribute("aria-expanded","true"),this.overflowMode==="Extended"?i.element.style.minHeight="":(se(i.element,{height:"auto",maxHeight:""}),i.element.style.maxHeight=i.element.offsetHeight+"px");var o=s.offsetTop+s.offsetHeight+Et(n).top,l=r.firstElementChild;r.classList.add(mr),ut(l,[qa],[ur]),this.tbarPopupHandler(!0);var c=h(window.scrollY)?0:window.scrollY;if(!this.isVertical&&window.innerHeight+c<o&&this.element.offsetTop<s.offsetHeight){var d=s.offsetHeight-(o-window.innerHeight-c+5);i.height=d+"px";for(var p=0;p<=s.childElementCount;p++){var u=s.children[parseInt(p.toString(),10)];if(u.offsetTop+u.offsetHeight>d){d=u.offsetTop;break}}this.overflowMode!=="Extended"&&se(i.element,{maxHeight:d+"px"})}else if(this.isVertical&&this.overflowMode!=="Extended"){var f=this.element.getBoundingClientRect();se(i.element,{maxHeight:f.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}if(i){var m=s.getBoundingClientRect();m.right>document.documentElement.clientWidth&&m.width>n.getBoundingClientRect().width&&(i.collision={Y:"none"},i.dataBind()),i.refreshPosition()}},t.prototype.popupClose=function(e){var i=this.element,s=i.querySelector("."+Rt);s.setAttribute("aria-expanded","false");var n=s.firstElementChild;s.classList.remove(mr),ut(n,[ur],[qa]),this.tbarPopupHandler(!1)},t.prototype.checkPriority=function(e,i,s,n){for(var r=this.popupPriCount>0,o=i.length,l=s,c,d,p=0,u=0,f=0,m=function(A,q){var F=!1;return q.forEach(function(J){A.classList.contains(J)&&(F=!0)}),F},g=o-1;g>=0;g--){var b=void 0,S=window.getComputedStyle(i[parseInt(g.toString(),10)]);this.isVertical?(b=parseFloat(S.marginTop),b+=parseFloat(S.marginBottom)):(b=parseFloat(S.marginRight),b+=parseFloat(S.marginLeft));var T=i[parseInt(g.toString(),10)]===this.tbarEle[0];T&&(this.tbarEleMrgn=b),c=this.isVertical?i[parseInt(g.toString(),10)].offsetHeight:i[parseInt(g.toString(),10)].offsetWidth;var I=T?c+b:c;if(m(i[parseInt(g.toString(),10)],[Bh])&&r&&(i[parseInt(g.toString(),10)].classList.add(bs),this.isVertical?se(i[parseInt(g.toString(),10)],{display:"none",minHeight:I+"px"}):se(i[parseInt(g.toString(),10)],{display:"none",minWidth:I+"px"}),f++),this.isVertical?d=i[parseInt(g.toString(),10)].offsetTop+i[parseInt(g.toString(),10)].offsetHeight+b>s:d=i[parseInt(g.toString(),10)].offsetLeft+i[parseInt(g.toString(),10)].offsetWidth+b>s,d){if(i[parseInt(g.toString(),10)].classList.contains(We)){if(this.overflowMode==="Extended"){var w=i[parseInt(g.toString(),10)];m(w,[We,gr])&&(i[parseInt(g.toString(),10)].classList.add(bs),f++),u++}else if(this.overflowMode==="Popup"){if(p>0&&u===f){var w=i[g+u+(p-1)];m(w,[We,gr])&&se(w,{display:"none"})}p++,u=0,f=0}}else u++;i[parseInt(g.toString(),10)].classList.contains(di)&&n?s-=(this.isVertical?i[parseInt(g.toString(),10)].offsetHeight:i[parseInt(g.toString(),10)].offsetWidth)+b:m(i[parseInt(g.toString(),10)],[We,gr])?s-=(this.isVertical?i[parseInt(g.toString(),10)].offsetHeight:i[parseInt(g.toString(),10)].offsetWidth)+b:(i[parseInt(g.toString(),10)].classList.add(bs),this.isVertical?se(i[parseInt(g.toString(),10)],{display:"none",minHeight:I+"px"}):se(i[parseInt(g.toString(),10)],{display:"none",minWidth:I+"px"}),f++)}}if(n){var x=ce("."+ze+":not(."+bs+")",this.element);this.checkPriority(e,x,l,!1)}},t.prototype.createPopupIcon=function(e){var i=e.id.concat("_nav"),s="e-"+e.id.concat("_nav "+s0);s=this.overflowMode==="Extended"?s+" "+r0:s;var n=this.createElement("div",{id:i,className:s});(E.info.name==="msie"||E.info.name==="edge")&&n.classList.add("e-ie-align");var r=this.createElement("div",{className:ur+" e-icons"});n.appendChild(r),n.setAttribute("tabindex","0"),n.setAttribute("role","button"),e.appendChild(n)},t.prototype.tbarPriRef=function(e,i,s,n,r,o,l,c,d){var p=c,u=this.popObj.element,f="."+ze+":not(."+We+"):not(."+di+")",m=ce("."+bs+":not(."+di+")",u).length,g=function(w,x){return w.classList.contains(x)};if(ce(f,e).length===0){var b=e.children[i-(i-s)-1],S=!h(b)&&g(b,gr);if(!h(b)&&g(b,We)&&!It(b)||S){b.style.display="unset";var T=b.offsetWidth+parseFloat(window.getComputedStyle(b).marginRight)*2,I=b.previousElementSibling;o+T<l||r?(e.insertBefore(n,e.children[i+p-(i-s)]),h(I)||(I.style.display="")):(se(n,d),I.classList.contains(We)&&(I.style.display="none")),b.style.display=""}else e.insertBefore(n,e.children[i+p-(i-s)])}else e.insertBefore(n,e.children[i+p-m])},t.prototype.popupRefresh=function(e,i){var s=this,n=this.element,r=this.isVertical,o=n.querySelector("."+Re),l=n.querySelector("."+Rt);if(!h(l)){o.removeAttribute("style"),e.style.display="block";var c;r?c=n.offsetHeight-(l.offsetHeight+o.offsetHeight):c=n.offsetWidth-(l.offsetWidth+o.offsetWidth);var d=0;[].slice.call(e.children).forEach(function(p){d+=s.popupEleWidth(p),se(p,{position:""})}),c+(r?l.offsetHeight:l.offsetWidth)>d&&this.popupPriCount===0&&(i=!0),this.popupEleRefresh(c,e,i),e.style.display="",e.children.length===0&&l&&this.popObj&&(N(l),l=null,this.popObj.destroy(),N(this.popObj.element),this.popObj=null)}},t.prototype.ignoreEleFetch=function(e,i){var s=[].slice.call(i.querySelectorAll("."+gr)),n=[],r=0;if(s.length>0)s.forEach(function(o){n.push([].slice.call(i.children).indexOf(o))});else return 0;return n.forEach(function(o){o<=e&&r++}),r},t.prototype.checkPopupRefresh=function(e,i){i.style.display="block";var s=this.popupEleWidth(i.firstElementChild);i.firstElementChild.style.removeProperty("Position");var n=e.offsetWidth-e.querySelector("."+Rt).offsetWidth,r=e.querySelector("."+Re).offsetWidth;return i.style.removeProperty("display"),n>s+r},t.prototype.popupEleWidth=function(e){e.style.position="absolute";var i=this.isVertical?e.offsetHeight:e.offsetWidth,s=e.querySelector("."+n0);if(e.classList.contains("e-tbtn-align")||e.classList.contains(zh)){var n=e.children[0];!h(s)&&e.classList.contains(zh)?s.style.display="none":!h(s)&&e.classList.contains(pm)&&(s.style.display="block"),n.style.minWidth="0%",i=parseFloat(this.isVertical?e.style.minHeight:e.style.minWidth),n.style.minWidth="",n.style.minHeight="",h(s)||(s.style.display="")}return i},t.prototype.popupEleRefresh=function(e,i,s){for(var n=this.popupPriCount>0,r=this.tbarEle,o,l,c=this.element.querySelector("."+Re),d=0,p=function(T){if(T.classList.contains(Bh)&&n&&!s)return"continue";var I=u.popupEleWidth(T);if(T===u.tbarEle[0]&&(I+=u.tbarEleMrgn),T.style.position="",I<e||s){var w={minWidth:T.style.minWidth,height:T.style.height,minHeight:T.style.minHeight};if(se(T,{minWidth:"",height:"",minHeight:""}),T.classList.contains(_a)||T.classList.remove(bs),l=u.tbarEle.indexOf(T),u.tbarAlign){var x=u.items[parseInt(l.toString(),10)].align;l=u.tbarAlgEle[(x+"s").toLowerCase()].indexOf(T),r=u.tbarAlgEle[(x+"s").toLowerCase()],c=u.element.querySelector("."+Re+" .e-toolbar-"+x.toLowerCase())}var A=0;u.overflowMode!=="Extended"&&r.slice(0,l).forEach(function(q){(q.classList.contains(di)||q.classList.contains(We))&&(q.classList.contains(We)&&(q.style.display="",e-=q.offsetWidth),A++)}),d=u.ignoreEleFetch(l,c),T.classList.contains(di)?(u.tbarPriRef(c,l,A,T,s,I,e,d,w),e-=T.offsetWidth):l===0?(c.insertBefore(T,c.firstChild),e-=T.offsetWidth):(o=ce("."+di,u.popObj.element).length,c.insertBefore(T,c.children[l+d-o]),e-=T.offsetWidth),T.style.height=""}else return"break"},u=this,f=0,m=[].slice.call(i.children);f<m.length;f++){var g=m[f],b=p(g);if(b==="break")break}var S=this.checkOverflow(this.element,this.element.getElementsByClassName(Re)[0]);S&&!s&&this.renderOverflowMode()},t.prototype.removePositioning=function(){var e=this.element.querySelector("."+Re);if(!(h(e)||!e.classList.contains(pi))){this.remove(e,pi);var i=[].slice.call(e.childNodes);i[1].removeAttribute("style"),i[2].removeAttribute("style")}},t.prototype.refreshPositioning=function(){var e=this.element.querySelector("."+Re);this.add(e,pi),this.itemPositioning()},t.prototype.itemPositioning=function(){var e=this.element.querySelector("."+Re),i;if(!(h(e)||!e.classList.contains(pi))){var s=this.element.querySelector("."+Rt),n;if(this.scrollModule){var r=this.isVertical?i0:t0;n=[].slice.call(e.querySelector("."+r).children)}else n=[].slice.call(e.childNodes);this.isVertical?i=n[0].offsetHeight+n[2].offsetHeight:i=n[0].offsetWidth+n[2].offsetWidth;var o=this.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(s){o-=this.isVertical?s.offsetHeight:s.offsetWidth;var l=(this.isVertical?s.offsetHeight:s.offsetWidth)+"px";n[2].removeAttribute("style"),this.isVertical?this.enableRtl?n[2].style.top=l:n[2].style.bottom=l:this.enableRtl?n[2].style.left=l:n[2].style.right=l}if(!(o<=i)){var c=(o-i-(this.isVertical?n[1].offsetHeight:n[1].offsetWidth))/2;n[1].removeAttribute("style");var d=(this.isVertical?n[0].offsetHeight:n[0].offsetWidth)+c+"px";this.isVertical?this.enableRtl?n[1].style.marginBottom=d:n[1].style.marginTop=d:this.enableRtl?n[1].style.marginRight=d:n[1].style.marginLeft=d}}},t.prototype.tbarItemAlign=function(e,i,s){var n=this;if(!(e.showAlwaysInPopup&&e.overflow!=="Show")){var r=[];if(r.push(this.createElement("div",{className:e0})),r.push(this.createElement("div",{className:fm})),r.push(this.createElement("div",{className:ZC})),s===0&&e.align!=="Left")r.forEach(function(c){i.appendChild(c)}),this.tbarAlign=!0,this.add(i,pi);else if(e.align!=="Left"){var o=i.childNodes,l=r[0];[].slice.call(o).forEach(function(c){n.tbarAlgEle.lefts.push(c),l.appendChild(c)}),i.appendChild(l),i.appendChild(r[1]),i.appendChild(r[2]),this.tbarAlign=!0,this.add(i,pi)}}},t.prototype.ctrlTemplate=function(){var e=this;this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,Re),this.tbarEle=[];var i=[].slice.call(this.trgtEle.children);i.forEach(function(s){s.tagName==="DIV"&&(e.tbarEle.push(s),h(s.firstElementChild)||s.firstElementChild.setAttribute("aria-disabled","false"),e.add(s,ze))})},t.prototype.renderItems=function(){var e=this.element,i=this.items;if(this.trgtEle!=null)this.ctrlTemplate();else if(e&&i.length>0){var s=void 0;e&&e.children.length>0&&(s=e.querySelector("."+Re)),s||(s=this.createElement("div",{className:Re})),this.itemsAlign(i,s),e.appendChild(s)}},t.prototype.setAttr=function(e,i){for(var s=Object.keys(e),n,r=0;r<s.length;r++)n=s[parseInt(r.toString(),10)],n==="class"?this.add(i,e[""+n]):i.setAttribute(n,e[""+n])},t.prototype.enableItems=function(e,i){var s=e,n=s.length,r;h(i)&&(i=!0);var o=function(p,u){p?(u.classList.remove(Nt),h(u.firstElementChild)||u.firstElementChild.setAttribute("aria-disabled","false")):(u.classList.add(Nt),h(u.firstElementChild)||u.firstElementChild.setAttribute("aria-disabled","true"))};if(!h(n)&&n>=1){for(var l=0,c=[].slice.call(s);l<n;l++){var d=c[parseInt(l.toString(),10)];if(typeof d=="number"){if(r=this.getElementByIndex(d),h(r))return;s[parseInt(l.toString(),10)]=r}else r=d;o(i,r)}i?k(s,Nt):L(s,Nt)}else{if(typeof s=="number"){if(r=this.getElementByIndex(s),h(r))return}else r=e;o(i,r)}},t.prototype.getElementByIndex=function(e){return this.tbarEle[parseInt(e.toString(),10)]?this.tbarEle[parseInt(e.toString(),10)]:null},t.prototype.addItems=function(e,i){var s;this.extendedOpen();var n=this.element.querySelector("."+Re);if(h(n)){this.itemsRerender(e);return}var r,o="Left";h(i)&&(i=0),e.forEach(function(f){!h(f.align)&&f.align!=="Left"&&o==="Left"&&(o=f.align)});for(var l=0,c=e;l<c.length;l++){var d=c[l];if(h(d.type)&&(d.type="Button"),s=ce("."+ze,this.element),d.align=o,r=this.renderSubComponent(d,i),this.tbarEle.length>=i&&s.length>=0){h(this.scrollModule)&&this.destroyMode();var p=d.align[0]==="L"?0:d.align[0]==="C"?1:2,u=void 0;!this.tbarAlign&&o!=="Left"?(this.tbarItemAlign(d,n,1),this.tbarAlign=!0,u=M(s[0],"."+Re).children[parseInt(p.toString(),10)],u.appendChild(r),this.tbarAlgEle[(d.align+"s").toLowerCase()].push(r),this.refreshPositioning()):this.tbarAlign?(u=M(s[0],"."+Re).children[parseInt(p.toString(),10)],u.insertBefore(r,u.children[parseInt(i.toString(),10)]),this.tbarAlgEle[(d.align+"s").toLowerCase()].splice(i,0,r),this.refreshPositioning()):s.length===0?(s=ce("."+Re,this.element),s[0].appendChild(r)):s[0].parentNode.insertBefore(r,s[parseInt(i.toString(),10)]),this.items.splice(i,0,d),d.template&&this.tbarEle.splice(this.tbarEle.length-1,1),this.tbarEle.splice(i,0,r),i++,this.offsetWid=n.offsetWidth}}n.style.width="",this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()},t.prototype.removeItems=function(e){var i=e,s,n=[].slice.call(ce("."+ze,this.element));if(typeof i=="number")s=parseInt(e.toString(),10),this.removeItemByIndex(s,n);else if(i&&i.length>1)for(var r=0,o=[].slice.call(i);r<o.length;r++){var l=o[r];s=this.tbarEle.indexOf(l),this.removeItemByIndex(s,n),n=ce("."+ze,this.element)}else{var l=i&&i.length&&i.length===1?i[0]:e;s=n.indexOf(l),this.removeItemByIndex(s,n)}this.resize()},t.prototype.removeItemByIndex=function(e,i){if(this.tbarEle[parseInt(e.toString(),10)]&&i[parseInt(e.toString(),10)]){var s=this.tbarEle.indexOf(i[parseInt(e.toString(),10)]);if(this.tbarAlign){var n=this.tbarAlgEle[(this.items[parseInt(s.toString(),10)].align+"s").toLowerCase()].indexOf(this.tbarEle[parseInt(s.toString(),10)]);this.tbarAlgEle[(this.items[parseInt(s.toString(),10)].align+"s").toLowerCase()].splice(parseInt(n.toString(),10),1)}this.isReact&&this.clearToolbarTemplate(i[parseInt(e.toString(),10)]);var r=i[parseInt(e.toString(),10)].querySelector(".e-control.e-btn");!h(r)&&!h(r.ej2_instances[0])&&!r.ej2_instances[0].isDestroyed&&r.ej2_instances[0].destroy(),N(i[parseInt(e.toString(),10)]),this.items.splice(s,1),this.tbarEle.splice(s,1)}},t.prototype.templateRender=function(e,i,s,n){var r=s.type,o=e,l;if(typeof e=="object"&&(l=typeof o.appendTo=="function"),typeof e=="string"||!l){var c=void 0,d=e,p=new RegExp(/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i);d=typeof e=="string"?e.trim():e;try{if(typeof e=="object"&&!h(e.tagName))i.appendChild(e);else if(typeof e=="string"&&p.test(d))i.innerHTML=d;else if(document.querySelectorAll(d).length){var u=document.querySelector(d),f=u.outerHTML.trim();i.appendChild(u),u.style.display="",h(f)||this.tempId.push(d)}else c=kt(d)}catch{c=kt(d)}var m=void 0;if(!h(c)){var g=this.element.id+n+"_template";m=c({},this,"template",g,this.isStringTemplate,void 0,void 0,this.root)}!h(m)&&m.length>0&&[].slice.call(m).forEach(function(S){h(S.tagName)||(S.style.display=""),i.appendChild(S)})}else if(r==="Input"){var u=this.createElement("input");s.id?u.id=s.id:u.id=Ae("tbr-ipt"),i.appendChild(u),o.appendTo(u)}this.add(i,dm);var b=i.firstElementChild;h(b)||(b.setAttribute("tabindex",h(b.getAttribute("tabIndex"))?"-1":this.getDataTabindex(b)),b.setAttribute("data-tabindex",h(b.getAttribute("tabIndex"))?"-1":this.getDataTabindex(b))),this.tbarEle.push(i)},t.prototype.buttonRendering=function(e,i){var s=this.createElement("button",{className:JC});s.setAttribute("type","button");var n=e.text,r,o;e.id?s.id=e.id:s.id=Ae("e-tbr-btn");var l=this.createElement("span",{className:"e-tbar-btn-text"});n?(l.innerHTML=this.enableHtmlSanitizer?Be.sanitize(n):n,s.appendChild(l),s.classList.add("e-tbtn-txt")):this.add(i,"e-tbtn-align"),(e.prefixIcon||e.suffixIcon)&&(e.prefixIcon&&e.suffixIcon||e.prefixIcon?(r=e.prefixIcon+" e-icons",o="Left"):(r=e.suffixIcon+" e-icons",o="Right"));var c=new Vt({iconCss:r,iconPosition:o});return c.createElement=this.createElement,c.appendTo(s),e.width&&se(s,{width:X(e.width)}),s},t.prototype.renderSubComponent=function(e,i){var s,n=this.createElement("div",{className:ze}),r=this.createElement("div",{innerHTML:this.enableHtmlSanitizer&&!h(e.tooltipText)?Be.sanitize(e.tooltipText):e.tooltipText});if(this.tbarEle||(this.tbarEle=[]),e.htmlAttributes&&this.setAttr(e.htmlAttributes,n),e.tooltipText&&n.setAttribute("title",r.textContent),e.cssClass&&(n.className=n.className+" "+e.cssClass),e.template)this.templateRender(e.template,n,e,i);else switch(e.type){case"Button":s=this.buttonRendering(e,n),s.setAttribute("tabindex",h(e.tabIndex)?"-1":e.tabIndex.toString()),s.setAttribute("data-tabindex",h(e.tabIndex)?"-1":e.tabIndex.toString()),s.setAttribute("aria-label",e.text||e.tooltipText),s.setAttribute("aria-disabled","false"),n.appendChild(s),n.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(n,We);break}if(e.showTextOn){var o=e.showTextOn;o==="Toolbar"?(this.add(n,pm),this.add(n,"e-tbtn-align")):o==="Overflow"&&this.add(n,zh)}if(e.overflow){var l=e.overflow;l==="Show"?this.add(n,di):l==="Hide"&&(n.classList.contains(We)||this.add(n,_a))}return e.overflow!=="Show"&&e.showAlwaysInPopup&&!n.classList.contains(We)&&(this.add(n,Bh),this.popupPriCount++),e.disabled&&this.add(n,Nt),e.visible===!1&&this.add(n,ki),n},t.prototype.getDataTabindex=function(e){return h(e.getAttribute("data-tabindex"))?"-1":e.getAttribute("data-tabindex")},t.prototype.itemClick=function(e){this.activeEleSwitch(e.currentTarget)},t.prototype.activeEleSwitch=function(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()},t.prototype.activeEleRemove=function(e){var i=this.element.querySelector("."+ze+":not(."+Nt+" ):not(."+We+" ):not(."+ki+" )");if(h(this.activeEle)||(this.activeEle.setAttribute("tabindex",this.getDataTabindex(this.activeEle)),i&&i.removeAttribute("tabindex"),i=this.activeEle),this.activeEle=e,this.getDataTabindex(this.activeEle)==="-1")if(h(this.trgtEle)&&!e.parentElement.classList.contains(dm)){if(!h(this.element.querySelector(".e-hor-nav"))&&this.element.querySelector(".e-hor-nav").classList.contains("e-nav-active")){this.updateTabIndex("0");var s=this.getDataTabindex(i)==="-1"?"0":this.getDataTabindex(i);i.setAttribute("tabindex",s)}else this.updateTabIndex("-1");e.removeAttribute("tabindex")}else{var n=parseInt(this.getDataTabindex(this.activeEle),10)+1;this.activeEle.setAttribute("tabindex",n.toString())}},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.getModuleName=function(){return"toolbar"},t.prototype.itemsRerender=function(e){this.items=this.tbarItemsCol,(this.isReact||this.isAngular)&&this.clearTemplate(),this.destroyMode(),this.destroyItems(),this.items=e,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()},t.prototype.resize=function(){var e=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&this.overflowMode==="Popup"&&this.popObj.hide();var i=this.checkOverflow(e,e.getElementsByClassName(Re)[0]);if(!i){this.destroyScroll();var s=e.querySelector("."+Re);h(s)||(this.remove(s,gm),this.tbarAlign&&this.add(s,pi))}i&&this.scrollModule&&this.offsetWid===e.offsetWidth||((this.offsetWid>e.offsetWidth||i)&&this.renderOverflowMode(),this.popObj&&(this.overflowMode==="Extended"&&(this.popObj.width=this.getToolbarPopupWidth(this.element)),this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()),this.element.querySelector("."+Ph)&&(this.scrollStep=this.element.querySelector("."+Ph).offsetWidth),this.offsetWid=e.offsetWidth,this.tbResize=!1,this.separator())},t.prototype.orientationChange=function(){var e=this;setTimeout(function(){e.resize()},500)},t.prototype.extendedOpen=function(){var e=this.element.querySelector("."+Wa);this.overflowMode==="Extended"&&e&&(this.isExtendedOpen=e.classList.contains(cm))},t.prototype.updateHideEleTabIndex=function(e,i,s,n,r){s&&(n=r.indexOf(e));for(var o=r[++n];o;){var l=this.eleContains(o);if(!l){var c=o.firstElementChild.getAttribute("data-tabindex");i&&c==="-1"?o.firstElementChild.setAttribute("tabindex","0"):c!==o.firstElementChild.getAttribute("tabindex")&&o.firstElementChild.setAttribute("tabindex",c);break}o=r[++n]}},t.prototype.clearToolbarTemplate=function(e){if(this.registeredTemplate&&this.registeredTemplate.template)for(var i=this.registeredTemplate,s=0;s<i.template.length;s++){var n=i.template[parseInt(s.toString(),10)].rootNodes[0],r=M(n,"."+ze);if(!h(r)&&r===e){this.clearTemplate(["template"],[i.template[parseInt(s.toString(),10)]]);break}}else if(this.portals&&this.portals.length>0)for(var o=this.portals,s=0;s<o.length;s++){var l=o[parseInt(s.toString(),10)],r=M(l.containerInfo,"."+ze);if(!h(r)&&r===e){this.clearTemplate(["template"],s);break}}},t.prototype.onPropertyChanged=function(e,i){var s=this.element;this.extendedOpen();for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];switch(o){case"items":if(e.items instanceof Array&&i.items instanceof Array)this.itemsRerender(e.items);else for(var l=Object.keys(e.items),c=0;c<l.length;c++){var d=parseInt(Object.keys(e.items)[parseInt(c.toString(),10)],10),p=Object.keys(e.items[parseInt(d.toString(),10)])[0],u=Object(e.items[parseInt(d.toString(),10)])[""+p];if(this.tbarAlign||p==="align"){this.refresh(),this.trigger("created");break}var f=p==="showAlwaysInPopup"&&!u,m=p==="overflow"&&this.popupPriCount!==0;(f||this.items[parseInt(d.toString(),10)].showAlwaysInPopup&&m)&&--this.popupPriCount,h(this.scrollModule)&&this.destroyMode();var g=[].slice.call(ce("."+Re+" ."+ze,s));this.isReact&&this.items[parseInt(d.toString(),10)].template&&this.clearToolbarTemplate(g[parseInt(d.toString(),10)]),N(g[parseInt(d.toString(),10)]),this.tbarEle.splice(d,1),this.addItems([this.items[parseInt(d.toString(),10)]],d),this.items.splice(d,1),this.items[parseInt(d.toString(),10)].template&&this.tbarEle.splice(this.items.length,1)}break;case"width":se(s,{width:X(e.width)}),this.refreshOverflow();break;case"height":se(this.element,{height:X(e.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(s,xi),this.refreshOverflow();break;case"enableRtl":e.enableRtl?this.add(s,xi):this.remove(s,xi),h(this.scrollModule)||(e.enableRtl?this.add(this.scrollModule.element,xi):this.remove(this.scrollModule.element,xi)),h(this.popObj)||(e.enableRtl?this.add(this.popObj.element,xi):this.remove(this.popObj.element,xi)),this.tbarAlign&&this.itemPositioning();break;case"scrollStep":this.scrollModule&&(this.scrollModule.scrollStep=this.scrollStep);break;case"enableCollision":this.popObj&&(this.popObj.collision={Y:this.enableCollision?"flip":"none"});break;case"cssClass":i.cssClass&&k([this.element],i.cssClass.split(" ")),e.cssClass&&L([this.element],e.cssClass.split(" "));break;case"allowKeyboard":this.unwireKeyboardEvent(),e.allowKeyboard&&this.wireKeyboardEvent();break}}},t.prototype.hideItem=function(e,i){var s=typeof e=="object",n=e,r;if(!(!s&&h(n))){var o=[].slice.call(ce("."+ze,this.element));if(s)r=e;else if(this.tbarEle[parseInt(n.toString(),10)]){var l=[].slice.call(ce("."+ze,this.element));r=l[parseInt(n.toString(),10)]}r&&(i?(r.classList.add(ki),r.classList.contains(We)||(h(r.firstElementChild.getAttribute("tabindex"))||r.firstElementChild.getAttribute("tabindex")!=="-1")&&this.updateHideEleTabIndex(r,i,s,n,o)):(r.classList.remove(ki),r.classList.contains(We)||this.updateHideEleTabIndex(r,i,s,n,o)),this.refreshOverflow())}},Oe([Qt([],a0)],t.prototype,"items",void 0),Oe([y("auto")],t.prototype,"width",void 0),Oe([y("auto")],t.prototype,"height",void 0),Oe([y("")],t.prototype,"cssClass",void 0),Oe([y("Scrollable")],t.prototype,"overflowMode",void 0),Oe([y()],t.prototype,"scrollStep",void 0),Oe([y(!0)],t.prototype,"enableCollision",void 0),Oe([y(!0)],t.prototype,"enableHtmlSanitizer",void 0),Oe([y(!0)],t.prototype,"allowKeyboard",void 0),Oe([z()],t.prototype,"clicked",void 0),Oe([z()],t.prototype,"created",void 0),Oe([z()],t.prototype,"destroyed",void 0),Oe([z()],t.prototype,"beforeCreate",void 0),t=Oe([ke],t),t}(Ge);var o0=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Qa=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},Sm=function(a){o0(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Qa([y(null)],t.prototype,"downloadUrl",void 0),Qa([y(null)],t.prototype,"getImageUrl",void 0),Qa([y(null)],t.prototype,"uploadUrl",void 0),Qa([y(null)],t.prototype,"url",void 0),t}(ge),l0=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Cm=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},h0=["NewFolder","Upload","Cut","Copy","Paste","Delete","Download","Rename","SortBy","Refresh","Selection","View","Details"],Em=function(a){l0(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Cm([y(h0)],t.prototype,"items",void 0),Cm([y(!0)],t.prototype,"visible",void 0),t}(ge);var c0=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ya=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},Tm=function(a){c0(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Ya([y(!0)],t.prototype,"allowSearchOnTyping",void 0),Ya([y("contains")],t.prototype,"filterType",void 0),Ya([y(!0)],t.prototype,"ignoreCase",void 0),Ya([y(null)],t.prototype,"placeholder",void 0),t}(ge),d0=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Mm=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},p0=[{field:"name",headerText:"Name",minWidth:120,template:'<span class="e-fe-text">${name}</span>',customAttributes:{class:"e-fe-grid-name"}},{field:"_fm_modified",headerText:"DateModified",type:"dateTime",format:"MMMM dd, yyyy HH:mm",minWidth:120,width:"190"},{field:"size",headerText:"Size",minWidth:90,width:"110",template:sn(function(a){return'<span class="e-fe-size">'+a.size+"</span>"}),format:"n2"}],Nm=function(a){d0(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Mm([y(!0)],t.prototype,"columnResizing",void 0),Mm([y(p0)],t.prototype,"columns",void 0),t}(ge),u0=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ga=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},f0=["Open","|","Cut","Copy","|","Delete","Download","Rename","|","Details"],m0=["Open","|","Cut","Copy","Paste","|","Delete","Rename","Download","|","Details"],g0=["SortBy","View","Refresh","|","Paste","|","NewFolder","Upload","|","Details","|","SelectAll"],Im=function(a){u0(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Ga([y(f0)],t.prototype,"file",void 0),Ga([y(m0)],t.prototype,"folder",void 0),Ga([y(g0)],t.prototype,"layout",void 0),Ga([y(!0)],t.prototype,"visible",void 0),t}(ge),v0=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xa=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},Dm=function(a){v0(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Xa([y("650px")],t.prototype,"maxWidth",void 0),Xa([y("240px")],t.prototype,"minWidth",void 0),Xa([y(!0)],t.prototype,"visible",void 0),Xa([y("None")],t.prototype,"sortOrder",void 0),t}(ge),y0=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Cn=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},Lm=function(a){y0(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Cn([y("")],t.prototype,"allowedExtensions",void 0),Cn([y(!0)],t.prototype,"autoUpload",void 0),Cn([y(!1)],t.prototype,"autoClose",void 0),Cn([y(!1)],t.prototype,"directoryUpload",void 0),Cn([y(0)],t.prototype,"minFileSize",void 0),Cn([y(3e7)],t.prototype,"maxFileSize",void 0),t}(ge);var jr="tableclass",b0="load",dc="initial-load",Ir="content-changed",Ct="initial-end",wt="iframe-click",Ee="destroy",pc="toolbarClick",Ps="toolbar-refresh",wm="refresh-begin",Zi="toolbar-updated",uc="bind-on-end",fc="html-toolbar-click",C0="markdown-toolbar-click",gt="model-changed",mc="tableModulekeyUp",Ht="keyUp",pt="keyDown",Rr="mouseUp",M0="toolbarCreated",Om="toolbarRenderComplete",gc="enableFullScreen",vc="disableFullScreen",gi="dropDownSelect",yc="beforeDropDownItemRender",bc="execCommandCallBack",Cc="image-toolbar-action",Mc="audio-toolbar-action",Sc="video-toolbar-action",Ec="link-toolbar-action",zr="resize",Wd="resizeStart",Qd="resizing",Yd="resizeStop";var Tc="insertLink",ao="unLink",Vh="editLink",Ka="openLink",bt="actionBegin",vi="actionComplete",S0="updatedToolbarStatus";var Dr="updateToolbarItem",oo="insertImage",lo="insertAudio",ho="insertVideo",es="insertCompleted";var qh="insertImgLink",_h="imgAltText",Wh="delete",Qh="delete",Yh="delete",Gh="caption",Xh="imageSize",Kh="videoSize",Do="sourceCode",Nc="updateSource";var Lo="beforeDropDownOpen",ti="selection-save",ii="selection-restore";var E0="count";var _t="mouseDown",Pr="sourceCodeMouseDown",si="editAreaClick",Mr="scroll",Sr="contentscroll",Lr="colorPickerChanged",wr="tableColorPickerChanged",Br="focusChange",Ic="selectAll",wo="selectRange",Dc="getSelectedHtml",Lc="renderInlineToolbar",Ln="paste-content";var ts="rtl-mode",wc="createTable",Hr="docClick",Oc="table-toolbar-action",Fr="checkUndoStack",xc="readOnlyMode",ni="moduleDestroy",kc="pasteClean",Ac="enterHandler",T0="beforeDialogOpen",is="clearDialogObj",N0="dialogOpen",I0="beforeDialogClose",D0="dialogClose",L0="beforeQuickToolbarOpen",w0="quickToolbarOpen",O0="quickToolbarClose";var x0="imageSelected",jc="imageUploading",Rc="imageUploadSuccess",zc="imageUploadFailed",Cg="imageRemoving",Mg="fileSelected",Sg="fileUploading",Eg="fileUploadSuccess",Tg="fileUploadFailed",Ng="fileRemoving",xm="afterImageDelete",Oo="afterMediaDelete",Pc="drop",Ur="xhtmlValidation",Bc="beforeImageUpload",Ig="beforeFileUpload",km="resizeInitialized",Dg="renderFileManager",k0="beforeImageDrop",ss="dynamicModule",A0="beforePasteCleanup",Am="afterPasteCleanup",Hc="updateTbItemsStatus",Fc="showLinkDialog",Uc="closeLinkDialog",Vc="showImageDialog",qc="showAudioDialog",_c="showVideoDialog",Wc="closeImageDialog",Qc="closeAudioDialog",Yc="closeVideoDialog",Gc="showTableDialog",Xc="closeTableDialog",ot="bindCssClass",j0="formatPainterClick",R0="formatPainterDoubleClick",Lg="emojiPicker",xo="destroyTooltip",Kc="hidePopup",$c="cleanupResizeElements",Jc="afterKeyDown",Zc="updateValueOnIdle",Hs="documentClickClosedBy",ed="showColorPicker",ko="closeTooltip",td="autoResize",z0=`address:empty, article:empty, aside:empty, blockquote:empty,
 details:empty, dd:empty, div:empty, dl:empty, dt:empty, fieldset:empty, footer:empty,form:empty, h1:empty,
 h2:empty, h3:empty, h4:empty, h5:empty, h6:empty, header:empty, hgroup:empty, li:empty, main:empty, nav:empty,
 noscript:empty, output:empty, p:empty, pre:empty, section:empty, td:empty, th:empty`,P0=`a:empty, abbr:empty, acronym:empty, b:empty, bdi:empty, bdo:empty, big:empty, button:empty,
canvas:empty, cite:empty, code:empty, data:empty, datalist:empty, del:empty, dfn:empty, em:empty, font:empty, i:empty, iframe:empty,
ins:empty, kbd:empty, label:empty, map:empty, mark:empty, meter:empty, noscript:empty, object:empty, output:empty, picture:empty, progress:empty,
q:empty, ruby:empty, s:empty, samp:empty, script:empty, select:empty, slot:empty, small:empty, span:empty, strong:empty, strike:empty, sub:empty, sup:empty, svg:empty,
template:empty, textarea:empty, time:empty, u:empty, tt:empty, var:empty, wbr:empty`,jm=["px","em","rem","pt","cm","mm","in","pc","vw","vh","vmin","vmax"],B0={px:{px:1,em:.0625,rem:.0625,pt:.75,cm:.0264583,mm:.0026458,in:.0104167,pc:.0625,vw:.00625,vh:.00625,vmin:.00625,vmax:.00625},em:{px:16,em:1,rem:1,pt:12,cm:.423333,mm:.0423333,in:.166667,pc:.0625,vw:1,vh:1,vmin:1,vmax:1},rem:{px:16,em:1,rem:1,pt:12,cm:.423333,mm:.0423333,in:.166667,pc:.0625,vw:1,vh:1,vmin:1,vmax:1},pt:{px:1.33333,em:.0833333,rem:.0833333,pt:1,cm:.0352778,mm:.0035278,in:.0138889,pc:.0416667,vw:.00416667,vh:.00416667,vmin:.00416667,vmax:.00416667},cm:{px:37.7953,em:2.3622,rem:2.3622,pt:28.3465,cm:1,mm:.1,in:.393701,pc:.148148,vw:.0377953,vh:.0377953,vmin:.0377953,vmax:.0377953},mm:{px:3.77953,em:.23622,rem:.23622,pt:2.83465,cm:10,mm:1,in:.0393701,pc:.0148148,vw:.00377953,vh:.00377953,vmin:.00377953,vmax:.00377953},in:{px:96,em:6,rem:6,pt:72,cm:2.54,mm:25.4,in:1,pc:.375,vw:.09375,vh:.09375,vmin:.09375,vmax:.09375},pc:{px:16,em:1,rem:1,pt:12,cm:.423333,mm:.0423333,in:.166667,pc:1,vw:.0625,vh:.0625,vmin:.0625,vmax:.0625},vw:{px:160,em:10,rem:10,pt:120,cm:4.23333,mm:.423333,in:1.66667,pc:.625,vw:1,vh:1,vmin:1,vmax:1},vh:{px:160,em:10,rem:10,pt:120,cm:4.23333,mm:.423333,in:1.66667,pc:.625,vw:1,vh:1,vmin:1,vmax:1},vmin:{px:160,em:10,rem:10,pt:120,cm:4.23333,mm:.423333,in:1.66667,pc:.625,vw:1,vh:1,vmin:1,vmax:1},vmax:{px:160,em:10,rem:10,pt:120,cm:4.23333,mm:.423333,in:1.66667,pc:.625,vw:1,vh:1,vmin:1,vmax:1}},wg="onHandleFontsizeChange",Or="e-richtexteditor",js="e-rtl";var $h="e-disabled",Rm="rte-iframe-script-sheet",zm="rte-iframe-style-sheet",H0="e-rte-container",co="e-rte-toolbar",Pm="e-rte-tb-fixed",id="e-rte-tb-float",Jh="e-rte-inline";var Bm="e-rte-tb-expand",vr="e-rte-full-screen",po="e-rte-quick-toolbar",F0="e-rte-text-quicktoolbar",Hm="e-rte-pop",U0="e-tb-static",V0="e-rte-quick-popup",As="e-quick-dropdown",q0="e-rte-image-popup",Fm="e-rte-text-popup",Er="e-rte-inline-popup",Zh="e-rte-inline-dropdown",Zt="e-rte-dropdown-popup",ec="e-rte-dropdown-icons",Ai="e-rte-dropdown-items",Dt="e-rte-dropdown-btn",_0="e-rte-content",Ss="e-toolbar-item";var tc="e-toolbar-wrapper";var Um="e-show",Tr="e-hide",Vm="e-visible",ic="e-focused",qm="e-remove-white-space",_m="e-imgright",Wm="e-imgleft",Qm="e-imgcenter",Ms="e-imgbreak",Ym="e-audio-break",Ji="e-clickelem",wn="e-video-clickelem",Fi="e-audio-wrap",In="e-video-wrap",Gm="e-video-break",ei="e-img-caption",W0="e-rte-img-caption",yr="e-caption-inline",Rs="e-imginline",sd="e-audio-inline",nd="e-video-inline";var Ao="e-icons",zs="e-active",rd="e-expand-open",rt="e-rte-elements",sc="e-tbar-btn",Q0="e-rte-horizontal-separator",Xm="e-tbar-ios-fixed",nc="e-rte-list-primary-content",Y0="e-rte-numberformatlist-dropdown",G0="e-rte-bulletformatlist-dropdown",X0="e-formats-tbar-btn",K0="e-font-name-tbar-btn",$0="e-font-size-tbar-btn",J0="e-alignment-tbar-btn",Z0="e-rte-fontcolor-element",eM="e-rte-backgroundcolor-element",br="e-rte-color-content",tM="e-rte-fontcolor-dropdown",iM="e-rte-backgroundcolor-dropdown",sM="e-rte-square-palette",Km="e-rte-fontcolor-colorpicker",$m="e-rte-backgroundcolor-colorpicker",ad="e-rte-readonly",zt="e-cell-select",Gd="e-cell-select-end",Xd="e-multi-cells-select",Mn="e-dashed-border",Sn="e-alternate-border",$a="e-column-resize",Ja="e-row-resize",Za="e-table-box",Jm="e-rte-hidden",nM="e-rte-keepformat",rM="e-rte-removeformat",aM="e-rte-plainformat",oM="e-rte-pasteok",lM="e-rte-pastecancel",hM="e-rte-dialog-minheight";var od="e-rte-image",cM="e-resize",uo="e-img-focus",zi="e-audio-focus",ui="e-video-focus",eo="e-rte-drag-image",Og="e-rte-upload-popup",ld="e-popup-open",dM="e-img-resize",pM="e-droparea",uM="e-img-inner",fM="e-upload-files",xg="e-rte-dialog-upload";var mM="e-custom-tile",gM="e-nocolor-item";var Zm="e-rte-table-border",eg="e-rte-table-resize",tg="e-rte-fixed-tb-expand",ig="e-rte-toolbar-enabled";var Bs="e-rte-srctextarea",vM=["Enter","ArrowRight","ArrowLeft"],Ce=function(a){return a[a.Toolbar=0]="Toolbar",a[a.Content=1]="Content",a[a.Popup=2]="Popup",a[a.LinkToolbar=3]="LinkToolbar",a[a.TextToolbar=4]="TextToolbar",a[a.ImageToolbar=5]="ImageToolbar",a[a.AudioToolbar=6]="AudioToolbar",a[a.VideoToolbar=7]="VideoToolbar",a[a.InlineToolbar=8]="InlineToolbar",a[a.TableToolbar=9]="TableToolbar",a}(Ce||{}),mi=function(a){return a.Expand="Expand",a.MultiRow="MultiRow",a.Scrollable="Scrollable",a}(mi||{}),fi=function(a){return a.InsertLink="InsertLink",a.InsertImage="InsertImage",a.InsertAudio="InsertAudio",a.InsertVideo="InsertVideo",a.InsertTable="InsertTable",a}(fi||{}),jo=function(a){return a.Uploaded="Uploaded",a.Dropped="Dropped",a.Pasted="Pasted",a}(jo||{}),Kd=["alignments","formats","fontname","fontsize","fontcolor","backgroundcolor","align","display","audiolayoutoption","videolayoutoption","videoalign","tablerows","tablecolumns","tablecell","tablecellhorizontalalign","tablecellverticalalign","styles","numberformatlist","bulletformatlist"],On={alignments:{id:"Alignments",icon:"e-alignments",tooltip:"Alignments",command:"Alignments",subCommand:"Alignments"},justifyleft:{id:"JustifyLeft",icon:"e-justify-left",tooltip:"JustifyLeft",command:"Alignments",subCommand:"JustifyLeft"},justifycenter:{id:"JustifyCenter",icon:"e-justify-center",tooltip:"JustifyCenter",command:"Alignments",subCommand:"JustifyCenter"},justifyright:{id:"JustifyRight",icon:"e-justify-right",tooltip:"JustifyRight",command:"Alignments",subCommand:"JustifyRight"},justifyfull:{id:"JustifyFull",icon:"e-justify-full",tooltip:"JustifyFull",command:"Alignments",subCommand:"JustifyFull"},fontname:{id:"FontName",icon:"e-font-name",tooltip:"Font Name",command:"Font",subCommand:"FontName"},fontsize:{id:"FontSize",icon:"e-font-size",tooltip:"Font Size",command:"Font",subCommand:"FontSize"},fontcolor:{id:"FontColor",icon:"e-rte-font-color",tooltip:"Font Color",command:"Font",subCommand:"FontColor",value:"#ff0000ff"},backgroundcolor:{id:"BackgroundColor",icon:"e-background-color",tooltip:"Background Color",command:"Font",subCommand:"BackgroundColor",value:"#ffff00ff"},bold:{id:"Bold",icon:"e-bold",tooltip:"Bold",command:"Style",subCommand:"Bold"},italic:{id:"Italic",icon:"e-italic",tooltip:"Italic",command:"Style",subCommand:"Italic"},underline:{id:"Underline",icon:"e-underline",tooltip:"Underline",command:"Style",subCommand:"Underline"},strikethrough:{id:"StrikeThrough",icon:"e-strike-through",tooltip:"StrikeThrough",command:"Style",subCommand:"StrikeThrough"},clearformat:{id:"ClearFormat",icon:"e-clear-format",tooltip:"Clear Format",command:"Clear",subCommand:"ClearFormat"},clearall:{id:"ClearAll",icon:"e-clear-all",tooltip:"Clear All",command:"Clear",subCommand:"ClearAll"},cut:{id:"Cut",icon:"e-cut",tooltip:"Cut",command:"ClipBoard",subCommand:"Cut"},copy:{id:"Copy",icon:"e-copy",tooltip:"Copy",command:"ClipBoard",subCommand:"Copy"},paste:{id:"Paste",icon:"e-paste",tooltip:"Paste",command:"ClipBoard",subCommand:"Paste"},unorderedlist:{id:"UnorderedList",icon:"e-unorder-list",tooltip:"Bulleted List",command:"Lists",subCommand:"UL"},orderedlist:{id:"OrderedList",icon:"e-order-list",tooltip:"Numbered List",command:"Lists",subCommand:"OL"},numberformatlist:{id:"NumberFormatList",icon:"e-order-list",tooltip:"Number Format List",command:"NumberFormatList",subCommand:"NumberFormatList"},bulletformatlist:{id:"BulletFormatList",icon:"e-unorder-list",tooltip:"Bullet Format List",command:"BulletFormatList",subCommand:"BulletFormatList"},indent:{id:"Indent",icon:"e-indent",tooltip:"Increase Indent",command:"Indents",subCommand:"Indent"},outdent:{id:"Outdent",icon:"e-outdent",tooltip:"Decrease Indent",command:"Indents",subCommand:"Outdent"},undo:{id:"Undo",icon:"e-undo",tooltip:"Undo",command:"Actions",subCommand:"Undo"},redo:{id:"Redo",icon:"e-redo",tooltip:"Redo",command:"Actions",subCommand:"Redo"},superscript:{id:"SuperScript",icon:"e-super-script",tooltip:"Superscript",command:"Effects",subCommand:"SuperScript"},subscript:{id:"SubScript",icon:"e-sub-script",tooltip:"Subscript",command:"Effects",subCommand:"SubScript"},createlink:{id:"CreateLink",icon:"e-create-link",tooltip:"Insert Hyperlink",command:"Links",subCommand:"CreateLink"},openlink:{id:"OpenLink",icon:"e-open-link",tooltip:"Open Link",command:"Links",subCommand:"OpenLink"},editlink:{id:"EditLink",icon:"e-edit-link",tooltip:"Edit Link",command:"Links",subCommand:"EditLink"},removelink:{id:"RemoveLink",icon:"e-remove-link",tooltip:"Remove Link",command:"Links",subCommand:"RemoveLink"},image:{id:"Image",icon:"e-image",tooltip:"Insert Image",command:"Images",subCommand:"Image"},audio:{id:"Audio",icon:"e-audio",tooltip:"Insert Audio",command:"Audios",subCommand:"Audio"},video:{id:"Video",icon:"e-video",tooltip:"Insert Video",command:"Videos",subCommand:"Video"},filemanager:{id:"FileManager",icon:"e-rte-file-manager",tooltip:"File Manager",command:"Files",subCommand:"File"},createtable:{id:"CreateTable",icon:"e-create-table",tooltip:"Create Table",command:"Table",subCommand:"CreateTable"},removetable:{id:"removeTable",icon:"e-remove-table",tooltip:"Remove Table",command:"removeTable",subCommand:"removeTable"},replace:{id:"Replace",icon:"e-replace",tooltip:"Replace",command:"Images",subCommand:"Replace"},audioreplace:{id:"AudioReplace",icon:"e-audio-replace",tooltip:"Audio Replace",command:"Audios",subCommand:"AudioReplace"},audioremove:{id:"AudioRemove",icon:"e-audio-remove",tooltip:"Audio Remove",command:"Audios",subCommand:"AudioRemove"},audiolayoutoption:{id:"AudioLayoutOption",icon:"e-audio-display",tooltip:"Audio LayoutOption",command:"Audios",subCommand:"AudioLayoutOption"},videoreplace:{id:"VideoReplace",icon:"e-video-replace",tooltip:"Video Replace",command:"Videos",subCommand:"VideoReplace"},videoalign:{id:"VideoAlign",icon:"e-video-align",tooltip:"Video Align",command:"Videos",subCommand:"VideoAlign"},videoremove:{id:"VideoRemove",icon:"e-video-remove",tooltip:"Video Remove",command:"Videos",subCommand:"VideoRemove"},videolayoutoption:{id:"VideoLayoutOption",icon:"e-video-display",tooltip:"Video LayoutOption",command:"Videos",subCommand:"VideoLayoutOption"},videodimension:{id:"VideoDimension",icon:"e-video-dimension",tooltip:"Video Dimension",command:"Videos",subCommand:"VideoDimension"},align:{id:"Align",icon:"e-align",tooltip:"Align",command:"Images",subCommand:"Align"},caption:{id:"Caption",icon:"e-caption",tooltip:"Image Caption",command:"Images",subCommand:"Caption"},remove:{id:"Remove",icon:"e-remove",tooltip:"Remove",command:"Images",subCommand:"Remove"},openimagelink:{id:"OpenImageLink",icon:"e-open-link",tooltip:"Open Link",command:"Images",subCommand:"OpenImageLink"},editimagelink:{id:"EditImageLink",icon:"e-edit-link",tooltip:"Edit Link",command:"Images",subCommand:"EditImageLink"},removeimagelink:{id:"RemoveImageLink",icon:"e-remove-link",tooltip:"Remove Link",command:"Images",subCommand:"RemoveImageLink"},insertlink:{id:"InsertLink",icon:"e-insert-link",tooltip:"Insert Link",command:"Images",subCommand:"InsertLink"},display:{id:"Display",icon:"e-display",tooltip:"Display",command:"Images",subCommand:"Display"},alttext:{id:"AltText",icon:"e-alt-text",tooltip:"Alternative Text",command:"Images",subCommand:"AltText"},dimension:{id:"Dimension",icon:"e-img-dimension",tooltip:"Change Size",command:"Images",subCommand:"Dimension"},fullscreen:{id:"Maximize",icon:"e-maximize",tooltip:"Maximize",command:"View",subCommand:"Maximize"},maximize:{id:"Maximize",icon:"e-maximize",tooltip:"Maximize",command:"FullScreen",subCommand:"Maximize"},minimize:{id:"Minimize",icon:"e-minimize",tooltip:"Minimize",command:"FullScreen",subCommand:"Minimize"},lowercase:{id:"LowerCase",icon:"e-lower-case",tooltip:"Lower Case",command:"Casing",subCommand:"LowerCase"},uppercase:{id:"UpperCase",icon:"e-upper-case",tooltip:"Upper Case",command:"Casing",subCommand:"UpperCase"},print:{id:"Print",icon:"e-print",tooltip:"Print",command:"Print",subCommand:"Print"},formats:{id:"Formats",icon:"e-formats",tooltip:"Formats",command:"Formats",subCommand:"Formats"},sourcecode:{id:"SourceCode",icon:"e-source-code",tooltip:"Code View (Ctrl+Shift+H)",command:"SourceCode",subCommand:"SourceCode"},preview:{id:"Preview",icon:"e-preview",tooltip:"Preview (Ctrl+Shift+H)",command:"Preview",subCommand:"Preview"},viewside:{id:"ViewSide",icon:"e-view-side",tooltip:"ViewSide",command:"ViewSide",subCommand:"ViewSide"},insertcode:{id:"InsertCode",icon:"e-insert-code",tooltip:"Insert Code",command:"Formats",subCommand:"Pre"},blockquote:{id:"Blockquote",icon:"e-blockquote",tooltip:"Blockquote",command:"Formats",subCommand:"blockquote"},tableheader:{id:"TableHeader",icon:"e-table-header",tooltip:"Table Header",command:"Table",subCommand:"TableHeader"},tableremove:{id:"TableRemove",icon:"e-table-remove",tooltip:"Table Remove",command:"Table",subCommand:"TableRemove"},tablerows:{id:"TableRows",icon:"e-table-rows",tooltip:"Table Rows",command:"Table",subCommand:"TableRows"},tablecolumns:{id:"TableColumns",icon:"e-table-columns",tooltip:"Table Columns",command:"Table",subCommand:"TableColumns"},tablecell:{id:"TableCell",icon:"e-table-cell",tooltip:"Table Cell",command:"Table",subCommand:"TableCell"},tablecellbackground:{id:"TableCellBackground",icon:"e-table-cell-background",tooltip:"Table Cell Background",command:"Table",subCommand:"TableCellBackground"},tablecellhorizontalalign:{id:"TableCellHorizontalAlign",icon:"e-table-cell-horizontalAlign",tooltip:"Table Cell HorizontalAlign",command:"Table",subCommand:"TableCellHorizontalAlign"},tablecellverticalalign:{id:"TableCellVerticalAlign",icon:"e-table-cell-verticalAlign",tooltip:"Table Cell VerticalAlign",command:"Table",subCommand:"TableCellVerticalAlign"},tableeditproperties:{id:"TableEditProperties",icon:"e-table-edit-properties",tooltip:"Table Edit Properties",command:"Table",subCommand:"TableEditProperties"},styles:{id:"Styles",icon:"e-table-styles",tooltip:"Styles",command:"Table",subCommand:"Styles"},formatpainter:{id:"FormatPainter",icon:"e-rte-format-painter",tooltip:"Format Painter",command:"FormatPainter",subCommand:"FormatPainter"},emojipicker:{id:"EmojiPicker",icon:"e-emoji",tooltip:"Emoji Icon",command:"EmojiPicker",subCommand:"EmojiPicker"}},yM=[{locale:"alignmentsDropDownLeft",value:"JustifyLeft"},{locale:"alignmentsDropDownCenter",value:"JustifyCenter"},{locale:"alignmentsDropDownRight",value:"JustifyRight"},{locale:"alignmentsDropDownJustify",value:"JustifyFull"}],xr=[{iconCss:"e-icons e-justify-left",text:"Align Left",command:"Alignments",subCommand:"JustifyLeft"},{iconCss:"e-icons e-justify-center",text:"Align Center",command:"Alignments",subCommand:"JustifyCenter"},{iconCss:"e-icons e-justify-right",text:"Align Right",command:"Alignments",subCommand:"JustifyRight"},{iconCss:"e-icons e-justify-full",text:"Align Justify",command:"Alignments",subCommand:"JustifyFull"}],bM=[{iconCss:"e-icons e-justify-left",command:"Images",subCommand:"JustifyLeft"},{iconCss:"e-icons e-justify-center",command:"Images",subCommand:"JustifyCenter"},{iconCss:"e-icons e-justify-right",command:"Images",subCommand:"JustifyRight"}],CM=[{iconCss:"e-icons e-justify-left",command:"Videos",subCommand:"JustifyLeft"},{iconCss:"e-icons e-justify-center",command:"Videos",subCommand:"JustifyCenter"},{iconCss:"e-icons e-justify-right",command:"Videos",subCommand:"JustifyRight"}],MM=[{locale:"imageDisplayDropDownInline",value:"Inline"},{locale:"imageDisplayDropDownBreak",value:"Break"}],SM=[{locale:"audioLayoutOptionDropDownInline",value:"Inline"},{locale:"audioLayoutOptionDropDownBreak",value:"Break"}],EM=[{locale:"videoLayoutOptionDropDownInline",value:"Inline"},{locale:"videoLayoutOptionDropDownBreak",value:"Break"}],fo=[{text:"Inline",cssClass:"e-inline",command:"Images",subCommand:"Inline"},{text:"Break",cssClass:"e-break",command:"Images",subCommand:"Break"}],mo=[{text:"Inline",cssClass:"e-audio-inline",command:"Audios",subCommand:"Inline"},{text:"Break",cssClass:"e-audio-break",command:"Audios",subCommand:"Break"}],go=[{text:"Inline",cssClass:"e-video-inline",command:"Videos",subCommand:"Inline"},{text:"Break",cssClass:"e-video-break",command:"Videos",subCommand:"Break"}],TM=[{iconCss:"e-icons e-cell-merge",text:"Merge cells",command:"Table",subCommand:"Merge"},{iconCss:"e-icons e-cell-horizontal-split",text:"Horizontal split",command:"Table",subCommand:"HorizontalSplit"},{iconCss:"e-icons e-cell-vertical-split",text:"Vertical split",command:"Table",subCommand:"VerticalSplit"}],NM=[{locale:"tableInsertRowDropDownBefore",value:"InsertRowBefore"},{locale:"tableInsertRowDropDownAfter",value:"InsertRowAfter"},{locale:"tableInsertRowDropDownDelete",value:"DeleteRow"}],vo=[{iconCss:"e-icons e-insert-row-before",text:"Insert row before",command:"Table",subCommand:"InsertRowBefore"},{iconCss:"e-icons e-insert-row-after",text:"Insert row after",command:"Table",subCommand:"InsertRowAfter"},{iconCss:"e-icons e-delete-row",text:"Delete row",command:"Table",subCommand:"DeleteRow"}],IM=[{locale:"tableInsertColumnDropDownLeft",value:"InsertColumnLeft"},{locale:"tableInsertColumnDropDownRight",value:"InsertColumnRight"},{locale:"tableInsertColumnDropDownDelete",value:"DeleteColumn"}],yo=[{iconCss:"e-icons e-insert-column-left",text:"Insert column left",command:"Table",subCommand:"InsertColumnLeft"},{iconCss:"e-icons e-insert-column-right",text:"Insert column right",command:"Table",subCommand:"InsertColumnRight"},{iconCss:"e-icons e-delete-column",text:"Delete column",command:"Table",subCommand:"DeleteColumn"}],DM=[{locale:"tableVerticalAlignDropDownTop",value:"AlignTop"},{locale:"tableVerticalAlignDropDownMiddle",value:"AlignMiddle"},{locale:"tableVerticalAlignDropDownBottom",value:"AlignBottom"}],bo=[{iconCss:"e-icons e-align-top",text:"Align Top",command:"Table",subCommand:"AlignTop"},{iconCss:"e-icons e-align-middle",text:"Align Middle",command:"Table",subCommand:"AlignMiddle"},{iconCss:"e-icons e-align-bottom",text:"Align Bottom",command:"Table",subCommand:"AlignBottom"}],LM=[{locale:"tableStylesDropDownDashedBorder",value:"Dashed"},{locale:"tableStylesDropDownAlternateRows",value:"Alternate"}],Co=[{text:"Dashed Borders",cssClass:"e-dashed-borders",command:"Table",subCommand:"Dashed"},{text:"Alternate Rows",cssClass:"e-alternate-rows",command:"Table",subCommand:"Alternate"}],wM=["Bold","Italic","Underline","|","Formats","Alignments","Blockquote","OrderedList","UnorderedList","|","CreateLink","Image","|","SourceCode","Undo","Redo"],Mo=[{cssClass:"e-default",text:"Default",command:"Font",subCommand:"FontName",value:""},{cssClass:"e-segoe-ui",text:"Segoe UI",command:"Font",subCommand:"FontName",value:"Segoe UI"},{cssClass:"e-arial",text:"Arial",command:"Font",subCommand:"FontName",value:"Arial,Helvetica,sans-serif"},{cssClass:"e-georgia",text:"Georgia",command:"Font",subCommand:"FontName",value:"Georgia,serif"},{cssClass:"e-impact",text:"Impact",command:"Font",subCommand:"FontName",value:"Impact,Charcoal,sans-serif"},{cssClass:"e-tahoma",text:"Tahoma",command:"Font",subCommand:"FontName",value:"Tahoma,Geneva,sans-serif"},{cssClass:"e-times-new-roman",text:"Times New Roman",command:"Font",subCommand:"FontName",value:"Times New Roman,Times,serif"},{cssClass:"e-verdana",text:"Verdana",command:"Font",subCommand:"FontName",value:"Verdana,Geneva,sans-serif"}],OM=[{text:"Default",value:""},{text:"8 pt",value:"8pt"},{text:"10 pt",value:"10pt"},{text:"12 pt",value:"12pt"},{text:"14 pt",value:"14pt"},{text:"18 pt",value:"18pt"},{text:"24 pt",value:"24pt"},{text:"36 pt",value:"36pt"}],So=[{cssClass:"e-paragraph",text:"Paragraph",command:"Formats",subCommand:"P",value:"P"},{cssClass:"e-code",text:"Code",command:"Formats",subCommand:"Pre",value:"Pre"},{cssClass:"e-h1",text:"Heading 1",command:"Formats",subCommand:"H1",value:"H1"},{cssClass:"e-h2",text:"Heading 2",command:"Formats",subCommand:"H2",value:"H2"},{cssClass:"e-h3",text:"Heading 3",command:"Formats",subCommand:"H3",value:"H3"},{cssClass:"e-h4",text:"Heading 4",command:"Formats",subCommand:"H4",value:"H4"}],xM={Custom:["","#000000","#e7e6e6","#44546a","#4472c4","#ed7d31","#a5a5a5","#ffc000","#70ad47","#ff0000","#f2f2f2","#808080","#cfcdcd","#d5dce4","#d9e2f3","#fbe4d5","#ededed","#fff2cc","#e2efd9","#ffcccc","#d9d9d9","#595959","#aeaaaa","#acb9ca","#b4c6e7","#f7caac","#dbdbdb","#ffe599","#c5e0b3","#ff8080","#bfbfbf","#404040","#747070","#8496b0","#8eaadb","#f4b083","#c9c9c9","#ffd966","#a8d08d","#ff3333","#a6a6a6","#262626","#3b3838","#323e4f","#2f5496","#c45911","#7b7b7b","#bf8f00","#538135","#b30000","#7f7f7f","#0d0d0d","#161616","#212934","#1f3763","#823b0b","#525252","#7f5f00","#375623","#660000"]},kM={Custom:["","#000000","#ffff00","#00ff00","#00ffff","#0000ff","#ff0000","#000080","#800080","#996633","#f2f2f2","#808080","#ffffcc","#b3ffb3","#ccffff","#ccccff","#ffcccc","#ccccff","#ff80ff","#f2e6d9","#d9d9d9","#595959","#ffff80","#80ff80","#b3ffff","#8080ff","#ff8080","#8080ff","#ff00ff","#dfbf9f","#bfbfbf","#404040","#ffff33","#33ff33","#33ffff","#3333ff","#ff3333","#0000b3","#b300b3","#c68c53","#a6a6a6","#262626","#e6e600","#00b300","#009999","#000099","#b30000","#000066","#660066","#86592d","#7f7f7f","#0d0d0d","#999900","#006600","#006666","#000066","#660000","#00004d","#4d004d","#734d26"]},Eo=[{text:"None",command:"Lists",subCommand:"NumberFormatList",value:"none"},{text:"Number",command:"Lists",subCommand:"NumberFormatList",value:"decimal"},{text:"Lower Greek",command:"Lists",subCommand:"NumberFormatList",value:"lowerGreek"},{text:"Lower Roman",command:"Lists",subCommand:"NumberFormatList",value:"lowerRoman"},{text:"Upper Alpha",command:"Lists",subCommand:"NumberFormatList",value:"upperAlpha"},{text:"Lower Alpha",command:"Lists",subCommand:"NumberFormatList",value:"lowerAlpha"},{text:"Upper Roman",command:"Lists",subCommand:"NumberFormatList",value:"upperRoman"}],To=[{text:"None",command:"Lists",subCommand:"BulletFormatList",value:"none"},{text:"Disc",command:"Lists",subCommand:"BulletFormatList",value:"disc"},{text:"Circle",command:"Lists",subCommand:"BulletFormatList",value:"circle"},{text:"Square",command:"Lists",subCommand:"BulletFormatList",value:"square"}];function Cs(a,t,e){for(var i=0;t.length>i;i++)if(t[i].value===e.subCommand)return a.localeObj.getConstant(t[i].locale);return e.text}function AM(a){xr.forEach(function(t,e){xr[e].text=Cs(a,yM,xr[e])}),fo.forEach(function(t,e){fo[e].text=Cs(a,MM,fo[e])}),mo.forEach(function(t,e){mo[e].text=Cs(a,SM,mo[e])}),go.forEach(function(t,e){go[e].text=Cs(a,EM,go[e])}),vo.forEach(function(t,e){vo[e].text=Cs(a,NM,vo[e])}),yo.forEach(function(t,e){yo[e].text=Cs(a,IM,yo[e])}),bo.forEach(function(t,e){bo[e].text=Cs(a,DM,bo[e])}),Co.forEach(function(t,e){Co[e].text=Cs(a,LM,Co[e])})}var rc={"Insert Link":"Ctrl+K","Insert Image":"Ctrl+Shift+I","Create Table":"Ctrl+Shift+E",Undo:"Ctrl+Z",Redo:"Ctrl+Y",Copy:"Ctrl+C",Cut:"Ctrl+X",Paste:"Ctrl+V",Bold:"Ctrl+B",Italic:"Ctrl+I",Underline:"Ctrl+U",Strikethrough:"Ctrl+Shift+S","Upper Case":"Ctrl+Shift+U","Lower Case":"Ctrl+Shift+L",Superscript:"Ctrl+Shift+=",Subscript:"Ctrl+=","Code View":"Ctrl+Shift+H",Maximize:"Ctrl+Shift+F",Minimize:"Esc","Clear Format":"Ctrl+Shift+R","Numbered List":"Ctrl+Shift+O","Bulleted List":"Ctrl+Alt+O","Number Format List":"Ctrl+Shift+O","Bullet Format List":"Ctrl+Alt+O","Insert Audio":"Ctrl+Shift+A","Insert Video":"Ctrl+Alt+V","Increase Indent":"Ctrl+]","Decrease Indent":"Ctrl+[","Decrease Fontsize":"Ctrl+Shift+<","Increase Fontsize":"Ctrl+Shift+>","Justify Center":"Ctrl+E","Justify Full":"Ctrl+J","Justify Left":"Ctrl+L","Justify Right":"Ctrl+R","Format Painter":"Alt+Shift+C, Alt+Shift+V"},jM=[{name:"Smilies & People",code:"1F600",iconCss:"e-emoji",icons:[{code:"1F600",desc:"Grinning face"},{code:"1F603",desc:"Grinning face with big eyes"},{code:"1F604",desc:"Grinning face with smiling eyes"},{code:"1F606",desc:"Grinning squinting face"},{code:"1F605",desc:"Grinning face with sweat"},{code:"1F602",desc:"Face with tears of joy"},{code:"1F923",desc:"Rolling on the floor laughing"},{code:"1F60A",desc:"Smiling face with smiling eyes"},{code:"1F607",desc:"Smiling face with halo"},{code:"1F642",desc:"Slightly smiling face"},{code:"1F643",desc:"Upside-down face"},{code:"1F60D",desc:"Smiling face with heart-eyes"},{code:"1F618",desc:"Face blowing a kiss"},{code:"1F61B",desc:"Face with tongue"},{code:"1F61C",desc:"Winking face with tongue"},{code:"1F604",desc:"Grinning face with smiling eyes"},{code:"1F469",desc:"Woman"},{code:"1F468",desc:"Man"},{code:"1F467",desc:"Girl"},{code:"1F466",desc:"Boy"},{code:"1F476",desc:"Baby"},{code:"1F475",desc:"Old woman"},{code:"1F474",desc:"Old man"},{code:"1F46E",desc:"Police officer"},{code:"1F477",desc:"Construction worker"},{code:"1F482",desc:"Guard"},{code:"1F575",desc:"Detective"},{code:"1F9D1",desc:"Cook"}]},{name:"Animals & Nature",code:"1F435",iconCss:"e-animals",icons:[{code:"1F436",desc:"Dog face"},{code:"1F431",desc:"Cat face"},{code:"1F42D",desc:"Mouse face"},{code:"1F439",desc:"Hamster face"},{code:"1F430",desc:"Rabbit face"},{code:"1F98A",desc:"Fox face"},{code:"1F43B",desc:"Bear face"},{code:"1F43C",desc:"Panda face"},{code:"1F428",desc:"Koala"},{code:"1F42F",desc:"Tiger face"},{code:"1F981",desc:"Lion face"},{code:"1F42E",desc:"Cow face"},{code:"1F437",desc:"Pig face"},{code:"1F43D",desc:"Pig nose"},{code:"1F438",desc:"Frog face"},{code:"1F435",desc:"Monkey face"},{code:"1F649",desc:"Hear-no-evil monkey"},{code:"1F64A",desc:"Speak-no-evil monkey"},{code:"1F412",desc:"Monkey"},{code:"1F414",desc:"Chicken"},{code:"1F427",desc:"Penguin"},{code:"1F426",desc:"Bird"},{code:"1F424",desc:"Baby chick"},{code:"1F986",desc:"Duck"},{code:"1F985",desc:"Eagle"}]},{name:"Food & Drink",code:"1F347",iconCss:"e-food-and-drinks",icons:[{code:"1F34E",desc:"Red apple"},{code:"1F34C",desc:"Banana"},{code:"1F347",desc:"Grapes"},{code:"1F353",desc:"Strawberry"},{code:"1F35E",desc:"Bread"},{code:"1F950",desc:"Croissant"},{code:"1F955",desc:"Carrot"},{code:"1F354",desc:"Hamburger"},{code:"1F355",desc:"Pizza"},{code:"1F32D",desc:"Hot dog"},{code:"1F35F",desc:"French fries"},{code:"1F37F",desc:"Popcorn"},{code:"1F366",desc:"Soft ice cream"},{code:"1F367",desc:"Shaved ice"},{code:"1F36A",desc:"Cookie"},{code:"1F382",desc:"Birthday cake"},{code:"1F370",desc:"Shortcake"},{code:"1F36B",desc:"Chocolate bar"},{code:"1F369",desc:"Donut"},{code:"1F36E",desc:"Custard"},{code:"1F36D",desc:"Lollipop"},{code:"1F36C",desc:"Candy"},{code:"1F377",desc:"Wine glass"},{code:"1F37A",desc:"Beer mug"},{code:"1F37E",desc:"Bottle with popping cork"}]},{name:"Activities",code:"1F383",iconCss:"e-activities",icons:[{code:"26BD",desc:"Soccer ball"},{code:"1F3C0",desc:"Basketball"},{code:"1F3C8",desc:"American football"},{code:"26BE",desc:"Baseball"},{code:"1F3BE",desc:"Tennis"},{code:"1F3D0",desc:"Volleyball"},{code:"1F3C9",desc:"Rugby football"},{code:"1F3B1",desc:"Pool 8 ball"},{code:"1F3D3",desc:"Ping pong"},{code:"1F3F8",desc:"Badminton"},{code:"1F94A",desc:"Boxing glove"},{code:"1F3CA",desc:"Swimmer"},{code:"1F3CB",desc:"Weightlifter"},{code:"1F6B4",desc:"Bicyclist"},{code:"1F6F9",desc:"Skateboard"},{code:"1F3AE",desc:"Video game"},{code:"1F579",desc:"Joystick"},{code:"1F3CF",desc:"Cricket"},{code:"1F3C7",desc:"Horse racing"},{code:"1F3AF",desc:"Direct hit"},{code:"1F3D1",desc:"Field hockey"},{code:"1F3B0",desc:"Slot machine"},{code:"1F3B3",desc:"Bowling"},{code:"1F3B2",desc:"Game die"},{code:"265F",desc:"Chess pawn"}]},{name:"Travel & Places",code:"1F30D",iconCss:"e-travel-and-places",icons:[{code:"2708",desc:"Airplane"},{code:"1F697",desc:"Automobile"},{code:"1F695",desc:"Taxi"},{code:"1F6B2",desc:"Bicycle"},{code:"1F68C",desc:"Bus"},{code:"1F682",desc:"Locomotive"},{code:"1F6F3",desc:"Passenger ship"},{code:"1F680",desc:"Rocket"},{code:"1F681",desc:"Helicopter"},{code:"1F6A2",desc:"Ship"},{code:"1F3DF",desc:"Stadium"},{code:"1F54C",desc:"Mosque"},{code:"26EA",desc:"Church"},{code:"1F6D5",desc:"Hindu Temple"},{code:"1F3D4",desc:"Snow-capped mountain"},{code:"1F3EB",desc:"School"},{code:"1F30B",desc:"Volcano"},{code:"1F3D6",desc:"Beach with umbrella"},{code:"1F3DD",desc:"Desert island"},{code:"1F3DE",desc:"National park"},{code:"1F3F0",desc:"Castle"},{code:"1F5FC",desc:"Tokyo tower"},{code:"1F5FD",desc:"Statue of liberty"},{code:"26E9",desc:"Shinto shrine"},{code:"1F3EF",desc:"Japanese castle"},{code:"1F3A2",desc:"Roller coaster"}]},{name:"Objects",code:"1F507",iconCss:"e-objects",icons:[{code:"1F4A1",desc:"Light bulb"},{code:"1F526",desc:"Flashlight"},{code:"1F4BB",desc:"Laptop computer"},{code:"1F5A5",desc:"Desktop computer"},{code:"1F5A8",desc:"Printer"},{code:"1F4F7",desc:"Camera"},{code:"1F4F8",desc:"Camera with flash"},{code:"1F4FD",desc:"Film projector"},{code:"1F3A5",desc:"Movie camera"},{code:"1F4FA",desc:"Television"},{code:"1F4FB",desc:"Radio"},{code:"1F50B",desc:"Battery"},{code:"231A",desc:"Watch"},{code:"1F4F1",desc:"Mobile phone"},{code:"260E",desc:"Telephone"},{code:"1F4BE",desc:"Floppy disk"},{code:"1F4BF",desc:"Optical disk"},{code:"1F4C0",desc:"Digital versatile disc"},{code:"1F4BD",desc:"Computer disk"},{code:"1F3A7",desc:"Headphone"},{code:"1F3A4",desc:"Microphone"},{code:"1F3B6",desc:"Multiple musical notes"},{code:"1F4DA",desc:"Books"}]},{name:"Symbols",code:"1F3E7",iconCss:"e-symbols",icons:[{code:"274C",desc:"Cross mark"},{code:"2714",desc:"Check mark"},{code:"26A0",desc:"Warning sign"},{code:"1F6AB",desc:"Prohibited"},{code:"2139",desc:"Information"},{code:"267B",desc:"Recycling symbol"},{code:"1F6AD",desc:"No smoking"},{code:"1F4F5",desc:"No mobile phones"},{code:"1F6AF",desc:"No littering"},{code:"1F6B3",desc:"No bicycles"},{code:"1F6B7",desc:"No pedestrians"},{code:"2795",desc:"Plus"},{code:"2796",desc:"Minus"},{code:"2797",desc:"Divide"},{code:"2716",desc:"Multiplication"},{code:"1F4B2",desc:"Dollar banknote"},{code:"1F4AC",desc:"Speech balloon"},{code:"2755",desc:"White exclamation mark"},{code:"2754",desc:"White question mark"},{code:"2764",desc:"Heart"}]}],RM={alignments:"Alignments",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",fontName:"Font Name",fontSize:"Font Size",fontColor:"Font Color",backgroundColor:"Background Color",bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",clearFormat:"Clear Format",clearAll:"Clear All",cut:"Cut",copy:"Copy",paste:"Paste",unorderedList:"Bulleted List",orderedList:"Numbered List",indent:"Increase Indent",outdent:"Decrease Indent",undo:"Undo",redo:"Redo",superscript:"Superscript",subscript:"Subscript",createLink:"Insert Link",openLink:"Open Link",editLink:"Edit Link",removeLink:"Remove Link",image:"Insert Image",audio:"Insert Audio",video:"Insert Video",replace:"Replace",numberFormatList:"Number Format List",bulletFormatList:"Bullet Format List",audioReplace:"Replace",videoReplace:"Replace",videoAlign:"Align",videoDimension:"Dimension",audioRemove:"Remove",videoRemove:"Remove",audioLayoutOption:"Layout option",videoLayoutOption:"Layout option",align:"Align",caption:"Caption",remove:"Remove",insertLink:"Insert Link",display:"Display",altText:"Alternative text",dimension:"Change Size",fullscreen:"Maximize",maximize:"Maximize",minimize:"Minimize",lowerCase:"Lower Case",upperCase:"Upper Case",print:"Print",formats:"Formats",sourcecode:"Code View",preview:"Preview",viewside:"ViewSide",insertCode:"Insert Code",blockquote:"Blockquote",linkText:"Display text",linkTooltipLabel:"Title",linkWebUrl:"Web address",linkTitle:"Enter a title",linkurl:"https://example.com",linkOpenInNewWindow:"Open link in new window",linkHeader:"Insert Link",dialogInsert:"Insert",dialogCancel:"Cancel",dialogUpdate:"Update",imageHeader:"Insert Image",audioHeader:"Insert Audio",videoHeader:"Insert Video",imageLinkHeader:"You can also provide a link from the web",audioLinkHeader:"You can also provide a link from the web",videoLinkHeader:"Web URL",embedVideoLinkHeader:"Media Embed URL",mdimageLink:"Please provide a URL for your image",imageUploadMessage:"Drop image here or browse to upload",audioUploadMessage:"Drop an audio file or browse to upload",videoUploadMessage:"Drop a video file or browse to upload",imageDeviceUploadMessage:"Click here to upload",audioDeviceUploadMessage:"Click here to upload",videoDeviceUploadMessage:"Click here to upload",imageAlternateText:"Alternate Text",alternateHeader:"Alternative Text",browse:"Browse",imageUrl:"https://example.com/image.png",audioUrl:"https://example.com/audio.mp3",videoUrl:"https://example.com/video.mp4",webUrl:"Web URL",embedUrl:"Embed Code",imageCaption:"Caption",imageSizeHeader:"Image Size",videoSizeHeader:"Video Size",imageHeight:"Height",imageWidth:"Width",videoHeight:"Height",videoWidth:"Width",textPlaceholder:"Enter text",inserttablebtn:"Insert Table",tabledialogHeader:"Insert Table",tableWidth:"Width",cellpadding:"Cell Padding",cellspacing:"Cell Spacing",columns:"Number of columns",rows:"Number of rows",tableRows:"Row",tableColumns:"Column",tableCellHorizontalAlign:"Table Cell Horizontal Align",tableCellVerticalAlign:"Vertical Align",createTable:"Create Table",removeTable:"Remove Table",tableHeader:"Header Row",tableRemove:"Delete Table",tableCellBackground:"Table Cell Background",tableEditProperties:"Table Edit Properties",styles:"Styles",insertColumnLeft:"Insert Column Left",insertColumnRight:"Insert Column Right",deleteColumn:"Delete Column",insertRowBefore:"Insert Row Before",insertRowAfter:"Insert Row After",deleteRow:"Delete Row",tableEditHeader:"Edit Table",TableHeadingText:"Heading",TableColText:"Col",imageInsertLinkHeader:"Insert Link",editImageHeader:"Edit Image",editAudioHeader:"Edit Audio",editVideoHeader:"Edit Video",alignmentsDropDownLeft:"Align Left",alignmentsDropDownCenter:"Align Center",alignmentsDropDownRight:"Align Right",alignmentsDropDownJustify:"Align Justify",imageDisplayDropDownInline:"Inline",imageDisplayDropDownBreak:"Break",audioLayoutOptionDropDownInline:"Inline",audioLayoutOptionDropDownBreak:"Break",videoLayoutOptionDropDownInline:"Inline",videoLayoutOptionDropDownBreak:"Break",tableInsertRowDropDownBefore:"Insert row before",tableInsertRowDropDownAfter:"Insert row after",tableInsertRowDropDownDelete:"Delete row",tableInsertColumnDropDownLeft:"Insert column left",tableInsertColumnDropDownRight:"Insert column right",tableInsertColumnDropDownDelete:"Delete column",tableVerticalAlignDropDownTop:"Align Top",tableVerticalAlignDropDownMiddle:"Align Middle",tableVerticalAlignDropDownBottom:"Align Bottom",tableStylesDropDownDashedBorder:"Dashed Borders",tableStylesDropDownAlternateRows:"Alternate Rows",pasteFormat:"Paste Format",pasteFormatContent:"Choose the formatting action",plainText:"Plain Text",cleanFormat:"Clean",keepFormat:"Keep",pasteDialogOk:"OK",pasteDialogCancel:"Cancel",fileManager:"File Manager",fileDialogHeader:"File Browser",formatsDropDownParagraph:"Paragraph",formatsDropDownCode:"Code",formatsDropDownQuotation:"Blockquote",formatsDropDownHeading1:"Heading 1",formatsDropDownHeading2:"Heading 2",formatsDropDownHeading3:"Heading 3",formatsDropDownHeading4:"Heading 4",fontNameSegoeUI:"Segoe UI",fontNameArial:"Arial",fontNameGeorgia:"Georgia",fontNameImpact:"Impact",fontNameTahoma:"Tahoma",fontNameTimesNewRoman:"Times New Roman",fontNameVerdana:"Verdana",numberFormatListNumber:"Number",numberFormatListLowerAlpha:"Lower Alpha",numberFormatListUpperAlpha:"Upper Alpha",numberFormatListLowerRoman:"Lower Roman",numberFormatListUpperRoman:"Upper Roman",numberFormatListLowerGreek:"Lower Greek",bulletFormatListDisc:"Disc",bulletFormatListCircle:"Circle",bulletFormatListSquare:"Square",numberFormatListNone:"None",bulletFormatListNone:"None",formatPainter:"Format Painter",emojiPicker:"Emoji Picker",embeddedCode:"Embedded code",pasteEmbeddedCodeHere:"Paste embedded code here",emojiPickerTypeToFind:"Type to find",emojiPickerNoResultFound:"No results found",emojiPickerTrySomethingElse:"Try something else",linkAriaLabel:"Open in new window",unsupportedImage:"Unsupported file format",mergecells:"Merge cells",verticalsplit:"Vertical split",horizontalsplit:"Horizontal split"},zM={alignments:"alignments",justifyleft:"justifyLeft",justifycenter:"justifyCenter",justifyright:"justifyRight",justifyfull:"justifyFull",fontname:"fontName",fontsize:"fontSize",fontcolor:"fontColor",backgroundcolor:"backgroundColor",bold:"bold",italic:"italic",underline:"underline",strikethrough:"strikethrough",clearformat:"clearFormat",clearall:"clearAll",cut:"cut",copy:"copy",paste:"paste",unorderedlist:"unorderedList",orderedlist:"orderedList",indent:"indent",outdent:"outdent",numberformatlist:"numberFormatList",bulletformatlist:"bulletFormatList",undo:"undo",redo:"redo",filemanager:"fileManager",superscript:"superscript",subscript:"subscript",createlink:"createLink",openlink:"openLink",editlink:"editLink",removelink:"removeLink",openimagelink:"openLink",editimagelink:"editLink",removeimagelink:"removeLink",image:"image",audio:"audio",video:"video",replace:"replace",audioreplace:"audioReplace",videoreplace:"videoReplace",videoalign:"videoAlign",videodimension:"videoDimension",audioremove:"audioRemove",videoremove:"videoRemove",audiolayoutoption:"audioLayoutOption",videolayoutoption:"videoLayoutOption",align:"align",caption:"caption",remove:"remove",insertlink:"insertLink",display:"display",alttext:"alternateHeader",dimension:"dimension",fullscreen:"fullscreen",maximize:"maximize",minimize:"minimize",lowercase:"lowerCase",uppercase:"upperCase",print:"print",formats:"formats",sourcecode:"sourcecode",preview:"preview",viewside:"viewside",insertcode:"insertCode",blockquote:"blockquote",tablerows:"tableRows",tablecolumns:"tableColumns",tablecellhorizontalalign:"tableCellHorizontalAlign",tablecellverticalalign:"tableCellVerticalAlign",createtable:"createTable",removetable:"removeTable",tableheader:"tableHeader",tableremove:"tableRemove",tablecellbackground:"tableCellBackground",tableeditproperties:"tableEditProperties",styles:"styles",insertcolumnleft:"insertColumnLeft",insertcolumnright:"insertColumnRight",deletecolumn:"deleteColumn",aligntop:"AlignTop",alignmiddle:"AlignMiddle",alignbottom:"AlignBottom",insertrowbefore:"insertRowBefore",insertrowafter:"insertRowAfter",deleterow:"deleteRow",formatpainter:"formatPainter",emojipicker:"emojiPicker",embeddedCode:"Embedded code",pasteEmbeddedCodeHere:"Paste embedded code here",emojiPickerTypeToFind:"Type to find",emojiPickerNoResultFound:"No results found",emojiPickerTrySomethingElse:"Try something else",imageLinkAriaLabel:"Open in new window"},PM=[{locale:"fontNameSegoeUI",value:"Segoe UI"},{locale:"fontNameArial",value:"Arial,Helvetica,sans-serif"},{locale:"fontNameGeorgia",value:"Georgia,serif"},{locale:"fontNameImpact",value:"Impact,Charcoal,sans-serif"},{locale:"fontNameTahoma",value:"Tahoma,Geneva,sans-serif"},{locale:"fontNameTimesNewRoman",value:"Times New Roman,Times,serif"},{locale:"fontNameVerdana",value:"Verdana,Geneva,sans-serif"}],BM=[{locale:"formatsDropDownParagraph",value:"P"},{locale:"formatsDropDownCode",value:"Pre"},{locale:"formatsDropDownHeading1",value:"H1"},{locale:"formatsDropDownHeading2",value:"H2"},{locale:"formatsDropDownHeading3",value:"H3"},{locale:"formatsDropDownHeading4",value:"H4"}],HM=[{locale:"numberFormatListNone",value:"none"},{locale:"numberFormatListNumber",value:"decimal"},{locale:"numberFormatListLowerAlpha",value:"lower-alpha"},{locale:"numberFormatListUpperAlpha",value:"upper-alpha"},{locale:"numberFormatListLowerRoman",value:"lower-roman"},{locale:"numberFormatListUpperRoman",value:"upper-roman"},{locale:"numberFormatListLowerGreek",value:"lower-greek"}],FM=[{locale:"bulletFormatListNone",value:"none"},{locale:"bulletFormatListDisc",value:"disc"},{locale:"bulletFormatListCircle",value:"circle"},{locale:"bulletFormatListSquare",value:"square"}],UM=["Undo","Redo"],VM=["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","font","i","iframe","img","input","ins","kbd","label","map","mark","meter","noscript","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","strike","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"];function $d(a,t){var e=-1;return t.some(function(i,s){return typeof i=="string"&&a===i.toLocaleLowerCase()?(e=s,!0):!1}),e}function Qe(a,t){var e=!1;return a.classList.contains(t)&&(e=!0),e}function Pt(a,t,e,i){for(var s,n,r=0;r<a.length;r++)if(e==="value"&&a[r].value.toLocaleLowerCase()===t.toLocaleLowerCase()){s=a[r];break}else if(e==="text"&&a[r].text.toLocaleLowerCase()===t.toLocaleLowerCase()){s=a[r];break}else if(e==="subCommand"&&a[r].subCommand.toLocaleLowerCase()===t.toLocaleLowerCase()){s=a[r];break}if(!h(s))switch(i){case"text":n=s.text;break;case"value":n=s.value;break;case"iconCss":n=s.iconCss;break}return n}function et(){var a=!1;return E.isDevice&&E.isIos&&(a=!0),a}function hd(a){return h(a)?"":a}function sg(a,t,e){var i=0;return e?i=window.pageYOffset+t.getBoundingClientRect().top+a.clientY:i=a.pageY,i}function kr(a,t){var e=t.getService("rteLocale"),i=zM[""+a],s=e.getConstant(i);return s}function cd(a,t,e){jg(e);for(var i=a.dropDownModule,s=a.args,n=Object.keys(a.args),r=0,o=n;r<o.length;r++)for(var l=o[r],c=0;c<a.tbItems.length;c++){var d=a.tbItems[c].subCommand,p=d&&d.toLocaleLowerCase();if(d&&p===l||d==="UL"&&l==="unorderedlist"||d==="OL"&&l==="orderedlist"||p==="pre"&&l==="insertcode"||d==="NumberFormatList"&&l==="numberFormatList"||d==="BulletFormatList"&&l==="bulletFormatList"){if(typeof s[""+l]=="boolean")s[""+l]===!0?L([a.tbElements[c]],[zs]):k([a.tbElements[c]],[zs]);else if((typeof s[""+l]=="string"||s[""+l]===null)&&$d(l,a.parent.toolbarSettings.items)>=-1){var u=s[""+l]?s[""+l]:"",f="";switch(l){case"formats":{if(h(i.formatDropDown)||t||!h(i.formatDropDown)&&i.formatDropDown.isDestroyed)break;var m=a.parent.format.types,g=h(a.parent.format.default)?m[0].text:a.parent.format.default;f=u==="empty"?"":Pt(m,u,"subCommand","text"),i.formatDropDown.content='<span style="display: inline-flex;width:'+a.parent.format.width+'" ><span class="e-rte-dropdown-btn-text'+(h(a.parent.cssClass)?"":" "+a.parent.cssClass)+'">'+(h(f)?g:f)+"</span></span>",i.formatDropDown.dataBind();break}case"alignments":{if(h(i.alignDropDown)||!h(i.alignDropDown)&&i.alignDropDown.isDestroyed)break;var b=xr;f=Pt(b,u,"subCommand","iconCss"),i.alignDropDown.iconCss=h(f)?"e-icons e-justify-left":f,i.alignDropDown.dataBind();break}case"fontname":{if(h(i.fontNameDropDown)||t||!h(i.fontNameDropDown)&&i.fontNameDropDown.isDestroyed)break;var S=a.parent.fontFamily.items;f=u==="empty"?"":Pt(S,u,"value","text");var T=h(a.parent.fontFamily.default)?S[0].text:a.parent.fontFamily.default,I=(h(f)?T:f)==="Default"?e.serviceLocator.getService("rteLocale").getConstant("fontName"):h(f)?T:f;i.fontNameDropDown.content='<span style="display: inline-flex;width:'+a.parent.fontFamily.width+'" ><span class="e-rte-dropdown-btn-text'+(h(a.parent.cssClass)?"":" "+a.parent.cssClass)+'">'+I+"</span></span>",i.fontNameDropDown.dataBind();break}case"fontsize":{if(h(i.fontSizeDropDown)||!h(i.fontSizeDropDown)&&i.fontSizeDropDown.isDestroyed)break;var w=a.parent.fontSize.items,x=h(a.parent.fontSize.default)?w[0].text:a.parent.fontSize.default,A=Pt(w,u===""?x.replace(/\s/g,""):u,x.replace(/\s/g,"")===w[0].text&&u===""?"text":"value","text");f=u==="empty"?"":A==="Default"?e.serviceLocator.getService("rteLocale").getConstant("fontSize"):A,i.fontSizeDropDown.content='<span style="display: inline-flex;width:'+a.parent.fontSize.width+'" ><span class="e-rte-dropdown-btn-text'+(h(a.parent.cssClass)?"":" "+a.parent.cssClass)+'">'+hd(f)+"</span></span>",i.fontSizeDropDown.dataBind();break}case"bulletFormatList":case"numberFormatList":u!==""?L([a.tbElements[c]],[zs]):k([a.tbElements[c]],[zs])}}}}}function No(a){return typeof a=="object"?a:[a]}function Io(a,t){for(var e=[],i=0;i<a.length;i++)for(var s=0;s<t.length;s++)if(t[s].type!=="Separator"){if((a[i]==="OrderedList"||a[i]==="NumberFormatList")&&t[s].subCommand==="OL"){e.push(s);break}else if((a[i]==="UnorderedList"||a[i]==="BulletFormatList")&&t[s].subCommand==="UL"){e.push(s);break}else if(a[i]==="InsertCode"&&t[s].subCommand==="Pre"){e.push(s);break}else if(a[i]==="Blockquote"&&t[s].subCommand==="blockquote"){e.push(s);break}else if(a[i]==="FileManager"&&t[s].subCommand==="File"){e.push(s);break}else if(typeof a[i]=="object"&&a[i].command==="Custom"){e.push(i);break}else if(a[i]===t[s].subCommand){e.push(s);break}}return e}function xn(a,t){for(var e=0,i=Io(No(UM),a.toolbarObj.items),s=ce("."+Ss,a.toolbarObj.element),n=Object.keys(t),r=0,o=n;r<o.length;r++){var l=o[r],c=s[i[e]];c&&a.toolbarObj.enableItems(c,t[""+l]),e++}}function qs(a,t){var e=document.createEvent("HTMLEvents");e.initEvent(t,!1,!0),a.dispatchEvent(e)}function Es(a){var t=P("template");return t.innerHTML=a,t.content instanceof DocumentFragment?t.content:document.createRange().createContextualFragment(a)}function kg(a,t){var e=[];for(t=t.firstChild;t;t=t.nextSibling)t.nodeType===3?e.push(t):e=e.concat(kg(a,t));return e}function Jd(a){for(var t={},e=Object.keys(a),i=0;i<Object.keys(a).length;i++)t[e[i].toLocaleLowerCase()]=a[e[i]];return t}function Ro(a,t){var e;return a!==null&&a!==""?(e=t.enableHtmlEncode?ng(Pi(a),t):ng(a,t),t.setProperties({value:e},!0)):t.enterKey==="DIV"?e=t.enableHtmlEncode?"&lt;div&gt;&lt;br/&gt;&lt;/div&gt;":"<div><br/></div>":t.enterKey==="BR"?e=t.enableHtmlEncode?"&lt;br/&gt;":"<br/>":e=t.enableHtmlEncode?"&lt;p&gt;&lt;br/&gt;&lt;/p&gt;":"<p><br/></p>",e}function ng(a,t){var e=document.createElement("div"),i=document.createElement("div"),s=e.childNodes;if(e.innerHTML=a,e.setAttribute("class","tempDiv"),s.length>0){for(var n=void 0,r=void 0,o=void 0;e.firstChild;){for(var l=e.querySelectorAll(z0),c=0;c<l.length;c++)l[c].innerHTML="<br>";for(var d=e.querySelectorAll("p"),c=0;c<d.length;c++)d[c].textContent.trim().length===0&&d[c].childNodes.length===1&&d[c].childNodes[0].nodeName==="#text"&&h(d[c].childNodes[0].textContent.match(/\u00a0/g))&&(d[c].innerHTML="<br>");for(var p=e.querySelectorAll(P0),c=0;c<p.length;c++)p[c].innerHTML="&ZeroWidthSpace;";t.enterKey!=="BR"&&(e.firstChild.nodeName==="#text"&&(e.firstChild.textContent.indexOf(`
`)<0||e.firstChild.textContent.trim()!=="")||VM.indexOf(e.firstChild.nodeName.toLocaleLowerCase())>=0)?(n?r.appendChild(e.firstChild):(t.enterKey==="DIV"?o=P("div"):o=P("p"),i.appendChild(o),o.appendChild(e.firstChild)),r=o,n=!0):e.firstChild.nodeName==="#text"&&(e.firstChild.textContent===`
`||e.firstChild.textContent.indexOf(`
`)>=0&&e.firstChild.textContent.trim()==="")?N(e.firstChild):(i.appendChild(e.firstChild),n=!1)}for(var u=i.querySelectorAll("img"),c=0;c<u.length;c++)u[c].classList.contains("e-rte-image-unsupported")||(u[c].classList.contains(od)||u[c].classList.add(od),!(u[c].classList.contains(Rs)||u[c].classList.contains(Ms))&&!(u[c].classList.contains("e-imgleft")||u[c].classList.contains("e-imgright")||u[c].classList.contains("e-imgcenter"))&&u[c].classList.add(Rs))}return i.innerHTML}function Zd(a){var t;return a.enterKey==="DIV"?t=a.enableHtmlEncode?"&lt;div&gt;&lt;br/&gt;&lt;/div&gt;":"<div><br/></div>":a.enterKey==="BR"?t=a.enableHtmlEncode?"&lt;br/&gt;":"<br/>":t=a.enableHtmlEncode?"&lt;p&gt;&lt;br/&gt;&lt;/p&gt;":"<p><br/></p>",t}function qM(a){return a==="<p><br></p>"||a==="&lt;p&gt;&lt;br&gt;&lt;/p&gt;"||a==="<div><br></div>"||a==="&lt;div&gt;&lt;br&gt;&lt;/div&gt;"||a==="<br>"||a==="&lt;br&gt;"||a===""}function Pi(a){return a.replace(/&amp;/g,"&").replace(/&amp;lt;/g,"<").replace(/&lt;/g,"<").replace(/&amp;gt;/g,">").replace(/&gt;/g,">").replace(/&nbsp;/g," ").replace(/&amp;nbsp;/g," ").replace(/&quot;/g,"")}function Ag(a,t){if(t.enableHtmlSanitizer){var e=Be.beforeSanitize();e.selectors.tags[2]&&e.selectors.tags[2].indexOf("iframe")>-1&&(e.selectors.tags[2]="iframe:not(.e-rte-embed-url)");var i={cancel:!1,helper:null};ue(e,e,i),t.trigger("beforeSanitizeHtml",e),e.cancel&&!h(e.helper)?a=e.helper(a):e.cancel||(a=Be.serializeValue(e,a))}return a}function Dn(a){for(var t=a.split(","),e=t[0].match(/:(.*?);/)[1],i=atob(t[1]),s=i.length,n=new Uint8Array(s);s--;)n[s]=i.charCodeAt(s);return new Blob([n],{type:e})}function to(a,t,e){for(var i=0;t.length>i;i++)if(t[i].value===e.value||t[i].value===e.subCommand)return a.localeObj.getConstant(t[i].locale);return e.text}function jg(a){Mo.forEach(function(t,e){Mo[e].text=to(a,PM,Mo[e])}),So.forEach(function(t,e){So[e].text=to(a,BM,So[e])}),Eo.forEach(function(t,e){Eo[e].text=to(a,HM,Eo[e])}),To.forEach(function(t,e){To[e].text=to(a,FM,To[e])})}var Rg=function(){function a(t){this.parent=t}return a.prototype.renderPanel=function(){var t=this.parent,e=this.parent.createElement("div",{className:"e-rte-content",id:this.parent.getID()+"rte-view"}),i=Ro(t.value,t);this.editableElement=this.parent.createElement("div",{className:"e-content",id:this.parent.getID()+"_rte-edit-view",attrs:{contenteditable:"true"},innerHTML:i}),e.appendChild(this.editableElement),this.setPanel(e),t.rootContainer.appendChild(e)},a.prototype.getPanel=function(){return this.contentPanel},a.prototype.getEditPanel=function(){return this.editableElement},a.prototype.getText=function(){var t=this.getEditPanel().innerText;return t===`
`?"":t},a.prototype.setPanel=function(t){this.contentPanel=t},a.prototype.getDocument=function(){return this.getEditPanel().ownerDocument},a}(),_M=function(){function a(t,e){this.parent=t,this.locator=e,this.renderer=this.locator.getService("rendererFactory"),this.addEventListener()}return a.prototype.render=function(){var t=this.parent;this.contentRenderer=this.renderer.getRenderer(Ce.Content),this.contentRenderer.renderPanel()},a.prototype.refresh=function(t){t===void 0&&(t={requestType:"refresh"}),this.parent.notify(t.requestType+"-begin",t)},a.prototype.destroy=function(){h(this.parent)||(this.removeEventListener(),this.locator.destroy(),this.renderer.destroy())},a.prototype.moduleDestroy=function(){this.parent=null},a.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(gt,this.refresh,this),this.parent.on(Ht,this.keyUp,this),this.parent.on(ni,this.moduleDestroy,this))},a.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(gt,this.refresh),this.parent.off(Ht,this.keyUp),this.parent.off(ni,this.moduleDestroy))},a.prototype.keyUp=function(t){if(this.parent.editorMode==="HTML")switch(t.args.which){case 46:case 8:var e=this.parent.contentModule.getEditPanel().childNodes;if(e.length===0||e.length===1&&e[0].childNodes.length===0&&(e[0].tagName==="BR"||(e[0].tagName==="P"||e[0].tagName==="DIV")&&e[0].textContent==="")){var i=this.parent.contentModule.getEditPanel();this.parent.enterKey==="DIV"?i.innerHTML="<div><br/></div>":this.parent.enterKey==="BR"?i.innerHTML="<br/>":i.innerHTML="<p><br/></p>",this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),i.childNodes[0],0)}break}},a}(),qt=function(){function a(){}return a.prototype.getFormattedNode=function(t,e,i){var s=this.getFormatParent(t,e,i);return s!==null&&s!==i?s:null},a.prototype.getFormatParent=function(t,e,i){do t=t.parentNode;while(t&&t!==i&&!this.isFormattedNode(t,e));return t},a.prototype.isFormattedNode=function(t,e){switch(e){case"bold":return a.isBold(t);case"italic":return a.isItalic(t);case"underline":return a.isUnderline(t);case"strikethrough":return a.isStrikethrough(t);case"superscript":return a.isSuperscript(t);case"subscript":return a.isSubscript(t);case"fontcolor":return this.isFontColor(t);case"fontname":return this.isFontName(t);case"fontsize":return this.isFontSize(t);case"backgroundcolor":return this.isBackgroundColor(t);default:return!1}},a.isBold=function(t){var e=["strong","b"];return e.indexOf(t.nodeName.toLowerCase())!==-1?!0:!!(this.inlineTags.indexOf(t.nodeName.toLowerCase())!==-1&&t.style&&t.style.fontWeight==="bold")},a.isItalic=function(t){var e=["em","i"];return e.indexOf(t.nodeName.toLowerCase())!==-1?!0:!!(this.inlineTags.indexOf(t.nodeName.toLowerCase())!==-1&&t.style&&t.style.fontStyle==="italic")},a.isUnderline=function(t){var e=["u"];return e.indexOf(t.nodeName.toLowerCase())!==-1?!0:!!(this.inlineTags.indexOf(t.nodeName.toLowerCase())!==-1&&t.style&&(t.style.textDecoration==="underline"||t.style.textDecorationLine==="underline"))},a.isStrikethrough=function(t){var e=["del","strike","s"];return e.indexOf(t.nodeName.toLowerCase())!==-1?!0:!!(this.inlineTags.indexOf(t.nodeName.toLowerCase())!==-1&&t.style&&(t.style.textDecoration==="line-through"||t.style.textDecorationLine==="line-through"))},a.isSuperscript=function(t){var e=["sup"];return e.indexOf(t.nodeName.toLowerCase())!==-1},a.isSubscript=function(t){var e=["sub"];return e.indexOf(t.nodeName.toLowerCase())!==-1},a.prototype.isFontColor=function(t){var e=t.style&&t.style.color;return a.inlineTags.indexOf(t.nodeName.toLowerCase())!==-1&&e!==null&&e!==""&&e!==void 0},a.prototype.isBackgroundColor=function(t){var e=t.style&&t.style.backgroundColor;return a.inlineTags.indexOf(t.nodeName.toLowerCase())!==-1&&e!==null&&e!==""&&e!==void 0},a.prototype.isFontSize=function(t){var e=t.style&&t.style.fontSize;return a.inlineTags.indexOf(t.nodeName.toLowerCase())!==-1&&e!==null&&e!==""&&e!==void 0},a.prototype.isFontName=function(t){var e=t.style&&t.style.fontFamily;return a.inlineTags.indexOf(t.nodeName.toLowerCase())!==-1&&e!==null&&e!==""&&e!==void 0},a.inlineTags=["a","abbr","acronym","b","bdo","big","cite","code","dfn","em","font","i","kbd","label","q","samp","small","span","strong","sub","sup","tt","u","var","del"],a}(),zo="INSERT-IMAGE",dd="INSERT-AUDIO",pd="INSERT-VIDEO",ud="INSERT-TABLE",fd="INSERT-LINK",md="INSERT-ROW",gd="INSERT-COLUMN",vd="DELETE-ROW",yd="DELETE-COLUMN",bd="REMOVE-TABLE",Cd="TABLE-HEADER",Md="TABLE_VERTICAL_ALIGN",Sd="TABLE_MERGE",Ed="TABLE_VERTICAL_SPLIT",Td="TABLE_HORIZONTAL_SPLIT",rg="TABLE_MOVE",Nd="alignment-type",Id="indent-type",Hi="p",Fs=["address","article","aside","audio","blockquote","canvas","details","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul","video","body"],Bi=["td","th"],Nr=["table","tbody","td","tfoot","th","thead","tr"],Dd="selection-type",Ld="inserthtml-type",wd="insert-text-type",Od="clear-type",WM=["area","base","br","embed","hr","img","input","param","source","track","wbr","iframe","td","table"],ac=["word","excel","onenote"],Lt=function(){function a(){this.startNodeName=[],this.endNodeName=[]}return a.prototype.saveInstance=function(t,e){return this.range=t.cloneRange(),this.rootNode=this.documentFromRange(t),this.body=e,this.startContainer=this.getNodeArray(t.startContainer,!0),this.endContainer=this.getNodeArray(t.endContainer,!1),this.startOffset=t.startOffset,this.endOffset=t.endOffset,this.html=this.body.innerHTML,this},a.prototype.documentFromRange=function(t){return t.startContainer.nodeType===9?t.startContainer:t.startContainer.ownerDocument},a.prototype.getRange=function(t){var e=this.get(t),i=e&&e.rangeCount>0?e.getRangeAt(e.rangeCount-1):t.createRange();return i.startContainer!==t||i.endContainer!==t||i.startOffset||i.endOffset||(i.setStart(t.body,0),i.collapse(!0)),i},a.prototype.get=function(t){return t.defaultView.getSelection()},a.prototype.save=function(t,e){return t=t?t.cloneRange():this.getRange(e),this.saveInstance(t,e.body)},a.prototype.getIndex=function(t){var e,i=0;if(t=!t.previousSibling&&t.tagName==="BR"?t:t.previousSibling,t)for(var s=t.nodeType;t;null)e=t.nodeType,i++,s=e,t=t.previousSibling;return i},a.prototype.isChildNode=function(t,e){for(var i=0;i<e.childNodes.length;i++)if(t.indexOf(e.childNodes[i])>-1)return!0;return!1},a.prototype.getNode=function(t,e,i){return e===t&&(t.nodeType===3||!t.firstChild||i.indexOf(t.firstChild)!==-1||this.isChildNode(i,t))||t.nodeType===3&&t.previousSibling===e&&e.nodeName==="IMG"?null:i.indexOf(t.firstChild)===-1&&t.firstChild&&!this.isChildNode(i,t)?t.firstChild:t.nextSibling?t.nextSibling:t.parentNode?t.parentNode:null},a.prototype.getNodeCollection=function(t){var e=t.startContainer.childNodes[t.startOffset]||t.startContainer,i=t.endContainer.childNodes[t.endOffset>0?t.endOffset-1:t.endOffset]||t.endContainer;if((e===i||e.nodeName==="BR"&&e===t.endContainer.childNodes[t.endOffset])&&e.childNodes.length===0)return[e];if(t.startOffset===t.endOffset&&t.startOffset!==0&&t.startContainer.nodeName==="PRE")return[e.nodeName==="BR"||e.nodeName==="#text"?e:e.childNodes[0]];var s=[];do s.indexOf(e)===-1&&s.push(e),e=this.getNode(e,i,s);while(e);return s},a.prototype.getParentNodeCollection=function(t){return this.getParentNodes(this.getNodeCollection(t),t)},a.prototype.getParentNodes=function(t,e){t=t.reverse();for(var i=0;i<t.length;i++)t.indexOf(t[i].parentNode)!==-1||t[i].nodeType===3&&e.startContainer!==e.endContainer&&e.startContainer.parentNode!==e.endContainer.parentNode?(t.splice(i,1),i--):t[i].nodeType===3&&(t[i]=t[i].parentNode);return t},a.prototype.getSelectionNodeCollection=function(t){return this.getSelectionNodes(this.getNodeCollection(t))},a.prototype.getSelectionNodeCollectionBr=function(t){return this.getSelectionNodesBr(this.getNodeCollection(t))},a.prototype.getSelectionNodes=function(t){t=t.reverse();for(var e=new RegExp("\u200B","g"),i=0;i<t.length;i++)(t[i].nodeType!==3||t[i].textContent.trim()===""||t[i].textContent.length===1&&t[i].textContent.match(e))&&(t.splice(i,1),i--);return t.reverse()},a.prototype.getSelectionNodesBr=function(t){t=t.reverse();for(var e=new RegExp("\u200B","g"),i=0;i<t.length;i++)t[i].nodeName!=="BR"&&(t[i].nodeType!==3||t[i].textContent.trim()===""||t[i].textContent.length===1&&t[i].textContent.match(e))&&(t.splice(i,1),i--);return t.reverse()},a.prototype.getInsertNodeCollection=function(t){return this.getInsertNodes(this.getNodeCollection(t))},a.prototype.getInsertNodes=function(t){t=t.reverse();for(var e=0;e<t.length;e++)(t[e].childNodes.length!==0&&t[e].nodeType!==3||t[e].nodeType===3&&t[e].textContent==="")&&(t.splice(e,1),e--);return t.reverse()},a.prototype.getNodeArray=function(t,e,i){var s=[];for(e?this.startNodeName=[]:this.endNodeName=[];t!==(i||this.rootNode)&&!h(t);null)e?this.startNodeName.push(t.nodeName.toLowerCase()):this.endNodeName.push(t.nodeName.toLowerCase()),s.push(this.getIndex(t)),t=t.parentNode;return s},a.prototype.setRangePoint=function(t,e,i,s){for(var n=this.rootNode,r=i.length,o=s;r--;null)n=n&&n.childNodes[i[r]];return n&&o>=0&&n.nodeName!=="html"&&(n.nodeType===3&&n.nodeValue.replace(/\u00a0/g,"&nbsp;")==="&nbsp;"&&(o=n.textContent.length),t[e?"setStart":"setEnd"](n,o)),t},a.prototype.restore=function(){var t=this.range.cloneRange();return t=this.setRangePoint(t,!0,this.startContainer,this.startOffset),t=this.setRangePoint(t,!1,this.endContainer,this.endOffset),this.selectRange(this.rootNode,t),t},a.prototype.selectRange=function(t,e){this.setRange(t,e),this.save(e,t)},a.prototype.setRange=function(t,e){var i=this.get(t);i.removeAllRanges(),i.addRange(e)},a.prototype.setSelectionText=function(t,e,i,s,n){var r=t.createRange();r.setStart(e,s),r.setEnd(i,n),this.setRange(t,r)},a.prototype.setSelectionContents=function(t,e){var i=t.createRange();i.selectNode(e),this.setRange(t,i)},a.prototype.setSelectionNode=function(t,e){var i=t.createRange();i.selectNodeContents(e),this.setRange(t,i)},a.prototype.getSelectedNodes=function(t){return this.getNodeCollection(this.getRange(t))},a.prototype.Clear=function(t){this.get(t).removeAllRanges()},a.prototype.insertParentNode=function(t,e,i){i.surroundContents(e),this.selectRange(t,i)},a.prototype.setCursorPoint=function(t,e,i){var s=t.createRange(),n=t.defaultView.getSelection();s.setStart(e,i),s.collapse(!0),n.removeAllRanges(),n.addRange(s)},a}(),QM=["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","font","i","iframe","img","input","ins","kbd","label","map","mark","meter","noscript","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","strike","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"];function vt(){var a=!1;return E.isDevice&&E.isIos&&(a=!0),a}function Ts(a,t){if(a.nodeName==="BODY"&&!h(t)){var e=top.window.document.querySelector(t);h(e)||e.contentWindow.focus()}}function YM(a,t){var e=document.createElement("div");e.innerHTML=a,e.setAttribute("class","tempDiv");var i=document.createElement("div"),s=e.childNodes;if(s.length>0){for(var n=void 0,r=void 0,o=void 0;e.firstChild;)e.firstChild.nodeName==="#text"&&(e.firstChild.textContent.indexOf(`
`)<0||e.firstChild.textContent.trim()!=="")||QM.indexOf(e.firstChild.nodeName.toLocaleLowerCase())>=0?n?(r.appendChild(e.firstChild),r=o,n=!0):t==="BR"?(i.appendChild(e.firstChild),r=i):(o=P("p"),i.appendChild(o),o.appendChild(e.firstChild),r=o,n=!0):e.firstChild.nodeName==="#text"&&(e.firstChild.textContent===`
`||e.firstChild.textContent.indexOf(`
`)>=0&&e.firstChild.textContent.trim()==="")?N(e.firstChild):(i.appendChild(e.firstChild),n=!1);for(var l=i.querySelectorAll("table"),c=0;c<l.length;c++)if(l[c].classList.length>0&&!l[c].classList.contains("e-rte-table")){if(l[c].classList.add("e-rte-paste-table"),l[c].classList.contains("e-rte-paste-word-table")){l[c].classList.remove("e-rte-paste-word-table");continue}else if(l[c].classList.contains("e-rte-paste-excel-table")){l[c].classList.remove("e-rte-paste-excel-table"),l[c].getAttribute("border")==="0"&&l[c].removeAttribute("border");for(var d=l[c].querySelectorAll("td"),p=0;p<d.length;p++)d[p].style.borderLeft==="none"&&d[p].style.removeProperty("border-left"),d[p].style.borderRight==="none"&&d[p].style.removeProperty("border-right"),d[p].style.borderBottom==="none"&&d[p].style.removeProperty("border-bottom"),d[p].style.borderTop==="none"&&d[p].style.removeProperty("border-top"),d[p].style.border==="none"&&d[p].style.removeProperty("border")}else if(l[c].classList.contains("e-rte-paste-onenote-table")){l[c].classList.remove("e-rte-paste-onenote-table");continue}else if(l[c].classList.contains("e-rte-paste-html-table")){l[c].classList.remove("e-rte-paste-html-table");continue}}for(var u=i.querySelectorAll("img"),c=0;c<u.length;c++)u[c].classList.contains("e-rte-image-unsupported")||(u[c].classList.contains("e-rte-image")||u[c].classList.add("e-rte-image"),u[c].classList.contains("e-imginline")||u[c].classList.contains("e-imgbreak")||u[c].classList.add("e-imginline"))}return i.innerHTML}function GM(a){var t=a;do t.childNodes.length>0&&(t=t.childNodes[0]);while(t.childNodes.length>0);return t}function zg(){return{bold:!1,italic:!1,subscript:!1,superscript:!1,strikethrough:!1,orderedlist:!1,unorderedlist:!1,numberFormatList:!1,bulletFormatList:!1,underline:!1,alignments:null,backgroundcolor:null,fontcolor:null,fontname:null,fontsize:null,formats:null,createlink:!1,insertcode:!1,blockquote:!1}}function XM(a){if(a.startContainer.parentElement.closest("ol,ul")!==null&&a.endContainer.parentElement.closest("ol,ul")!==null){for(a.extractContents();(a.startContainer.nodeName==="#text"?a.startContainer.parentElement:a.startContainer).querySelectorAll("li :empty").length>0||(a.startContainer.nodeName==="#text"?a.startContainer.parentElement:a.startContainer).querySelectorAll("ol :empty").length>0;){var t=(a.startContainer.nodeName==="#text"?a.startContainer.parentElement:a.startContainer).querySelectorAll("li :empty");if(t.length>0)t.forEach(function(i){i.remove()});else break}var e=(a.startContainer.nodeName==="#text"?a.startContainer.parentElement:a.startContainer).querySelectorAll("li");e.length>0&&e.forEach(function(i){!h(i.firstChild)&&(i.firstChild.nodeName==="OL"||i.firstChild.nodeName==="UL")&&(i.style.listStyleType="none")})}}function Po(a,t){var e=t.nodeName==="BODY"?t.ownerDocument.defaultView.frameElement.closest(".e-richtexteditor"):t.closest(".e-richtexteditor"),i=e.style.height;if(a.getSelection().rangeCount!==0){var s=a.getSelection().getRangeAt(0),n=s.startContainer.nodeName==="#text"?s.startContainer.parentElement:s.startContainer,r=n.getBoundingClientRect(),o=r.top,l=r.bottom,c=e.getBoundingClientRect(),d=e.querySelectorAll(".e-count-enabled, .e-resize-enabled").length>0;t.nodeName==="BODY"?i==="auto"?window.innerHeight<o&&n.scrollIntoView(!1):o>t.getBoundingClientRect().height&&n.scrollIntoView({block:"nearest",inline:"nearest"}):i==="auto"?window.innerHeight<o&&n.scrollIntoView({block:"end",inline:"nearest"}):l>c.bottom&&(e.querySelector(".e-rte-content").scrollTop+=l-c.bottom+(d?20:0))}}function ag(a,t,e){for(var i=0;i<t.length;i++)i===0?a.splice(e+i,1,t[i]):a.splice(e+i,0,t[i]);return a}function Ue(a,t){k(a,t);for(var e=0;e<a.length;e++)a[e].classList.length===0&&a[e].getAttribute("class")&&a[e].removeAttribute("class");return a}var oc=zg(),Pg=function(){function a(){}return a.get=function(t,e,i,s,n,r){for(var o=JSON.parse(JSON.stringify(oc)),l=JSON.parse(JSON.stringify(oc)),c=new Lt,d=c.getRange(t),p=r?[r]:d.collapsed?c.getNodeCollection(d):c.getSelectionNodeCollectionBr(d),u=p.length,f=!1,m=0;m<p.length;m++){for(;p[m].nodeType===3&&d.startContainer.nodeType===3&&p[m].parentNode&&p[m].parentNode.lastElementChild&&p[m].parentNode.lastElementChild.nodeName!=="BR"&&this.getImmediateBlockNode(p[m].parentNode).textContent.replace(/\u200B/g,"").length===0&&d.startContainer.textContent.replace(/\u200B/g,"").length===0&&c.get(t).toString().replace(/\u200B/g,"").length===0;)p[m]=p[m].parentNode.lastElementChild.firstChild,f=!0;f&&p[m]&&(c.setCursorPoint(t,p[m],p[m].textContent.length),f=!1),(p[m].nodeName!=="BR"&&p[m].nodeType!==3||u>1&&p[m].nodeType===3&&p[m].textContent.trim()==="")&&(p.splice(m,1),m--)}for(var m=0;m<p.length;m++)o=this.getFormatParent(t,o,p[m],e,i,s,n),(m===0&&o.bold||!o.bold)&&(l.bold=o.bold),(m===0&&o.insertcode||!o.insertcode)&&(l.insertcode=o.insertcode),(m===0&&o.blockquote||!o.blockquote)&&(l.blockquote=o.blockquote),(m===0&&o.italic||!o.italic)&&(l.italic=o.italic),(m===0&&o.underline||!o.underline)&&(l.underline=o.underline),(m===0&&o.strikethrough||!o.strikethrough)&&(l.strikethrough=o.strikethrough),(m===0&&o.superscript||!o.superscript)&&(l.superscript=o.superscript),(m===0&&o.subscript||!o.subscript)&&(l.subscript=o.subscript),(m===0&&o.fontcolor||!o.fontcolor)&&(l.fontcolor=o.fontcolor),m===0&&o.fontname?l.fontname=o.fontname:l.fontname=o.fontname===l.fontname?o.fontname:"empty",m===0&&o.fontsize?l.fontsize=o.fontsize:l.fontsize=o.fontsize===l.fontsize?o.fontsize:"empty",(m===0&&o.backgroundcolor||!o.backgroundcolor)&&(l.backgroundcolor=o.backgroundcolor),(m===0&&o.orderedlist||!o.orderedlist)&&(l.orderedlist=o.orderedlist),(m===0&&o.unorderedlist||!o.unorderedlist)&&(l.unorderedlist=o.unorderedlist),(m===0&&o.alignments||!o.alignments)&&(l.alignments=o.alignments),m===0&&o.formats?l.formats=o.formats:l.formats=o.formats===l.formats?o.formats:"empty",(m===0&&o.createlink||!o.createlink)&&(l.createlink=o.createlink),(m===0&&o.numberFormatList||!o.numberFormatList)&&(l.numberFormatList=o.numberFormatList),(m===0&&o.bulletFormatList||!o.bulletFormatList)&&(l.bulletFormatList=o.bulletFormatList),o=JSON.parse(JSON.stringify(oc));return l},a.getImmediateBlockNode=function(t){do t=t.parentNode;while(t&&Fs.indexOf(t.nodeName.toLocaleLowerCase())<0);return t},a.getFormatParent=function(t,e,i,s,n,r,o){var l=!1,c=!1;if(s.contains(i)||i.nodeType===3&&s.nodeType!==3&&s.contains(i.parentNode))do e=this.isFormattedNode(t,e,i,l,c,n,r,o),(e.orderedlist||e.unorderedlist)&&(l=!0),(e.bulletFormatList||e.numberFormatList)&&(c=!0),i=i.parentNode;while(i&&i!==s);return e},a.isFormattedNode=function(t,e,i,s,n,r,o,l){if(e.bold||(e.bold=qt.isBold(i)),e.italic||(e.italic=qt.isItalic(i)),e.underline||(e.underline=qt.isUnderline(i)),e.strikethrough||(e.strikethrough=qt.isStrikethrough(i)),e.superscript||(e.superscript=qt.isSuperscript(i)),e.subscript||(e.subscript=qt.isSubscript(i)),e.fontcolor||(e.fontcolor=this.isFontColor(t,i)),e.fontname||(e.fontname=this.isFontName(t,i,l)),e.fontsize||(e.fontsize=this.isFontSize(t,i,o)),e.backgroundcolor||(e.backgroundcolor=this.isBackgroundColor(i)),!e.orderedlist&&!s&&(e.orderedlist=this.isOrderedList(i)),!e.unorderedlist&&!s&&(e.unorderedlist=this.isUnorderedList(i)),e.alignments||(e.alignments=this.isAlignment(i)),e.formats||(e.formats=this.isFormats(i,r),e.formats==="pre"&&(e.insertcode=!0)),!e.blockquote){var c=void 0;if(!h(r))if(r.indexOf("blockquote")>-1)e.formats=this.isFormats(i,r),c=e.formats;else{r.push("blockquote"),c=this.isFormats(i,r);for(var d=r.length-1;d>=0;d--)r[d]==="blockquote"&&r.splice(d,1)}c==="blockquote"&&(e.blockquote=!0)}return e.createlink||(e.createlink=this.isLink(i)),!e.numberFormatList&&!n&&(e.numberFormatList=this.isNumberFormatList(i)),!e.bulletFormatList&&!n&&(e.bulletFormatList=this.isBulletFormatList(i)),e},a.isFontColor=function(t,e){var i=e.style&&e.style.color;return(i==null||i==="")&&e.nodeType!==3&&(i=this.getComputedStyle(t,e,"color")),i!==null&&i!==""&&i!==void 0?i:null},a.isLink=function(t){return t.nodeName.toLocaleLowerCase()==="a"},a.isBackgroundColor=function(t){var e=t.style&&t.style.backgroundColor;return e!==null&&e!==""&&e!==void 0?e:null},a.isFontSize=function(t,e,i){var s=e.style&&e.style.fontSize;return(s==null||s==="")&&e.nodeType!==3&&e.parentElement.classList.contains("e-content")&&(s=this.getComputedStyle(t,e,"font-size")),s!==null&&s!==""&&s!==void 0&&(i==null||i.indexOf(s)>-1)?s:null},a.isFontName=function(t,e,i){var s=e.style&&e.style.fontFamily;(s==null||s==="")&&e.nodeType!==3&&(s=this.getComputedStyle(t,e,"font-family"));var n=null;return s!==null&&s!==""&&s!==void 0&&(i==null||i.filter(function(r,o){var l=RegExp,c=new l(s,"i");(r.replace(/"/g,"").replace(/ /g,"").toLowerCase()===s.replace(/"/g,"").replace(/ /g,"").toLowerCase()||r.split(",")[0]&&!h(r.split(",")[0].trim().match(c))&&r.split(",")[0].trim()===r.split(",")[0].trim().match(c)[0])&&(n=o)})&&n!==null)?n!==null?i[n]:s.replace(/"/g,""):null},a.isOrderedList=function(t){return t.nodeName.toLocaleLowerCase()==="ol"},a.isUnorderedList=function(t){return t.nodeName.toLocaleLowerCase()==="ul"},a.isAlignment=function(t){var e=t.style&&t.style.textAlign;return e==="left"?"justifyleft":e==="center"?"justifycenter":e==="right"?"justifyright":e==="justify"?"justifyfull":null},a.isFormats=function(t,e){return e==null&&Fs.indexOf(t.nodeName.toLocaleLowerCase())>-1||e!=null&&e.indexOf(t.nodeName.toLocaleLowerCase())>-1?t.nodeName.toLocaleLowerCase():null},a.getComputedStyle=function(t,e,i){return t.defaultView.getComputedStyle(e,null).getPropertyValue(i)},a.isNumberFormatList=function(t){var e=t.style&&t.style.listStyleType;return e==="lower-alpha"?"Lower Alpha":e==="number"?"Number":e==="upper-alpha"?"Upper Alpha":e==="lower-roman"?"Lower Roman":e==="upper-roman"?"Upper Roman":e==="lower-greek"?"Lower Greek":e==="none"?"None":this.isOrderedList(t)?!0:null},a.isBulletFormatList=function(t){var e=t.style&&t.style.listStyleType;return e==="circle"?"Circle":e==="square"?"Square":e==="none"?"None":e==="disc"?"Disc":this.isUnorderedList(t)?!0:null},a}(),og=function(){function a(t,e){this.parent=t,this.isDestroyed=!1,e&&(this.l10n=e.getService("rteLocale")),this.wireEvent()}return a.prototype.wireEvent=function(){this.parent.on(Ee,this.destroy,this),this.parent.on(xo,this.destroyTooltip,this),this.parent.on(ko,this.closeTooltip,this)},a.prototype.destroyTooltip=function(){var t=this.parent.iframeSettings.enable?this.parent.contentModule.getPanel().ownerDocument:this.parent.contentModule.getDocument();if(!h(t.querySelector(".e-tooltip-wrap"))&&!h(t.querySelector("[data-tooltip-id]"))){var e=t.querySelector("[data-tooltip-id]"),i=new MouseEvent("mouseleave",{bubbles:!0,cancelable:!0});e.dispatchEvent(i)}},a.prototype.unWireEvent=function(){this.parent.off(Ee,this.destroy),this.parent.off(xo,this.destroyTooltip),this.parent.off(ko,this.closeTooltip)},a.prototype.toolbarBeforeCreate=function(t){this.mode==="Extended"&&(t.enableCollision=!1)},a.prototype.toolbarCreated=function(){this.parent.notify(M0,this)},a.prototype.toolbarClicked=function(t){this.parent.enabled&&(this.parent.trigger("toolbarClick",t),(!this.parent.readonly||h(t.item))&&this.parent.notify(pc,t))},a.prototype.dropDownSelected=function(t){this.parent.notify(gi,{element:t.element,item:t.item,originalEvent:t.event}),this.destroyTooltip()},a.prototype.beforeDropDownItemRender=function(t){this.parent.readonly||!this.parent.enabled||this.parent.notify(yc,t)},a.prototype.tooltipBeforeRender=function(t){if(!h(t.target.getAttribute("title"))){var e=t.target.getAttribute("title"),i=void 0;switch(e){case"Minimize":i=this.l10n.getConstant("minimize"),t.target.setAttribute("title",i+" (Esc)");break;case"Maximize":i=this.l10n.getConstant("maximize"),t.target.setAttribute("title",i+" (Ctrl+Shift+F)");break}}t.target.querySelector(".e-active")&&(t.cancel=!0,h(t.target.getAttribute("title"))||this.closeTooltip({target:t.target,isTitle:!0}))},a.prototype.dropDownOpen=function(t){if(t.element.parentElement.getAttribute("id").indexOf("TableCell")>-1&&!h(t.element.parentElement.querySelector(".e-cell-merge"))&&(!h(t.element.parentElement.querySelector(".e-cell-horizontal-split"))||!h(t.element.parentElement.querySelector(".e-cell-vertical-split")))){var e=t.element.querySelectorAll("li"),i=this.parent.inputElement.querySelectorAll(".e-cell-select");i.length===1?(L([e[0]],"e-disabled"),k([e[1],e[2]],"e-disabled")):i.length>1&&(Array.from(i).every(function(s){return s.tagName.toLowerCase()===i[0].tagName.toLowerCase()})?k([e[0]],"e-disabled"):L([e[0]],"e-disabled"),L([e[1],e[2]],"e-disabled"))}this.parent.notify(ti,t)},a.prototype.dropDownClose=function(t){this.parent.notify(ii,t)},a.prototype.renderToolbar=function(t){this.setPanel(t.target),this.renderPanel(),this.mode=t.overflowMode,t.rteToolbarObj.toolbarObj=new bm({items:t.items,width:"100%",overflowMode:t.overflowMode,beforeCreate:this.toolbarBeforeCreate.bind(this),created:this.toolbarCreated.bind(this),clicked:this.toolbarClicked.bind(this),enablePersistence:t.enablePersistence,enableRtl:t.enableRtl,cssClass:t.cssClass}),t.rteToolbarObj.toolbarObj.isStringTemplate=!0,t.rteToolbarObj.toolbarObj.createElement=this.parent.createElement,t.rteToolbarObj.toolbarObj.appendTo(t.target),this.parent.showTooltip&&t.type==="toolbar"&&(this.tooltip=new ms({target:"#"+this.parent.getID()+"_toolbar_wrapper [title]",showTipPointer:!0,openDelay:400,opensOn:"Hover",beforeRender:this.tooltipBeforeRender.bind(this),beforeOpen:this.tooltipBeforeOpen.bind(this),cssClass:this.parent.getCssClass(),windowCollision:!0,position:"BottomCenter"}),this.tooltip.appendTo(t.target.parentElement))},a.prototype.tooltipBeforeOpen=function(t){t.element&&t.element.setAttribute("data-rte-id",this.parent.getID())},a.prototype.renderDropDownButton=function(t){var e=this,i;t.element.classList.add(Dt),i=t.cssClass+" "+rt+" "+sc,this.parent.inlineMode.enable&&E.isDevice&&(i=i+" "+Zh);var s=this,n=new pn({items:t.items,iconCss:t.iconCss,cssClass:i,content:t.content,enablePersistence:this.parent.enablePersistence,enableRtl:this.parent.enableRtl,select:this.dropDownSelected.bind(this),beforeOpen:function(o){if(s.parent.readonly||!s.parent.enabled){o.cancel=!0;return}if(s.parent.editorMode!=="Markdown"){var l=s.parent.getRange().startContainer.parentElement,c=l.closest("table"),d=l.closest("tr");if(!h(c)&&c.classList.contains("e-dashed-border"))for(var p=0;p<o.element.childNodes.length;p++)o.element.childNodes[p].classList.contains("e-dashed-borders")&&L([o.element.childNodes[p]],"e-active");else if(!h(c)&&!c.classList.contains("e-dashed-border")&&c.classList.contains("e-alternate-rows")&&window.getComputedStyle(d).backgroundColor!=="")for(var p=0;p<o.element.childNodes.length;p++)o.element.childNodes[p].classList.contains("e-alternate-rows")&&L([o.element.childNodes[p]],"e-active");for(var u=s.parent.getRange().startContainer;u!==s.parent.inputElement&&!h(u.parentElement);){u.nodeName==="#text"&&(u=u.parentElement);var f=window.getComputedStyle(u).textAlign;if(o.items[0].command==="Alignments"){if(o.items[0].text==="Align Left"&&f==="left"||f==="start"){L([o.element.childNodes[0]],"e-active");break}else if(o.items[1].text==="Align Center"&&f==="center"){L([o.element.childNodes[1]],"e-active");break}else if(o.items[2].text==="Align Right"&&f==="right"){L([o.element.childNodes[2]],"e-active");break}else if(o.items[3].text==="Align Justify"&&f==="justify"){L([o.element.childNodes[3]],"e-active");break}}u=u.parentElement}var m=l.closest("img"),g=m||l.querySelector("img");if(o.items[0].command==="Images"&&!h(g)){var p=void 0;g.classList.contains("e-imgleft")||g.classList.contains("e-imginline")?p=0:g.classList.contains("e-imgcenter")||g.classList.contains("e-imgbreak")?p=1:g.classList.contains("e-imgright")&&(p=2),h(o.element.childNodes[p])||L([o.element.childNodes[p]],"e-active")}if(o.items[0].command==="Formats"||o.items[0].command==="Font"){var b=[],S=[],T=!1;e.parent.format.types.forEach(function(x){S.push(x.value.toLocaleLowerCase())}),e.parent.fontFamily.items.forEach(function(x){b.push(x.value)});for(var I=Pg.get(e.parent.contentModule.getDocument(),e.parent.contentModule.getEditPanel(),S,null,b),p=0;p<o.element.childNodes.length;p++){var w=e.parent.createElement("div");w.innerHTML=n.content.trim(),!T&&(w.textContent.trim()!==""&&o.element.childNodes[p].textContent.trim()===w.textContent.trim()||o.items[0].command==="Formats"&&!h(I.formats)&&e.parent.format.types[p].value.toLowerCase()===I.formats.toLowerCase()&&o.element.childNodes[p].classList.contains(e.parent.format.types[p].cssClass)||o.items[0].subCommand==="FontName"&&o.items[0].command==="Font"&&!h(I.fontname)&&!h(e.parent.fontFamily.items[p])&&e.parent.fontFamily.items[p].value.toLowerCase()===I.fontname.toLowerCase()&&o.element.childNodes[p].classList.contains(e.parent.fontFamily.items[p].cssClass)||o.items[0].subCommand==="FontName"&&e.parent.fontFamily.items[p].value===""&&h(I.fontname)&&o.element.childNodes[p].classList.contains(e.parent.fontFamily.items[p].cssClass)||o.items[0].subCommand==="FontSize"&&o.element.childNodes[p].textContent==="Default"&&w.textContent==="Font Size"&&e.parent.fontSize.items[p].value===""&&!h(I.fontsize))?o.element.childNodes[p].classList.contains("e-active")||(L([o.element.childNodes[p]],"e-active"),T=!0):k([o.element.childNodes[p]],"e-active")}}}s.parent.notify(Lo,o)},close:this.dropDownClose.bind(this),open:this.dropDownOpen.bind(this),beforeItemRender:this.beforeDropDownItemRender.bind(this)});n.isStringTemplate=!0,n.createElement=s.parent.createElement,n.appendTo(t.element),t.element.tabIndex=-1;var r=document.getElementById(n.element.id+"-popup");return r.setAttribute("aria-owns",this.parent.getID()),n},a.prototype.mouseOutHandler=function(){if(!h(this.tooltipTargetEle))this.tooltipTargetEle.setAttribute("title",this.tooltipTargetEle.getAttribute("data-title"));else{var t=this.parent.iframeSettings.enable?this.parent.contentModule.getPanel().ownerDocument:this.parent.contentModule.getDocument();this.tooltipTargetEle=t.querySelector("[data-title]"),this.tooltipTargetEle.setAttribute("title",this.tooltipTargetEle.getAttribute("data-title"))}this.tooltipTargetEle.removeAttribute("data-title"),v.remove(this.tooltipTargetEle,"mouseout",this.mouseOutHandler)},a.prototype.closeTooltip=function(t){if(t.isTitle)this.tooltipTargetEle=t.target,this.tooltipTargetEle.setAttribute("data-title",this.tooltipTargetEle.getAttribute("title")),this.tooltipTargetEle.removeAttribute("title"),v.add(this.tooltipTargetEle,"mouseout",this.mouseOutHandler,this);else{var e=this.parent.iframeSettings.enable?this.parent.contentModule.getPanel().ownerDocument:this.parent.contentModule.getDocument();this.tooltipTargetEle=M(t.target,"[data-tooltip-id]"),!h(this.tooltipTargetEle)&&this.parent.showTooltip&&!h(e.querySelector(".e-tooltip-wrap"))&&(this.destroyTooltip(),this.tooltipTargetEle.setAttribute("data-title",this.tooltipTargetEle.getAttribute("title")),this.tooltipTargetEle.removeAttribute("title"),v.add(this.tooltipTargetEle,"mouseout",this.mouseOutHandler,this))}},a.prototype.renderListDropDown=function(t){var e=this,i=this,s=rt+" "+sc+(this.parent.inlineMode?" "+Zh:"");s+=" "+(t.itemName==="NumberFormatList"?Y0:G0);var n=i.parent.createElement("span",{className:nc}),r=i.parent.createElement("span",{className:t.cssClass});n.appendChild(r);var o=new pn({items:t.items,cssClass:s,content:t.content,enablePersistence:this.parent.enablePersistence,enableRtl:this.parent.enableRtl,select:this.dropDownSelected.bind(this),beforeOpen:function(c){if(i.parent.editorMode!=="Markdown"){var d=i.parent.getRange().startContainer.parentElement,p=d.closest("LI"),u=h(p)?null:p.parentElement;if(!h(u)&&(u.nodeName==="OL"||u.nodeName==="UL"))if(u.nodeName==="UL"&&c.items[0].subCommand==="NumberFormatList")L([c.element.childNodes[0]],"e-active");else if(u.nodeName==="OL"&&c.items[0].subCommand==="BulletFormatList")L([c.element.childNodes[0]],"e-active");else{var f=u.style.listStyleType.split("-").join("").toLocaleLowerCase();f=f==="decimal"?"number":f;for(var m=0;m<c.element.childNodes.length;m++)if(f===c.element.childNodes[m].innerHTML.split(" ").join("").toLocaleLowerCase()){L([c.element.childNodes[m]],"e-active");break}else if(f===""&&c.element.childNodes[m].innerHTML!=="None"){L([c.element.childNodes[m]],"e-active");break}}else L([c.element.childNodes[0]],"e-active")}if(e.closeTooltip({target:c.event.target}),i.parent.readonly||!i.parent.enabled){c.cancel=!0;return}i.parent.notify(ii,{});var g=c.event?c.event.target:null;if(i.currentElement=o.element,i.currentDropdown=o,c.event&&c.event.type==="click"&&(g.classList.contains(nc)||g.parentElement.classList.contains(nc))){c.cancel=!0;return}i.parent.notify(Lo,c)},close:this.dropDownClose.bind(this),open:this.dropDownOpen.bind(this),beforeItemRender:this.beforeDropDownItemRender.bind(this)});o.isStringTemplate=!0,o.createElement=i.parent.createElement,o.appendTo(t.element),t.element.tabIndex=-1,t.element.setAttribute("role","button");var l=document.getElementById(o.element.id+"-popup");return l.setAttribute("aria-owns",this.parent.getID()),t.element.childElementCount===1&&o.element.insertBefore(n,o.element.querySelector(".e-caret")),t.element.tabIndex=-1,o.element.removeAttribute("type"),o.element.onmousedown=function(){i.parent.notify(ti,{})},o.element.onkeydown=function(){i.parent.notify(ti,{})},o},a.prototype.paletteSelection=function(t,e){var i=t.element.querySelector(".e-control.e-colorpicker"),s=[].slice.call(ce(".e-tile",i.parentElement));k(s,"e-selected");var n=e.querySelector("."+rt).style.borderBottomColor;s.filter(function(r){r.style.backgroundColor===n&&L([r],"e-selected")})},a.prototype.renderColorPickerDropDown=function(t,e,i,s){var n=this,r=this,o=rt+" "+sc+(this.parent.inlineMode?" "+Zh:"");o+=" "+(e==="backgroundcolor"?iM:tM),o+=this.parent.getCssClass(!0);var l=r.parent.createElement("span",{className:br}),c=r.parent.createElement("span",{className:t.cssClass}),d,p=h(s)?r.parent.backgroundColor.default:s;c.style.borderBottomColor=e==="backgroundcolor"?p:r.parent.fontColor.default,l.appendChild(c);var u=new pn({target:i.element.parentElement,cssClass:o,enablePersistence:this.parent.enablePersistence,enableRtl:this.parent.enableRtl,beforeOpen:function(m){if(r.parent.readonly||!r.parent.enabled){m.cancel=!0;return}var g=m.event?m.event.target:null;if(r.currentElement=u.element,r.currentDropdown=u,r.paletteSelection(m,r.currentElement),m.event&&m.event.type==="click"&&(g.classList.contains(br)||g.parentElement.classList.contains(br))){m.cancel=!0;var b=g.classList.contains(rt)?g.style.borderBottomColor:g.querySelector("."+rt).style.borderBottomColor;r.parent.notify(ii,{}),d=r.parent.formatter.editorManager.nodeSelection.getRange(r.parent.contentModule.getDocument());var S=d.startContainer.parentNode,T=M(d.startContainer.parentNode,"table");(d.startContainer.nodeName==="TD"||d.startContainer.nodeName==="TH"||M(d.startContainer.parentNode,"td,th")||r.parent.iframeSettings.enable&&!Qe(S.ownerDocument.querySelector("body"),"e-lib"))&&d.collapsed&&t.subCommand==="BackgroundColor"&&M(T,"."+Or)?r.parent.notify(wr,{item:{command:t.command,subCommand:t.subCommand,value:b}}):r.parent.notify(Lr,{item:{command:t.command,subCommand:t.subCommand,value:b}});return}else{var I=m.element.querySelector(".e-control.e-colorpicker"),w=xt(I,Oh);w.showButtons=!m.element.querySelector(".e-color-palette"),w.dataBind()}m.element.onclick=function(x){x.target.classList.contains("e-cancel")&&u.toggle()}},open:function(m){n.setColorPickerContentWidth(i);var g,b=m.element.querySelector(".e-control.e-colorpicker");m.element.querySelector(".e-color-palette")?g=b.parentElement.querySelector(".e-palette"):g=b.parentElement.querySelector("e-handler"),g&&g.focus(),n.pickerRefresh(m)},beforeClose:function(m){var g=m.event?m.event.target:null;if(m.event&&m.event.type==="click"&&(g.classList.contains(br)||g.parentElement.classList.contains(br))){var b=g.classList.contains(rt)?g.style.borderBottomColor:g.querySelector("."+rt).style.borderBottomColor;d=r.parent.formatter.editorManager.nodeSelection.getRange(r.parent.contentModule.getDocument()),(d.startContainer.nodeName==="TD"||d.startContainer.nodeName==="TH"||M(d.startContainer.parentNode,"td,th"))&&d.collapsed?r.parent.notify(wr,{item:{command:t.command,subCommand:t.subCommand,value:b}}):r.parent.notify(Lr,{item:{command:t.command,subCommand:t.subCommand,value:b}});return}},close:function(){r.parent.notify(ii,{})}});u.isStringTemplate=!0,u.createElement=r.parent.createElement,t.element.setAttribute("role","button"),u.appendTo(t.element);var f=document.getElementById(u.element.id+"-popup");return f.setAttribute("aria-owns",this.parent.getID()),u.element.insertBefore(l,u.element.querySelector(".e-caret")),t.element.tabIndex=-1,u.element.removeAttribute("type"),u.element.onmousedown=function(){r.parent.notify(ti,{})},u.element.onkeydown=function(){r.parent.notify(ti,{})},u},a.prototype.pickerRefresh=function(t){if(this.parent.backgroundColor.mode==="Picker"){var e=t.element.parentElement;e.style.width=(e.offsetWidth+5).toString()+"px",xt(e,jt).refreshPosition(e),e.style.width=(e.offsetWidth-5).toString()+"px"}},a.prototype.setColorPickerContentWidth=function(t){var e=t.element.nextSibling;if(e.style.width==="0px"){e.style.width="";var i=parseInt(getComputedStyle(e).borderBottomWidth,10);e.style.width=X(e.children[0].offsetWidth+i+i)}},a.prototype.renderColorPicker=function(t,e){var i=this,s=this,n,r=new Oh({enablePersistence:this.parent.enablePersistence,enableRtl:this.parent.enableRtl,inline:!0,value:null,cssClass:(e==="backgroundcolor"?$m:Km)+" "+t.cssClass+" e-rte-picker-init",created:function(){var o=e==="backgroundcolor"?s.parent.backgroundColor.default:s.parent.fontColor.default,l=(e==="backgroundcolor"?$m:Km)+" "+t.cssClass;r.setProperties({value:o,cssClass:l})},mode:e==="backgroundcolor"?s.parent.backgroundColor.mode:s.parent.fontColor.mode,modeSwitcher:e==="backgroundcolor"?s.parent.backgroundColor.modeSwitcher:s.parent.fontColor.modeSwitcher,presetColors:e==="backgroundcolor"?this.parent.backgroundColor.colorCode:this.parent.fontColor.colorCode,columns:e==="backgroundcolor"?this.parent.backgroundColor.columns:this.parent.fontColor.columns,beforeTileRender:function(o){if(o.element.classList.add(sM),o.element.classList.add(mM),!h(i.parent.cssClass))for(var l=i.parent.getCssClass().split(" "),c=0;c<l.length;c++)l[c].trim()!==""&&o.element.classList.add(l[c]);o.value===""&&o.element.classList.add(gM)},change:function(o){var l=o.currentValue.rgba;o.item={command:t.command,subCommand:t.subCommand,value:l},s.parent.notify(ii,{}),s.currentElement.querySelector("."+rt).style.borderBottomColor=l;var c=s.parent.formatter.editorManager.nodeSelection.getRange(s.parent.contentModule.getDocument()),d=M(c.startContainer.parentNode,"table");(c.startContainer.nodeName==="TD"||c.startContainer.nodeName==="TH"||c.startContainer.nodeName==="BODY"||M(c.startContainer.parentNode,"td,th"))&&c.collapsed&&t.subCommand==="BackgroundColor"&&M(d,"."+Or)?s.parent.notify(wr,o):s.parent.notify(Lr,o),s.currentDropdown.toggle()},beforeModeSwitch:function(o){n=r.value,n===""&&r.setProperties({value:o.mode==="Picker"?"#008000ff":""},!0),r.showButtons=o.mode!=="Palette"}});return r.isStringTemplate=!0,r.createElement=this.parent.createElement,r.appendTo(document.getElementById(t.target)),r},a.prototype.renderPanel=function(){this.getPanel().classList.add(co)},a.prototype.getPanel=function(){return this.toolbarPanel},a.prototype.setPanel=function(t){this.toolbarPanel=t},a.prototype.destroy=function(){if(!this.isDestroyed){if(this.tooltip&&!this.tooltip.isDestroyed){this.tooltip.destroy();for(var t=document.querySelectorAll('[data-rte-id="'+this.parent.getID()+'"]'),e=0;e<t.length;e++){var i=t[e];this.parent.getID()===i.getAttribute("data-rte-id")&&N(i)}}this.unWireEvent(),this.mode=null,this.toolbarPanel=null,this.currentElement=null,this.currentDropdown=null,this.tooltip=null,this.tooltipTargetEle=null,this.isDestroyed=!0}},a}(),Bg=function(){function a(t,e){this.parent=t,this.rteID=t.element.id,this.i10n=e.getService("rteLocale"),this.addEventListener(),this.serviceLocator=e,this.rendererFactory=e.getService("rendererFactory"),this.dialogRenderObj=e.getService("dialogRenderObject"),this.isDestroyed=!1,this.mouseDown=this.onDocumentClick.bind(this)}return a.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(Tc,this.linkDialog,this),this.parent.on(Fc,this.showDialog,this),this.parent.on(Uc,this.closeDialog,this),this.parent.on(pt,this.onKeyDown,this),this.parent.on(es,this.showLinkQuickToolbar,this),this.parent.on(is,this.clearDialogObj,this),this.parent.on(Ec,this.onToolbarAction,this),this.parent.on(wt,this.onIframeMouseDown,this),this.parent.on(ao,this.removeLink,this),this.parent.on(Vh,this.editLink,this),this.parent.on(Ka,this.openLink,this),this.parent.on(si,this.editAreaClickHandler,this),this.parent.on(ot,this.setCssClass,this),this.parent.on(Ee,this.destroy,this))},a.prototype.onToolbarAction=function(t){var e=t.args.item;switch(e.subCommand){case"OpenLink":this.parent.notify(Ka,t);break;case"EditLink":this.parent.notify(Vh,t);break;case"RemoveLink":this.parent.notify(ao,t);break}},a.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(Tc,this.linkDialog),this.parent.off(Fc,this.showDialog),this.parent.off(Uc,this.closeDialog),this.parent.off(pt,this.onKeyDown),this.parent.off(es,this.showLinkQuickToolbar),this.parent.off(is,this.clearDialogObj),this.parent.off(Ec,this.onToolbarAction),this.parent.off(ao,this.removeLink),this.parent.off(wt,this.onIframeMouseDown),this.parent.off(Vh,this.editLink),this.parent.off(Ka,this.openLink),this.parent.off(si,this.editAreaClickHandler),this.parent.off(ot,this.setCssClass),this.parent.off(Ee,this.destroy))},a.prototype.onIframeMouseDown=function(){this.dialogObj&&this.dialogObj.hide({returnValue:!0})},a.prototype.updateCss=function(t,e){t&&e.cssClass&&(h(e.oldCssClass)?t.setProperties({cssClass:(t.cssClass+" "+e.cssClass).trim()}):t.setProperties({cssClass:(t.cssClass.replace(e.oldCssClass,"").trim()+" "+e.cssClass).trim()}))},a.prototype.setCssClass=function(t){this.updateCss(this.checkBoxObj,t),this.updateCss(this.dialogObj,t)},a.prototype.showLinkQuickToolbar=function(t){if(!h(t.args)&&t.args.action!=="enter"&&t.args.action!=="space"){var e=void 0,i=void 0;if(t.type!=="Links"||h(this.parent.quickToolbarModule)||h(this.parent.quickToolbarModule.linkQTBar))return;this.quickToolObj=this.parent.quickToolbarModule;var s=this.parent.element.getBoundingClientRect().top,n=this.parent.element.getBoundingClientRect().left,r=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),o;if([].forEach.call(t.elements,function(m,g){g===0&&(o=m.nodeName==="#text"?m.parentNode:m)}),t.isNotify){var l=this.parent.toolbarModule.getToolbarElement(),c=o.getBoundingClientRect().top,d=o.getBoundingClientRect().left,p=c-s,u=l?l.offsetHeight+this.parent.toolbarModule.getExpandTBarPopHeight():0;e=this.parent.iframeSettings.enable?n+d:o.getBoundingClientRect().left,i=window.pageYOffset+(this.parent.iframeSettings.enable?s+u+c:s+p)}else{var f=void 0;f=t.args.touches?t.args.changedTouches[0]:f=t.args,e=this.parent.iframeSettings.enable?window.pageXOffset+n+f.clientX:f.pageX,i=this.parent.iframeSettings.enable?window.pageYOffset+s+f.clientY:f.pageY}this.quickToolObj.linkQTBar&&this.quickToolObj.linkQTBar.showPopup(e,i,r.endContainer,"link")}},a.prototype.hideLinkQuickToolbar=function(){this.quickToolObj&&this.quickToolObj.linkQTBar&&document.body.contains(this.quickToolObj.linkQTBar.element)&&this.quickToolObj.linkQTBar.hidePopup()},a.prototype.editAreaClickHandler=function(t){if(this.parent.readonly){this.hideLinkQuickToolbar();return}var e=t.args,i=this.parent.quickToolbarSettings.showOnRightClick;if(!(e.which===2||i&&e.which===1||!i&&e.which===3)&&this.parent.editorMode==="HTML"&&this.parent.quickToolbarModule&&this.parent.quickToolbarModule.linkQTBar){this.quickToolObj=this.parent.quickToolbarModule;var s=e.target;s=this.getAnchorNode(s),this.contentModule=this.rendererFactory.getRenderer(Ce.Content);var n=this.quickToolObj.linkQTBar.element.classList.contains("e-rte-pop");if(s.nodeName==="A"&&s.childNodes.length>0&&s.childNodes[0].nodeName!=="IMG"&&t.args.target.nodeName!=="IMG"&&!h(M(this.parent.getRange().startContainer.parentElement,"A"))&&!h(M(this.parent.getRange().endContainer.parentElement,"A"))){if(n)return;if(t.args.ctrlKey===!1)this.showLinkQuickToolbar({args:e,isNotify:!1,type:"Links",elements:[e.target]});else{var r=this.parent.formatter.editorManager.nodeSelection,o=r.getRange(this.parent.contentModule.getDocument()),l={args:{item:{subCommand:"OpenLink",command:"Links",name:""},originalEvent:t.args},selectNode:r.getNodeCollection(o),selectParent:r.getParentNodeCollection(o),selection:r.save(o,this.parent.contentModule.getDocument())};this.parent.notify(Ka,l)}}else this.hideLinkQuickToolbar()}},a.prototype.onKeyDown=function(t){var e=t.args;switch(e.action){case"escape":h(this.dialogObj)||this.dialogObj.close();break;case"insert-link":this.openDialog(!0,t),e.preventDefault();break}},a.prototype.openDialog=function(t,e){if(t||this.parent.contentModule.getEditPanel().focus(),this.parent.editorMode==="HTML"){var i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),s=this.parent.formatter.editorManager.nodeSelection.save(i,this.parent.contentModule.getDocument()),n=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(i),r=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(i),o={args:e?e.args:{item:{command:"Links",subCommand:"CreateLink"},originalEvent:void 0,name:t?null:"showDialog"},selectNode:n,selection:s,selectParent:r};this.linkDialog(o)}else{var l=this.parent.contentModule.getEditPanel();this.parent.formatter.editorManager.markdownSelection.save(l.selectionStart,l.selectionEnd),this.linkDialog({args:{item:{command:"Links",subCommand:"Link"},originalEvent:e&&e.args},member:"link",text:this.parent.formatter.editorManager.markdownSelection.getSelectedText(this.parent.contentModule.getEditPanel()),module:"Markdown",name:"insertLink"})}},a.prototype.showDialog=function(){this.openDialog(!1),this.setCssClass({cssClass:this.parent.getCssClass()})},a.prototype.closeDialog=function(){this.dialogObj&&this.dialogObj.hide({returnValue:!0})},a.prototype.clearDialogObj=function(){this.dialogObj&&(this.dialogObj.destroy(),N(this.dialogObj.element),this.dialogObj=null)},a.prototype.linkDialog=function(t,e){var i=this;if(this.dialogObj){this.dialogObj.hide({returnValue:!0});return}if(this.parent.editorMode==="HTML"&&t.selectParent.length>0&&!h(t.selectParent[0].classList)&&t.selectParent[0].classList.contains("e-rte-anchor")&&h(e)){this.editLink(t);return}var s=this.i10n.getConstant("linkWebUrl"),n=this.i10n.getConstant("linkText"),r=this.i10n.getConstant("linkTooltipLabel"),o=this.i10n.getConstant("linkurl"),l=this.i10n.getConstant("textPlaceholder"),c=this.i10n.getConstant("linkTitle"),d=this.parent.createElement("div",{className:"e-rte-link-dialog"+this.parent.getCssClass(!0),id:this.rteID+"_rtelink"});this.parent.rootContainer.appendChild(d);var p=this.parent.createElement("div",{className:"e-rte-linkcontent"+this.parent.getCssClass(!0),id:this.rteID+"_linkContent"}),u=this.parent.editorMode==="HTML"?"<label>"+r+'</label></div><div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text" data-role ="none" spellcheck="false" placeholder = "'+c+'"aria-label="'+this.i10n.getConstant("linkTitle")+'" class="e-input e-rte-linkTitle'+this.parent.getCssClass(!0)+'"></div><div class="e-rte-label'+this.parent.getCssClass(!0)+'"></div><div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="checkbox" class="e-rte-linkTarget'+this.parent.getCssClass(!0)+'"  data-role ="none"></div>':"",f='<div class="e-rte-label'+this.parent.getCssClass(!0)+'"><label>'+s+'</label></div><div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text" data-role ="none" spellcheck="false" placeholder="'+o+'"aria-label="'+this.i10n.getConstant("linkWebUrl")+'" class="e-input e-rte-linkurl'+this.parent.getCssClass(!0)+'"/></div><div class="e-rte-label'+this.parent.getCssClass(!0)+'"><label>'+n+'</label></div><div class="e-rte-field'+this.parent.getCssClass(!0)+'"> <input type="text" data-role ="none" spellcheck="false" class="e-input e-rte-linkText'+this.parent.getCssClass(!0)+'"aria-label="'+this.i10n.getConstant("linkText")+'" placeholder="'+l+'"></div><div class="e-rte-label'+this.parent.getCssClass(!0)+'">'+u,m=Es(f);p.appendChild(m);var g=p.querySelector(".e-rte-linkTarget"),b=p.querySelector(".e-rte-linkurl"),S=p.querySelector(".e-rte-linkText"),T=p.querySelector(".e-rte-linkTitle"),I=this.i10n.getConstant("linkOpenInNewWindow");this.checkBoxObj=new Nl({label:I,checked:!0,enableRtl:this.parent.enableRtl,cssClass:this.parent.getCssClass()}),this.checkBoxObj.isStringTemplate=!0,this.checkBoxObj.createElement=this.parent.createElement,this.checkBoxObj.appendTo(g);var w=this.parent.editorMode==="HTML"?t.selection.getRange(this.parent.contentModule.getDocument()).toString():t.text,x=this.i10n.getConstant("dialogInsert"),A=this.i10n.getConstant("dialogCancel"),q=t.selection,F={selfLink:this,selection:t.selection,selectParent:t.selectParent,args:t.args},J={header:this.i10n.getConstant("linkHeader"),content:p,cssClass:rt+this.parent.getCssClass(!0),enableRtl:this.parent.enableRtl,locale:this.parent.locale,showCloseIcon:!0,closeOnEscape:!0,width:E.isDevice?"290px":"310px",isModal:E.isDevice,buttons:[{click:this.insertlink.bind(F),buttonModel:{content:x,cssClass:"e-flat e-insertLink"+this.parent.getCssClass(!0),isPrimary:!0}},{click:this.cancelDialog.bind(F),buttonModel:{cssClass:"e-flat"+this.parent.getCssClass(!0),content:A}}],target:E.isDevice?document.body:this.parent.element,animationSettings:{effect:"None"},close:function(ae){i.parent.isBlur=!1,ae&&ae.event.returnValue&&(i.parent.editorMode==="HTML"?q.restore():i.parent.formatter.editorManager.markdownSelection.restore(i.parent.contentModule.getEditPanel())),i.dialogObj.destroy(),N(i.dialogObj.element);var de=i.dialogObj;i.dialogRenderObj.close(de),i.dialogObj=null}};this.dialogObj=this.dialogRenderObj.render(J),this.dialogObj.createElement=this.parent.createElement,this.dialogObj.appendTo(d),d.style.maxHeight="inherit",!h(this.dialogObj)&&(h(e)||(b.value=e.url,S.value=e.text,T.value=e.title,e.target?this.checkBoxObj.checked=!0:this.checkBoxObj.checked=!1,this.dialogObj.header=e.header,this.dialogObj.element.querySelector(".e-insertLink").textContent=e.btnText),this.checkUrl(!1),(this.parent.editorMode==="HTML"&&h(e)&&(!h(w)&&w!==""&&t.selection.range.startOffset===0||t.selection.range.startOffset!==t.selection.range.endOffset)||t.module==="Markdown")&&(S.value=w),this.parent.element.ownerDocument.addEventListener("mousedown",this.mouseDown,!0),this.quickToolObj&&(this.hideLinkQuickToolbar(),this.quickToolObj.inlineQTBar&&document.body.contains(this.quickToolObj.inlineQTBar.element)&&this.quickToolObj.inlineQTBar.hidePopup(),this.quickToolObj.textQTBar&&this.parent.element.ownerDocument.body.contains(this.quickToolObj.textQTBar.element)&&this.quickToolObj.textQTBar.hidePopup()))},a.prototype.insertlink=function(t){var e=this.selfLink.dialogObj.element,i=e.querySelector(".e-rte-linkurl").value,s=e.querySelector(".e-rte-linkText").value,n;this.selfLink.parent.editorMode==="HTML"&&(n=e.querySelector(".e-rte-linkTitle").value);var r=this.selfLink.checkBoxObj.checked?"_blank":null,o=this.selfLink.checkBoxObj.checked?this.selfLink.i10n.getConstant("linkAriaLabel"):null;if(this.selfLink.parent.editorMode==="Markdown"&&i===""&&(i="http://"),i===""){this.selfLink.checkUrl(!0);return}this.selfLink.isUrl(i)?this.selfLink.checkUrl(!1):(this.selfLink.parent.editorMode==="Markdown"?s=s!==""?s:"":s=s===""?i:s,this.selfLink.parent.enableAutoUrl?i=i:i=i.indexOf("http")>-1?i:"http://"+i);var l=this.selfLink;if(l.parent.editorMode==="HTML"&&h(M(this.selection.range.startContainer.parentNode,"[id='"+l.parent.contentModule.getPanel().id+"']"))){l.parent.contentModule.getEditPanel().focus(),E.isIE&&l.parent.iframeSettings.enable&&this.selection.restore();var c=l.parent.formatter.editorManager.nodeSelection.getRange(l.parent.contentModule.getDocument());this.selection=l.parent.formatter.editorManager.nodeSelection.save(c,l.parent.contentModule.getDocument()),this.selectParent=l.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(c)}var d={url:i,text:s,title:n,target:r,ariaLabel:o,selection:this.selection,selectParent:this.selectParent};document.body.contains(l.dialogObj.element)&&this.selfLink.dialogObj.hide({returnValue:!1}),vt()&&l.parent.iframeSettings.enable&&W("iframe",l.parent.element).contentWindow.focus(),l.parent.editorMode==="HTML"&&this.selection.restore(),l.parent.formatter.getUndoRedoStack().length===0&&l.parent.formatter.saveData();var p;if(!h(this.args)&&this.args.code==="KeyK"){var u=this.args;ue(this.args,{item:{command:"Links",subCommand:"CreateLink"},originalEvent:u},!0);var f={item:{command:"Links",subCommand:"CreateLink"},originalEvent:u};p=f}else p=this.args;this.selfLink.parent.formatter.process(this.selfLink.parent,p,!h(this.args)&&this.args.originalEvent,d),this.selfLink.parent.contentModule.getEditPanel().focus()},a.prototype.isUrl=function(t){var e=RegExp,i=new e("(ftp|http|https)://(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(/|/([\\w#!:.?+=&%@\\-\\/]))?","gi");return i.test(t)},a.prototype.checkUrl=function(t){var e=this.dialogObj.element,i=e.querySelector(".e-rte-linkurl");t?(L([i],"e-error"),i.setSelectionRange(0,i.value.length),i.focus()):k([i],"e-error")},a.prototype.removeLink=function(t){this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData();var e=this.getAnchorNode(t.selectParent[0]);this.parent.formatter.process(this.parent,t.args,t.args,{selectNode:t.selectNode,selectParent:t.selectParent,selection:t.selection,text:e.innerText,subCommand:t.args.item.subCommand}),vt()&&this.parent.iframeSettings.enable?W("iframe",this.parent.element).contentWindow.focus():this.parent.contentModule.getEditPanel().focus(),this.hideLinkQuickToolbar()},a.prototype.openLink=function(t){var e=this.getAnchorNode(t.selectParent[0]);(e.classList.contains("e-rte-anchor")||e.tagName==="A")&&this.parent.formatter.process(this.parent,t.args,t.args,{url:e.href,text:e.innerText,target:e.target===""?"_self":"_blank",selectNode:t.selectNode,subCommand:t.args.item.subCommand})},a.prototype.getAnchorNode=function(t){var e=M(t,"a");return e||t},a.prototype.editLink=function(t){var e=this.getAnchorNode(t.selectNode[0]),i=this.getAnchorNode(t.selectParent[0]);if(i=e.nodeName==="A"?e:i,i.classList.contains("e-rte-anchor")||i.tagName==="A"){var s=this.i10n.getConstant("dialogUpdate"),n={url:i.getAttribute("href"),text:i.innerText,title:i.title,target:i.target,header:this.i10n.getConstant("editLink"),btnText:s};this.linkDialog(t,n)}},a.prototype.cancelDialog=function(t){if(this.selfLink.parent.isBlur=!1,this.selfLink.dialogObj.hide({returnValue:!0}),vt())this.selection.restore();else{var e=window.scrollX,i=window.scrollY;this.selfLink.parent.contentModule.getEditPanel().focus(),window.scrollTo(e,i)}},a.prototype.onDocumentClick=function(t){var e=t.target;!h(this.dialogObj)&&(!M(e,"[id='"+this.dialogObj.element.id+"']")&&this.parent.toolbarSettings.enable&&this.parent.getToolbarElement()&&!this.parent.getToolbarElement().contains(t.target)||(this.parent.getToolbarElement()&&this.parent.getToolbarElement().contains(t.target)||this.parent.inlineMode.enable&&!M(e,"#"+this.dialogObj.element.id))&&!M(e,"#"+this.parent.getID()+"_toolbar_CreateLink")&&!e.querySelector("#"+this.parent.getID()+"_toolbar_CreateLink"))&&(this.parent.notify(Hs,{closedBy:"outside click"}),this.dialogObj.hide({returnValue:!0}),this.parent.element.ownerDocument.removeEventListener("mousedown",this.mouseDown,!0),this.mouseDown=null,this.parent.isBlur=!0,qs(this.parent.element,"focusout"))},a.prototype.destroy=function(){this.isDestroyed||(this.parent.element.ownerDocument.removeEventListener("mousedown",this.mouseDown,!0),this.mouseDown=null,this.removeEventListener(),this.isDestroyed=!0)},a.prototype.getModuleName=function(){return"link"},a}();var KM={"toolbar-focus":"alt+f10",escape:"27","insert-link":"ctrl+k","insert-image":"ctrl+shift+i","insert-audio":"ctrl+shift+a","insert-video":"ctrl+alt+v","insert-table":"ctrl+shift+e",undo:"ctrl+z",redo:"ctrl+y",copy:"ctrl+c",cut:"ctrl+x",paste:"ctrl+v",bold:"ctrl+b",italic:"ctrl+i",underline:"ctrl+u",strikethrough:"ctrl+shift+s",uppercase:"ctrl+shift+u",lowercase:"ctrl+shift+l",superscript:"ctrl+shift+=",subscript:"ctrl+=",indents:"ctrl+]",outdents:"ctrl+[","html-source":"ctrl+shift+h","full-screen":"ctrl+shift+f","decrease-fontsize":"ctrl+shift+<","increase-fontsize":"ctrl+shift+>","justify-center":"ctrl+e","justify-full":"ctrl+j","justify-left":"ctrl+l","justify-right":"ctrl+r","clear-format":"ctrl+shift+r","ordered-list":"ctrl+shift+o","unordered-list":"ctrl+alt+o",space:"32",enter:"13",tab:"tab",delete:"46","format-copy":"alt+shift+c","format-paste":"alt+shift+v"};var lg={b:["strong"],strong:["b"],i:["emp","cite"],emp:["i","cite"],cite:["i","emp"]};var hg=["BR","IMG"],$M={topLeft:[-1,-1],topRight:[1,-1],botRight:[1,1],botLeft:[-1,1]},Hg=function(){function a(t,e){this.isImgUploaded=!1,this.isAllowedTypes=!0,this.pageX=null,this.pageY=null,this.deletedImg=[],this.isResizeBind=!0,this.parent=t,this.rteID=t.element.id,this.i10n=e.getService("rteLocale"),this.rendererFactory=e.getService("rendererFactory"),this.dialogRenderObj=e.getService("dialogRenderObject"),this.addEventListener(),this.drop=this.dragDrop.bind(this),this.drag=this.dragOver.bind(this),this.enter=this.dragEnter.bind(this),this.start=this.dragStart.bind(this),this.docClick=this.onDocumentClick.bind(this),this.isDestroyed=!1}return a.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(pt,this.onKeyDown,this),this.parent.on(Ht,this.onKeyUp,this),this.parent.on(oo,this.insertImage,this),this.parent.on(Vc,this.showDialog,this),this.parent.on(Wc,this.closeDialog,this),this.parent.on(zr,this.onWindowResize,this),this.parent.on(es,this.showImageQuickToolbar,this),this.parent.on(is,this.clearDialogObj,this),this.parent.on(Cc,this.onToolbarAction,this),this.parent.on(Gh,this.caption,this),this.parent.on(Wh,this.deleteImg,this),this.parent.on(qh,this.insertImgLink,this),this.parent.on(_h,this.insertAltText,this),this.parent.on(si,this.editAreaClickHandler,this),this.parent.on(wt,this.onIframeMouseDown,this),this.parent.on(Xh,this.imageSize,this),this.parent.on(gi,this.alignmentSelect,this),this.parent.on(Ct,this.afterRender,this),this.parent.on(ss,this.afterRender,this),this.parent.on(Ln,this.imagePaste,this),this.parent.on(ot,this.setCssClass,this),this.parent.on(Ee,this.destroy,this))},a.prototype.removeEventListener=function(){this.parent.off(pt,this.onKeyDown),this.parent.off(Ht,this.onKeyUp),this.parent.off(zr,this.onWindowResize),this.parent.off(oo,this.insertImage),this.parent.off(Vc,this.showDialog),this.parent.off(Wc,this.closeDialog),this.parent.off(es,this.showImageQuickToolbar),this.parent.off(is,this.clearDialogObj),this.parent.off(Gh,this.caption),this.parent.off(Cc,this.onToolbarAction),this.parent.off(Wh,this.deleteImg),this.parent.off(qh,this.insertImgLink),this.parent.off(_h,this.insertAltText),this.parent.off(si,this.editAreaClickHandler),this.parent.off(wt,this.onIframeMouseDown),this.parent.off(Xh,this.imageSize),this.parent.off(gi,this.alignmentSelect),this.parent.off(Ct,this.afterRender),this.parent.off(ss,this.afterRender),this.parent.off(Ln,this.imagePaste),this.parent.off(ot,this.setCssClass),this.parent.off(Ee,this.destroy);var t=this.parent.iframeSettings.enable?this.parent.inputElement.ownerDocument:this.parent.inputElement;t.removeEventListener("drop",this.drop,!0),t.removeEventListener("dragstart",this.drag,!0),t.removeEventListener("dragenter",this.enter,!0),t.removeEventListener("dragover",this.start,!0),this.drop=null,this.drag=null,this.enter=null,this.start=null,h(this.contentModule)||(v.remove(this.contentModule.getEditPanel(),E.touchEndEvent,this.imageClick),this.parent.formatter.editorManager.observer.off(Fr,this.undoStack),this.parent.insertImageSettings.resize&&(v.remove(this.parent.contentModule.getEditPanel(),E.touchStartEvent,this.resizeStart),this.parent.element.ownerDocument.removeEventListener("mousedown",this.docClick,!0),this.docClick=null,v.remove(this.contentModule.getEditPanel(),"cut",this.onCutHandler),v.remove(this.contentModule.getDocument(),E.touchMoveEvent,this.resizing)))},a.prototype.updateCss=function(t,e){t&&e.cssClass&&(h(e.oldCssClass)?t.setProperties({cssClass:(t.cssClass+" "+e.cssClass).trim()}):t.setProperties({cssClass:(t.cssClass.replace(e.oldCssClass,"").trim()+" "+e.cssClass).trim()}))},a.prototype.setCssClass=function(t){this.popupObj&&t.cssClass&&(h(t.oldCssClass)?L([this.popupObj.element],t.cssClass):(k([this.popupObj.element],t.oldCssClass),L([this.popupObj.element],t.cssClass))),this.updateCss(this.checkBoxObj,t),this.updateCss(this.widthNum,t),this.updateCss(this.heightNum,t),this.updateCss(this.uploadObj,t),this.updateCss(this.dialogObj,t)},a.prototype.onIframeMouseDown=function(){this.dialogObj&&this.dialogObj.hide({returnValue:!0})},a.prototype.afterRender=function(){this.contentModule=this.rendererFactory.getRenderer(Ce.Content),v.add(this.contentModule.getEditPanel(),E.touchEndEvent,this.imageClick,this),this.parent.insertImageSettings.resize&&(v.add(this.parent.contentModule.getEditPanel(),E.touchStartEvent,this.resizeStart,this),this.parent.element.ownerDocument.addEventListener("mousedown",this.docClick,!0),v.add(this.contentModule.getEditPanel(),"cut",this.onCutHandler,this));var t=this.parent.iframeSettings.enable?this.parent.inputElement.ownerDocument:this.parent.inputElement;t.addEventListener("drop",this.drop,!0),t.addEventListener("dragstart",this.drag,!0),t.addEventListener("dragenter",this.enter,!0),t.addEventListener("dragover",this.start,!0)},a.prototype.undoStack=function(t){if(t.subCommand.toLowerCase()==="undo"||t.subCommand.toLowerCase()==="redo")for(var e=0;e<this.parent.formatter.getUndoRedoStack().length;e++){var i=this.parent.createElement("div"),s=this.parent.formatter.getUndoRedoStack()[e].text;i.appendChild(s.cloneNode(!0));var n=i.querySelectorAll("img");if(i.querySelector(".e-img-resize")&&n.length>0){for(var r=0;r<n.length;r++)n[r].style.outline="";N(i.querySelector(".e-img-resize"));for(var o=i.cloneNode(!0),l=document.createDocumentFragment();o.firstChild;)l.appendChild(o.firstChild);this.parent.formatter.getUndoRedoStack()[e].text=l}}},a.prototype.resizeEnd=function(t){this.resizeBtnInit(),this.imgEle.parentElement&&(this.imgEle.parentElement.style.cursor="auto"),E.isDevice&&k([t.target.parentElement],"e-mob-span");var e={event:t,requestType:"images"};this.parent.trigger(Yd,e),this.parent.formatter.editorManager.observer.on(Fr,this.undoStack,this),this.parent.formatter.saveData()},a.prototype.resizeStart=function(t,e){var i=this;if(!this.parent.readonly){var s=e||t.target;if(this.prevSelectedImgEle=this.imgEle,s.tagName==="IMG"){this.parent.preventDefaultResize(t);var n=s;this.imgResizeDiv&&this.contentModule.getEditPanel().contains(this.imgResizeDiv)&&N(this.imgResizeDiv),this.imageResize(n)}if(s.classList.contains("e-rte-imageboxmark")){this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData(),this.pageX=this.getPointX(t),this.pageY=this.getPointY(t),t.preventDefault(),t.stopImmediatePropagation(),this.resizeBtnInit(),this.quickToolObj&&this.quickToolObj.imageQTBar.hidePopup();for(var r=["topLeft","topRight","botLeft","botRight"],o=0;o<r.length;o++){var l=r[o];if(s.classList.contains("e-rte-"+l)){this.resizeBtnStat[l]=!0,this.currentResizeHandler=l,this.aspectRatio=this.findAspectRatio(this.imgEle);break}}if(E.isDevice&&this.contentModule.getEditPanel().contains(this.imgResizeDiv)&&!this.imgResizeDiv.classList.contains("e-mob-span"))L([this.imgResizeDiv],"e-mob-span");else{var c={event:t,requestType:"images"};this.parent.trigger(Wd,c,function(d){d.cancel&&i.cancelResizeAction()})}this.isResizeBind&&(v.add(this.contentModule.getDocument(),E.touchMoveEvent,this.resizing,this),v.add(this.contentModule.getDocument(),E.touchEndEvent,this.resizeEnd,this),this.isResizeBind=!1)}}},a.prototype.imageClick=function(t){E.isDevice&&(t.target.tagName==="IMG"&&t.target.parentElement.tagName==="A"||t.target.tagName==="IMG"?(this.contentModule.getEditPanel().setAttribute("contenteditable","false"),t.target.focus()):this.parent.readonly||this.contentModule.getEditPanel().setAttribute("contenteditable","true")),t.target.tagName==="IMG"&&t.target.parentElement.tagName==="A"&&t.preventDefault()},a.prototype.onCutHandler=function(){this.imgResizeDiv&&this.contentModule.getEditPanel().contains(this.imgResizeDiv)&&this.cancelResizeAction()},a.prototype.imageResize=function(t){this.resizeBtnInit(),this.imgEle=t,L([this.imgEle],"e-resize"),this.imgResizeDiv=this.parent.createElement("span",{className:"e-img-resize"+this.parent.getCssClass(!0),id:this.rteID+"_imgResize"}),this.imgResizeDiv.appendChild(this.parent.createElement("span",{className:"e-rte-imageboxmark e-rte-topLeft"+this.parent.getCssClass(!0),styles:"cursor: nwse-resize"})),this.imgResizeDiv.appendChild(this.parent.createElement("span",{className:"e-rte-imageboxmark e-rte-topRight"+this.parent.getCssClass(!0),styles:"cursor: nesw-resize"})),this.imgResizeDiv.appendChild(this.parent.createElement("span",{className:"e-rte-imageboxmark e-rte-botLeft"+this.parent.getCssClass(!0),styles:"cursor: nesw-resize"})),this.imgResizeDiv.appendChild(this.parent.createElement("span",{className:"e-rte-imageboxmark e-rte-botRight"+this.parent.getCssClass(!0),styles:"cursor: nwse-resize"})),E.isDevice&&L([this.imgResizeDiv],"e-mob-rte"),t.style.outline="2px solid #4a90e2",this.imgResizePos(t,this.imgResizeDiv),this.resizeImgDupPos(t),this.contentModule.getEditPanel().appendChild(this.imgResizeDiv)},a.prototype.getPointX=function(t){return t.touches&&t.touches.length?t.touches[0].pageX:t.pageX},a.prototype.getPointY=function(t){return t.touches&&t.touches.length?t.touches[0].pageY:t.pageY},a.prototype.imgResizePos=function(t,e){var i=this.calcPos(t),s=i.top,n=i.left,r=t.getBoundingClientRect().width,o=t.getBoundingClientRect().height,l=E.isDevice?4*parseInt(t.style.outline.slice(-3),10)+2:2*parseInt(t.style.outline.slice(-3),10)+2,c=E.isDevice?0:2;e.querySelector(".e-rte-botLeft").style.left=n-l+"px",e.querySelector(".e-rte-botLeft").style.top=o-l+s+"px",e.querySelector(".e-rte-botRight").style.left=r-(l-c)+n+"px",e.querySelector(".e-rte-botRight").style.top=o-l+s+"px",e.querySelector(".e-rte-topRight").style.left=r-(l-c)+n+"px",e.querySelector(".e-rte-topRight").style.top=s-l+"px",e.querySelector(".e-rte-topLeft").style.left=n-l+"px",e.querySelector(".e-rte-topLeft").style.top=s-l+"px"},a.prototype.calcPos=function(t){for(var e=["TD","TH","TABLE","A"],i={top:0,left:0},s,n=t.ownerDocument,r=(t.offsetParent&&(t.offsetParent.classList.contains("e-img-caption")||e.indexOf(t.offsetParent.tagName)>-1)?M(t,"#"+this.parent.getID()+"_rte-edit-view"):t.offsetParent)||n.documentElement;r&&(r===n.body||r===n.documentElement)&&r.style.position==="static";)r=r.parentNode;return r&&r!==t&&r.nodeType===1&&(i=r.getBoundingClientRect()),t.offsetParent&&t.offsetParent.classList.contains("e-img-caption")?(s=t.getBoundingClientRect(),{top:s.top-i.top,left:s.left-i.left}):{top:t.offsetTop,left:t.offsetLeft}},a.prototype.setAspectRatio=function(t,e,i){if(!h(t.width)){var s=t.width,n=t.height,r=s===n,o=this.parent.insertImageSettings.resizeByPercent?"%":"px",l=t.style.width===""&&t.style.height==="";!r&&!l?t.style.width!==""&&t.style.height!==""?this.parent.insertImageSettings.resizeByPercent?(this.setImageWidth(t,e,o),this.removeImageHeight(t)):(this.setImageWidth(t,e,o),this.setImageHeight(t,i,o)):t.style.width!==""?this.parent.insertImageSettings.resizeByPercent?(this.setImageWidth(t,e,o),this.removeImageHeight(t)):this.setImageWidth(t,e,o):t.style.height!==""&&(this.parent.insertImageSettings.resizeByPercent?(this.setImageWidth(t,e,o),this.removeImageHeight(t)):this.setImageHeight(t,i,o)):(this.setImageWidth(t,e,o),this.parent.insertImageSettings.resizeByPercent?this.removeImageHeight(t):this.setImageHeight(t,i,o))}},a.prototype.setImageWidth=function(t,e,i){t.style.width=this.getImageDimension(e,t)+i,this.parent.insertImageSettings.resizeByPercent||t.setAttribute("width",e.toString())},a.prototype.setImageHeight=function(t,e,i){t.style.height=this.getImageDimension(e,t)+i,this.parent.insertImageSettings.resizeByPercent||t.setAttribute("height",e.toString())},a.prototype.removeImageHeight=function(t){t.style.height="",t.removeAttribute("height")},a.prototype.getImageDimension=function(t,e){if(this.parent.insertImageSettings.resizeByPercent){var i=e.parentElement;return this.pixToPerc(t,i)}else return t},a.prototype.pixToPerc=function(t,e){return t/parseFloat(getComputedStyle(e).width)*100},a.prototype.imgDupMouseMove=function(t,e,i){var s=this,n={event:i,requestType:"images"};this.parent.trigger(Qd,n,function(r){if(r.cancel)s.cancelResizeAction();else{if(parseInt(s.parent.insertImageSettings.minWidth,10)>=parseInt(t,10)||parseInt(s.parent.getInsertImgMaxWidth(),10)<=parseInt(t,10)&&h(s.imgEle.style.width)||!s.parent.insertImageSettings.resizeByPercent&&(parseInt(s.parent.insertImageSettings.minHeight,10)>=parseInt(e,10)||parseInt(s.parent.insertImageSettings.maxHeight,10)<=parseInt(e,10)))return;s.imgEle.parentElement.style.cursor="pointer",s.setAspectRatio(s.imgEle,parseInt(t,10),parseInt(e,10)),s.resizeImgDupPos(s.imgEle),s.imgResizePos(s.imgEle,s.imgResizeDiv)}})},a.prototype.resizing=function(t){if(!this.parent){this.cancelResizeAction();return}if(this.resizeBtnStat.botRight||this.resizeBtnStat.botLeft||this.resizeBtnStat.topRight||this.resizeBtnStat.topLeft){var e=this.getPointX(t),i=this.getPointY(t),s=this.getResizeFactor(this.currentResizeHandler),n=e-this.pageX,r=i-this.pageY,o=this.imgEle.clientWidth,l=this.imgEle.clientHeight,c=n*s[0]+o,d=r*s[1]+l;c=c<16?16:c,d=d<16?16:d,Math.abs(n)>Math.abs(r)?(d=Math.round(c/this.aspectRatio),c=Math.round(d*this.aspectRatio)):(c=Math.round(d*this.aspectRatio),d=Math.round(c/this.aspectRatio)),this.pageX=e,this.pageY=i,this.imgDupMouseMove(c+"px",d+"px",t)}},a.prototype.getResizeFactor=function(t){return $M[t]},a.prototype.findAspectRatio=function(t){return t.clientWidth/t.clientHeight},a.prototype.cancelResizeAction=function(){this.isResizeBind=!0,v.remove(this.contentModule.getDocument(),E.touchMoveEvent,this.resizing),v.remove(this.contentModule.getDocument(),E.touchEndEvent,this.resizeEnd),this.imgEle&&this.imgResizeDiv&&this.contentModule.getEditPanel().contains(this.imgResizeDiv)&&(N(this.imgResizeDiv),this.imgEle.style.outline="",this.imgResizeDiv=null,this.pageX=null,this.pageY=null,this.currentResizeHandler=null,this.aspectRatio=null)},a.prototype.resizeImgDupPos=function(t){this.imgDupPos={width:t.style.width!==""&&this.parent.insertImageSettings&&!this.parent.insertImageSettings.resizeByPercent?this.imgEle.style.width:t.width+"px",height:t.style.height!==""?this.imgEle.style.height:t.height+"px"}},a.prototype.resizeBtnInit=function(){return this.aspectRatio=null,this.currentResizeHandler=null,this.resizeBtnStat={botLeft:!1,botRight:!1,topRight:!1,topLeft:!1}},a.prototype.onToolbarAction=function(t){vt()&&this.parent.notify(ii,{});var e=t.args.item;switch(e.subCommand){case"Replace":this.parent.fileManagerSettings.enable?this.parent.notify(Dg,t):this.parent.notify(oo,t);break;case"Caption":this.parent.notify(Gh,t);break;case"InsertLink":this.parent.notify(qh,t);break;case"AltText":this.parent.notify(_h,t);break;case"Remove":this.parent.notify(Wh,t);break;case"Dimension":this.parent.notify(Xh,t);break;case"OpenImageLink":this.openImgLink(t);break;case"EditImageLink":this.editImgLink(t);break;case"RemoveImageLink":this.removeImgLink(t);break}},a.prototype.openImgLink=function(t){var e=t.selectParent[0].parentNode.target===""?"_self":"_blank";this.parent.formatter.process(this.parent,t.args,t.args,{url:t.selectParent[0].parentNode.href,target:e,selectNode:t.selectNode,subCommand:t.args.item.subCommand})},a.prototype.editImgLink=function(t){var e=t.selectParent[0].parentNode,i=this.i10n.getConstant("dialogUpdate"),s={url:e.href,target:e.target,header:"Edit Link",btnText:i};this.insertImgLink(t,s)},a.prototype.removeImgLink=function(t){E.isIE&&this.contentModule.getEditPanel().focus(),t.selection.restore();var e=!!(this.contentModule.getEditPanel().contains(this.captionEle)&&W("a",this.captionEle)),i=e?[this.captionEle]:[t.selectNode[0].parentElement];this.parent.formatter.process(this.parent,t.args,t.args,{insertElement:t.selectNode[0],selectParent:i,selection:t.selection,subCommand:t.args.item.subCommand}),this.quickToolObj&&document.body.contains(this.quickToolObj.imageQTBar.element)&&(this.quickToolObj.imageQTBar.hidePopup(),h(t.selectParent)||k([t.selectParent[0]],"e-img-focus")),e&&W(".e-img-inner",this.captionEle).focus()},a.prototype.onKeyDown=function(t){var e=t.args,i,s,n,r;this.deletedImg=[];var o,l=[27,112,113,114,115,116,117,118,119,120,121,122,123,44,45,9,16,17,18,19,20,33,34,35,36,37,38,39,40,91,92,93,144,145,182,183];if(this.parent.editorMode==="HTML"&&(i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),o=i.startContainer===i.endContainer&&i.startOffset===i.endOffset),!o&&this.parent.editorMode==="HTML"&&l.indexOf(e.which)<0)for(var c=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(i),d=0;d<c.length;d++)c[d].nodeName==="IMG"&&this.deletedImg.push(c[d]);if(this.parent.editorMode==="HTML"&&(e.which===8&&e.code==="Backspace"||e.which===46&&e.code==="Delete")){var p=i.startContainer===i.endContainer&&i.startOffset===i.endOffset;e.which===8&&e.code==="Backspace"&&p?this.checkImageBack(i):e.which===46&&e.code==="Delete"&&p&&this.checkImageDel(i)}if(!h(this.parent.formatter.editorManager.nodeSelection)&&e.code!=="KeyK"&&(i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),n=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(i),r=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(i),!e.ctrlKey&&e.key&&(e.key.length===1||e.action==="enter")&&!h(r[0])&&r[0].tagName==="IMG"&&r[0].parentElement&&(this.contentModule.getEditPanel().querySelector(".e-img-resize")&&this.removeResizeEle(),k([r[0]],"e-img-focus"),this.quickToolObj&&this.quickToolObj.imageQTBar&&this.quickToolObj.imageQTBar.hidePopup())),e.ctrlKey&&(e.keyCode===89||e.keyCode===90)&&this.parent.editorMode!=="Markdown"&&this.undoStack({subCommand:e.keyCode===90?"undo":"redo"}),e.keyCode===8||e.keyCode===46){if(n&&n[0].nodeName==="IMG"&&n.length<1){h(this.parent.formatter.editorManager.nodeSelection)||(s=this.parent.formatter.editorManager.nodeSelection.save(i,this.parent.contentModule.getDocument())),e.preventDefault();var u={selectNode:n,selection:s,selectParent:r,args:{item:{command:"Images",subCommand:"Remove"},originalEvent:e}};this.deleteImg(u,e.keyCode)}this.parent.contentModule.getEditPanel().querySelector(".e-img-resize")&&this.removeResizeEle()}switch(e.code==="Backspace"&&(e.action="backspace"),e.action){case"escape":h(this.dialogObj)||this.dialogObj.close();break;case"backspace":case"delete":for(var d=0;d<this.deletedImg.length;d++){var f=this.deletedImg[d].src;this.imageRemovePost(f)}if(this.parent.editorMode!=="Markdown"){if(i.startContainer.nodeType===3)e.code==="Backspace"?i.startContainer.previousElementSibling&&i.startOffset===0&&i.startContainer.previousElementSibling.classList.contains(ei)&&i.startContainer.previousElementSibling.classList.contains(yr)&&N(i.startContainer.previousElementSibling):i.startContainer.nextElementSibling&&i.endContainer.textContent.length===i.endOffset&&i.startContainer.nextElementSibling.classList.contains(ei)&&i.startContainer.nextElementSibling.classList.contains(yr)&&N(i.startContainer.nextElementSibling);else if(i.startContainer.nodeType===1){if(i.startContainer.querySelector("."+ei+"."+yr))N(i.startContainer.querySelector("."+ei+"."+yr));else if(i.startContainer.querySelector("."+ei+"."+Ms))N(i.startContainer.querySelector("."+ei+"."+Ms));else if(i.startContainer.classList.contains("e-img-wrap")&&M(i.startContainer,"."+ei)){var m=i.startContainer.parentElement.parentElement;if(N(M(i.startContainer,"."+ei)),m&&m.textContent.trim()===""){var g=this.parent.createElement("br");g.classList.add("e-rte-image-remove-focus"),m.appendChild(g)}}}}break;case"insert-image":h(this.parent.formatter.editorManager.nodeSelection)||(s=this.parent.formatter.editorManager.nodeSelection.save(i,this.parent.contentModule.getDocument())),this.openDialog(!0,e,s,n,r),e.preventDefault();break}e.ctrlKey&&e.key==="a"&&this.handleSelectAll()},a.prototype.handleSelectAll=function(){this.cancelResizeAction();var t=this.parent.inputElement.querySelectorAll("."+uo);k(t,uo)},a.prototype.openDialog=function(t,e,i,s,n){var r,o,l,c;!t&&!h(this.parent.formatter.editorManager.nodeSelection)?(r=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),o=this.parent.formatter.editorManager.nodeSelection.save(r,this.parent.contentModule.getDocument()),l=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(r),c=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(r)):(o=i,l=s,c=n),this.parent.editorMode==="HTML"?this.insertImage({args:{item:{command:"Images",subCommand:"Image"},originalEvent:e,name:t?null:"showDialog"},selectNode:l,selection:o,selectParent:c}):this.insertImage({args:{item:{command:"Images",subCommand:"Image"},originalEvent:e,name:t?null:"showDialog"},member:"image",text:this.parent.formatter.editorManager.markdownSelection.getSelectedText(this.parent.contentModule.getEditPanel()),module:"Markdown",name:"insertImage"})},a.prototype.showDialog=function(){this.openDialog(!1),this.setCssClass({cssClass:this.parent.getCssClass()})},a.prototype.closeDialog=function(){this.dialogObj&&this.dialogObj.hide({returnValue:!0})},a.prototype.onKeyUp=function(t){if(!h(this.deletedImg)&&this.deletedImg.length>0)for(var e=0;e<this.deletedImg.length;e++){var i={element:this.deletedImg[e],src:this.deletedImg[e].getAttribute("src")};this.parent.trigger(xm,i)}},a.prototype.checkImageBack=function(t){t.startContainer.nodeName==="#text"&&t.startOffset===0&&!h(t.startContainer.previousSibling)&&t.startContainer.previousSibling.nodeName==="IMG"?this.deletedImg.push(t.startContainer.previousSibling):t.startContainer.nodeName!=="#text"&&!h(t.startContainer.childNodes[t.startOffset-1])&&t.startContainer.childNodes[t.startOffset-1].nodeName==="IMG"&&this.deletedImg.push(t.startContainer.childNodes[t.startOffset-1])},a.prototype.checkImageDel=function(t){t.startContainer.nodeName==="#text"&&t.startOffset===t.startContainer.textContent.length&&!h(t.startContainer.nextSibling)&&t.startContainer.nextSibling.nodeName==="IMG"?this.deletedImg.push(t.startContainer.nextSibling):t.startContainer.nodeName!=="#text"&&!h(t.startContainer.childNodes[t.startOffset])&&t.startContainer.childNodes[t.startOffset].nodeName==="IMG"&&this.deletedImg.push(t.startContainer.childNodes[t.startOffset])},a.prototype.alignmentSelect=function(t){var e=t.item;if(!(!document.body.contains(document.body.querySelector(".e-rte-quick-toolbar"))||e.command!=="Images")){var i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),s=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(i);s=s[0].nodeName==="IMG"?s:[this.imgEle];var n={args:t,selectNode:s};switch(this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData(),e.subCommand){case"JustifyLeft":this.alignImage(n);break;case"JustifyCenter":this.alignImage(n);break;case"JustifyRight":this.alignImage(n);break;case"Inline":this.inline(n);break;case"Break":this.break(n);break}this.quickToolObj&&document.body.contains(this.quickToolObj.imageQTBar.element)&&(this.quickToolObj.imageQTBar.hidePopup(),k([s[0]],"e-img-focus")),this.cancelResizeAction()}},a.prototype.imageWithLinkQTBarItemUpdate=function(){for(var t=this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll(".e-toolbar-item"),e=0;e<t.length;e++)t[e].getAttribute("title")===this.i10n.getConstant("openLink")||t[e].getAttribute("title")===this.i10n.getConstant("editLink")||t[e].getAttribute("title")===this.i10n.getConstant("removeLink")?(L([t[e]],"e-link-groups"),t[e].style.display="none"):t[e].getAttribute("title")==="Insert Link"?t[e].style.display="":t[e].classList.contains("e-rte-horizontal-separator")&&N(t[e]);var i=this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll(".e-toolbar-item:not(.e-link-groups)");this.quickToolObj.imageQTBar.addQTBarItem(["-"],Math.round(i.length/2))},a.prototype.showImageQuickToolbar=function(t){var e=this;if(!(t.type!=="Images"||h(this.parent.quickToolbarModule)||h(this.parent.quickToolbarModule.imageQTBar)||h(t.args))){this.quickToolObj=this.parent.quickToolbarModule;var i=t.args,s=t.elements;[].forEach.call(t.elements,function(o,l){l===0&&(s=o)}),s&&!M(s,"a")&&this.imageWithLinkQTBarItemUpdate(),s.nodeName==="IMG"&&L([s],["e-img-focus"]);var n=this.parent.iframeSettings.enable?window.pageYOffset+this.parent.element.getBoundingClientRect().top+i.clientY:i.pageY;if(this.parent.quickToolbarModule.imageQTBar)if(t.isNotify)this.imageQTPopupTime=setTimeout(function(){e.parent.formatter.editorManager.nodeSelection.Clear(e.contentModule.getDocument()),e.parent.formatter.editorManager.nodeSelection.setSelectionContents(e.contentModule.getDocument(),s),e.quickToolObj.imageQTBar.showPopup(i.pageX,n,s),e.resizeStart(t.args,s)},400);else{var r=s.getBoundingClientRect();this.quickToolObj.imageQTBar.showPopup(r.left,r.top,s,"Image")}}},a.prototype.hideImageQuickToolbar=function(){h(this.contentModule.getEditPanel().querySelector(".e-img-focus"))||(k([this.contentModule.getEditPanel().querySelector(".e-img-focus")],"e-img-focus"),this.quickToolObj&&this.quickToolObj.imageQTBar&&document.body.contains(this.quickToolObj.imageQTBar.element)&&this.quickToolObj.imageQTBar.hidePopup())},a.prototype.editAreaClickHandler=function(t){if(this.parent.readonly){this.hideImageQuickToolbar();return}var e=t.args,i=this.parent.quickToolbarSettings.showOnRightClick;if(e.which===2||i&&e.which===1||!i&&e.which===3){i&&e.which===1&&!h(e.target)&&e.target.tagName==="IMG"&&(this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument()),this.parent.formatter.editorManager.nodeSelection.setSelectionContents(this.contentModule.getDocument(),e.target));return}if(this.parent.editorMode==="HTML"&&this.parent.quickToolbarModule&&this.parent.quickToolbarModule.imageQTBar){this.quickToolObj=this.parent.quickToolbarModule;var s=e.target;this.contentModule=this.rendererFactory.getRenderer(Ce.Content);var n=this.quickToolObj.imageQTBar.element.classList.contains("e-rte-pop");if(s.nodeName==="IMG"&&this.parent.quickToolbarModule){if(n)return;this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument()),this.parent.formatter.editorManager.nodeSelection.setSelectionContents(this.contentModule.getDocument(),s),vt()&&this.parent.notify(ti,t),L([s],"e-img-focus");var r=this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll(".e-toolbar-item"),o=void 0;if(M(s,"a")){for(var l=0;l<r.length;l++)r[l].getAttribute("title")===this.i10n.getConstant("openLink")||r[l].getAttribute("title")===this.i10n.getConstant("editLink")||r[l].getAttribute("title")===this.i10n.getConstant("removeLink")?(r[l].style.display="",k([r[l]],"e-link-groups")):r[l].getAttribute("title")==="Insert Link"?r[l].style.display="none":r[l].classList.contains("e-rte-horizontal-separator")&&(o=r[l],N(r[l]));var c=this.quickToolObj.imageQTBar.toolbarElement.querySelectorAll(".e-toolbar-item:not(.e-link-groups)");this.quickToolObj.imageQTBar.addQTBarItem(["-"],Math.round(c.length/2))}else M(s,"a")||this.imageWithLinkQTBarItemUpdate();this.showImageQuickToolbar({args:e,type:"Images",elements:[e.target]})}else this.hideImageQuickToolbar()}},a.prototype.insertImgLink=function(t,e){var i=this;if(t.selectNode[0].nodeName==="IMG"&&(this.imagDialog(t),!h(this.dialogObj))){var s=this.parent.createElement("div",{className:"e-img-linkwrap"+this.parent.getCssClass(!0)}),n=this.i10n.getConstant("linkurl"),r='<div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text" data-role ="none" class="e-input e-img-link'+this.parent.getCssClass(!0)+'" spellcheck="false" placeholder="'+n+'"/></div><div class="e-rte-label"></div><div class="e-rte-field"><input type="checkbox" class="e-rte-linkTarget'+this.parent.getCssClass(!0)+'"  data-role ="none"></div>',o=Es(r);s.appendChild(o);var l=s.querySelector(".e-rte-linkTarget"),c=s.querySelector(".e-img-link"),d=this.i10n.getConstant("linkOpenInNewWindow");this.checkBoxObj=new Nl({label:d,checked:!0,enableRtl:this.parent.enableRtl,cssClass:this.parent.getCssClass(),change:function(g){g.checked?p="_blank":p=null}}),this.checkBoxObj.isStringTemplate=!0,this.checkBoxObj.createElement=this.parent.createElement,this.checkBoxObj.appendTo(l);var p="_blank",u=this.i10n.getConstant("imageLinkAriaLabel"),f=this.i10n.getConstant("dialogUpdate"),m={args:t.args,selfImage:this,selection:t.selection,selectNode:t.selectNode,selectParent:t.selectParent,link:c,target:p,ariaLabel:u};this.dialogObj.setProperties({width:"290px",header:this.parent.localeObj.getConstant("imageInsertLinkHeader"),content:s,buttons:[{click:function(g){i.insertlink(m)},buttonModel:{content:f,cssClass:"e-flat e-update-link"+this.parent.getCssClass(!0),isPrimary:!0}}],cssClass:this.dialogObj.cssClass+" e-rte-img-link-dialog"}),h(this.parent.cssClass)||this.dialogObj.setProperties({cssClass:this.parent.cssClass}),h(e)||(c.value=e.url,this.checkBoxObj.checked=!!e.target,this.dialogObj.header=e.header),this.dialogObj.element.style.maxHeight="inherit",this.dialogObj.content.querySelector("input").focus()}},a.prototype.insertAltText=function(t){var e=this;if(t.selectNode[0].nodeName==="IMG"){this.imagDialog(t);var i=this.i10n.getConstant("altText");if(!h(this.dialogObj)){var s=this.parent.createElement("div",{className:"e-img-altwrap"+this.parent.getCssClass(!0)}),n=this.i10n.getConstant("alternateHeader"),r=this.i10n.getConstant("dialogUpdate"),o=t.selectNode[0].getAttribute("alt")===null?"":t.selectNode[0].getAttribute("alt"),l='<div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text" spellcheck="false"  class="e-input e-img-alt'+this.parent.getCssClass(!0)+'" placeholder="'+i+'"/></div>',c=Es(l);c.querySelector("input").setAttribute("value",o),s.appendChild(c);var d=s.querySelector(".e-img-alt"),p={args:t.args,selfImage:this,selection:t.selection,selectNode:t.selectNode,alt:d};this.dialogObj.setProperties({width:"290px",header:n,content:s,buttons:[{click:function(u){e.insertAlt(p)},buttonModel:{content:r,cssClass:"e-flat e-update-alt"+this.parent.getCssClass(!0),isPrimary:!0}}],cssClass:this.dialogObj.cssClass+" e-rte-img-alt-dialog"}),h(this.parent.cssClass)||this.dialogObj.setProperties({cssClass:this.parent.cssClass}),this.dialogObj.element.style.maxHeight="inherit",this.dialogObj.content.querySelector("input").focus()}}},a.prototype.insertAlt=function(t){if(!h(t.alt)){t.selection.restore(),this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData();var e=t.alt.value;this.parent.formatter.process(this.parent,t.args,t.args,{altText:e,selectNode:t.selectNode,subCommand:t.args.item.subCommand}),this.dialogObj.hide({returnValue:!1})}},a.prototype.insertlink=function(t){if(t.selectNode[0].nodeName==="IMG"){var e=t.link.value;if(e===""){L([t.link],"e-error"),t.link.setSelectionRange(0,e.length),t.link.focus();return}this.isUrl(e)?k([t.link],"e-error"):e="http://"+e;var i=t.selfImage;if(i.parent.editorMode==="HTML"&&t.selection.restore(),i.parent.formatter.getUndoRedoStack().length===0&&i.parent.formatter.saveData(),t.selectNode[0].parentElement.nodeName==="A"){i.parent.formatter.process(i.parent,t.args,t.args,{url:e,target:i.checkBoxObj.checked?"_blank":null,ariaLabel:i.checkBoxObj.checked?this.i10n.getConstant("imageLinkAriaLabel"):null,selectNode:t.selectNode,subCommand:t.args.item.subCommand}),i.dialogObj.hide({returnValue:!0});return}i.parent.formatter.process(i.parent,t.args,t.args,{url:e,target:i.checkBoxObj.checked?"_blank":null,ariaLabel:i.checkBoxObj.checked?this.i10n.getConstant("imageLinkAriaLabel"):null,selectNode:t.selectNode,subCommand:t.args.item.subCommand,selection:t.selection});var s=M(t.selectNode[0],".e-img-caption");s&&W(".e-img-inner",s).focus(),s&&W(".e-img-inner",s).focus(),i.dialogObj.hide({returnValue:!1})}},a.prototype.isUrl=function(t){var e=RegExp,i=new e("(ftp|http|https)://(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(/|/([\\w#!:.?+=&%@\\-\\/]))?","gi");return i.test(t)},a.prototype.deleteImg=function(t,e){if(t.selectNode[0].nodeName==="IMG"){var i={element:t.selectNode[0],src:t.selectNode[0].getAttribute("src")};this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData();var s=t.selection.range.startContainer;if(t.selection.range.startContainer.nodeName==="SPAN"&&s.classList.contains("e-img-wrap")&&s.parentElement.classList.contains("e-img-caption"))if(s=s.parentElement,h(s.previousSibling)){if(!h(s.nextSibling)){for(var r=s.nextSibling;r.nodeName!=="#text"&&r.nodeName!=="BR";)r=r.firstChild;this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.contentModule.getDocument(),r,0)}}else{for(var n=s.previousSibling;n.nodeName!=="#text"&&n.nodeName!=="BR";)n=n.lastChild;this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.contentModule.getDocument(),n,n.nodeName!=="BR"?n.textContent.length:0)}else t.selection.restore();this.contentModule.getEditPanel().querySelector(".e-img-resize")&&this.removeResizeEle(),this.parent.formatter.process(this.parent,t.args,t.args,{selectNode:t.selectNode,captionClass:ei,subCommand:t.args.item.subCommand}),this.imageRemovePost(i.src),this.quickToolObj&&document.body.contains(this.quickToolObj.imageQTBar.element)&&this.quickToolObj.imageQTBar.hidePopup(),this.cancelResizeAction(),h(e)&&this.parent.trigger(xm,i)}},a.prototype.imageRemovePost=function(t){var e=this,i="";if(!(h(this.parent.insertImageSettings.removeUrl)||this.parent.insertImageSettings.removeUrl==="")){t.indexOf("http://")>-1||t.indexOf("https://")>-1?i=t:i=new URL(t,document.baseURI).href,this.removingImgName=i.replace(/^.*[\\/]/,"");var s=new XMLHttpRequest;s.addEventListener("readystatechange",function(){this.readyState===4&&this.status===200&&e.triggerPost(this.response)}),s.open("GET",i),s.responseType="blob",s.send()}},a.prototype.triggerPost=function(t){var e=this.parent.insertImageSettings.removeUrl;if(!(h(e)||e==="")){var i=new File([t],this.removingImgName),s=new ri(e,"POST",!0,null),n=new FormData;n.append("UploadFiles",i),s.send(n)}},a.prototype.caption=function(t){var e=t.selectNode[0];if(e.nodeName==="IMG"){t.selection.restore(),this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData(),this.cancelResizeAction(),L([e],"e-rte-image");var i=t.args.item?t.args.item.subCommand:"Caption";if(!h(M(e,"."+ei)))N(M(e,"."+ei)),E.isIE&&(this.contentModule.getEditPanel().focus(),t.selection.restore()),e.parentElement.tagName==="A"?this.parent.formatter.process(this.parent,t.args,t.args,{insertElement:e.parentElement,selectNode:t.selectNode,subCommand:i}):this.parent.formatter.process(this.parent,t.args,t.args,{insertElement:e,selectNode:t.selectNode,subCommand:i});else{this.captionEle=this.parent.createElement("span",{className:ei+" "+W0+this.parent.getCssClass(!0),attrs:{contenteditable:"false",draggable:"false",style:"width:"+this.parent.insertImageSettings.width}});var s=this.parent.createElement("span",{className:"e-img-wrap"+this.parent.getCssClass(!0)}),n=this.parent.createElement("span",{className:"e-img-inner"+this.parent.getCssClass(!0),attrs:{contenteditable:"true"}}),r=t.selectNode[0].parentElement;r.tagName==="A"&&r.setAttribute("contenteditable","true"),s.appendChild(r.tagName==="A"?r:t.selectNode[0]),s.appendChild(n);var o=this.i10n.getConstant("imageCaption");n.innerHTML=o,this.captionEle.appendChild(s),e.classList.contains(Rs)&&L([this.captionEle],yr),e.classList.contains(Ms)&&L([this.captionEle],Ms),e.classList.contains(Wm)&&L([this.captionEle],Wm),e.classList.contains(_m)&&L([this.captionEle],_m),e.classList.contains(Qm)&&L([this.captionEle],Qm),this.parent.formatter.process(this.parent,t.args,t.args,{insertElement:this.captionEle,selectNode:t.selectNode,subCommand:i}),this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(),n.childNodes[0],n.childNodes[0],0,n.childNodes[0].textContent.length)}this.quickToolObj&&document.body.contains(this.quickToolObj.imageQTBar.element)&&(this.quickToolObj.imageQTBar.hidePopup(),k([e],"e-img-focus"))}},a.prototype.imageSize=function(t){var e=this;if(t.selectNode[0].nodeName==="IMG"&&(this.imagDialog(t),!h(this.dialogObj))){var i=this.i10n.getConstant("imageSizeHeader"),s=this.i10n.getConstant("dialogUpdate"),n=this.imgsizeInput(t),r={args:t.args,selfImage:this,selection:t.selection,selectNode:t.selectNode};this.dialogObj.setProperties({width:"290px",header:i,content:n,buttons:[{click:function(o){e.insertSize(r)},buttonModel:{content:s,cssClass:"e-flat e-update-size"+this.parent.getCssClass(!0),isPrimary:!0}}],cssClass:this.dialogObj.cssClass+" e-rte-img-size-dialog"}),h(this.parent.cssClass)||this.dialogObj.setProperties({cssClass:this.parent.cssClass}),this.dialogObj.element.style.maxHeight="inherit",this.dialogObj.content.querySelector("input").focus()}},a.prototype.break=function(t){if(t.selectNode[0].nodeName==="IMG"){var e=t.args.item.subCommand;this.parent.formatter.process(this.parent,t.args,t.args,{selectNode:t.selectNode,subCommand:e})}},a.prototype.inline=function(t){if(t.selectNode[0].nodeName==="IMG"){var e=t.args.item.subCommand;this.parent.formatter.process(this.parent,t.args,t.args,{selectNode:t.selectNode,subCommand:e})}},a.prototype.alignImage=function(t){var e=t.args.item.subCommand;this.parent.formatter.process(this.parent,t.args,t.args,{selectNode:t.selectNode,subCommand:e})},a.prototype.clearDialogObj=function(){this.uploadObj&&!this.uploadObj.isDestroyed&&(this.uploadObj.destroy(),N(this.uploadObj.element),this.uploadObj=null),this.checkBoxObj&&!this.checkBoxObj.isDestroyed&&(this.checkBoxObj.destroy(),N(this.checkBoxObj.element),this.checkBoxObj=null),this.popupObj&&!this.popupObj.isDestroyed&&(this.popupObj.destroy(),N(this.popupObj.element),this.popupObj=null),this.widthNum&&!this.widthNum.isDestroyed&&(this.widthNum.destroy(),N(this.widthNum.element),this.widthNum=null),this.heightNum&&!this.heightNum.isDestroyed&&(this.heightNum.destroy(),N(this.heightNum.element),this.heightNum=null),this.browseButton&&!this.browseButton.isDestroyed&&(this.browseButton.destroy(),N(this.browseButton.element),this.browseButton=null),this.dialogObj&&!this.dialogObj.isDestroyed&&(this.dialogObj.destroy(),N(this.dialogObj.element),this.dialogObj=null)},a.prototype.imagDialog=function(t){var e=this;if(this.dialogObj){this.dialogObj.hide({returnValue:!0});return}var i=this.parent.createElement("div",{className:"e-rte-img-dialog"+this.parent.getCssClass(!0),id:this.rteID+"_image"});this.parent.rootContainer.appendChild(i);var s=this.i10n.getConstant("dialogInsert"),n=this.i10n.getConstant("dialogCancel"),r=this.i10n.getConstant("imageHeader"),o=t.selection,l={selfImage:this,selection:t.selection,args:t.args,selectParent:t.selectParent},c={header:r,cssClass:rt+this.parent.getCssClass(!0),enableRtl:this.parent.enableRtl,locale:this.parent.locale,showCloseIcon:!0,closeOnEscape:!0,width:E.isDevice?"290px":"340px",isModal:E.isDevice,buttons:[{click:this.insertImageUrl.bind(l),buttonModel:{content:s,cssClass:"e-flat e-insertImage"+this.parent.getCssClass(!0),isPrimary:!0,disabled:this.parent.editorMode!=="Markdown"}},{click:function(f){e.cancelDialog(f)},buttonModel:{cssClass:"e-flat e-cancel"+this.parent.getCssClass(!0),content:n}}],target:E.isDevice?document.body:this.parent.element,animationSettings:{effect:"None"},close:function(f){e.isImgUploaded&&(e.dialogObj.element.querySelector(".e-file-abort-btn")?e.dialogObj.element.querySelector(".e-file-abort-btn").click():e.uploadObj.remove()),e.parent.isBlur=!1,f&&!h(f.event)&&f.event.returnValue&&(e.parent.editorMode==="HTML"?o.restore():e.parent.formatter.editorManager.markdownSelection.restore(e.parent.contentModule.getEditPanel())),e.clearDialogObj(),e.dialogRenderObj.close(f)}},d=this.parent.createElement("div",{className:"e-img-content"+this.parent.getCssClass(!0)});(!h(this.parent.insertImageSettings.path)&&this.parent.editorMode==="Markdown"||this.parent.editorMode==="HTML")&&d.appendChild(this.imgUpload(t));var p=this.parent.createElement("div",{className:"e-linkheader"+this.parent.getCssClass(!0)}),u=this.i10n.getConstant("imageLinkHeader");this.parent.editorMode==="HTML"?p.innerHTML=u:p.innerHTML=this.i10n.getConstant("mdimageLink"),d.appendChild(p),d.appendChild(this.imageUrlPopup(t)),t.selectNode&&t.selectNode[0].nodeName==="IMG"&&(c.header=this.parent.localeObj.getConstant("editImageHeader")),c.content=d,this.dialogObj=this.dialogRenderObj.render(c),this.dialogObj.createElement=this.parent.createElement,this.dialogObj.appendTo(i),!h(this.dialogObj)&&(t.selectNode&&t.selectNode[0].nodeName==="IMG"&&t.name==="insertImage"&&(this.dialogObj.element.querySelector(".e-insertImage").textContent=this.parent.localeObj.getConstant("dialogUpdate")),i.style.maxHeight="inherit",this.quickToolObj&&(this.quickToolObj.imageQTBar&&document.body.contains(this.quickToolObj.imageQTBar.element)&&(this.quickToolObj.imageQTBar.hidePopup(),h(t.selectParent)||k([t.selectParent[0]],"e-img-focus")),this.quickToolObj.inlineQTBar&&document.body.contains(this.quickToolObj.inlineQTBar.element)&&this.quickToolObj.inlineQTBar.hidePopup(),this.quickToolObj.textQTBar&&this.parent.element.ownerDocument.body.contains(this.quickToolObj.textQTBar.element)&&this.quickToolObj.textQTBar.hidePopup()))},a.prototype.cancelDialog=function(t){this.parent.isBlur=!1,this.dialogObj.hide({returnValue:!0})},a.prototype.onDocumentClick=function(t){var e=t.target;if(!h(this.contentModule.getEditPanel())&&(e.nodeName==="IMG"&&(this.imgEle=e),!!this.parent)){if(e.nodeName!=="#document"&&(this.parent.currentTarget=t.target),!h(this.dialogObj)&&(!M(e,"[id='"+this.dialogObj.element.id+"']")&&this.parent.toolbarSettings.enable&&this.parent.getToolbarElement()&&!this.parent.getToolbarElement().contains(t.target)||this.parent.getToolbarElement()&&this.parent.getToolbarElement().contains(t.target)&&!M(e,"#"+this.parent.getID()+"_toolbar_Image")&&!e.querySelector("#"+this.parent.getID()+"_toolbar_Image"))&&(t.offsetX>t.target.clientWidth||t.offsetY>t.target.clientHeight||(this.parent.notify(Hs,{closedBy:"outside click"}),this.dialogObj.hide({returnValue:!0}),this.parent.isBlur=!0,qs(this.parent.element,"focusout"))),!(this.parent.iframeSettings.enable&&!h(this.parent.currentTarget)&&this.parent.currentTarget.nodeName==="IMG")&&t.target.tagName!=="IMG"&&this.imgResizeDiv&&!(this.quickToolObj&&this.quickToolObj.imageQTBar&&this.quickToolObj.imageQTBar.element.contains(t.target))&&this.contentModule.getEditPanel().contains(this.imgResizeDiv)&&!this.imgResizeDiv.contains(t.target)&&this.cancelResizeAction(),this.contentModule.getEditPanel().querySelector(".e-img-resize")&&!(this.parent.iframeSettings.enable&&this.parent.currentTarget.nodeName==="IMG")&&(e.tagName!=="IMG"&&this.removeResizeEle(),e.tagName!=="IMG"&&!h(this.imgEle)?this.imgEle.style.outline="":!h(this.prevSelectedImgEle)&&this.prevSelectedImgEle!==e&&(this.prevSelectedImgEle.style.outline="")),e.tagName!=="IMG")for(var i=this.contentModule.getEditPanel().querySelectorAll("img"),s=0;s<i.length;s++)k([i[s]],"e-img-focus"),k([i[s]],"e-resize");this.parent.inlineMode.enable&&e&&this.dialogObj&&!M(e,"#"+this.dialogObj.element.id)&&this.dialogObj.hide()}},a.prototype.removeResizeEle=function(){this.isResizeBind=!0,v.remove(this.contentModule.getDocument(),E.touchMoveEvent,this.resizing),v.remove(this.contentModule.getDocument(),E.touchEndEvent,this.resizeEnd),N(this.contentModule.getEditPanel().querySelector(".e-img-resize"))},a.prototype.onWindowResize=function(){!h(this.contentModule)&&!h(this.contentModule.getEditPanel().querySelector(".e-img-resize"))&&this.cancelResizeAction()},a.prototype.imageUrlPopup=function(t){var e=this,i=this.parent.createElement("div",{className:"imgUrl"+this.parent.getCssClass(!0)}),s=this.i10n.getConstant("imageUrl");if(this.inputUrl=this.parent.createElement("input",{className:"e-input e-img-url"+this.parent.getCssClass(!0),attrs:{placeholder:s,spellcheck:"false","aria-label":this.i10n.getConstant("imageLinkHeader")}}),this.inputUrl.addEventListener("input",function(){h(e.inputUrl)||(e.inputUrl.value.length===0?e.dialogObj.getButtons(0).element.disabled=!0:e.dialogObj.getButtons(0).element.removeAttribute("disabled"))}),t.selectNode&&t.selectNode[0].nodeName==="IMG"){var n=new RegExp(/([^\S]|^)(((https?:\/\/)|(www\.))(\S+))/gi);this.inputUrl.value=t.selectNode[0].src.match(n)?t.selectNode[0].src:""}return i.appendChild(this.inputUrl),i},a.prototype.insertImageUrl=function(t){var e=this.selfImage;e.isImgUploaded=!1;var i=e.inputUrl.value;if(e.parent.editorMode==="Markdown"&&i===""&&(i="http://"),e.parent.formatter.getUndoRedoStack().length===0&&e.parent.formatter.saveData(),!h(e.uploadUrl)&&e.uploadUrl.url!=="")e.uploadUrl.cssClass=e.parent.insertImageSettings.display==="inline"?Rs:Ms,e.dialogObj.hide({returnValue:!1}),e.parent.formatter.process(e.parent,this.args,this.args.originalEvent,e.uploadUrl),e.uploadUrl.url="",e.contentModule.getEditPanel().querySelector(".e-img-resize")&&(e.imgEle.style.outline="",e.removeResizeEle());else if(i!==""){if(e.parent.editorMode==="HTML"&&h(M(this.selection.range.startContainer.parentNode,"[id='"+e.contentModule.getPanel().id+"']"))){e.contentModule.getEditPanel().focus();var s=e.parent.formatter.editorManager.nodeSelection.getRange(e.contentModule.getDocument());this.selection=e.parent.formatter.editorManager.nodeSelection.save(s,e.contentModule.getDocument()),this.selectParent=e.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(s)}var n=/[\w-]+.(jpg|png|jpeg|gif)/g,r=!h(i.match(n))&&e.parent.editorMode==="HTML"?i.match(n)[0]:"",o={cssClass:e.parent.insertImageSettings.display==="inline"?Rs:Ms,url:i,selection:this.selection,altText:r,selectParent:this.selectParent,width:{width:e.parent.insertImageSettings.width,minWidth:e.parent.insertImageSettings.minWidth,maxWidth:e.parent.getInsertImgMaxWidth()},height:{height:e.parent.insertImageSettings.height,minHeight:e.parent.insertImageSettings.minHeight,maxHeight:e.parent.insertImageSettings.maxHeight}};e.parent.formatter.process(e.parent,this.args,this.args.originalEvent,o),e.dialogObj.hide({returnValue:!1})}},a.prototype.imgsizeInput=function(t){var e=this,i=t.selectNode[0],s=this.i10n.getConstant("imageHeight"),n=this.i10n.getConstant("imageWidth"),r=this.parent.createElement("div",{className:"e-img-sizewrap"+this.parent.getCssClass(!0)}),o=h(this.changedWidthValue)&&(i.style.width.toString()==="auto"||i.style.width!=="")?i.style.width:h(this.changedWidthValue)?parseInt(i.getClientRects()[0].width.toString(),10).toString():this.changedWidthValue,l=h(this.changedHeightValue)&&(i.style.height.toString()==="auto"||i.style.height!=="")?i.style.height:h(this.changedHeightValue)?parseInt(i.getClientRects()[0].height.toString(),10).toString():this.changedHeightValue;i.style.width===""&&(o="auto"),i.style.height===""&&(l="auto"),this.changedWidthValue=null,this.changedHeightValue=null;var c='<div class="e-rte-label'+this.parent.getCssClass(!0)+'"><label>'+n+'</label></div><div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text" id="imgwidth" class="e-img-width'+this.parent.getCssClass(!0)+'"/></div><div class="e-rte-label'+this.parent.getCssClass(!0)+'"><label>'+s+'</label></div><div class="e-rte-field'+this.parent.getCssClass(!0)+'"> <input type="text" id="imgheight" class="e-img-height'+this.parent.getCssClass(!0)+'"/></div>',d=Es(c);return d.getElementById("imgwidth").setAttribute("value",o),d.getElementById("imgheight").setAttribute("value",l),r.appendChild(d),this.widthNum=new lr({value:X(o),enableRtl:this.parent.enableRtl,cssClass:this.parent.getCssClass(),input:function(p){e.inputWidthValue=X(e.inputValue(p.value))}}),this.widthNum.createElement=this.parent.createElement,this.widthNum.appendTo(r.querySelector("#imgwidth")),this.heightNum=new lr({value:X(l),enableRtl:this.parent.enableRtl,cssClass:this.parent.getCssClass(),input:function(p){e.inputHeightValue=X(e.inputValue(p.value))}}),this.heightNum.createElement=this.parent.createElement,this.heightNum.appendTo(r.querySelector("#imgheight")),r},a.prototype.inputValue=function(t){return t==="auto"||t.indexOf("%")!==-1||t.indexOf("px")!==-1||t.match(/(\d+)/)?t:"auto"},a.prototype.insertSize=function(t){t.selection.restore();var e=t.selfImage;e.parent.formatter.getUndoRedoStack().length===0&&e.parent.formatter.saveData();var i=e.dialogObj.element;this.changedWidthValue=this.inputWidthValue,this.changedHeightValue=this.inputHeightValue;var s=i.querySelector(".e-img-width").value,n=i.parentElement.querySelector(".e-img-height").value;e.parent.formatter.process(this.parent,t.args,t.args,{width:s,height:n,selectNode:t.selectNode,subCommand:t.args.item.subCommand}),this.imgResizeDiv&&e.imgResizePos(t.selectNode[0],this.imgResizeDiv),e.dialogObj.hide({returnValue:!0})},a.prototype.insertImage=function(t){if(this.imagDialog(t),!h(this.dialogObj)){this.dialogObj.element.style.maxHeight="inherit";var e=this.dialogObj.element.querySelector(".e-img-content");!h(this.parent.insertImageSettings.path)&&this.parent.editorMode==="Markdown"||this.parent.editorMode==="HTML"?document.getElementById(this.rteID+"_insertImage").focus():e.querySelector(".e-img-url").focus()}},a.prototype.imgUpload=function(t){var e=this,i,s,n=this,r=n.parent.iframeSettings.enable;if(n.parent.editorMode==="HTML"&&(!r&&h(M(t.selection.range.startContainer.parentNode,"[id='"+this.parent.contentModule.getPanel().id+"']"))||r&&!Qe(t.selection.range.startContainer.parentNode.ownerDocument.querySelector("body"),"e-lib"))){this.contentModule.getEditPanel().focus();var o=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());i=this.parent.formatter.editorManager.nodeSelection.save(o,this.parent.contentModule.getDocument()),s=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(o)}else i=t.selection,s=t.selectParent;var l=this.parent.createElement("div",{className:"e-img-uploadwrap e-droparea"+this.parent.getCssClass(!0)}),c=this.i10n.getConstant("imageDeviceUploadMessage"),d=this.i10n.getConstant("imageUploadMessage"),p=this.parent.createElement("span",{className:"e-droptext"+this.parent.getCssClass(!0)}),u=this.parent.createElement("span",{className:"e-rte-upload-text"+this.parent.getCssClass(!0),innerHTML:E.isDevice?c:d});p.appendChild(u);var f=this.parent.createElement("button",{className:"e-browsebtn"+this.parent.getCssClass(!0),id:this.rteID+"_insertImage",attrs:{autofocus:"true",type:"button"}});p.appendChild(f),l.appendChild(p);var m=this.i10n.getConstant("browse");this.browseButton=new Vt({content:m,enableRtl:this.parent.enableRtl}),this.browseButton.isStringTemplate=!0,this.browseButton.createElement=this.parent.createElement,this.browseButton.appendTo(f);var g=E.isDevice?p:f;v.add(g,"click",this.fileSelect,this);var b=this.parent.createElement("input",{id:this.rteID+"_upload",attrs:{type:"File",name:"UploadFiles"},className:this.parent.getCssClass()});l.appendChild(b);var S,T,I,w=null;return this.uploadObj=new bn({asyncSettings:{saveUrl:this.parent.insertImageSettings.saveUrl,removeUrl:this.parent.insertImageSettings.removeUrl},dropArea:p,multiple:!1,enableRtl:this.parent.enableRtl,cssClass:this.parent.getCssClass(),allowedExtensions:this.parent.insertImageSettings.allowedTypes.toString(),selected:function(x){n.isImgUploaded=!0,T=x,I=x.filesData,e.parent.trigger(x0,T,function(A){if(!A.cancel&&(e.checkExtension(A.filesData[0]),S=A.filesData[0].name.replace(/\.[a-zA-Z0-9]+$/,""),e.parent.editorMode==="HTML"&&h(e.parent.insertImageSettings.path))){var q=new FileReader;q.addEventListener("load",function(F){var J=e.parent.insertImageSettings.saveFormat==="Base64"?q.result:URL.createObjectURL(Dn(q.result));n.uploadUrl={url:J,selection:i,altText:S,selectParent:s,width:{width:n.parent.insertImageSettings.width,minWidth:n.parent.insertImageSettings.minWidth,maxWidth:n.parent.getInsertImgMaxWidth()},height:{height:n.parent.insertImageSettings.height,minHeight:n.parent.insertImageSettings.minHeight,maxHeight:n.parent.insertImageSettings.maxHeight}},n.inputUrl.setAttribute("disabled","true"),h(n.parent.insertImageSettings.saveUrl)&&e.isAllowedTypes&&!h(e.dialogObj)&&e.dialogObj.getButtons(0).element.removeAttribute("disabled")}),q.readAsDataURL(A.filesData[0].rawFile)}})},beforeUpload:function(x){e.parent.trigger(Bc,x)},uploading:function(x){e.parent.isServerRendered||e.parent.trigger(jc,x)},success:function(x){x.detectImageSource=jo.Uploaded,e.parent.trigger(Rc,x,function(A){if(!h(e.parent.insertImageSettings.path)){var q=e.parent.insertImageSettings.path+A.file.name;!h(w)&&A.operation==="upload"&&n.imageRemovePost(w),n.uploadUrl={url:q,selection:i,altText:S,selectParent:s,width:{width:n.parent.insertImageSettings.width,minWidth:n.parent.insertImageSettings.minWidth,maxWidth:n.parent.getInsertImgMaxWidth()},height:{height:n.parent.insertImageSettings.height,minHeight:n.parent.insertImageSettings.minHeight,maxHeight:n.parent.insertImageSettings.maxHeight}},n.inputUrl.setAttribute("disabled","true"),w=q}A.operation==="upload"&&!h(e.dialogObj)&&e.dialogObj.getButtons(0).element.removeAttribute("disabled")})},failure:function(x){e.parent.trigger(zc,x)},removing:function(x){e.parent.trigger(Cg,x,function(A){n.isImgUploaded=!1,e.dialogObj.getButtons(0).element.disabled=!0,n.inputUrl.removeAttribute("disabled"),n.uploadUrl&&(n.uploadUrl.url="")})}}),this.uploadObj.isStringTemplate=!0,this.uploadObj.createElement=this.parent.createElement,this.uploadObj.appendTo(b),l},a.prototype.checkExtension=function(t){this.uploadObj.allowedExtensions&&(this.uploadObj.allowedExtensions.toLocaleLowerCase().indexOf(("."+t.type).toLocaleLowerCase())===-1?(this.dialogObj.getButtons(0).element.setAttribute("disabled","disabled"),this.isAllowedTypes=!1):this.isAllowedTypes=!0)},a.prototype.fileSelect=function(){return this.dialogObj.element.getElementsByClassName("e-file-select-wrap")[0].querySelector("button").click(),!1},a.prototype.dragStart=function(t){if(t.target.nodeName==="IMG")this.parent.trigger(bt,t,function(e){e.cancel?t.preventDefault():(t.dataTransfer.effectAllowed="copyMove",t.target.classList.add(eo))});else return!0},a.prototype.dragEnter=function(t){t.dataTransfer.dropEffect="copy",t.preventDefault()},a.prototype.dragOver=function(t){if(E.info.name==="edge"&&t.dataTransfer.items[0].type.split("/")[0].indexOf("image")>-1||E.isIE&&t.dataTransfer.types[0]==="Files")t.preventDefault();else return!0},a.prototype.dragDrop=function(t){var e=this;this.parent.trigger(k0,t,function(i){var s=e.parent.inputElement.ownerDocument.querySelector("."+eo),n=s&&s.tagName==="IMG"||i.dataTransfer.files.length>0;!i.cancel&&n?e.parent.trigger(bt,i,function(r){if(r.cancel)i.preventDefault();else{if(M(i.target,"#"+e.parent.getID()+"_toolbar")||e.parent.inputElement.contentEditable==="false"){i.preventDefault();return}e.parent.element.querySelector("."+dM)&&N(e.imgResizeDiv),i.preventDefault();var o=void 0;e.contentModule.getDocument().caretRangeFromPoint?o=e.contentModule.getDocument().caretRangeFromPoint(i.clientX,i.clientY):i.rangeParent?(o=e.contentModule.getDocument().createRange(),o.setStart(i.rangeParent,i.rangeOffset)):o=e.getDropRange(i.clientX,i.clientY),e.parent.notify(wo,{range:o});var l=e.parent.element.querySelector("."+pM);if(l)return;e.insertDragImage(i)}}):n&&i.preventDefault()})},a.prototype.getDropRange=function(t,e){var i=this.contentModule.getDocument().createRange();this.parent.formatter.editorManager.nodeSelection.setRange(this.contentModule.getDocument(),i);var s=this.contentModule.getDocument().elementFromPoint(t,e),n=s.childNodes.length>0?s.childNodes[0]:s,r=0;if(this.parent.inputElement.firstChild.innerHTML==="<br>")i.setStart(n,r),i.setEnd(n,r);else{var o=void 0;do r++,i.setStart(n,r),i.setEnd(n,r+1),o=i.getBoundingClientRect();while(o.left<t&&r<n.length-1)}return i},a.prototype.insertDragImage=function(t){var e=this;t.preventDefault();var i=this.parent.element.querySelector(""+ld);this.parent.notify(Pc,{args:t}),i&&i.classList.add(Tr);var s=this.parent.inputElement.ownerDocument.querySelector("."+eo);if(t.dataTransfer.files.length>0&&s===null){if(t.dataTransfer.files.length>1)return;for(var n=t.dataTransfer.files,r=n[0].name,o=r.substring(r.lastIndexOf(".")),l=this.parent.insertImageSettings.allowedTypes,c=0;c<l.length;c++)if(o.toLocaleLowerCase()===l[c].toLowerCase())if(this.parent.insertImageSettings.saveUrl)this.onSelect(t);else{var d={args:t,text:"",file:n[0]};t.preventDefault(),this.imagePaste(d)}}else{var p=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());if(s&&s.tagName==="IMG"){s.nextElementSibling&&s.nextElementSibling.classList.contains(uM)?p.insertNode(s.parentElement.parentElement):p.insertNode(s),s.classList.remove(eo);var u={elements:[s]};s.addEventListener("load",function(){e.parent.trigger(vi,u)}),this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument());var d=t;this.resizeStart(d,s),this.hideImageQuickToolbar()}}},a.prototype.onSelect=function(t){var e=this,i=this,s=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),n=this.parent.createElement("ul",{className:fM});this.parent.rootContainer.appendChild(n);var r={name:"",size:0,status:"",statusCode:"",type:"",rawFile:t.dataTransfer.files[0],validationMessages:{}},o=this.parent.createElement("IMG");o.style.opacity="0.5",o.classList.add(od),o.classList.add(Rs),o.classList.add(cM);var l=r.rawFile,c=new FileReader;c.addEventListener("load",function(){var p=URL.createObjectURL(Dn(c.result));o.src=i.parent.insertImageSettings.saveFormat==="Blob"?p:c.result}),l&&c.readAsDataURL(l),s.insertNode(o),this.uploadMethod(t,o);var d={elements:[o]};o.addEventListener("load",function(){e.parent.trigger(vi,d)}),N(n)},a.prototype.uploadMethod=function(t,e){var i=this,s=!1,n=this,r=this.parent.createElement("div");this.parent.rootContainer.appendChild(r);var o=this.parent.createElement("input",{id:this.rteID+"_upload",attrs:{type:"File",name:"UploadFiles"}}),l=this.parent.iframeSettings.enable?-50:-90;this.popupObj=new jt(r,{relateTo:e,height:"85px",width:"300px",offsetY:l,content:o,viewPortElement:this.parent.element,position:{X:"center",Y:"top"},enableRtl:this.parent.enableRtl,zIndex:10001,close:function(p){i.parent.isBlur=!1,i.popupObj.destroy(),N(i.popupObj.element),i.popupObj=null,i.parent.inlineMode.enable||i.parent.toolbarModule.baseToolbar.toolbarObj.disable(!1)}}),this.popupObj.element.style.display="none",L([this.popupObj.element],ld),L([this.popupObj.element],Og),h(this.parent.cssClass)||L([this.popupObj.element],this.parent.cssClass.replace(/\s+/g," ").trim().split(" "));var c=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),d=t.dataTransfer.files[0].size>1e6?300:100;this.imageDragPopupTime=setTimeout(function(){n.refreshPopup(e)},d),this.uploadObj=new bn({asyncSettings:{saveUrl:this.parent.insertImageSettings.saveUrl,removeUrl:this.parent.insertImageSettings.removeUrl},cssClass:xg+this.parent.getCssClass(!0),dropArea:this.parent.element,allowedExtensions:this.parent.insertImageSettings.allowedTypes.toString(),removing:function(){i.parent.inputElement.contentEditable="true",s=!1,N(e),i.popupObj.close()},canceling:function(){i.parent.inputElement.contentEditable="true",s=!1,N(e),i.popupObj.close(),i.quickToolObj.imageQTBar.hidePopup(),i.uploadCancelTime=setTimeout(function(){i.uploadObj.destroy()},900)},beforeUpload:function(p){i.parent.trigger(Bc,p),i.parent.inlineMode.enable||i.parent.toolbarModule.baseToolbar.toolbarObj.disable(!0)},uploading:function(p){i.parent.isServerRendered||(s=!0,i.parent.trigger(jc,p,function(u){u.cancel?(h(e)||N(e),h(i.popupObj.element)||N(i.popupObj.element)):i.parent.inputElement.contentEditable="false"}))},selected:function(p){s&&(p.cancel=!0)},failure:function(p){s=!1,i.parent.inputElement.contentEditable="true";var u={args:t,type:"Images",isNotify:void 0,elements:e};i.uploadFailureTime=setTimeout(function(){i.uploadFailure(e,u,p)},900)},success:function(p){if(p.operation!=="cancel"){s=!1,i.parent.inputElement.contentEditable="true";var u={args:t,type:"Images",isNotify:void 0,elements:e};i.uploadSuccessTime=setTimeout(function(){i.uploadSuccess(e,t,u,p)},900)}}}),this.uploadObj.appendTo(this.popupObj.element.childNodes[0]),this.popupObj.element.querySelector(".e-rte-dialog-upload .e-file-select-wrap").style.display="none",c.selectNodeContents(e),this.parent.formatter.editorManager.nodeSelection.setRange(this.contentModule.getDocument(),c)},a.prototype.refreshPopup=function(t){var e=this.parent.iframeSettings.enable?this.parent.element.offsetTop+t.offsetTop:t.offsetTop,i=this.parent.element.offsetTop+this.parent.element.offsetHeight;e>i?(this.popupObj.relateTo=this.parent.inputElement,this.popupObj.offsetY=this.parent.iframeSettings.enable?-30:-65,this.popupObj.element.style.display="block"):this.popupObj&&(this.popupObj.refreshPosition(t),this.popupObj.element.style.display="block")},a.prototype.uploadFailure=function(t,e,i){N(t),this.popupObj&&this.popupObj.close(),this.parent.trigger(zc,i),this.uploadObj.destroy()},a.prototype.uploadSuccess=function(t,e,i,s){var n=this;t.style.opacity="1",t.classList.add(uo),s.element=t,s.detectImageSource=jo.Dropped,this.parent.trigger(Rc,s,function(r){if(!h(n.parent.insertImageSettings.path)){var o=n.parent.insertImageSettings.path+r.file.name;t.src=o,t.setAttribute("alt",r.file.name)}}),this.popupObj&&(this.popupObj.close(),this.uploadObj.destroy()),this.showImageQuickToolbar(i),this.resizeStart(e,t)},a.prototype.imagePaste=function(t){var e=this;if(t.text.length===0&&!h(t.file)){var i=this,s=new FileReader;t.args.preventDefault(),s.addEventListener("load",function(n){var r={cssClass:i.parent.insertImageSettings.display==="inline"?Rs:Ms,url:e.parent.insertImageSettings.saveFormat==="Base64"||!h(t.callBack)?s.result:URL.createObjectURL(Dn(s.result)),width:{width:i.parent.insertImageSettings.width,minWidth:i.parent.insertImageSettings.minWidth,maxWidth:i.parent.getInsertImgMaxWidth()},height:{height:i.parent.insertImageSettings.height,minHeight:i.parent.insertImageSettings.minHeight,maxHeight:i.parent.insertImageSettings.maxHeight}};if(h(t.callBack))i.parent.formatter.process(i.parent,{item:{command:"Images",subCommand:"Image"}},t.args,r),e.showPopupToolBar(t,r);else{t.callBack(r);return}}),s.readAsDataURL(t.file)}},a.prototype.showPopupToolBar=function(t,e){var i=this,s='img[src="'+e.url+'"]',n=this.parent.inputElement.querySelector(s);this.parent.quickToolbarModule.createQTBar("Image","MultiRow",this.parent.quickToolbarSettings.image,Ce.ImageToolbar);var r={args:t.args,type:"Images",isNotify:void 0,elements:n};n&&(this.showImageQTbarTime=setTimeout(function(){i.showImageQuickToolbar(r),i.resizeStart(t.args,n)},0))},a.prototype.destroy=function(){this.isDestroyed||(this.prevSelectedImgEle=void 0,h(this.imageQTPopupTime)||(clearTimeout(this.imageQTPopupTime),this.imageQTPopupTime=null),h(this.imageDragPopupTime)||(clearTimeout(this.imageDragPopupTime),this.imageDragPopupTime=null),h(this.uploadCancelTime)||(clearTimeout(this.uploadCancelTime),this.uploadCancelTime=null),h(this.uploadFailureTime)||(clearTimeout(this.uploadFailureTime),this.uploadFailureTime=null),h(this.showImageQTbarTime)||(clearTimeout(this.showImageQTbarTime),this.showImageQTbarTime=null),h(this.uploadSuccessTime)||(clearTimeout(this.uploadSuccessTime),this.uploadSuccessTime=null),this.removeEventListener(),this.clearDialogObj(),this.cancelResizeAction(),this.isDestroyed=!0)},a.prototype.getModuleName=function(){return"image"},a}(),Fg=function(){function a(t,e){this.isAudioUploaded=!1,this.isAllowedTypes=!0,this.deletedAudio=[],this.parent=t,this.rteID=t.element.id,this.i10n=e.getService("rteLocale"),this.rendererFactory=e.getService("rendererFactory"),this.dialogRenderObj=e.getService("dialogRenderObject"),this.addEventListener(),this.docClick=this.onDocumentClick.bind(this),this.isDestroyed=!1}return a.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(pt,this.onKeyDown,this),this.parent.on(Ht,this.onKeyUp,this),this.parent.on(lo,this.insertingAudio,this),this.parent.on(Ct,this.afterRender,this),this.parent.on(ss,this.afterRender,this),this.parent.on(qc,this.showDialog,this),this.parent.on(Qc,this.closeDialog,this),this.parent.on(Mc,this.onToolbarAction,this),this.parent.on(gi,this.alignmentSelect,this),this.parent.on(Qh,this.deleteAudio,this),this.parent.on(si,this.editAreaClickHandler,this),this.parent.on(es,this.showAudioQuickToolbar,this),this.parent.on(Ee,this.destroy,this),this.parent.on(wt,this.closeDialog,this))},a.prototype.removeEventListener=function(){this.parent.off(pt,this.onKeyDown),this.parent.off(Ht,this.onKeyUp),this.parent.off(lo,this.insertingAudio),this.parent.off(Ct,this.afterRender),this.parent.off(ss,this.afterRender),this.parent.off(qc,this.showDialog),this.parent.off(Qc,this.closeDialog),this.parent.off(Mc,this.onToolbarAction),this.parent.off(gi,this.alignmentSelect),this.parent.off(Qh,this.deleteAudio),this.parent.off(si,this.editAreaClickHandler),this.parent.off(es,this.showAudioQuickToolbar),this.parent.off(Ee,this.destroy),this.parent.off(wt,this.closeDialog),h(this.contentModule)||(v.remove(this.parent.contentModule.getEditPanel(),E.touchStartEvent,this.touchStart),v.remove(this.contentModule.getEditPanel(),E.touchEndEvent,this.audioClick),this.parent.element.ownerDocument.removeEventListener("mousedown",this.docClick,!0),this.docClick=null)},a.prototype.afterRender=function(){this.contentModule=this.rendererFactory.getRenderer(Ce.Content),v.add(this.parent.contentModule.getEditPanel(),E.touchStartEvent,this.touchStart,this),v.add(this.contentModule.getEditPanel(),E.touchEndEvent,this.audioClick,this),this.parent.element.ownerDocument.addEventListener("mousedown",this.docClick,!0)},a.prototype.checkAudioBack=function(t){t.startContainer.nodeName==="#text"&&t.startOffset===0&&!h(t.startContainer.previousSibling)&&this.isAudioElem(t.startContainer.previousSibling)?this.deletedAudio.push(t.startContainer.previousSibling):t.startContainer.nodeName!=="#text"&&!h(t.startContainer.childNodes[t.startOffset-1])&&this.isAudioElem(t.startContainer.childNodes[t.startOffset-1])&&this.deletedAudio.push(t.startContainer.childNodes[t.startOffset-1])},a.prototype.checkAudioDel=function(t){t.startContainer.nodeName==="#text"&&t.startOffset===t.startContainer.textContent.length&&!h(t.startContainer.nextSibling)&&t.startContainer.nextSibling.nodeName==="IMG"?this.deletedAudio.push(t.startContainer.nextSibling):t.startContainer.nodeName!=="#text"&&!h(t.startContainer.childNodes[t.startOffset])&&this.isAudioElem(t.startContainer.childNodes[t.startOffset])&&this.deletedAudio.push(t.startContainer.childNodes[t.startOffset])},a.prototype.undoStack=function(t){if(t.subCommand.toLowerCase()==="undo"||t.subCommand.toLowerCase()==="redo")for(var e=0;e<this.parent.formatter.getUndoRedoStack().length;e++){var i=this.parent.createElement("div"),s=this.parent.formatter.getUndoRedoStack()[e].text;i.appendChild(s.cloneNode(!0))}},a.prototype.touchStart=function(t,e){this.parent.readonly||(this.prevSelectedAudEle=this.audEle)},a.prototype.onToolbarAction=function(t){vt()&&this.parent.notify(ii,{});var e=t.args.item;switch(e.subCommand){case"AudioReplace":this.parent.notify(lo,t);break;case"AudioRemove":this.parent.notify(Qh,t);break}},a.prototype.onKeyUp=function(t){if(!h(this.deletedAudio)&&this.deletedAudio.length>0)for(var e=0;e<this.deletedAudio.length-1;e++){var i={element:this.deletedAudio[e].querySelector("audio"),src:this.deletedAudio[e].querySelector("source").getAttribute("src")};this.parent.trigger(Oo,i)}},a.prototype.onKeyDown=function(t){var e=t.args,i,s,n,r;this.deletedAudio=[];var o,l=[27,112,113,114,115,116,117,118,119,120,121,122,123,44,45,9,16,17,18,19,20,33,34,35,36,37,38,39,40,91,92,93,144,145,182,183];if(this.parent.editorMode==="HTML"&&(i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),o=i.startContainer===i.endContainer&&i.startOffset===i.endOffset),!o&&this.parent.editorMode==="HTML"&&l.indexOf(e.which)<0)for(var c=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(i),d=0;d<c.length;d++)this.isAudioElem(c[d])&&this.deletedAudio.push(c[d]);if(this.parent.editorMode==="HTML"&&(e.which===8&&e.code==="Backspace"||e.which===46&&e.code==="Delete")){var p=i.startContainer===i.endContainer&&i.startOffset===i.endOffset;e.which===8&&e.code==="Backspace"&&p?this.checkAudioBack(i):e.which===46&&e.code==="Delete"&&p&&this.checkAudioDel(i)}if(!h(this.parent.formatter.editorManager.nodeSelection)&&e.code!=="KeyK"&&(i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),n=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(i),r=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(i),!e.ctrlKey&&e.key&&(e.key.length===1||e.action==="enter")&&this.isAudioElem(r[0])&&r[0].parentElement)){var u=r[0].parentElement.childNodes[0];this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(),u,u,u.textContent.length,u.textContent.length),k([r[0]],zi),this.quickToolObj.audioQTBar.hidePopup()}if(e.ctrlKey&&(e.keyCode===89||e.keyCode===90)&&this.undoStack({subCommand:e.keyCode===90?"undo":"redo"}),(e.keyCode===8||e.keyCode===46)&&n&&this.isAudioElem(n[0])&&n.length<1){h(this.parent.formatter.editorManager.nodeSelection)||(s=this.parent.formatter.editorManager.nodeSelection.save(i,this.parent.contentModule.getDocument())),e.preventDefault();var f={selectNode:n,selection:s,selectParent:r,args:{item:{command:"Audios",subCommand:"AudioRemove"},originalEvent:e}};this.deleteAudio(f,e.keyCode)}switch(e.action){case"escape":h(this.dialogObj)||this.dialogObj.close();break;case"backspace":case"delete":for(var d=0;d<this.deletedAudio.length;d++){var m=this.deletedAudio[d].src;this.audioRemovePost(m)}this.parent.editorMode!=="Markdown"&&(i.startContainer.nodeType===3?e.code==="Backspace"?i.startContainer.previousElementSibling&&i.startOffset===0&&i.startContainer.previousElementSibling.classList.contains(Fi)&&N(i.startContainer.previousElementSibling):i.startContainer.nextElementSibling&&i.endContainer.textContent.length===i.endOffset&&i.startContainer.nextElementSibling.classList.contains(Fi)&&N(i.startContainer.nextElementSibling):i.startContainer.nodeType===1&&i.startContainer.classList&&(i.startContainer.classList.contains(Fi)||i.startContainer.classList.contains(Ji)||i.startContainer.classList.contains(wn))&&N(i.startContainer));break;case"insert-audio":h(this.parent.formatter.editorManager.nodeSelection)||(s=this.parent.formatter.editorManager.nodeSelection.save(i,this.parent.contentModule.getDocument())),this.openDialog(!0,e,s,n,r),e.preventDefault();break}e.ctrlKey&&e.key==="a"&&this.handleSelectAll()},a.prototype.handleSelectAll=function(){var t=this.parent.inputElement.querySelectorAll("."+zi);k(t,zi)},a.prototype.openDialog=function(t,e,i,s,n){var r,o,l,c;!t&&!h(this.parent.formatter.editorManager.nodeSelection)?(r=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),o=this.parent.formatter.editorManager.nodeSelection.save(r,this.parent.contentModule.getDocument()),l=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(r),c=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(r)):(o=i,l=s,c=n),this.parent.editorMode==="HTML"&&this.insertAudio({args:{item:{command:"Audios",subCommand:"Audio"},originalEvent:e,name:t?null:"showDialog"},selectNode:l,selection:o,selectParent:c})},a.prototype.showDialog=function(){this.openDialog(!1)},a.prototype.closeDialog=function(){this.dialogObj&&this.dialogObj.hide({returnValue:!0})},a.prototype.deleteAudio=function(t,e){if(this.isAudioElem(t.selectNode[0])){this.audEle&&(t.selectNode[0].nodeType===3?t.selectNode[0]=this.audEle:this.isAudioElem(t.selectNode[0])&&(t.selectNode[0]=t.selectNode[0].classList.contains(Fi)?t.selectNode[0]:t.selectNode[0].parentElement));var i={element:t.selectNode[0].querySelector("audio"),src:t.selectNode[0].querySelector("source").getAttribute("src")};this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData(),t.selection.restore(),this.parent.formatter.process(this.parent,t.args,t.args.originalEvent,{selectNode:t.selectNode,subCommand:t.args.item.subCommand}),this.audioRemovePost(i.src),this.quickToolObj&&document.body.contains(this.quickToolObj.audioQTBar.element)&&this.quickToolObj.audioQTBar.hidePopup(),h(e)&&this.parent.trigger(Oo,i)}},a.prototype.audioRemovePost=function(t){var e=this,i="";if(!(h(this.parent.insertAudioSettings.removeUrl)||this.parent.insertAudioSettings.removeUrl==="")){t.indexOf("http://")>-1||t.indexOf("https://")>-1?i=t:i=new URL(t,document.baseURI).href,this.removingAudioName=i.replace(/^.*[\\/]/,"");var s=new XMLHttpRequest;s.addEventListener("readystatechange",function(){this.readyState===4&&this.status===200&&e.triggerPost(this.response)}),s.open("GET",i),s.responseType="blob",s.send()}},a.prototype.triggerPost=function(t){var e=this.parent.insertAudioSettings.removeUrl;if(!(h(e)||e==="")){var i=new File([t],this.removingAudioName),s=new ri(e,"POST",!0,null),n=new FormData;n.append("UploadFiles",i),s.send(n)}},a.prototype.audioClick=function(t){E.isDevice&&(this.isAudioElem(t.target)?(this.contentModule.getEditPanel().setAttribute("contenteditable","false"),t.target.focus()):this.parent.readonly||this.contentModule.getEditPanel().setAttribute("contenteditable","true")),this.isAudioElem(t.target)&&(this.audEle=t.target.querySelector("audio"),t.preventDefault())},a.prototype.onDocumentClick=function(t){var e=t.target;h(this.contentModule.getEditPanel())||(this.isAudioElem(e)&&(this.audEle=e.querySelector("audio")),!h(this.dialogObj)&&(!M(e,"[id='"+this.dialogObj.element.id+"']")&&this.parent.toolbarSettings.enable&&this.parent.getToolbarElement()&&!this.parent.getToolbarElement().contains(t.target)||this.parent.getToolbarElement()&&this.parent.getToolbarElement().contains(t.target)&&!M(e,"#"+this.parent.getID()+"_toolbar_Audio")&&!e.querySelector("#"+this.parent.getID()+"_toolbar_Audio"))&&(t.offsetX>t.target.clientWidth||t.offsetY>t.target.clientHeight||(this.parent.notify(Hs,{closedBy:"outside click"}),this.dialogObj.hide({returnValue:!0}),this.parent.isBlur=!0,qs(this.parent.element,"focusout"))),this.contentModule.getEditPanel().querySelector("."+zi)&&(!this.isAudioElem(t.target)&&!h(this.audEle)?this.audEle.style.outline="":!h(this.prevSelectedAudEle)&&this.prevSelectedAudEle!==e&&(this.prevSelectedAudEle.style.outline="")),this.parent.inlineMode.enable&&e&&this.dialogObj&&!M(e,"#"+this.dialogObj.element.id)&&this.dialogObj.hide())},a.prototype.alignmentSelect=function(t){var e=t.item;if(!(!document.body.contains(document.body.querySelector(".e-rte-quick-toolbar"))||e.command!=="Audios")){var i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),s=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(i);s=[this.audEle];var n={args:t,selectNode:s};switch(this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData(),e.subCommand){case"Inline":this.inline(n);break;case"Break":this.break(n);break}this.quickToolObj&&document.body.contains(this.quickToolObj.audioQTBar.element)&&(this.quickToolObj.audioQTBar.hidePopup(),k([s[0]],zi))}},a.prototype.break=function(t){if(t.selectNode[0].nodeName==="AUDIO"){var e=t.args.item&&t.args.item.subCommand?t.args.item.subCommand:"Break";this.parent.formatter.process(this.parent,t.args,t.args.originalEvent,{selectNode:t.selectNode,subCommand:e})}},a.prototype.inline=function(t){if(t.selectNode[0].nodeName==="AUDIO"){var e=t.args.item&&t.args.item.subCommand?t.args.item.subCommand:"Inline";this.parent.formatter.process(this.parent,t.args,t.args.originalEvent,{selectNode:t.selectNode,subCommand:e})}},a.prototype.editAreaClickHandler=function(t){if(this.parent.readonly){this.hideAudioQuickToolbar();return}var e=t.args,i=this.parent.quickToolbarSettings.showOnRightClick;if(e.which===2||i&&e.which===1||!i&&e.which===3){i&&e.which===1&&!h(e.target)&&this.isAudioElem(e.target)&&(this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument()),this.parent.formatter.editorManager.nodeSelection.setSelectionContents(this.contentModule.getDocument(),e.target));return}if(this.parent.editorMode==="HTML"&&this.parent.quickToolbarModule&&this.parent.quickToolbarModule.audioQTBar){this.quickToolObj=this.parent.quickToolbarModule;var s=e.target;this.contentModule=this.rendererFactory.getRenderer(Ce.Content);var n=this.quickToolObj.audioQTBar.element.classList.contains("e-rte-pop");if(this.isAudioElem(s)&&this.parent.quickToolbarModule){if(n)return;this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument()),this.parent.formatter.editorManager.nodeSelection.setSelectionContents(this.contentModule.getDocument(),s),vt()&&this.parent.notify(ti,t),s.querySelector("audio").style.outline="2px solid #4a90e2",this.showAudioQuickToolbar({args:e,type:"Audios",elements:[e.target]})}else this.hideAudioQuickToolbar()}},a.prototype.isAudioElem=function(t){return!!(t&&t.nodeType!==3&&t.nodeName!=="BR"&&t.classList&&(t.classList.contains(Fi)||t.classList.contains(Ji)))},a.prototype.showAudioQuickToolbar=function(t){var e=this;if(!(t.type!=="Audios"||h(this.parent.quickToolbarModule)||h(this.parent.quickToolbarModule.audioQTBar)||h(t.args))){this.quickToolObj=this.parent.quickToolbarModule;var i=t.args,s=t.elements;[].forEach.call(t.elements,function(n,r){r===0&&(s=n)}),this.isAudioElem(s)&&(L([s.querySelector("audio")],[zi]),s.querySelector("audio").style.outline="2px solid #4a90e2"),this.parent.quickToolbarModule.audioQTBar&&(t.isNotify?this.showPopupTime=setTimeout(function(){e.parent.formatter.editorManager.nodeSelection.Clear(e.contentModule.getDocument()),e.parent.formatter.editorManager.nodeSelection.setSelectionContents(e.contentModule.getDocument(),s),e.quickToolObj.audioQTBar.showPopup(i.pageX-50,s.getBoundingClientRect().top+34,s)},400):this.quickToolObj.audioQTBar.showPopup(i.pageX-50,s.getBoundingClientRect().top+34,s))}},a.prototype.hideAudioQuickToolbar=function(){h(this.contentModule.getEditPanel().querySelector("."+zi))||(k([this.contentModule.getEditPanel().querySelector("."+zi)],zi),h(this.audEle)||(this.audEle.style.outline=""),this.quickToolObj&&this.quickToolObj.audioQTBar&&document.body.contains(this.quickToolObj.audioQTBar.element)&&this.quickToolObj.audioQTBar.hidePopup())},a.prototype.insertingAudio=function(t){if(this.insertAudio(t),!h(this.dialogObj)){this.dialogObj.element.style.maxHeight="inherit";var e=this.dialogObj.element.querySelector(".e-audio-content");!h(this.parent.insertAudioSettings.path)||this.parent.editorMode==="HTML"?document.getElementById(this.rteID+"_insertAudio").focus():e.querySelector(".e-audio-url").focus()}},a.prototype.clearDialogObj=function(){this.uploadObj&&!this.uploadObj.isDestroyed&&(this.uploadObj.destroy(),N(this.uploadObj.element),this.uploadObj=null),this.button&&!this.button.isDestroyed&&(this.button.destroy(),N(this.button.element),this.button=null),this.dialogObj&&!this.dialogObj.isDestroyed&&(this.dialogObj.destroy(),N(this.dialogObj.element),this.dialogObj=null)},a.prototype.insertAudio=function(t){var e=this;if(this.dialogObj){this.dialogObj.hide({returnValue:!0});return}var i=this.parent.createElement("div",{className:"e-rte-audio-dialog",id:this.rteID+"_audio"});this.parent.rootContainer.appendChild(i);var s=this.i10n.getConstant("dialogInsert"),n=this.i10n.getConstant("dialogCancel"),r=this.i10n.getConstant("audioHeader"),o=t.selection,l={selfAudio:this,selection:t.selection,args:t.args,selectParent:t.selectParent},c={header:r,cssClass:rt,enableRtl:this.parent.enableRtl,locale:this.parent.locale,showCloseIcon:!0,closeOnEscape:!0,width:E.isDevice?"290px":"340px",isModal:E.isDevice,buttons:[{click:this.insertAudioUrl.bind(l),buttonModel:{content:s,cssClass:"e-flat e-insertAudio",isPrimary:!0,disabled:!0}},{click:function(f){e.cancelDialog(f)},buttonModel:{cssClass:"e-flat e-cancel",content:n}}],target:E.isDevice?document.body:this.parent.element,animationSettings:{effect:"None"},close:function(f){e.isAudioUploaded&&(e.dialogObj.element.querySelector(".e-file-abort-btn")?e.dialogObj.element.querySelector(".e-file-abort-btn").click():e.uploadObj.remove()),e.parent.isBlur=!1,f&&!h(f.event)&&f.event.returnValue&&e.parent.editorMode==="HTML"&&o.restore(),e.clearDialogObj(),e.dialogRenderObj.close(f)}},d=this.parent.createElement("div",{className:"e-audio-content"});(!h(this.parent.insertAudioSettings.path)||this.parent.editorMode==="HTML")&&d.appendChild(this.audioUpload(t));var p=this.parent.createElement("div",{className:"e-audioheader"}),u=this.i10n.getConstant("audioLinkHeader");this.parent.editorMode==="HTML"&&(p.innerHTML=u),d.appendChild(p),d.appendChild(this.audioUrlPopup(t)),t.selectNode&&t.selectNode[0].nodeType===1&&this.isAudioElem(t.selectNode[0])&&(c.header=this.parent.localeObj.getConstant("editAudioHeader")),c.content=d,this.dialogObj=this.dialogRenderObj.render(c),this.dialogObj.createElement=this.parent.createElement,this.dialogObj.appendTo(i),t.selectNode&&t.selectNode[0].nodeType===1&&this.isAudioElem(t.selectNode[0])&&t.name==="insertAudio"&&(this.dialogObj.element.querySelector(".e-insertAudio").textContent=this.parent.localeObj.getConstant("dialogUpdate")),i.style.maxHeight="inherit",this.quickToolObj&&(this.quickToolObj.audioQTBar&&document.body.contains(this.quickToolObj.audioQTBar.element)&&this.quickToolObj.audioQTBar.hidePopup(),this.quickToolObj.inlineQTBar&&document.body.contains(this.quickToolObj.inlineQTBar.element)&&this.quickToolObj.inlineQTBar.hidePopup(),this.quickToolObj.textQTBar&&this.parent.element.ownerDocument.body.contains(this.quickToolObj.textQTBar.element)&&this.quickToolObj.textQTBar.hidePopup())},a.prototype.audioUrlPopup=function(t){var e=this,i=this.parent.createElement("div",{className:"audioUrl"}),s=this.i10n.getConstant("audioUrl");if(this.inputUrl=this.parent.createElement("input",{className:"e-input e-audio-url",attrs:{placeholder:s,spellcheck:"false","aria-label":this.i10n.getConstant("audioLinkHeader")}}),this.inputUrl.addEventListener("input",function(){h(e.inputUrl)||(e.inputUrl.value.length===0?e.dialogObj.getButtons(0).element.disabled=!0:e.dialogObj.getButtons(0).element.removeAttribute("disabled"))}),t.selectNode&&this.isAudioElem(t.selectNode[0])){var n=new RegExp(/([^\S]|^)(((https?:\/\/)|(www\.))(\S+))/gi),r=t.selectNode[0].querySelector("source");this.inputUrl.value=r.src.match(n)?r.src:""}return i.appendChild(this.inputUrl),i},a.prototype.audioUpload=function(t){var e=this,i,s,n=this,r=n.parent.iframeSettings.enable;if(n.parent.editorMode==="HTML"&&(!r&&h(M(t.selection.range.startContainer.parentNode,"[id='"+this.parent.contentModule.getPanel().id+"']"))||r&&!Qe(t.selection.range.startContainer.parentNode.ownerDocument.querySelector("body"),"e-lib"))){this.contentModule.getEditPanel().focus();var o=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());i=this.parent.formatter.editorManager.nodeSelection.save(o,this.parent.contentModule.getDocument()),s=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(o)}else i=t.selection,s=t.selectParent;var l=this.parent.createElement("div",{className:"e-aud-uploadwrap e-droparea"}),c=this.i10n.getConstant("audioDeviceUploadMessage"),d=this.i10n.getConstant("audioUploadMessage"),p=this.parent.createElement("span",{className:"e-droptext"}),u=this.parent.createElement("span",{className:"e-rte-upload-text",innerHTML:E.isDevice?c:d});p.appendChild(u);var f=this.parent.createElement("button",{className:"e-browsebtn",id:this.rteID+"_insertAudio",attrs:{autofocus:"true",type:"button"}});p.appendChild(f),l.appendChild(p);var m=this.i10n.getConstant("browse");this.button=new Vt({content:m,enableRtl:this.parent.enableRtl}),this.button.isStringTemplate=!0,this.button.createElement=this.parent.createElement,this.button.appendTo(f);var g=E.isDevice?p:f;v.add(g,"click",this.fileSelect,this);var b=this.parent.createElement("input",{id:this.rteID+"_upload",attrs:{type:"File",name:"UploadFiles"}});l.appendChild(b);var S,T,I;return this.uploadObj=new bn({asyncSettings:{saveUrl:this.parent.insertAudioSettings.saveUrl,removeUrl:this.parent.insertAudioSettings.removeUrl},dropArea:p,multiple:!1,enableRtl:this.parent.enableRtl,allowedExtensions:this.parent.insertAudioSettings.allowedTypes.toString(),selected:function(w){n.isAudioUploaded=!0,T=w,I=w.filesData,e.parent.trigger(Mg,T,function(x){if(!x.cancel&&(e.checkExtension(x.filesData[0]),S=x.filesData[0].name,e.parent.editorMode==="HTML"&&h(e.parent.insertAudioSettings.path))){var A=new FileReader;A.addEventListener("load",function(q){var F=e.parent.insertAudioSettings.saveFormat==="Base64"?A.result:URL.createObjectURL(Dn(A.result));n.uploadUrl={url:F,selection:i,fileName:S,selectParent:s},n.inputUrl.setAttribute("disabled","true"),h(n.parent.insertAudioSettings.saveUrl)&&e.isAllowedTypes&&!h(e.dialogObj)&&e.dialogObj.getButtons(0).element.removeAttribute("disabled")}),A.readAsDataURL(x.filesData[0].rawFile)}})},beforeUpload:function(w){e.parent.trigger(Ig,w)},uploading:function(w){e.parent.isServerRendered||e.parent.trigger(Sg,w)},success:function(w){e.parent.trigger(Eg,w,function(x){if(!h(e.parent.insertAudioSettings.path)){var A=e.parent.insertAudioSettings.path+x.file.name;n.uploadUrl={url:A,selection:i,fileName:S,selectParent:s},n.inputUrl.setAttribute("disabled","true")}x.operation==="upload"&&!h(e.dialogObj)&&e.dialogObj.getButtons(0).element.removeAttribute("disabled")})},failure:function(w){e.parent.trigger(Tg,w)},removing:function(){e.parent.trigger(Ng,t,function(w){n.isAudioUploaded=!1,e.dialogObj.getButtons(0).element.disabled=!0,n.inputUrl.removeAttribute("disabled"),n.uploadUrl&&(n.uploadUrl.url="")})}}),this.uploadObj.isStringTemplate=!0,this.uploadObj.createElement=this.parent.createElement,this.uploadObj.appendTo(b),l},a.prototype.checkExtension=function(t){this.uploadObj.allowedExtensions&&(this.uploadObj.allowedExtensions.toLocaleLowerCase().indexOf(("."+t.type).toLocaleLowerCase())===-1?(this.dialogObj.getButtons(0).element.setAttribute("disabled","disabled"),this.isAllowedTypes=!1):this.isAllowedTypes=!0)},a.prototype.fileSelect=function(){return this.dialogObj.element.getElementsByClassName("e-file-select-wrap")[0].querySelector("button").click(),!1},a.prototype.cancelDialog=function(t){this.parent.isBlur=!1,this.dialogObj.hide({returnValue:!0}),this.isAudioUploaded&&this.uploadObj.removing()},a.prototype.insertAudioUrl=function(t){var e=this.selfAudio;e.isAudioUploaded=!1;var i=e.inputUrl.value;if(e.parent.formatter.getUndoRedoStack().length===0&&e.parent.formatter.saveData(),!h(e.uploadUrl)&&e.uploadUrl.url!=="")e.uploadUrl.cssClass=e.parent.insertAudioSettings.layoutOption==="Inline"?sd:Ym,e.dialogObj.hide({returnValue:!1}),e.parent.formatter.process(e.parent,this.args,this.args.originalEvent,e.uploadUrl),e.uploadUrl.url="";else if(i!==""){if(e.parent.editorMode==="HTML"&&h(M(this.selection.range.startContainer.parentNode,"[id='"+e.contentModule.getPanel().id+"']"))){e.contentModule.getEditPanel().focus();var s=e.parent.formatter.editorManager.nodeSelection.getRange(e.contentModule.getDocument());this.selection=e.parent.formatter.editorManager.nodeSelection.save(s,e.contentModule.getDocument()),this.selectParent=e.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(s)}var n=e.parent.editorMode==="HTML"?i.split("/")[i.split("/").length-1]:"",r={cssClass:e.parent.insertAudioSettings.layoutOption==="Inline"?sd:Ym,url:i,selection:this.selection,fileName:n,selectParent:this.selectParent};e.parent.formatter.process(e.parent,this.args,this.args.originalEvent,r),e.dialogObj.hide({returnValue:!1})}},a.prototype.destroy=function(){this.isDestroyed||(this.prevSelectedAudEle=void 0,this.showPopupTime&&(clearTimeout(this.showPopupTime),this.showPopupTime=null),this.removeEventListener(),this.clearDialogObj(),this.isDestroyed=!0)},a.prototype.getModuleName=function(){return"audio"},a}(),Ug=function(){function a(t,e){this.isVideoUploaded=!1,this.isAllowedTypes=!0,this.pageX=null,this.pageY=null,this.mouseX=null,this.deletedVid=[],this.isResizeBind=!0,this.parent=t,this.rteID=t.element.id,this.i10n=e.getService("rteLocale"),this.rendererFactory=e.getService("rendererFactory"),this.dialogRenderObj=e.getService("dialogRenderObject"),this.addEventListener(),this.isDestroyed=!1,this.docClick=this.onDocumentClick.bind(this)}return a.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(pt,this.onKeyDown,this),this.parent.on(Ht,this.onKeyUp,this),this.parent.on(ho,this.insertingVideo,this),this.parent.on(Ct,this.afterRender,this),this.parent.on(ss,this.afterRender,this),this.parent.on(zr,this.onWindowResize,this),this.parent.on(_c,this.showDialog,this),this.parent.on(Yc,this.closeDialog,this),this.parent.on(gi,this.alignmentSelect,this),this.parent.on(Yh,this.deleteVideo,this),this.parent.on(Sc,this.onToolbarAction,this),this.parent.on(si,this.editAreaClickHandler,this),this.parent.on(wt,this.onIframeMouseDown,this),this.parent.on(Kh,this.videoSize,this),this.parent.on(es,this.showVideoQuickToolbar,this),this.parent.on(is,this.clearDialogObj,this),this.parent.on(Ee,this.destroy,this))},a.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(pt,this.onKeyDown),this.parent.off(Ht,this.onKeyUp),this.parent.off(ho,this.insertingVideo),this.parent.off(zr,this.onWindowResize),this.parent.off(Ct,this.afterRender),this.parent.off(ss,this.afterRender),this.parent.off(_c,this.showDialog),this.parent.off(Yc,this.closeDialog),this.parent.off(gi,this.alignmentSelect),this.parent.off(Yh,this.deleteVideo),this.parent.off(Sc,this.onToolbarAction),this.parent.off(si,this.editAreaClickHandler),this.parent.off(wt,this.onIframeMouseDown),this.parent.off(Kh,this.videoSize),this.parent.off(es,this.showVideoQuickToolbar),this.parent.off(is,this.clearDialogObj),this.parent.off(Ee,this.destroy),h(this.contentModule)||(v.remove(this.contentModule.getEditPanel(),E.touchEndEvent,this.videoClick),this.parent.formatter.editorManager.observer.off(Fr,this.undoStack),this.parent.insertVideoSettings.resize&&(v.remove(this.parent.contentModule.getEditPanel(),E.touchStartEvent,this.resizeStart),this.parent.element.ownerDocument.removeEventListener("mousedown",this.docClick,!0),this.docClick=null,v.remove(this.contentModule.getEditPanel(),"cut",this.onCutHandler),v.remove(this.contentModule.getDocument(),E.touchMoveEvent,this.resizing))))},a.prototype.afterRender=function(){this.contentModule=this.rendererFactory.getRenderer(Ce.Content),v.add(this.contentModule.getEditPanel(),E.touchEndEvent,this.videoClick,this),this.parent.insertVideoSettings.resize&&(v.add(this.parent.contentModule.getEditPanel(),E.touchStartEvent,this.resizeStart,this),this.parent.element.ownerDocument.addEventListener("mousedown",this.docClick,!0),v.add(this.contentModule.getEditPanel(),"cut",this.onCutHandler,this))},a.prototype.clearDialogObj=function(){this.uploadObj&&!this.uploadObj.isDestroyed&&(this.uploadObj.destroy(),N(this.uploadObj.element),this.uploadObj=null),this.webUrlBtn&&!this.webUrlBtn.isDestroyed&&(this.webUrlBtn.destroy(),N(this.webUrlBtn.element),this.webUrlBtn=null),this.embedUrlBtn&&!this.embedUrlBtn.isDestroyed&&(this.embedUrlBtn.destroy(),N(this.embedUrlBtn.element),this.embedUrlBtn=null),this.widthNum&&!this.widthNum.isDestroyed&&(this.widthNum.destroy(),N(this.widthNum.element),this.widthNum=null),this.heightNum&&!this.heightNum.isDestroyed&&(this.heightNum.destroy(),N(this.heightNum.element),this.heightNum=null),this.button&&!this.button.isDestroyed&&(this.button.destroy(),N(this.button.element),this.heightNum=null),this.dialogObj&&this.dialogObj.element&&(this.dialogObj.destroy(),N(this.dialogObj.element),this.dialogObj=null)},a.prototype.onKeyUp=function(t){if(!h(this.deletedVid)&&this.deletedVid.length>0)for(var e=0;e<this.deletedVid.length;e++){var i={element:this.deletedVid[e],src:this.deletedVid[e].tagName!=="IFRAME"?this.deletedVid[e].querySelector("source").getAttribute("src"):this.deletedVid[e].src};this.parent.trigger(Oo,i)}},a.prototype.undoStack=function(t){if(t.subCommand.toLowerCase()==="undo"||t.subCommand.toLowerCase()==="redo")for(var e=0;e<this.parent.formatter.getUndoRedoStack().length;e++){var i=this.parent.createElement("div"),s=this.parent.formatter.getUndoRedoStack()[e].text;i.appendChild(s.cloneNode(!0));var n=i.querySelectorAll("video");if(i.querySelector(".e-vid-resize")&&n.length>0){for(var r=0;r<n.length;r++)n[r].style.outline="";N(i.querySelector(".e-vid-resize"));for(var o=i.cloneNode(!0),l=document.createDocumentFragment();o.firstChild;)l.appendChild(o.firstChild);this.parent.formatter.getUndoRedoStack()[e].text=l}}},a.prototype.onIframeMouseDown=function(){this.dialogObj&&this.dialogObj.hide({returnValue:!0})},a.prototype.videoSize=function(t){var e=this;if(!(t.selectNode[0].nodeName!=="VIDEO"&&!this.isEmbedVidElem(t.selectNode[0]))&&(this.insertVideo(t),!h(this.dialogObj))){var i=this.i10n.getConstant("videoSizeHeader"),s=this.i10n.getConstant("dialogUpdate"),n=this.vidsizeInput(t),r={args:t.args,selfVideo:this,selection:t.selection,selectNode:t.selectNode};this.dialogObj.setProperties({width:"290px",header:i,content:n,buttons:[{click:function(o){e.insertSize(r)},buttonModel:{content:s,cssClass:"e-flat e-update-size",isPrimary:!0}}]}),this.dialogObj.element.style.maxHeight="inherit",this.dialogObj.content.querySelector("input").focus()}},a.prototype.vidsizeInput=function(t){var e=this,i=t.selectNode[0],s=this.i10n.getConstant("videoHeight"),n=this.i10n.getConstant("videoWidth"),r=this.parent.createElement("div",{className:"e-video-sizewrap"}),o=h(this.changedWidthValue)&&(i.style.width.toString()==="auto"||i.style.width!=="")?i.style.width:h(this.changedWidthValue)?parseInt(i.getClientRects()[0].width.toString(),10).toString():this.changedWidthValue,l=h(this.changedHeightValue)&&(i.style.height.toString()==="auto"||i.style.height!=="")?i.style.height:h(this.changedHeightValue)?parseInt(i.getClientRects()[0].height.toString(),10).toString():this.changedHeightValue;this.changedWidthValue=null,this.changedHeightValue=null;var c='<div class="e-rte-label"><label>'+n+'</label></div><div class="e-rte-field"><input type="text" id="vidwidth" class="e-vid-width" value='+o+' /></div><div class="e-rte-label"><label>'+s+'</label></div><div class="e-rte-field"> <input type="text" id="vidheight" class="e-vid-height" value='+l+" /></div>",d=Es(c);return r.appendChild(d),this.widthNum=new lr({value:X(o),enableRtl:this.parent.enableRtl,input:function(p){e.inputWidthValue=X(p.value)}}),this.widthNum.createElement=this.parent.createElement,this.widthNum.appendTo(r.querySelector("#vidwidth")),this.heightNum=new lr({value:X(l),enableRtl:this.parent.enableRtl,input:function(p){e.inputHeightValue=X(p.value)}}),this.heightNum.createElement=this.parent.createElement,this.heightNum.appendTo(r.querySelector("#vidheight")),r},a.prototype.insertSize=function(t){t.selection.restore();var e=t.selfVideo;e.parent.formatter.getUndoRedoStack().length===0&&e.parent.formatter.saveData();var i=e.dialogObj.element;this.changedWidthValue=this.inputWidthValue,this.changedHeightValue=this.inputHeightValue;var s=i.querySelector(".e-vid-width").value,n=i.parentElement.querySelector(".e-vid-height").value;e.parent.formatter.process(this.parent,t.args,t.args,{width:s,height:n,selectNode:t.selectNode,subCommand:t.args.item.subCommand}),this.vidResizeDiv&&(t.selectNode[0]=t.selectNode[0].tagName==="VIDEO"||t.selectNode[0].tagName==="IFRAME"?t.selectNode[0]:t.selectNode[0].querySelector("iframe"),e.vidResizePos(t.selectNode[0],this.vidResizeDiv)),e.dialogObj.hide({returnValue:!0})},a.prototype.resizeEnd=function(t){this.resizeBtnInit(),this.videoEle.parentElement.style.cursor="auto",E.isDevice&&k([t.target.parentElement],"e-mob-span");var e={event:t,requestType:"videos"};this.parent.trigger(Yd,e);var i=this.getPointX(t),s=this.parent.iframeSettings.enable?window.pageYOffset+this.parent.element.getBoundingClientRect().top+t.clientY:t.pageY;this.parent.formatter.editorManager.observer.on(Fr,this.undoStack,this),this.parent.formatter.saveData()},a.prototype.resizeStart=function(t,e){var i=this;if(!this.parent.readonly){var s=e||(this.isEmbedVidElem(t.target)?t.target.querySelector("iframe"):t.target);if(this.prevSelectedVidEle=this.videoEle,s.tagName==="VIDEO"||s.tagName==="IFRAME"){this.parent.preventDefaultResize(t);var n=s;this.vidResizeDiv&&this.contentModule.getEditPanel().contains(this.vidResizeDiv)&&N(this.vidResizeDiv),this.videoResize(n)}if(s.classList.contains("e-rte-videoboxmark")){if(this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData(),this.pageX=this.getPointX(t),this.pageY=this.getPointY(t),t.preventDefault(),t.stopImmediatePropagation(),this.resizeBtnInit(),this.quickToolObj&&this.quickToolObj.videoQTBar.hidePopup(),s.classList.contains("e-rte-topLeft")&&(this.resizeBtnStat.topLeft=!0),s.classList.contains("e-rte-topRight")&&(this.resizeBtnStat.topRight=!0),s.classList.contains("e-rte-botLeft")&&(this.resizeBtnStat.botLeft=!0),s.classList.contains("e-rte-botRight")&&(this.resizeBtnStat.botRight=!0),E.isDevice&&this.contentModule.getEditPanel().contains(this.vidResizeDiv)&&!this.vidResizeDiv.classList.contains("e-mob-span"))L([this.vidResizeDiv],"e-mob-span");else{var r={event:t,requestType:"videos"};this.parent.trigger(Wd,r,function(o){o.cancel&&i.cancelResizeAction()})}this.isResizeBind&&(v.add(this.contentModule.getDocument(),E.touchMoveEvent,this.resizing,this),v.add(this.contentModule.getDocument(),E.touchEndEvent,this.resizeEnd,this),this.isResizeBind=!1)}}},a.prototype.videoClick=function(t){E.isDevice&&(t.target.tagName==="VIDEO"||this.isEmbedVidElem(t.target)?(this.contentModule.getEditPanel().setAttribute("contenteditable","false"),t.target.focus()):this.parent.readonly||this.contentModule.getEditPanel().setAttribute("contenteditable","true")),(t.target.tagName==="VIDEO"||this.isEmbedVidElem(t.target))&&t.preventDefault()},a.prototype.onCutHandler=function(){this.vidResizeDiv&&this.contentModule.getEditPanel().contains(this.vidResizeDiv)&&this.cancelResizeAction()},a.prototype.videoResize=function(t){this.resizeBtnInit(),this.videoEle=t,L([this.videoEle],"e-resize"),this.vidResizeDiv=this.parent.createElement("span",{className:"e-vid-resize",id:this.rteID+"_vidResize"}),this.vidResizeDiv.appendChild(this.parent.createElement("span",{className:"e-rte-videoboxmark e-rte-topLeft",styles:"cursor: nwse-resize"})),this.vidResizeDiv.appendChild(this.parent.createElement("span",{className:"e-rte-videoboxmark e-rte-topRight",styles:"cursor: nesw-resize"})),this.vidResizeDiv.appendChild(this.parent.createElement("span",{className:"e-rte-videoboxmark e-rte-botLeft",styles:"cursor: nesw-resize"})),this.vidResizeDiv.appendChild(this.parent.createElement("span",{className:"e-rte-videoboxmark e-rte-botRight",styles:"cursor: nwse-resize"})),E.isDevice&&L([this.vidResizeDiv],"e-mob-rte"),t.style.outline="2px solid #4a90e2",this.vidResizePos(t,this.vidResizeDiv),this.resizeVidDupPos(t),this.contentModule.getEditPanel().appendChild(this.vidResizeDiv)},a.prototype.getPointX=function(t){return t.touches&&t.touches.length?t.touches[0].pageX:t.pageX},a.prototype.getPointY=function(t){return t.touches&&t.touches.length?t.touches[0].pageY:t.pageY},a.prototype.vidResizePos=function(t,e){if(!h(e)){var i=this.calcPos(t),s=i.top,n=i.left,r=t.width!==0&&t.width!=="auto"&&t.width!=="NaN"?t.width:t.getBoundingClientRect().width,o=t.height!==0&&t.height!=="auto"&&t.height!=="NaN"?t.height:t.getBoundingClientRect().height,l=E.isDevice?4*parseInt(t.style.outline.slice(-3),10)+2:2*parseInt(t.style.outline.slice(-3),10)+2,c=E.isDevice?0:2;e.querySelector(".e-rte-botLeft").style.left=n-l+"px",e.querySelector(".e-rte-botLeft").style.top=parseInt(o.toString(),10)-l+s+"px",e.querySelector(".e-rte-botRight").style.left=parseInt(r.toString(),10)-(l-c)+n+"px",e.querySelector(".e-rte-botRight").style.top=parseInt(o.toString(),10)-l+s+"px",e.querySelector(".e-rte-topRight").style.left=parseInt(r.toString(),10)-(l-c)+n+"px",e.querySelector(".e-rte-topRight").style.top=s-l+"px",e.querySelector(".e-rte-topLeft").style.left=n-l+"px",e.querySelector(".e-rte-topLeft").style.top=s-l+"px"}},a.prototype.calcPos=function(t){for(var e=["TD","TH","TABLE","A"],i={top:0,left:0},s,n=t.ownerDocument,r=(t.offsetParent&&(t.offsetParent.classList.contains("e-video-clickelem")||e.indexOf(t.offsetParent.tagName)>-1)?M(t,"#"+this.parent.getID()+"_rte-edit-view"):t.offsetParent)||n.documentElement;r&&(r===n.body||r===n.documentElement)&&r.style.position==="static";)r=r.parentNode;return r&&r!==t&&r.nodeType===1&&(i=r.getBoundingClientRect()),t&&t.nodeType===1&&t.tagName==="IFRAME"?(s=t.getBoundingClientRect(),{top:s.top-i.top,left:s.left-i.left}):{top:t.offsetTop,left:t.offsetLeft}},a.prototype.setAspectRatio=function(t,e,i,s){var n=getComputedStyle(t);if(!h(n)){var r=RegExp,o=n.width!==""?n.width.match(new r("^\\d+(\\.\\d*)?%$","g"))?parseFloat(n.width):parseInt(n.width,10):t.style.width!==""?t.style.width:t.width,l=n.height!==""?parseInt(n.height,10):t.style.height!==""?t.style.height:t.height;if(o=o.toString().match(new r("\\b\\d+(\\.\\d*)?(%|$)\\b","g"))?parseFloat(o.toString()):parseInt(o.toString(),10),l=l.toString().match(new r("\\b\\d+(\\.\\d*)?(%|$)\\b","g"))?parseFloat(l.toString()):parseInt(l.toString(),10),o>l)if(t.style.minWidth=this.parent.insertVideoSettings.minWidth===0?"200px":X(this.parent.insertVideoSettings.minWidth),t.style.minHeight=this.parent.insertVideoSettings.minHeight===0?"90px":X(this.parent.insertVideoSettings.minHeight),this.parent.insertVideoSettings.resizeByPercent)this.updateVidEleWidth(t,o,l,e,i);else if(t.style.width===""&&t.style.height!==""||n.width===""&&n.height!=="")t.style.height=i+"px";else if(t.style.width!==""&&t.style.height===""||n.width!==""&&n.height===""){var c=o/l*i+o/l<this.parent.inputElement.getBoundingClientRect().right-32?o/l*i+o/l:this.parent.inputElement.getBoundingClientRect().right-32;t.style.width=c.toString()+"px"}else if(t.style.width!==""||n.width!==""){var c=o/l*i<this.parent.inputElement.getBoundingClientRect().right-32?o/l*i:this.parent.inputElement.getBoundingClientRect().right-32;t.style.width=c+"px",t.style.height=i+"px"}else t.setAttribute("width",parseInt((o/l*i+o/l).toString(),10).toString());else l>o?this.parent.insertVideoSettings.resizeByPercent?this.updateVidEleWidth(t,o,l,e,i):n.width!==""||t.style.width!==""?(t.style.width=e+"px",t.style.height=l/o*e+"px"):t.setAttribute("width",this.resizeBtnStat.botRight?(this.getPointX(s.event)-t.getBoundingClientRect().left).toString():e.toString()):this.parent.insertVideoSettings.resizeByPercent?(t.style.width=this.pixToPerc(e,t.previousElementSibling||t.parentElement)+"%",t.style.height=null,t.removeAttribute("height")):(t.style.width=e+"px",t.style.height=e+"px")}},a.prototype.updateVidEleWidth=function(t,e,i,s,n){if(parseInt(""+t.getBoundingClientRect().width,10)!==0&&parseInt(""+e,10)!==0){var r=t.offsetWidth+this.mouseX,o=r/t.offsetWidth*(parseFloat(t.style.width).toString()==="NaN"?t.offsetWidth/parseFloat(getComputedStyle(this.parent.element).width)*100:parseFloat(t.style.width));t.style.width=(o>3?o:3)+"%"}else e>i?t.style.width=this.pixToPerc(e/i*n,t.previousElementSibling||t.parentElement)+"%":t.style.width=this.pixToPerc(s/i*n,t.previousElementSibling||t.parentElement)+"%";t.style.height=null,t.removeAttribute("height")},a.prototype.pixToPerc=function(t,e){return t/parseFloat(getComputedStyle(e).width)*100},a.prototype.vidDupMouseMove=function(t,e,i){var s=this,n={event:i,requestType:"videos"};this.parent.trigger(Qd,n,function(r){if(r.cancel)s.cancelResizeAction();else{if(parseInt(s.parent.insertVideoSettings.minWidth,10)>=parseInt(t,10)||parseInt(s.parent.getInsertVidMaxWidth(),10)<=parseInt(t,10)&&h(s.videoEle.style.width)||!s.parent.insertVideoSettings.resizeByPercent&&(parseInt(s.parent.insertVideoSettings.minHeight,10)>=parseInt(e,10)||parseInt(s.parent.insertVideoSettings.maxHeight,10)<=parseInt(e,10)))return;s.videoEle.parentElement.style.cursor="pointer",s.setAspectRatio(s.videoEle,parseInt(t,10),parseInt(e,10),n),s.resizeVidDupPos(s.videoEle),s.vidResizePos(s.videoEle,s.vidResizeDiv)}})},a.prototype.resizing=function(t){this.videoEle.offsetWidth>=this.parent.getInsertVidMaxWidth()&&(this.videoEle.style.maxHeight=this.videoEle.offsetHeight+"px");var e=this.getPointX(t),i=this.getPointY(t),s=this.resizeBtnStat.botLeft||this.resizeBtnStat.topLeft?-(e-this.pageX):e-this.pageX,n=this.resizeBtnStat.topLeft||this.resizeBtnStat.topRight?-(i-this.pageY):i-this.pageY,r=parseInt(this.vidDupPos.width,10)+s,o=parseInt(this.vidDupPos.height,10)+n;this.pageX=e,this.pageY=i,this.mouseX=s,this.resizeBtnStat.botRight?this.vidDupMouseMove(r+"px",o+"px",t):this.resizeBtnStat.botLeft?this.vidDupMouseMove(r+"px",o+"px",t):this.resizeBtnStat.topRight?this.vidDupMouseMove(r+"px",o+"px",t):this.resizeBtnStat.topLeft&&this.vidDupMouseMove(r+"px",o+"px",t)},a.prototype.cancelResizeAction=function(){this.isResizeBind=!0,v.remove(this.contentModule.getDocument(),E.touchMoveEvent,this.resizing),v.remove(this.contentModule.getDocument(),E.touchEndEvent,this.resizeEnd),this.videoEle&&this.vidResizeDiv&&this.contentModule.getEditPanel().contains(this.vidResizeDiv)&&(N(this.vidResizeDiv),this.videoEle.style.outline="",this.vidResizeDiv=null,this.pageX=null,this.pageY=null)},a.prototype.resizeVidDupPos=function(t){this.vidDupPos={width:t.style.width!==""&&this.parent.insertVideoSettings&&!this.parent.insertVideoSettings.resizeByPercent?this.videoEle.style.width:t.width!=="auto"&&t.width!==0&&t.width!=="NaN"?t.width+"px":parseInt(getComputedStyle(t).width,10)+"px",height:t.style.height!==""?this.videoEle.style.height:t.height!=="auto"&&t.height!==0&&t.height!=="NaN"?t.height+"px":parseInt(getComputedStyle(t).height,10)+"px"}},a.prototype.resizeBtnInit=function(){return this.resizeBtnStat={botLeft:!1,botRight:!1,topRight:!1,topLeft:!1}},a.prototype.onToolbarAction=function(t){vt()&&this.parent.notify(ii,{});var e=t.args.item;switch(e.subCommand){case"VideoReplace":this.parent.notify(ho,t);break;case"VideoRemove":this.parent.notify(Yh,t);break;case"VideoDimension":this.parent.notify(Kh,t)}},a.prototype.onKeyDown=function(t){var e=t.args,i,s,n,r;this.deletedVid=[];var o,l=[27,112,113,114,115,116,117,118,119,120,121,122,123,44,45,9,16,17,18,19,20,33,34,35,36,37,38,39,40,91,92,93,144,145,182,183];if(this.parent.editorMode==="HTML"&&(i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),o=i.startContainer===i.endContainer&&i.startOffset===i.endOffset),!o&&this.parent.editorMode==="HTML"&&l.indexOf(e.which)<0)for(var c=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(i),d=0;d<c.length;d++)(c[d].nodeName==="VIDEO"||c[d].nodeName==="IFRAME")&&this.deletedVid.push(c[d]);if(this.parent.editorMode==="HTML"&&(e.which===8&&e.code==="Backspace"||e.which===46&&e.code==="Delete")){var p=i.startContainer===i.endContainer&&i.startOffset===i.endOffset;e.which===8&&e.code==="Backspace"&&p?this.checkVideoBack(i):e.which===46&&e.code==="Delete"&&p&&this.checkVideoDel(i)}if(!h(this.parent.formatter.editorManager.nodeSelection)&&e.code!=="KeyK"&&(i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),n=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(i),r=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(i),!e.ctrlKey&&e.key&&(e.key.length===1||e.action==="enter")&&(!h(r[0])&&r[0].tagName==="VIDEO"||this.isEmbedVidElem(r[0]))&&r[0].parentElement)){var u=r[0].parentElement.childNodes[0];this.contentModule.getEditPanel().querySelector(".e-vid-resize")&&this.removeResizeEle(),this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(),u,u,u.textContent.length,u.textContent.length),k([r[0]],ui),this.quickToolObj.videoQTBar.hidePopup()}if(e.ctrlKey&&(e.keyCode===89||e.keyCode===90)&&this.undoStack({subCommand:e.keyCode===90?"undo":"redo"}),e.keyCode===8||e.keyCode===46){if(n&&(n[0].nodeName==="VIDEO"||this.isEmbedVidElem(n[0]))&&n.length<1){h(this.parent.formatter.editorManager.nodeSelection)||(s=this.parent.formatter.editorManager.nodeSelection.save(i,this.parent.contentModule.getDocument())),e.preventDefault();var f={selectNode:n,selection:s,selectParent:r,args:{item:{command:"Videos",subCommand:"VideoRemove"},originalEvent:e}};this.deleteVideo(f,e.keyCode)}this.parent.contentModule.getEditPanel().querySelector(".e-vid-resize")&&this.removeResizeEle()}switch(e.code==="Backspace"&&(e.action="backspace"),e.action){case"escape":h(this.dialogObj)||this.dialogObj.close();break;case"backspace":case"delete":for(var d=0;d<this.deletedVid.length;d++){var m=this.deletedVid[d].src;this.videoRemovePost(m)}this.parent.editorMode!=="Markdown"&&(i.startContainer.nodeType===3?e.code==="Backspace"?i.startContainer.previousElementSibling&&i.startOffset===0&&i.startContainer.previousElementSibling.classList.contains(In)&&N(i.startContainer.previousElementSibling):i.startContainer.nextElementSibling&&i.endContainer.textContent.length===i.endOffset&&i.startContainer.nextElementSibling.classList.contains(In)&&N(i.startContainer.nextElementSibling):i.startContainer.nodeType===1&&i.startContainer.classList&&i.startContainer.classList.contains(In)&&N(i.startContainer));break;case"insert-video":h(this.parent.formatter.editorManager.nodeSelection)||(s=this.parent.formatter.editorManager.nodeSelection.save(i,this.parent.contentModule.getDocument())),this.openDialog(!0,e,s,n,r),e.preventDefault();break}e.ctrlKey&&e.key==="a"&&this.handleSelectAll()},a.prototype.handleSelectAll=function(){this.cancelResizeAction();var t=this.parent.inputElement.querySelectorAll("."+ui);k(t,ui)},a.prototype.openDialog=function(t,e,i,s,n){var r,o,l,c;!t&&!h(this.parent.formatter.editorManager.nodeSelection)?(r=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),o=this.parent.formatter.editorManager.nodeSelection.save(r,this.parent.contentModule.getDocument()),l=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(r),c=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(r)):(o=i,l=s,c=n),this.parent.editorMode==="HTML"&&this.insertVideo({args:{item:{command:"Videos",subCommand:"Video"},originalEvent:e,name:t?null:"showDialog"},selectNode:l,selection:o,selectParent:c})},a.prototype.showDialog=function(){this.openDialog(!1)},a.prototype.closeDialog=function(){this.dialogObj&&this.dialogObj.hide({returnValue:!0})},a.prototype.checkVideoBack=function(t){t.startContainer.nodeName==="#text"&&t.startOffset===0&&!h(t.startContainer.previousSibling)&&(t.startContainer.previousSibling.nodeName==="VIDEO"||this.isEmbedVidElem(t.startContainer.previousSibling))?this.deletedVid.push(t.startContainer.previousSibling):t.startContainer.nodeName!=="#text"&&!h(t.startContainer.childNodes[t.startOffset-1])&&(t.startContainer.childNodes[t.startOffset-1].nodeName==="VIDEO"||this.isEmbedVidElem(t.startContainer.childNodes[t.startOffset-1]))&&this.deletedVid.push(t.startContainer.childNodes[t.startOffset-1])},a.prototype.checkVideoDel=function(t){t.startContainer.nodeName==="#text"&&t.startOffset===t.startContainer.textContent.length&&!h(t.startContainer.nextSibling)&&(t.startContainer.nextSibling.nodeName==="VIDEO"||this.isEmbedVidElem(t.startContainer.nextSibling))?this.deletedVid.push(t.startContainer.nextSibling):t.startContainer.nodeName!=="#text"&&!h(t.startContainer.childNodes[t.startOffset])&&(t.startContainer.childNodes[t.startOffset].nodeName==="VIDEO"||this.isEmbedVidElem(t.startContainer.childNodes[t.startOffset]))&&this.deletedVid.push(t.startContainer.childNodes[t.startOffset])},a.prototype.alignmentSelect=function(t){var e=t.item;if(!(!document.body.contains(document.body.querySelector(".e-rte-quick-toolbar"))||e.command!=="Videos")){var i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),s=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(i);s=s[0].nodeName==="VIDEO"?s:[this.videoEle];var n={args:t,selectNode:s};switch(this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData(),e.subCommand){case"JustifyLeft":case"JustifyCenter":case"JustifyRight":this.alignVideo(n,e.subCommand);break;case"Inline":this.inline(n);break;case"Break":this.break(n);break}this.quickToolObj&&document.body.contains(this.quickToolObj.videoQTBar.element)&&(this.quickToolObj.videoQTBar.hidePopup(),k([s[0]],ui)),this.cancelResizeAction()}},a.prototype.deleteVideo=function(t,e){if(!(t.selectNode[0].nodeName!=="VIDEO"&&!this.isEmbedVidElem(t.selectNode[0]))){this.isEmbedVidElem(t.selectNode[0])&&(t.selectNode[0]=t.selectNode[0].classList.contains(wn)?t.selectNode[0]:t.selectNode[0].parentElement);var i={element:this.isEmbedVidElem(t.selectNode[0])?t.selectNode[0]:t.selectNode[0].querySelector("iframe"),src:this.isEmbedVidElem(t.selectNode[0])?t.selectNode[0].querySelector("iframe").getAttribute("src"):t.selectNode[0].querySelector("source").getAttribute("src")};this.parent.formatter.getUndoRedoStack().length===0&&this.parent.formatter.saveData(),t.selection.restore(),this.parent.formatter.process(this.parent,t.args,t.args.originalEvent,{selectNode:t.selectNode,subCommand:t.args.item.subCommand}),this.videoRemovePost(i.src),this.quickToolObj&&document.body.contains(this.quickToolObj.videoQTBar.element)&&this.quickToolObj.videoQTBar.hidePopup(),this.cancelResizeAction(),h(e)&&this.parent.trigger(Oo,i)}},a.prototype.videoRemovePost=function(t){var e=this,i="";if(!(h(this.parent.insertVideoSettings.removeUrl)||this.parent.insertVideoSettings.removeUrl==="")){t.indexOf("http://")>-1||t.indexOf("https://")>-1?i=t:i=new URL(t,document.baseURI).href,this.removingVideoName=i.replace(/^.*[\\\/]/,"");var s=new XMLHttpRequest;s.addEventListener("readystatechange",function(){this.readyState===4&&this.status===200&&e.triggerPost(this.response)}),s.open("GET",i),s.responseType="blob",s.send()}},a.prototype.triggerPost=function(t){var e=this.parent.insertVideoSettings.removeUrl;if(!(h(e)||e==="")){var i=new File([t],this.removingVideoName),s=new ri(e,"POST",!0,null),n=new FormData;n.append("UploadFiles",i),s.send(n)}},a.prototype.onDocumentClick=function(t){var e=t.target;h(this.contentModule.getEditPanel())||((e.nodeName==="VIDEO"||this.isEmbedVidElem(e))&&(this.videoEle=this.isEmbedVidElem(e)?e.querySelector("iframe"):e),!h(this.dialogObj)&&(!M(e,"[id='"+this.dialogObj.element.id+"']")&&this.parent.toolbarSettings.enable&&this.parent.getToolbarElement()&&!this.parent.getToolbarElement().contains(t.target)||this.parent.getToolbarElement()&&this.parent.getToolbarElement().contains(t.target)&&!M(e,"#"+this.parent.getID()+"_toolbar_Video")&&!e.querySelector("#"+this.parent.getID()+"_toolbar_Video"))&&(t.offsetX>t.target.clientWidth||t.offsetY>t.target.clientHeight||(this.parent.notify(Hs,{closedBy:"outside click"}),this.dialogObj.hide({returnValue:!0}),this.parent.isBlur=!0,qs(this.parent.element,"focusout"))),this.contentModule.getEditPanel().querySelector(".e-vid-resize")&&(e.tagName!=="VIDEO"&&!this.isEmbedVidElem(e)&&this.removeResizeEle(),e.tagName!=="VIDEO"&&!this.isEmbedVidElem(e)&&!h(this.videoEle)?this.videoEle.style.outline="":!h(this.prevSelectedVidEle)&&this.prevSelectedVidEle!==(e.tagName==="IFRAME"||e.tagName==="VIDEO"?e:e.querySelector("iframe"))&&(this.prevSelectedVidEle.style.outline="")),this.parent.inlineMode.enable&&e&&this.dialogObj&&!M(e,"#"+this.dialogObj.element.id)&&this.dialogObj.hide())},a.prototype.removeResizeEle=function(){this.isResizeBind=!0,v.remove(this.contentModule.getDocument(),E.touchMoveEvent,this.resizing),v.remove(this.contentModule.getDocument(),E.touchEndEvent,this.resizeEnd),N(this.contentModule.getEditPanel().querySelector(".e-vid-resize"))},a.prototype.onWindowResize=function(){!h(this.contentModule)&&!h(this.contentModule.getEditPanel().querySelector(".e-vid-resize"))&&this.cancelResizeAction()},a.prototype.break=function(t){if(!(t.selectNode[0].nodeName!=="VIDEO"&&!this.isEmbedVidElem(t.selectNode[0]))){var e=t.args.item?t.args.item.subCommand:"Break";this.parent.formatter.process(this.parent,t.args,t.args.originalEvent,{selectNode:t.selectNode,subCommand:e})}},a.prototype.inline=function(t){if(!(t.selectNode[0].nodeName!=="VIDEO"&&!this.isEmbedVidElem(t.selectNode[0]))){var e=t.args.item?t.args.item.subCommand:"Inline";this.parent.formatter.process(this.parent,t.args,t.args.originalEvent,{selectNode:t.selectNode,subCommand:e})}},a.prototype.alignVideo=function(t,e){var i=t.args.item?t.args.item.subCommand:e;this.parent.formatter.process(this.parent,t.args,t.args.originalEvent,{selectNode:t.selectNode,subCommand:i})},a.prototype.editAreaClickHandler=function(t){if(this.parent.readonly){this.hideVideoQuickToolbar();return}var e=t.args,i=this.parent.quickToolbarSettings.showOnRightClick;if(e.which===2||i&&e.which===1||!i&&e.which===3){i&&e.which===1&&!h(e.target)&&(e.target.tagName==="VIDEO"||this.isEmbedVidElem(e.target))&&(this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument()),this.parent.formatter.editorManager.nodeSelection.setSelectionContents(this.contentModule.getDocument(),e.target));return}if(this.parent.editorMode==="HTML"&&this.parent.quickToolbarModule&&this.parent.quickToolbarModule.videoQTBar){this.quickToolObj=this.parent.quickToolbarModule;var s=e.target;this.contentModule=this.rendererFactory.getRenderer(Ce.Content);var n=this.quickToolObj.videoQTBar.element.classList.contains("e-rte-pop");if((s.nodeName==="VIDEO"||this.isEmbedVidElem(s))&&this.parent.quickToolbarModule){if(n)return;this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument()),this.parent.formatter.editorManager.nodeSelection.setSelectionContents(this.contentModule.getDocument(),s),vt()&&this.parent.notify(ti,t),L([this.isEmbedVidElem(s)?s.querySelector("iframe"):s],ui),this.showVideoQuickToolbar({args:e,type:"Videos",elements:[e.target]})}else this.hideVideoQuickToolbar()}},a.prototype.showVideoQuickToolbar=function(t){var e=this;if(!(t.type!=="Videos"||!h(t.args)&&t.args.detail===2||h(this.parent.quickToolbarModule)||h(this.parent.quickToolbarModule.videoQTBar)||h(t.args))){this.quickToolObj=this.parent.quickToolbarModule;var i=t.args,s=t.elements;[].forEach.call(t.elements,function(r,o){o===0&&(s=r)}),(s.tagName==="VIDEO"||this.isEmbedVidElem(s))&&L([!this.isEmbedVidElem(s)||s.tagName==="IFRAME"?s:s.querySelector("iframe")],[ui]);var n=this.parent.iframeSettings.enable?window.pageYOffset+this.parent.element.getBoundingClientRect().top+i.clientY:i.pageY;this.parent.quickToolbarModule.videoQTBar&&(t.isNotify?this.showPopupTime=setTimeout(function(){e.parent.formatter.editorManager.nodeSelection.Clear(e.contentModule.getDocument()),e.parent.formatter.editorManager.nodeSelection.setSelectionContents(e.contentModule.getDocument(),s),e.quickToolObj.videoQTBar.showPopup(i.pageX-50,n+s.getBoundingClientRect().height/2-s.offsetTop,s)},400):this.quickToolObj.videoQTBar.showPopup(i.pageX-50,n+s.getBoundingClientRect().height/2-s.offsetTop,s))}},a.prototype.hideVideoQuickToolbar=function(){h(this.contentModule.getEditPanel().querySelector("."+ui))||(k([this.contentModule.getEditPanel().querySelector("."+ui)],ui),h(this.videoEle)||(this.videoEle.style.outline=""),h(this.contentModule.getEditPanel().querySelector(".e-vid-resize"))||N(this.contentModule.getEditPanel().querySelector(".e-vid-resize")),this.quickToolObj&&this.quickToolObj.videoQTBar&&document.body.contains(this.quickToolObj.videoQTBar.element)&&this.quickToolObj.videoQTBar.hidePopup())},a.prototype.isEmbedVidElem=function(t){return!!(t&&t.nodeType!==3&&t.nodeName!=="BR"&&t.classList&&t.classList.contains(wn)||t&&t.nodeName==="IFRAME")},a.prototype.insertingVideo=function(t){if(this.insertVideo(t),!h(this.dialogObj)){this.dialogObj.element.style.maxHeight="inherit";var e=this.dialogObj.element.querySelector(".e-video-content");!h(this.parent.insertVideoSettings.path)||this.parent.editorMode==="HTML"?document.getElementById(this.rteID+"_insertVideo").focus():e.querySelector(".e-video-url").focus()}},a.prototype.insertVideo=function(t){var e=this;if(this.dialogObj){this.dialogObj.hide({returnValue:!0});return}var i=this.parent.createElement("div",{className:"e-rte-video-dialog",id:this.rteID+"_video"});this.parent.rootContainer.appendChild(i);var s=this.i10n.getConstant("dialogInsert"),n=this.i10n.getConstant("dialogCancel"),r=this.i10n.getConstant("videoHeader"),o=t.selection,l={selfVideo:this,selection:t.selection,args:t.args,selectParent:t.selectParent},c={header:r,cssClass:rt,enableRtl:this.parent.enableRtl,locale:this.parent.locale,showCloseIcon:!0,closeOnEscape:!0,width:E.isDevice?"290px":"340px",isModal:E.isDevice,buttons:[{click:this.insertVideoUrl.bind(l),buttonModel:{content:s,cssClass:"e-flat e-insertVideo",isPrimary:!0,disabled:!0}},{click:function(g){e.cancelDialog(g)},buttonModel:{cssClass:"e-flat e-cancel",content:n}}],target:E.isDevice?document.body:this.parent.element,animationSettings:{effect:"None"},close:function(g){e.isVideoUploaded&&(e.dialogObj.element.querySelector(".e-file-abort-btn")?e.dialogObj.element.querySelector(".e-file-abort-btn").click():e.uploadObj.remove()),e.parent.isBlur=!1,g&&!h(g.event)&&g.event.returnValue&&e.parent.editorMode==="HTML"&&o.restore(),e.clearDialogObj(),e.dialogRenderObj.close(g)}},d=this.parent.createElement("div",{className:"e-video-content"});(!h(this.parent.insertVideoSettings.path)||this.parent.editorMode==="HTML")&&d.appendChild(this.videoUpload(t));var p=this.parent.createElement("div",{className:"e-videoheader"}),u=this.parent.createElement("div",{className:"e-embed-videoheader"}),f=this.i10n.getConstant("videoLinkHeader"),m=this.i10n.getConstant("embedVideoLinkHeader");this.parent.editorMode==="HTML"&&(p.innerHTML=f,u.innerHTML=m),d.appendChild(this.urlPopup(t)),t.selectNode&&t.selectNode[0].nodeType===1&&(t.selectNode[0].tagName==="VIDEO"||this.isEmbedVidElem(t.selectNode[0]))&&(c.header=this.parent.localeObj.getConstant("editVideoHeader")),c.content=d,this.dialogObj=this.dialogRenderObj.render(c),this.dialogObj.createElement=this.parent.createElement,this.dialogObj.appendTo(i),t.selectNode&&t.selectNode[0].nodeType===1&&(t.selectNode[0].tagName==="VIDEO"||this.isEmbedVidElem(t.selectNode[0]))&&t.name==="insertVideo"&&(this.dialogObj.element.querySelector(".e-insertVideo").textContent=this.parent.localeObj.getConstant("dialogUpdate")),i.style.maxHeight="inherit",this.quickToolObj&&(this.quickToolObj.videoQTBar&&document.body.contains(this.quickToolObj.videoQTBar.element)&&(this.quickToolObj.videoQTBar.hidePopup(),h(t.selectParent)||k([t.selectParent[0]],ui)),this.quickToolObj.inlineQTBar&&document.body.contains(this.quickToolObj.inlineQTBar.element)&&this.quickToolObj.inlineQTBar.hidePopup(),this.quickToolObj.textQTBar&&this.parent.element.ownerDocument.body.contains(this.quickToolObj.textQTBar.element)&&this.quickToolObj.textQTBar.hidePopup())},a.prototype.urlPopup=function(t){var e=this,i=this.parent.createElement("div",{className:"e-video-url-wrap"}),s=this.parent.createElement("div",{id:"urlcontent"}),n=this.i10n.getConstant("videoUrl"),r='<input id="embedURL" type="radio"><input id="webURL" type="radio" >',o=Es(r);if(i.appendChild(o),i.appendChild(s),this.embedInputUrl=this.parent.createElement("textarea",{className:"e-input e-embed-video-url",attrs:{placeholder:this.i10n.getConstant("pasteEmbeddedCodeHere"),type:"text",tabindex:"-1","aria-label":this.i10n.getConstant("embedVideoLinkHeader")}}),this.embedInputUrl.addEventListener("keyup",function(){h(e.embedInputUrl)||(e.embedInputUrl.value.length===0?e.dialogObj.getButtons(0).element.disabled=!0:e.dialogObj.getButtons(0).element.removeAttribute("disabled"))}),this.inputUrl=this.parent.createElement("input",{className:"e-input e-video-url",attrs:{placeholder:n,spellcheck:"false"}}),this.inputUrl.addEventListener("input",function(){h(e.inputUrl)||(e.inputUrl.value.length===0?e.dialogObj.getButtons(0).element.disabled=!0:e.dialogObj.getButtons(0).element.removeAttribute("disabled"))}),t.selectNode&&t.selectNode[0]&&(t.selectNode[0].nodeName==="VIDEO"||this.isEmbedVidElem(t.selectNode[0])))if(t.selectNode[0].nodeName==="VIDEO"){var l=new RegExp(/([^\S]|^)(((https?:\/\/)|(www\.))(\S+))/gi),c=t.selectNode[0].querySelector("source");this.inputUrl.value=c&&c.src&&c.src.match(l)?c.src:""}else this.embedInputUrl.value=t.selectNode[0].nodeName==="IFRAME"?t.selectNode[0].outerHTML:t.selectNode[0].querySelector("iframe").outerHTML;var d=!!this.inputUrl.value;return this.embedUrlBtn=new nn({label:this.i10n.getConstant("embeddedCode"),checked:!d,name:"URL",created:function(){d||s.appendChild(e.embedInputUrl)},change:function(){s.innerHTML="",s.appendChild(e.embedInputUrl)}}),this.embedUrlBtn.appendTo(i.querySelector("#embedURL")),this.webUrlBtn=new nn({label:this.i10n.getConstant("webUrl"),checked:d,name:"URL",created:function(){d&&s.appendChild(e.inputUrl)},change:function(){s.innerHTML="",s.appendChild(e.inputUrl)}}),this.webUrlBtn.appendTo(i.querySelector("#webURL")),i},a.prototype.videoUpload=function(t){var e=this,i,s,n=this,r=n.parent.iframeSettings.enable;if(n.parent.editorMode==="HTML"&&(!r&&h(M(t.selection.range.startContainer.parentNode,"[id='"+this.parent.contentModule.getPanel().id+"']"))||r&&!Qe(t.selection.range.startContainer.parentNode.ownerDocument.querySelector("body"),"e-lib"))){this.contentModule.getEditPanel().focus();var o=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());i=this.parent.formatter.editorManager.nodeSelection.save(o,this.parent.contentModule.getDocument()),s=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(o)}else i=t.selection,s=t.selectParent;var l=this.parent.createElement("div",{className:"e-vid-uploadwrap e-droparea"}),c=this.i10n.getConstant("videoDeviceUploadMessage"),d=this.i10n.getConstant("videoUploadMessage"),p=this.parent.createElement("span",{className:"e-droptext"}),u=this.parent.createElement("span",{className:"e-rte-upload-text",innerHTML:E.isDevice?c:d});p.appendChild(u);var f=this.parent.createElement("button",{className:"e-browsebtn",id:this.rteID+"_insertVideo",attrs:{autofocus:"true",type:"button"}});p.appendChild(f),l.appendChild(p);var m=this.i10n.getConstant("browse");this.button=new Vt({content:m,enableRtl:this.parent.enableRtl}),this.button.isStringTemplate=!0,this.button.createElement=this.parent.createElement,this.button.appendTo(f);var g=E.isDevice?p:f;v.add(g,"click",this.fileSelect,this);var b=this.parent.createElement("input",{id:this.rteID+"_upload",attrs:{type:"File",name:"UploadFiles"}});l.appendChild(b);var S,T,I;return this.uploadObj=new bn({asyncSettings:{saveUrl:this.parent.insertVideoSettings.saveUrl,removeUrl:this.parent.insertVideoSettings.removeUrl},dropArea:p,multiple:!1,enableRtl:this.parent.enableRtl,allowedExtensions:this.parent.insertVideoSettings.allowedTypes.toString(),selected:function(w){n.isVideoUploaded=!0,T=w,I=w.filesData,e.parent.trigger(Mg,T,function(x){if(!x.cancel&&(e.checkExtension(x.filesData[0]),S=x.filesData[0].name,e.parent.editorMode==="HTML"&&h(e.parent.insertVideoSettings.path))){var A=new FileReader;A.addEventListener("load",function(q){var F=e.parent.insertVideoSettings.saveFormat==="Base64"?A.result:URL.createObjectURL(Dn(A.result));n.uploadUrl={url:F,selection:i,fileName:S,selectParent:s},n.inputUrl.setAttribute("disabled","true"),n.embedInputUrl.setAttribute("disabled","true"),h(n.parent.insertVideoSettings.saveUrl)&&e.isAllowedTypes&&!h(e.dialogObj)&&e.dialogObj.getButtons(0).element.removeAttribute("disabled")}),A.readAsDataURL(x.filesData[0].rawFile)}})},beforeUpload:function(w){e.parent.trigger(Ig,w)},uploading:function(w){e.parent.isServerRendered||e.parent.trigger(Sg,w)},success:function(w){e.parent.trigger(Eg,w,function(x){if(!h(e.parent.insertVideoSettings.path)){var A=e.parent.insertVideoSettings.path+x.file.name;n.uploadUrl={url:A,selection:i,fileName:S,selectParent:s,width:{width:n.parent.insertVideoSettings.width,minWidth:n.parent.insertVideoSettings.minWidth,maxWidth:n.parent.getInsertImgMaxWidth()},height:{height:n.parent.insertVideoSettings.height,minHeight:n.parent.insertVideoSettings.minHeight,maxHeight:n.parent.insertVideoSettings.maxHeight}},n.embedInputUrl.setAttribute("disabled","true")}x.operation==="upload"&&!h(e.dialogObj)&&e.dialogObj.getButtons(0).element.removeAttribute("disabled")})},failure:function(w){e.parent.trigger(Tg,w)},removing:function(){e.parent.trigger(Ng,t,function(w){n.isVideoUploaded=!1,e.dialogObj.getButtons(0).element.disabled=!0,n.inputUrl.getAttribute("disabled")&&n.inputUrl.removeAttribute("disabled"),n.embedInputUrl.getAttribute("disabled")&&n.embedInputUrl.removeAttribute("disabled"),n.uploadUrl&&(n.uploadUrl.url="")})}}),this.uploadObj.isStringTemplate=!0,this.uploadObj.createElement=this.parent.createElement,this.uploadObj.appendTo(b),l},a.prototype.checkExtension=function(t){this.uploadObj.allowedExtensions&&(this.uploadObj.allowedExtensions.toLocaleLowerCase().indexOf(("."+t.type).toLocaleLowerCase())===-1?(this.dialogObj.getButtons(0).element.setAttribute("disabled","disabled"),this.isAllowedTypes=!1):this.isAllowedTypes=!0)},a.prototype.fileSelect=function(){return this.dialogObj.element.getElementsByClassName("e-file-select-wrap")[0].querySelector("button").click(),!1},a.prototype.cancelDialog=function(t){this.parent.isBlur=!1,this.dialogObj.hide({returnValue:!0}),this.isVideoUploaded&&this.uploadObj.removing()},a.prototype.insertVideoUrl=function(t){var e=this.selfVideo;e.isVideoUploaded=!1;var i=e.inputUrl.value,s=e.embedInputUrl.value;if(e.parent.formatter.getUndoRedoStack().length===0&&e.parent.formatter.saveData(),!h(e.uploadUrl)&&e.uploadUrl.url!=="")e.uploadUrl.cssClass=e.parent.insertVideoSettings.layoutOption==="Inline"?nd:Gm,e.uploadUrl.width={width:e.parent.insertVideoSettings.width,minWidth:e.parent.insertVideoSettings.minWidth,maxWidth:e.parent.getInsertImgMaxWidth()},e.uploadUrl.height={height:e.parent.insertVideoSettings.height,minHeight:e.parent.insertVideoSettings.minHeight,maxHeight:e.parent.insertVideoSettings.maxHeight},e.dialogObj.hide({returnValue:!1}),e.parent.formatter.process(e.parent,this.args,this.args.originalEvent,e.uploadUrl),e.uploadUrl.url="";else if(e.parent.editorMode==="HTML"&&(i!==""||s!=="")){if(e.parent.editorMode==="HTML"&&h(M(this.selection.range.startContainer.parentNode,"[id='"+e.contentModule.getPanel().id+"']"))){e.contentModule.getEditPanel().focus();var n=e.parent.formatter.editorManager.nodeSelection.getRange(e.contentModule.getDocument());this.selection=e.parent.formatter.editorManager.nodeSelection.save(n,e.contentModule.getDocument()),this.selectParent=e.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(n)}var r=document.getElementById("webURL"),o=r.checked?i.split("/")[i.split("/").length-1]:s,l={cssClass:e.parent.insertVideoSettings.layoutOption==="Inline"?nd:Gm,url:i,selection:this.selection,fileName:o,isEmbedUrl:!r.checked,selectParent:this.selectParent,width:{width:e.parent.insertVideoSettings.width,minWidth:e.parent.insertVideoSettings.minWidth,maxWidth:e.parent.getInsertImgMaxWidth()},height:{height:e.parent.insertVideoSettings.height,minHeight:e.parent.insertVideoSettings.minHeight,maxHeight:e.parent.insertVideoSettings.maxHeight}};e.parent.formatter.process(e.parent,this.args,this.args.originalEvent,l),e.dialogObj.hide({returnValue:!1})}},a.prototype.destroy=function(){this.isDestroyed||(this.prevSelectedVidEle=void 0,this.removeEventListener(),this.showPopupTime&&(clearTimeout(this.showPopupTime),this.showPopupTime=null),this.clearDialogObj(),this.isDestroyed=!0)},a.prototype.getModuleName=function(){return"video"},a}(),xd="keydown",kd="action",Ad="format-type",at="keydown-handler",jd="list-type",Us="keyup-handler",Nn="keyup",Vr="model_changed_plugin",Bo="model_changed",Rd="ms_word_cleanup_plugin",zd="ms_word_cleanup",Pd="onBegin",Bd="actionBegin",Hd="format_painter_actions",JM="blockquote_list_handled",Fd="emoji_picker_actions",cg="mouseDown",dg="destroy",Ie="internal_destroy",ZM=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),io=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},eS={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222,"]":221,"[":219,"=":187,"<":188,">":190},Ud=function(a){ZM(t,a);function t(i,s){var n=a.call(this,s,i)||this;return n.keyPressHandler=function(r){for(var o=r.altKey,l=r.ctrlKey,c=r.shiftKey,d=r.metaKey,p=r.which,u=Object.keys(n.keyConfigs),f=0,m=u;f<m.length;f++)for(var g=m[f],b=n.keyConfigs[""+g].split(","),S=0,T=b;S<T.length;S++){var I=T[S],w=e.getKeyConfigData(I.trim());o===w.altKey&&(l===w.ctrlKey||d)&&c===w.shiftKey&&p===w.keyCode&&(r.action=g)}n.keyAction&&n.keyAction(r)},n.bind(),n}e=t,t.prototype.destroy=function(){this.unwireEvents(),a.prototype.destroy.call(this)},t.prototype.onPropertyChanged=function(i,s){},t.prototype.bind=function(){this.wireEvents()},t.prototype.getModuleName=function(){return"keyboard"},t.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},t.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},t.getKeyConfigData=function(i){if(i in this.configCache)return this.configCache[""+i];var s=i.toLowerCase().split("+"),n={altKey:s.indexOf("alt")!==-1,ctrlKey:s.indexOf("ctrl")!==-1,shiftKey:s.indexOf("shift")!==-1,keyCode:null};return s[s.length-1].length>1&&Number(s[s.length-1])?n.keyCode=Number(s[s.length-1]):n.keyCode=e.getKeyCode(s[s.length-1]),e.configCache[""+i]=n,n},t.getKeyCode=function(i){return eS[""+i]||i.toUpperCase().charCodeAt(0)};var e;return t.configCache={},io([y({})],t.prototype,"keyConfigs",void 0),io([y("keyup")],t.prototype,"eventName",void 0),io([z()],t.prototype,"keyAction",void 0),t=e=io([ke],t),t}(Wi),tS=function(){function a(t,e){this.parent=t;var i=e;this.rendererFactory=i.getService("rendererFactory"),this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.on(Do,this.sourceCode,this),this.parent.on(Ct,this.onInitialEnd,this),this.parent.on(Nc,this.updateSourceCode,this),this.parent.on(Ee,this.destroy,this),this.parent.on(ni,this.moduleDestroy,this)},a.prototype.onInitialEnd=function(){this.parent.formatter.editorManager.observer.on(at,this.onKeyDown,this)},a.prototype.removeEventListener=function(){this.unWireEvent(),this.parent.off(Do,this.sourceCode),this.parent.off(Nc,this.updateSourceCode),this.parent.off(Ct,this.onInitialEnd),this.parent.off(Ee,this.destroy),this.parent.off(ni,this.moduleDestroy),this.parent.formatter.editorManager.observer.off(at,this.onKeyDown)},a.prototype.getSourceCode=function(){return this.parent.createElement("textarea",{className:Bs+this.parent.getCssClass(!0)})},a.prototype.wireEvent=function(t){this.keyboardModule=new Ud(t,{keyAction:this.previewKeyDown.bind(this),keyConfigs:this.parent.formatter.keyConfig,eventName:"keydown"}),v.add(this.previewElement,"mousedown",this.mouseDownHandler,this)},a.prototype.unWireEvent=function(){this.previewElement&&v.remove(this.previewElement,"mousedown",this.mouseDownHandler),this.keyboardModule&&!this.keyboardModule.isDestroyed&&this.keyboardModule.destroy()},a.prototype.wireBaseKeyDown=function(){this.parent.keyboardModule=new Ud(this.contentModule.getEditPanel(),{keyAction:this.parent.keyDown.bind(this.parent),keyConfigs:this.parent.formatter.keyConfig,eventName:"keydown"})},a.prototype.unWireBaseKeyDown=function(){this.parent.keyboardModule.destroy()},a.prototype.mouseDownHandler=function(t){this.parent.notify(Pr,{args:t})},a.prototype.previewKeyDown=function(t){switch(t.action){case"html-source":this.updateSourceCode(t),t.preventDefault();break;case"toolbar-focus":if(this.parent.toolbarSettings.enable&&this.parent.getToolbarElement()){var e=this.parent.getToolbarElement().querySelector(".e-toolbar-item:not(.e-overlay)[title]");e.firstElementChild.removeAttribute("tabindex"),e.firstElementChild.focus()}break}},a.prototype.onKeyDown=function(t){switch(t.event.action){case"html-source":t.event.preventDefault(),this.sourceCode(t),t.callBack({requestType:"SourceCode",editorMode:"HTML",event:t.event});break}},a.prototype.sourceCode=function(t){var e=this;this.parent.notify(Kc,{}),this.parent.isBlur=!1,this.parent.trigger(bt,{requestType:"SourceCode",targetItem:"SourceCode",args:t,cancel:!1},function(i){if(!i.cancel){var s=ce("."+Ss,e.parent.element);e.contentModule=e.rendererFactory.getRenderer(Ce.Content);var n=e.parent.inputElement.getBoundingClientRect().height;e.parent.rootContainer.classList.add("e-source-code-enabled"),e.parent.notify(Dr,{targetItem:"SourceCode",updateItem:"Preview",baseToolbar:e.parent.getBaseToolbarObject()}),h(e.previewElement)&&(e.previewElement=e.getSourceCode()),e.parent.updateValueData();var r=void 0;h(e.parent.element.querySelector("#"+e.parent.getID()+"_source-view"))?r=e.parent.createElement("div",{className:"e-source-content",id:e.parent.getID()+"_source-view",attrs:{style:"height:"+n+"px"}}):(r=e.parent.element.querySelector("#"+e.parent.getID()+"_source-view"),r.style.height=n+"px"),r.appendChild(e.previewElement),e.parent.rootContainer.appendChild(r),e.getPanel().value=e.getTextAreaValue(),e.parent.isBlur=!1,e.parent.disableToolbarItem(e.parent.toolbarSettings.items),e.parent.enableToolbarItem("SourceCode"),e.parent.getToolbar()&&k([e.parent.getToolbar()],[rd]),k(s,[zs]),e.wireEvent(e.previewElement),e.unWireBaseKeyDown(),e.previewElement.focus(),e.parent.updateValue(),e.parent.trigger(vi,{requestType:"SourceCode",targetItem:"SourceCode",args:t}),e.parent.invokeChangeEvent(),!h(e.parent.saveInterval)&&e.parent.saveInterval>0&&e.parent.autoSaveOnIdle&&(e.codeViewTimeInterval=setInterval(function(){e.parent.notify(Zc,{})},e.parent.saveInterval))}})},a.prototype.updateSourceCode=function(t){var e=this;this.parent.isBlur=!1,this.parent.trigger(bt,{requestType:"Preview",targetItem:"Preview",args:t,cancel:!1},function(i){if(!i.cancel){e.parent.rootContainer.classList.remove("e-source-code-enabled");var s=e.getPanel();e.parent.notify(Dr,{targetItem:"Preview",updateItem:"SourceCode",baseToolbar:e.parent.getBaseToolbarObject()});var n=e.parent.serializeValue(s.value),r=void 0;n===null||n===""?e.parent.enterKey==="DIV"?r="<div><br/></div>":e.parent.enterKey==="BR"?r="<br/>":r="<p><br/></p>":r=n,e.contentModule.getEditPanel().innerHTML=r,e.parent.isBlur=!1,e.parent.enableToolbarItem(e.parent.toolbarSettings.items),e.parent.getToolbar()&&k([e.parent.getToolbar()],[rd]),e.unWireEvent(),e.wireBaseKeyDown(),e.contentModule.getEditPanel().focus(),e.parent.updateValue(),e.parent.trigger(vi,{requestType:"Preview",targetItem:"Preview",args:t}),e.parent.formatter.enableUndo(e.parent),e.parent.addAudioVideoWrapper(),clearTimeout(e.codeViewTimeInterval),e.parent.invokeChangeEvent(),e.parent.notify(jr,{})}})},a.prototype.getTextAreaValue=function(){return this.contentModule.getEditPanel().innerHTML==="<p><br></p>"||this.contentModule.getEditPanel().innerHTML==="<div><br></div>"||this.contentModule.getEditPanel().innerHTML==="<br>"||this.contentModule.getEditPanel().childNodes.length===1&&this.contentModule.getEditPanel().childNodes[0].tagName==="P"&&this.contentModule.getEditPanel().innerHTML.length===7||this.contentModule.getEditPanel().childNodes[0].tagName==="DIV"&&this.contentModule.getEditPanel().innerHTML.length===11?"":this.parent.value},a.prototype.getPanel=function(){return this.parent.element&&this.parent.element.querySelector(".e-rte-srctextarea")},a.prototype.destroy=function(){h(this.parent)||this.removeEventListener()},a.prototype.moduleDestroy=function(){this.parent=null},a}(),Vg=function(){function a(t,e){this.ensureInsideTableList=!0,this.pageX=null,this.pageY=null,this.moveEle=null,this.currentColumnResize="",this.resizeEndTime=0,this.isTableMoveActive=!1,this.isResizeBind=!0,this.parent=t,this.rteID=t.element.id,this.l10n=e.getService("rteLocale"),this.rendererFactory=e.getService("rendererFactory"),this.dialogRenderObj=e.getService("dialogRenderObject"),this.addEventListener(),this.isDestroyed=!1}return a.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(wc,this.renderDlgContent,this),this.parent.on(Ct,this.afterRender,this),this.parent.on(ss,this.afterRender,this),this.parent.on(Gc,this.showDialog,this),this.parent.on(Xc,this.closeDialog,this),this.parent.on(Hr,this.docClick,this),this.parent.on(wt,this.onIframeMouseDown,this),this.parent.on(si,this.editAreaClickHandler,this),this.parent.on(is,this.clearDialogObj,this),this.parent.on(Oc,this.onToolbarAction,this),this.parent.on(gi,this.dropdownSelect,this),this.parent.on(pt,this.keyDown,this),this.parent.on(Ht,this.keyUp,this),this.parent.on(Rr,this.selectionTable,this),this.parent.on(mc,this.tableModulekeyUp,this),this.parent.on(ot,this.setCssClass,this),this.parent.on(Ee,this.destroy,this),this.parent.on(ni,this.moduleDestroy,this),this.parent.on(Jc,this.afterKeyDown,this))},a.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(wc,this.renderDlgContent),this.parent.off(Ct,this.afterRender),this.parent.off(ss,this.afterRender),this.parent.off(Hr,this.docClick),this.parent.off(wt,this.onIframeMouseDown),this.parent.off(Gc,this.showDialog),this.parent.off(Xc,this.closeDialog),this.parent.off(si,this.editAreaClickHandler),this.parent.off(is,this.clearDialogObj),this.parent.off(Oc,this.onToolbarAction),this.parent.off(gi,this.dropdownSelect),this.parent.off(_t,this.cellSelect),this.parent.off(wr,this.setBGColor),this.parent.off(pt,this.keyDown),this.parent.off(Ht,this.keyUp),this.parent.off(Rr,this.selectionTable),this.parent.off(mc,this.tableModulekeyUp),this.parent.off(ot,this.setCssClass),this.parent.off(Ee,this.destroy),this.parent.off(ni,this.moduleDestroy),this.parent.off(Jc,this.afterKeyDown),!E.isDevice&&this.parent.tableSettings.resize&&(v.remove(this.contentModule.getEditPanel(),"mouseover",this.resizeHelper),v.remove(this.contentModule.getEditPanel(),E.touchStartEvent,this.resizeStart)))},a.prototype.updateCss=function(t,e){t&&e.cssClass&&(h(e.oldCssClass)?t.setProperties({cssClass:(t.cssClass+" "+e.cssClass).trim()}):t.setProperties({cssClass:(t.cssClass.replace(e.oldCssClass,"").trim()+" "+e.cssClass).trim()}))},a.prototype.setCssClass=function(t){this.popupObj&&t.cssClass&&(h(t.oldCssClass)?L([this.popupObj.element],t.cssClass):(Ue([this.popupObj.element],t.oldCssClass),L([this.popupObj.element],t.cssClass))),this.updateCss(this.createTableButton,t),this.updateCss(this.editdlgObj,t);for(var e=[this.columnTextBox,this.rowTextBox,this.tableWidthNum,this.tableCellPadding,this.tableCellSpacing],i=0;i<e.length;i++)this.updateCss(e[i],t)},a.prototype.selectionTable=function(t){var e=t.args.target;E.info.name==="mozilla"&&!h(M(e,"table"))&&M(e,"table").tagName==="TABLE"&&this.parent.contentModule.getEditPanel().setAttribute("contenteditable","true")},a.prototype.afterRender=function(){h(this.contentModule)&&(this.contentModule=this.rendererFactory.getRenderer(Ce.Content),this.parent.on(wr,this.setBGColor,this),this.parent.on(_t,this.cellSelect,this),this.parent.tableSettings.resize&&v.add(this.parent.contentModule.getEditPanel(),E.touchStartEvent,this.resizeStart,this),!E.isDevice&&this.parent.tableSettings.resize&&v.add(this.contentModule.getEditPanel(),"mouseover",this.resizeHelper,this))},a.prototype.dropdownSelect=function(t){var e=t.item;if(!(!document.body.contains(document.body.querySelector(".e-rte-quick-toolbar"))||e.command!=="Table")){var i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),s={args:t,selection:this.parent.formatter.editorManager.nodeSelection.save(i,this.contentModule.getDocument()),selectParent:this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(i)};switch(e.subCommand){case"InsertRowBefore":case"InsertRowAfter":this.addRow(s.selection,t);break;case"InsertColumnLeft":case"InsertColumnRight":this.addColumn(s.selection,t);break;case"DeleteColumn":case"DeleteRow":this.removeRowColumn(s.selection,t);break;case"AlignTop":case"AlignMiddle":case"AlignBottom":this.verticalAlign(s,t);break;case"Dashed":case"Alternate":case"Custom":this.tableStyles(s,e.subCommand);break;case"Merge":case"VerticalSplit":case"HorizontalSplit":this.UpdateCells(s.selection,t);break}}},a.prototype.UpdateCells=function(t,e){this.parent.formatter.process(this.parent,e,e,{selection:t,subCommand:e.item.subCommand}),this.hideTableQuickToolbar()},a.prototype.keyUp=function(t){var e=t.args.target;if(t.args.key.toLocaleLowerCase()==="escape"&&e&&e.classList&&this.popupObj&&!M(e,"[id='"+this.popupObj.element.id+"']")&&this.popupObj){var i=this.popupObj.relateTo;i.nodeName!=="BUTTON"&&(i=i.querySelector("span.e-create-table"),i=i.parentElement),this.popupObj.hide(),i&&i.focus()}},a.prototype.keyDown=function(t){var e=t.args,i=this;switch(e.action){case"escape":break;case"insert-table":this.openDialog(!0,t),e.preventDefault();break}if(!h(this.parent.formatter.editorManager.nodeSelection)&&this.contentModule&&e.code!=="KeyK"){var s=void 0,n=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),r=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(n)[0];if(r=r&&r.tagName!=="TD"&&r.tagName!=="TH"?r.parentElement:r,(e.keyCode===8||e.keyCode===46||e.ctrlKey&&e.keyCode===88)&&(r&&r.tagName==="TBODY"?(!h(this.parent.formatter.editorManager.nodeSelection)&&this.contentModule&&(s=this.parent.formatter.editorManager.nodeSelection.save(n,this.contentModule.getDocument())),e.preventDefault(),i.removeTable(s,e,!0)):r&&r.querySelectorAll("table").length>0&&(this.removeResizeElement(),this.hideTableQuickToolbar())),r&&r.tagName!=="TD"&&r.tagName!=="TH"){var o=M(r,"td");r=!h(o)&&this.parent.inputElement.contains(o)?o:r}if(r&&(r.tagName==="TD"||r.tagName==="TH")){var l=this.contentModule.getEditPanel().querySelectorAll(".e-cell-select-end");if((h(this.activeCell)||this.activeCell!==r)&&!h(l)&&l.length===0&&(this.activeCell=r),!h(this.parent.formatter.editorManager.nodeSelection)&&this.contentModule&&(s=this.parent.formatter.editorManager.nodeSelection.save(n,this.contentModule.getDocument())),!e.shiftKey||e.shiftKey&&e.keyCode===9)switch(e.keyCode){case 9:case 37:case 39:this.removeCellSelectClasses(),i.tabSelection(e,s,r);break;case 40:case 38:this.removeCellSelectClasses(),i.tableArrowNavigation(e,s,r);break}}}if(e.shiftKey&&(e.keyCode===39||e.keyCode===37||e.keyCode===38||e.keyCode===40)&&(this.keyDownEventInstance=e,v.add(this.parent.contentModule.getDocument(),"selectionchange",this.tableCellsKeyboardSelection,this)),e.ctrlKey&&e.key==="a"&&this.handleSelectAll(),e.code==="Delete"&&e.which===46||e.code==="Backspace"&&e.which===8){var n=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument());if(n.startContainer.nodeType===Node.ELEMENT_NODE&&n.startContainer.nodeName==="DIV"&&n.startContainer.classList.contains("e-table-fake-selection"))this.deleteTable(),e.preventDefault();else{var c=e.code==="Delete"&&e.which===46?this.getAdjacentTableElement(n,!0):this.getAdjacentTableElement(n,!1);c&&(this.updateTableSelection(c),e.preventDefault())}}else{var d=e.shiftKey&&e.key==="Enter",p=vM.indexOf(e.key)!==-1;if(d||p||e.key&&e.key.length===1){var c=this.parent.contentModule.getEditPanel().querySelector("table.e-cell-select");if(c)if(e.keyCode===39||e.keyCode===37)this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.contentModule.getDocument(),c,0);else{var u=c.querySelector("tr").cells[0];this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(),u,u,0,0)}this.removeTableSelection()}}},a.prototype.tableCellsKeyboardSelection=function(t){v.remove(this.parent.contentModule.getDocument(),"selectionchange",this.tableCellsKeyboardSelection);var e=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),i=this.keyDownEventInstance,s=!h(e)&&!h(e.commonAncestorContainer)&&e.commonAncestorContainer.nodeType===Node.ELEMENT_NODE&&(e.commonAncestorContainer.tagName==="TR"||e.commonAncestorContainer.tagName==="TBODY")&&!h(this.activeCell),n=this.contentModule.getEditPanel().querySelectorAll(".e-cell-select-end");if(!h(n)&&n.length>0&&(this.parent.formatter.editorManager.nodeSelection.Clear(this.parent.contentModule.getDocument()),this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.parent.contentModule.getDocument(),n[0],n[0],0,0),this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),n[0],0)),s||!h(n)&&n.length>0){var r=this.getCorrespondingColumns(),o=!h(n)&&n.length>0?n[0]:this.activeCell,l=this.getCorrespondingIndex(o,r),c=l[0],d=l[1],p=void 0;i.keyCode===39?d<r[0].length-1?p=r[c][d+1]:c<r.length-1?(p=r[c+1][d],n.length===0&&c<r.length-1&&(this.activeCell=r[c][0])):this.resetTableSelection():i.keyCode===37?0<d?p=r[c][d-1]:0<c?(p=r[c-1][d],n.length===0&&0<c&&(this.activeCell=r[c][r[c].length-1])):this.resetTableSelection():i.keyCode===38?0<c?p=r[c-1][d]:this.resetTableSelection():i.keyCode===40&&(c<r.length-1?p=r[c+1][d]:this.resetTableSelection()),p&&this.parent.formatter.editorManager.observer.notify("TABLE_MOVE",{event:{target:p},selectNode:[this.activeCell]})}n.length>0&&(i.preventDefault(),t.preventDefault())},a.prototype.resetTableSelection=function(){var t=this.contentModule.getEditPanel().querySelectorAll(".e-cell-select-end");!h(t)&&t.length>0&&this.parent.formatter.editorManager.nodeSelection.setSelectionNode(this.parent.contentModule.getDocument(),this.curTable),this.activeCell=null,this.removeCellSelectClasses(),this.removeTableSelection()},a.prototype.getCorrespondingColumns=function(){for(var t=[],e=0,i=this.curTable.rows,s=0;s<=i.length-1;s++)for(var n=i[s],r=0,o=0;o<=n.children.length-1;o++){for(var l=n.children[o],c=l,d=parseInt(c.getAttribute("colspan"),10)||1,p=parseInt(c.getAttribute("rowspan"),10)||1,u=s;u<s+p;u++)for(var f=r;f<r+d;f++)t[u]||(t[u]=[]),t[u][f]?r++:t[u][f]=l;r+=e}return t},a.prototype.getCorrespondingIndex=function(t,e){for(var i=0;i<e.length;i++)for(var s=0;s<e[i].length;s++)if(e[i][s]===t)return[i,s];return[]},a.prototype.getAdjacentTableElement=function(t,e){if(!t.collapsed||!e&&this.quickToolObj&&this.quickToolObj.tableQTBar&&document.body.contains(this.quickToolObj.tableQTBar.element))return null;var i=this.getNodeCollection(t),s=t.collapsed&&this.parent.contentModule.getEditPanel()===t.startContainer&&i&&i.length>0&&i[0]?i[0]:t.startContainer,n=this.getSelectedTableEle(i),r=this.getBrElement(t,i);if(s&&s.nodeType===Node.ELEMENT_NODE&&(s.tagName==="IMG"||s.querySelector("img")||s.tagName==="AUDIO"||s.querySelector("audio")||s.tagName==="VIDEO"||s.querySelector("video")||s.querySelector(".e-video-clickelem"))){var o=this.contentModule.getDocument().createRange();o.collapse(!0),o.selectNodeContents(s);var l=this.parent.formatter.editorManager.nodeSelection.getIndex(s);if(e&&o.startOffset>=t.startOffset||!e&&(s.tagName!=="IMG"&&o.startOffset!==t.startOffset||s.tagName==="IMG"&&l!==t.startOffset))return null}if(s&&s.nodeType===Node.TEXT_NODE){if(e){if(t.endOffset!==t.endContainer.textContent.length&&t.endOffset!==t.endContainer.textContent.trim().length)return null}else if(t.startOffset!==0)return null}if(s&&s.nodeType===Node.ELEMENT_NODE&&s.tagName==="TABLE"&&(n=s),n){var c=this.parent.formatter.editorManager.nodeSelection.getIndex(n);t.startOffset===c&&e||t.startOffset!==c&&!e||(n=null)}return!n&&s&&(n=this.getAdjacentElementFromDom(s,r,e)),n&&n.nodeType===Node.ELEMENT_NODE&&n.tagName==="TABLE"?(this.setSelection(n,r),n):null},a.prototype.getAdjacentElementFromDom=function(t,e,i){for(var s,n=e||t.parentNode,r=t;n&&!s&&n.parentNode;){var o=Array.from(n.childNodes),l=o.indexOf(r);if(l!==-1&&(i&&l<o.length-1||!i&&l>0)?s=o[i?l+1:l-1]:(s=i?n.nextSibling:n.previousSibling,r=n),!e&&t.nodeType===Node.TEXT_NODE&&s&&s.tagName&&s.tagName.toUpperCase()==="BR"&&(e=r=n=s,s=null),!e&&s&&!(s.nodeType===Node.ELEMENT_NODE&&s.tagName==="TABLE")&&!h(s.textContent)&&!s.textContent.trim()&&(r=n=s.parentNode,s=null),s&&s.tagName&&["UL","OL","LI"].indexOf(s.tagName.toUpperCase())!==-1&&(s=this.getAdjacentElementFromList(s,i),!s))return null;n&&n.tagName&&n.tagName.toUpperCase()==="LI"&&!i&&(s=n),n=n.parentNode}return s},a.prototype.getAdjacentElementFromList=function(t,e){for(;t;){if(t.tagName&&["UL","OL","LI"].indexOf(t.tagName.toUpperCase())===-1){t.nodeType===Node.ELEMENT_NODE&&t.tagName==="TABLE"||(t=e?t.firstChild:t.lastChild);break}t=e?t.firstChild:t.lastChild}return t},a.prototype.getNodeCollection=function(t){var e=[];if(t.collapsed&&this.parent.contentModule.getEditPanel()===t.startContainer&&t.startContainer.childNodes.length>0){var i=Math.max(0,Math.min(t.startContainer.childNodes.length-1,t.endOffset-1));e.push(t.startContainer.childNodes[i])}else e=this.parent.formatter.editorManager.nodeSelection.getNodeCollection(t);return e},a.prototype.getSelectedTableEle=function(t){if(t&&t.length>0)for(var e=0,i=Array.from(t);e<i.length;e++){var s=i[e];if(s&&s.tagName==="TABLE")return s}return null},a.prototype.getBrElement=function(t,e){return t.endContainer.tagName==="BR"?t.endContainer:e.length===1&&e[0]&&e[0].tagName==="BR"?e[0]:null},a.prototype.setSelection=function(t,e){if(!t.classList.contains("e-cell-select")){this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument()),e&&(e.parentNode&&e.parentNode.childNodes.length===1&&e.parentNode.firstChild.nodeName==="BR"?N(e.parentNode):N(e));var i=this.parent.createElement("div",{className:"e-table-fake-selection"});i.setAttribute("contenteditable","false"),this.contentModule.getEditPanel().appendChild(i),this.parent.formatter.editorManager.nodeSelection.setSelectionNode(this.contentModule.getDocument(),i)}},a.prototype.removeAllFakeSelectionEles=function(){var t=this.parent.contentModule.getEditPanel().querySelectorAll(".e-table-fake-selection");t&&t.length>0&&t.forEach(function(e){N(e)})},a.prototype.deleteTable=function(){var t=this.parent.contentModule.getEditPanel().querySelector("table.e-cell-select");if(this.removeResizeElement(),t){var e=document.createElement("br"),i=e;this.parent.enterKey==="DIV"?(i=document.createElement("div"),i.appendChild(e)):this.parent.enterKey==="P"&&(i=document.createElement("p"),i.appendChild(e)),t.parentNode.replaceChild(i,t),this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(),i,i,0,0),this.removeTableSelection()}},a.prototype.removeTableSelection=function(){var t=this.parent.contentModule.getEditPanel().querySelector("table.e-cell-select");t&&Ue([t],zt),this.removeAllFakeSelectionEles()},a.prototype.updateTableSelection=function(t){L([t],"e-cell-select")},a.prototype.handleSelectAll=function(){this.cancelResizeAction();var t=this.parent.inputElement.querySelectorAll("."+zt);Ue(t,zt),this.removeTableSelection()},a.prototype.tableModulekeyUp=function(t){if(!h(this.parent.formatter.editorManager.nodeSelection)&&this.contentModule){var e=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),i=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(e)[0];if(i=i&&i.tagName!=="TD"&&i.tagName!=="TH"?i.parentElement:i,i&&i.tagName!=="TD"&&i.tagName!=="TH"){var s=M(i,"td");i=!h(s)&&this.parent.inputElement.contains(s)?s:i}this.previousTableElement!==i&&!h(this.previousTableElement)&&!(event.shiftKey&&(event.keyCode===39||event.keyCode===37||event.keyCode===38||event.keyCode===40))&&(Ue([this.previousTableElement],zt),this.removeTableSelection())}},a.prototype.openDialog=function(t,e){if(t||this.parent.contentModule.getEditPanel().focus(),this.parent.editorMode==="HTML"){var i=this.parent.contentModule.getDocument(),s=this.parent.formatter.editorManager.nodeSelection.getRange(i),n=this.parent.formatter.editorManager.nodeSelection.save(s,i),r={originalEvent:e?e.args:{action:"insert-table"},item:{command:"Table",subCommand:"CreateTable"},name:t?null:"showDialog"};this.insertTableDialog({self:this,args:r,selection:n})}},a.prototype.showDialog=function(){this.openDialog(!1),this.setCssClass({cssClass:this.parent.getCssClass()})},a.prototype.closeDialog=function(){this.editdlgObj&&this.editdlgObj.hide({returnValue:!0})},a.prototype.onToolbarAction=function(t){var e=t.args.item;switch(e.subCommand){case"TableHeader":this.tableHeader(t.selection,t.args);break;case"TableRemove":this.removeTable(t.selection,t.args);break;case"TableEditProperties":this.editTable(t);break}},a.prototype.verticalAlign=function(t,e){var i=M(t.selectParent[0],"th")||M(t.selectParent[0],"td");i&&this.parent.formatter.process(this.parent,e,e,{tableCell:i,subCommand:e.item.subCommand})},a.prototype.tableStyles=function(t,e){var i=M(t.selectParent[0],"table");if(e==="Dashed"&&(this.parent.element.classList.contains(Mn)?Ue([this.parent.element],Mn):this.parent.element.classList.add(Mn),i.classList.contains(Mn)?Ue([this.parent.element],Mn):i.classList.add(Mn)),e==="Alternate"&&(this.parent.element.classList.contains(Sn)?Ue([this.parent.element],Sn):this.parent.element.classList.add(Sn),i.classList.contains(Sn)?Ue([i],Sn):i.classList.add(Sn)),t.args&&t.args.item.cssClass)for(var s=t.args.item.cssClass.split(" "),n=0;n<s.length;n++)i.classList.contains(s[n])?Ue([i],s[n]):i.classList.add(s[n]);this.parent.formatter.saveData(),this.hideTableQuickToolbar(),this.parent.formatter.editorManager.nodeSelection.restore()},a.prototype.insideList=function(t){for(var e=this.parent.formatter.editorManager.domNode.blockNodes(),i=[],s=0;s<e.length;s++)e[s].parentNode.tagName==="LI"?i.push(e[s].parentNode):e[s].tagName==="LI"&&e[s].childNodes[0].tagName!=="P"&&e[s].childNodes[0].tagName!=="OL"&&e[s].childNodes[0].tagName!=="UL"&&i.push(e[s]);return i.length>1||i.length&&t.startOffset===0&&t.endOffset===0?(this.ensureInsideTableList=!0,!0):(this.ensureInsideTableList=!1,!1)},a.prototype.removeEmptyTextNodes=function(t){for(var e=t.childNodes,i=e.length-1;i>=0;i--){var s=e[i];s.nodeType===Node.TEXT_NODE&&s.nodeValue.trim()===""&&t.removeChild(s)}},a.prototype.tabSelection=function(t,e,i){for(var s=i.closest("table").querySelectorAll("thead, tbody, tr"),n=0;n<s.length;n++)this.removeEmptyTextNodes(s[n]);this.previousTableElement=i;var r=this.insideList(e.range);if(!((t.keyCode===37||t.keyCode===39)&&e.range.startContainer.nodeType===3||r))if(t.preventDefault(),Ue([i],zt),this.removeTableSelection(),!t.shiftKey&&t.keyCode!==37){var o=h(i.nextSibling)?h(M(i,"tr").nextSibling)?h(M(i,"table").nextSibling)?i:M(i,"table").nextSibling.nodeName.toLowerCase()==="td"?M(i,"table").nextSibling:i:M(i,"tr").nextSibling.childNodes[0]:i.nextSibling;i===o&&i.nodeName==="TH"&&(o=M(i,"table").rows[1].cells[0]),t.keyCode===39&&i===o&&(o=M(i,"table").nextSibling),o&&(o.textContent.trim()!==""&&M(o,"td")?e.setSelectionNode(this.contentModule.getDocument(),o):e.setSelectionText(this.contentModule.getDocument(),o,o,0,0)),i===o&&t.keyCode!==39&&o&&(i.classList.add(zt),this.addRow(e,t,!0),Ue([i],zt),this.removeTableSelection(),o=o.parentElement.nextSibling?o.parentElement.nextSibling.firstChild:o.parentElement.firstChild,o.textContent.trim()!==""&&M(o,"td")?e.setSelectionNode(this.contentModule.getDocument(),o):e.setSelectionText(this.contentModule.getDocument(),o,o,0,0))}else{var l=h(i.previousSibling)?h(M(i,"tr").previousSibling)?h(M(i,"table").previousSibling)?i:M(i,"table").previousSibling.nodeName.toLowerCase()==="td"?M(i,"table").previousSibling:i:M(i,"tr").previousSibling.childNodes[M(i,"tr").previousSibling.childNodes.length-1]:i.previousSibling;if(i===l&&i.cellIndex===0&&M(i,"table").tHead){var c=M(i,"table");l=c.rows[0].cells[c.rows[0].cells.length-1]}t.keyCode===37&&i===l&&(l=M(i,"table").previousSibling),l&&(l.textContent.trim()!==""&&M(l,"td")?e.setSelectionNode(this.contentModule.getDocument(),l):e.setSelectionText(this.contentModule.getDocument(),l,l,0,0))}},a.prototype.tableArrowNavigation=function(t,e,i){var s=e.range.startContainer;t.keyCode===40&&s.nodeType===3&&(s.nextSibling&&s.nextSibling.nodeName==="BR"||s.parentNode&&s.parentNode.nodeName!=="TD")||t.keyCode===38&&s.nodeType===3&&(s.previousSibling&&s.previousSibling.nodeName==="BR"||s.parentNode&&s.parentNode.nodeName!=="TD")||(t.preventDefault(),Ue([i],zt),this.removeTableSelection(),t.keyCode===40?i=h(M(i,"tr").nextElementSibling)?M(i,"table").tHead&&i.nodeName==="TH"?M(i,"table").rows[1].cells[i.cellIndex]:h(M(i,"table").nextSibling)?i:M(i,"table").nextSibling:M(i,"tr").nextElementSibling.children[i.cellIndex]:i=h(M(i,"tr").previousElementSibling)?M(i,"table").tHead&&i.nodeName!=="TH"?M(i,"table").tHead.rows[0].cells[i.cellIndex]:h(M(i,"table").previousSibling)?i:M(i,"table").previousSibling:M(i,"tr").previousElementSibling.children[i.cellIndex],i&&e.setSelectionText(this.contentModule.getDocument(),i,i,0,0))},a.prototype.setBGColor=function(t){for(var e=this.parent.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument()),i=this.parent.formatter.editorManager.nodeSelection.save(e,this.contentModule.getDocument()),s=this.curTable.querySelectorAll(".e-cell-select"),n=0;n<s.length;n++)s[n].style.backgroundColor=t.item.value;this.parent.formatter.saveData(),this.hideTableQuickToolbar()},a.prototype.hideTableQuickToolbar=function(){this.quickToolObj&&this.quickToolObj.tableQTBar&&document.body.contains(this.quickToolObj.tableQTBar.element)&&this.quickToolObj.tableQTBar.hidePopup()},a.prototype.tableHeader=function(t,e){this.parent.formatter.process(this.parent,e,e.originalEvent,{selection:t,subCommand:e.item.subCommand})},a.prototype.getAnchorNode=function(t){var e=M(t,"a");return e||t},a.prototype.editAreaClickHandler=function(t){if(!(this.parent.readonly||!h(M(t.args.target,".e-img-caption")))){var e=t.args,i=this.parent.quickToolbarSettings.showOnRightClick;if(!(e.which===2||i&&e.which===1||!i&&e.which===3)&&this.parent.editorMode==="HTML"&&this.parent.quickToolbarModule&&this.parent.quickToolbarModule.tableQTBar){this.quickToolObj=this.parent.quickToolbarModule;var s=e.target;this.contentModule=this.rendererFactory.getRenderer(Ce.Content);var n=this.quickToolObj.tableQTBar.element.classList.contains("e-rte-pop");if(n)return;var r=this.parent.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument()),o=M(s,"table"),l=this.parent.getRange().startContainer.parentElement,c=this.parent.getRange().endContainer.parentElement,d=this.getAnchorNode(s),p=new Date().getTime();if(s&&s.nodeName!=="A"&&d.nodeName!=="A"&&s.nodeName!=="IMG"&&s.nodeName!=="VIDEO"&&!s.classList.contains(Ji)&&s.nodeName!=="AUDIO"&&l===c&&(s.nodeName==="TD"||s.nodeName==="TH"||s.nodeName==="TABLE"||o&&this.parent.contentModule.getEditPanel().contains(o))&&!(r.startContainer.nodeType===3&&!r.collapsed)&&p-this.resizeEndTime>100){var u=this.parent.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument());this.parent.formatter.editorManager.nodeSelection.save(u,this.contentModule.getDocument()),this.parent.formatter.editorManager.nodeSelection.Clear(this.contentModule.getDocument());var f=void 0,m=void 0;E.isDevice&&t.args.touches?(f=this.parent.iframeSettings.enable?window.pageXOffset+this.parent.element.getBoundingClientRect().left+t.args.changedTouches[0].clientX:t.args.changedTouches[0].pageX,m=this.parent.iframeSettings.enable?window.pageYOffset+this.parent.element.getBoundingClientRect().top+(this.parent.inlineMode.enable?0:this.parent.toolbarModule.getToolbarHeight())+t.args.changedTouches[0].clientY:t.args.changedTouches[0].pageY):(f=this.parent.iframeSettings.enable?window.pageXOffset+this.parent.element.getBoundingClientRect().left+e.clientX:e.pageX,m=this.parent.iframeSettings.enable?window.pageYOffset+this.parent.element.getBoundingClientRect().top+this.parent.toolbarModule.getToolbarHeight()+e.clientY:e.pageY),this.quickToolObj.tableQTBar.showPopup(f,m,s),this.parent.formatter.editorManager.nodeSelection.restore()}else this.hideTableQuickToolbar()}}},a.prototype.tableCellSelect=function(t){var e=t.target,i=Array.prototype.slice.call(e.parentElement.parentElement.children).indexOf(e.parentElement),s=Array.prototype.slice.call(e.parentElement.children).indexOf(e),n=this.dlgDiv.querySelectorAll(".e-rte-tablecell");Array.prototype.forEach.call(n,function(r){var o=Array.prototype.slice.call(r.parentElement.parentElement.children).indexOf(r.parentElement),l=Array.prototype.slice.call(r.parentElement.children).indexOf(r);Ue([r],"e-active"),o<=i&&l<=s&&L([r],"e-active")}),this.tblHeader.innerHTML=s+1+"x"+(i+1)},a.prototype.tableMouseUp=function(){this.unwireTableSelectionEvents(),this.isTableMoveActive=!1},a.prototype.tableMouseLeave=function(){this.unwireTableSelectionEvents(),this.isTableMoveActive=!1,this.resetTableSelection()},a.prototype.tableCellLeave=function(t){Ue(this.dlgDiv.querySelectorAll(".e-rte-tablecell"),"e-active"),L([this.dlgDiv.querySelector(".e-rte-tablecell")],"e-active"),this.tblHeader.innerHTML="1x1"},a.prototype.tableCellClick=function(t){var e=t.target,i=Array.prototype.slice.call(e.parentElement.parentElement.children).indexOf(e.parentElement)+1,s=Array.prototype.slice.call(e.parentElement.children).indexOf(e)+1;this.self.tableInsert(i,s,t,this)},a.prototype.tableInsert=function(t,e,i,s){var n=s.self?s.self:this,r=s.selection.range.startContainer;r.nodeName==="P"&&r.textContent.trim()===""&&!(r.childNodes.length>0)&&(r.innerHTML="<br />");var o=r.parentNode;if(n.parent.editorMode==="HTML"&&(n.parent.iframeSettings.enable&&!Qe(o.ownerDocument.querySelector("body"),"e-lib")||!n.parent.iframeSettings.enable&&h(M(o,"[id='"+n.contentModule.getPanel().id+"']")))){n.contentModule.getEditPanel().focus();var l=n.parent.formatter.editorManager.nodeSelection.getRange(n.contentModule.getDocument());s.selection=n.parent.formatter.editorManager.nodeSelection.save(l,n.contentModule.getDocument())}var c={rows:t,columns:e,width:{minWidth:n.parent.tableSettings.minWidth,maxWidth:n.parent.tableSettings.maxWidth,width:n.parent.tableSettings.width},selection:s.selection};if(n.popupObj){for(var d=Array.prototype.slice.call(i.target.parentElement.parentElement.children),p=0;p<d.length;p++){v.remove(d[p],"mouseleave",this.tableCellLeave);for(var u=Array.prototype.slice.call(d[p].children),f=0;f<u.length;f++)v.remove(u[f],"mousemove",this.tableCellSelect),v.remove(u[f],"mouseup",this.tableCellClick)}n.popupObj.hide()}n.editdlgObj&&n.editdlgObj.hide();var m=window.scrollX,g=window.scrollY;n.parent.formatter.process(n.parent,s.args,s.args.originalEvent,c),n.contentModule.getEditPanel().focus(),window.scrollTo(m,g),n.parent.on(_t,n.cellSelect,n);var b=n.parent.formatter.editorManager.nodeSelection.get(n.contentModule.getDocument());!h(b)&&!h(b.anchorNode)&&b.anchorNode.nodeType===Node.ELEMENT_NODE&&(b.anchorNode.tagName==="TD"||b.anchorNode.tagName==="TH")&&(n.curTable=M(b.anchorNode,"table"),n.activeCell=b.anchorNode)},a.prototype.cellSelect=function(t){var e=t.args.target,i=M(e,"td,th");if(e=e.nodeName!=="TD"&&i&&this.parent.contentModule.getEditPanel().contains(i)?i:e,!h(this.activeCell)&&t.args.shiftKey&&!h(e)&&!h(e.tagName)&&(e.tagName==="TD"||e.tagName==="TH")&&this.activeCell!==e){this.parent.formatter.editorManager.observer.notify("TABLE_MOVE",{event:t.args,selectNode:[this.activeCell]}),t.args.preventDefault();return}this.parent.quickToolbarSettings.showOnRightClick&&t.args.which===3&&e.classList.contains(zt)||(this.isTableMoveActive&&(this.unwireTableSelectionEvents(),this.isTableMoveActive=!1),this.activeCell=null,this.removeCellSelectClasses(),this.removeTableSelection()),e&&(e.tagName==="TD"||e.tagName==="TH")&&(L([e],zt),this.activeCell=e,this.curTable=this.curTable?this.curTable:M(e,"table"),this.wireTableSelectionEvents(),this.isTableMoveActive=!0,this.removeResizeElement(),this.helper&&this.contentModule.getEditPanel().contains(this.helper)&&N(this.helper)),E.info.name==="mozilla"&&!h(M(e,"table"))&&M(e,"table").tagName==="TABLE"&&this.parent.contentModule.getEditPanel().setAttribute("contenteditable","false")},a.prototype.wireTableSelectionEvents=function(){v.add(this.curTable,"mousemove",this.tableMove,this),v.add(this.curTable,"mouseup",this.tableMouseUp,this),v.add(this.curTable,"mouseleave",this.tableMouseLeave,this)},a.prototype.unwireTableSelectionEvents=function(){v.remove(this.curTable,"mousemove",this.tableMove),v.remove(this.curTable,"mouseup",this.tableMouseUp),v.remove(this.curTable,"mouseleave",this.tableMouseLeave)},a.prototype.removeCellSelectClasses=function(){Ue(this.contentModule.getEditPanel().querySelectorAll("table td, table th"),Gd),Ue(this.contentModule.getEditPanel().querySelectorAll("table td, table th"),Xd),Ue(this.contentModule.getEditPanel().querySelectorAll("table td, table th"),zt)},a.prototype.tableMove=function(t){this.parent.formatter.editorManager.observer.notify("TABLE_MOVE",{event:t,selectNode:[this.activeCell]})},a.prototype.resizeHelper=function(t){if(!this.parent.readonly&&!this.isTableMoveActive&&!(t&&t.buttons&&t.buttons>0)){var e=t.target||t.targetTouches[0].target,i=M(e,"table.e-rte-table, table.e-rte-paste-table"),s=this.parent.contentModule.getEditPanel().querySelectorAll(".e-table-box.e-rbox-select, .e-table-rhelper.e-column-helper, .e-table-rhelper.e-row-helper").length>0;!s&&!h(this.curTable)&&!h(i)&&i!==this.curTable&&this.parent.contentModule.getEditPanel().contains(i)&&(this.removeResizeElement(),this.removeHelper(t),this.cancelResizeAction()),!s&&(e.nodeName==="TABLE"||e.nodeName==="TD"||e.nodeName==="TH")&&(this.curTable=i&&this.parent.contentModule.getEditPanel().contains(i)&&(e.nodeName==="TD"||e.nodeName==="TH")?i:e,this.removeResizeElement(),this.tableResizeEleCreation(this.curTable,t))}},a.prototype.tableResizeEleCreation=function(t,e){this.parent.preventDefaultResize(e);for(var i=this.calMaxCol(this.curTable),s=[],n=0;n<t.rows.length;n++)for(var r=0;r<t.rows[n].cells.length;r++)if(!t.rows[n].cells[r].hasAttribute("rowspan")){s.push(Array.prototype.slice.call(t.rows[n].cells,0,t.rows[n].cells.length)[r]);break}for(var o=parseInt(getComputedStyle(t).height,10),l=parseInt(getComputedStyle(t).width,10),c=this.calcPos(t),n=0;i.length>=n;n++){var d=this.parent.createElement("span",{attrs:{"data-col":n.toString(),unselectable:"on",contenteditable:"false"}});d.classList.add(eg,$a),i.length===n?d.style.cssText="height: "+o+"px; width: 4px; top: "+c.top+"px; left:"+((i[n-1].classList.contains("e-multi-cells-select")?0:c.left)+this.calcPos(i[n-1]).left+i[n-1].offsetWidth-2)+"px;":d.style.cssText="height: "+o+"px; width: 4px; top: "+c.top+"px; left:"+((i[n].classList.contains("e-multi-cells-select")?0:c.left)+this.calcPos(i[n]).left-2)+"px;",this.contentModule.getEditPanel().appendChild(d)}for(var n=0;s.length>n;n++){var p=this.parent.createElement("span",{attrs:{"data-row":n.toString(),unselectable:"on",contenteditable:"false"}});p.classList.add(eg,Ja);var u=!h(t.getAttribute("cellspacing"))||t.getAttribute("cellspacing")!==""?0:this.calcPos(s[n]).left;p.style.cssText="width: "+l+"px; height: 4px; top: "+(this.calcPos(s[n]).top+(s[n].classList.contains("e-multi-cells-select")?0:c.top)+s[n].offsetHeight-2)+"px; left:"+(u+c.left)+"px;",this.contentModule.getEditPanel().appendChild(p)}var f=this.parent.createElement("span",{className:Za+this.parent.getCssClass(!0),attrs:{"data-col":i.length.toString(),unselectable:"on",contenteditable:"false"}});f.style.cssText="top: "+(c.top+o-4)+"px; left:"+(c.left+l-4)+"px;",E.isDevice&&f.classList.add("e-rmob"),this.contentModule.getEditPanel().appendChild(f)},a.prototype.removeResizeElement=function(){var t=this.parent.contentModule.getEditPanel().querySelectorAll(".e-column-resize, .e-row-resize, .e-table-box");if(t.length>0)for(var e=0;e<t.length;e++)N(t[e])},a.prototype.calcPos=function(t){for(var e={top:0,left:0},i=t.getBoundingClientRect(),s=t.ownerDocument,n=t.offsetParent||s.documentElement,r=!1;n&&(n===s.body||n===s.documentElement)&&n.style.position==="static";)n=n.parentNode;if(n.nodeName==="TD"&&t.nodeName==="TABLE"&&(n=M(n,".e-rte-content"),r=!0),n&&n!==t&&n.nodeType===1&&(e=n.getBoundingClientRect()),r){r=!1;var o=this.parent.inputElement&&this.parent.inputElement.scrollTop>0?this.parent.inputElement.scrollTop+i.top-e.top:i.top-e.top,l=this.parent.inputElement&&this.parent.inputElement.scrollLeft>0?this.parent.inputElement.scrollLeft+i.left-e.left:i.left-e.left;return{top:o,left:l}}else return{top:t.offsetTop,left:t.offsetLeft}},a.prototype.getPointX=function(t){return t.touches&&t.touches.length?t.touches[0].pageX:t.pageX},a.prototype.getPointY=function(t){return t.touches&&t.touches.length?t.touches[0].pageY:t.pageY},a.prototype.resizeStart=function(t){var e=this;if(!this.parent.readonly){E.isDevice&&this.resizeHelper(t);var i=t.target;if(i.classList.contains($a)||i.classList.contains(Ja)||i.classList.contains(Za)){if(this.resetResizeHelper(this.curTable),t.preventDefault(),this.parent.preventDefaultResize(t),Ue(this.curTable.querySelectorAll("td,th"),zt),this.removeTableSelection(),this.pageX=this.getPointX(t),this.pageY=this.getPointY(t),this.resizeBtnInit(),this.hideTableQuickToolbar(),i.classList.contains($a)){if(this.resizeBtnStat.column=!0,parseInt(i.getAttribute("data-col"),10)===this.calMaxCol(this.curTable).length)this.currentColumnResize="last",this.colIndex=parseInt(i.getAttribute("data-col"),10)-1,this.columnEle=this.calMaxCol(this.curTable)[this.colIndex];else{if(parseInt(i.getAttribute("data-col"),10)===0)this.currentColumnResize="first";else{this.currentColumnResize="middle";for(var s=this.curTable.rows[0].cells,n=0,r=0;r<s.length;r++)n=n+s[r].colSpan;for(var o=new Array(n),l=P("colgroup"),c=new Map,d=0;d<this.curTable.rows.length;d++)for(var p=0,u=0;u<this.curTable.rows[d].cells.length;u++){for(var f=1;f<this.curTable.rows[d].cells[u].rowSpan;f++){var m=""+(d+f)+p;c.set(m,this.curTable.rows[d].cells[u])}var g=this.getCellIndex(c,d,u);g>p&&(p=g);var b=this.curTable.rows[d].cells[u].offsetWidth;(!o[p]||b<o[p])&&(o[p]=b),p+=1+this.curTable.rows[d].cells[u].colSpan-1}for(var S=0;S<o.length;S++){var r=P("col");r.appendChild(P("br")),r.style.width=this.convertPixelToPercentage(o[S],parseInt(getComputedStyle(this.curTable).width,10))+"%",l.appendChild(r)}this.curTable.insertBefore(l,this.curTable.firstChild);for(var d=0;d<this.curTable.rows.length;d++)for(var u=0;u<this.curTable.rows[d].cells.length;u++)this.curTable.rows[d].cells[u].style.width=""}this.colIndex=parseInt(i.getAttribute("data-col"),10),this.columnEle=this.calMaxCol(this.curTable)[this.colIndex]}this.moveEle=t.target,this.appendHelper()}if(i.classList.contains(Ja)&&(this.rowEle=this.curTable.rows[parseInt(i.getAttribute("data-row"),10)],this.resizeBtnStat.row=!0,this.appendHelper()),i.classList.contains(Za)&&(this.resizeBtnStat.tableBox=!0),E.isDevice&&this.helper&&!this.helper.classList.contains("e-reicon"))this.helper.classList.add("e-reicon"),v.add(document,E.touchStartEvent,this.removeHelper,this),v.add(this.helper,E.touchStartEvent,this.resizeStart,this);else{var T={event:t,requestType:"Table"};this.parent.trigger(Wd,T,function(I){I.cancel&&e.cancelResizeAction()})}this.isResizeBind&&(v.add(this.contentModule.getDocument(),E.touchMoveEvent,this.resizing,this),v.add(this.contentModule.getDocument(),E.touchEndEvent,this.resizeEnd,this),this.isResizeBind=!1)}}},a.prototype.getCellIndex=function(t,e,i){var s=""+e+i,n=t.get(s);return n?this.getCellIndex(t,e,i+n.colSpan):i},a.prototype.removeHelper=function(t){var e=t.target.classList;!e.contains("e-reicon")&&this.helper&&(v.remove(document,E.touchStartEvent,this.removeHelper),v.remove(this.helper,E.touchStartEvent,this.resizeStart),this.helper&&this.contentModule.getEditPanel().contains(this.helper)&&N(this.helper),this.pageX=null,this.helper=null)},a.prototype.appendHelper=function(){this.helper=this.parent.createElement("div",{className:"e-table-rhelper"+this.parent.getCssClass(!0)}),E.isDevice&&this.helper.classList.add("e-reicon"),this.contentModule.getEditPanel().appendChild(this.helper),this.setHelperHeight()},a.prototype.setHelperHeight=function(){var t=this.calcPos(this.curTable);this.resizeBtnStat.column?(this.helper.classList.add("e-column-helper"),this.helper.style.cssText="height: "+getComputedStyle(this.curTable).height+"; top: "+t.top+"px; left:"+(t.left+this.calcPos(this.columnEle).left+(this.currentColumnResize==="last"?this.columnEle.offsetWidth:0)-1)+"px;"):(this.helper.classList.add("e-row-helper"),this.helper.style.cssText="width: "+getComputedStyle(this.curTable).width+"; top: "+(this.calcPos(this.rowEle).top+t.top+this.rowEle.offsetHeight-1)+"px; left:"+(this.calcPos(this.rowEle).left+t.left)+"px;")},a.prototype.updateHelper=function(){var t=this.calcPos(this.curTable);if(this.resizeBtnStat.column){var e=t.left+this.calcPos(this.columnEle).left+(this.currentColumnResize==="last"?this.columnEle.offsetWidth:0)-1;this.helper.style.left=e+"px",this.helper.style.height=this.curTable.offsetHeight+"px"}else{var i=this.calcPos(this.rowEle).top+t.top+this.rowEle.offsetHeight-1;this.helper.style.top=i+"px"}},a.prototype.calMaxCol=function(t){for(var e=t.rows[0].cells,i=0,s=0;s<e.length;s++)i=i+e[s].colSpan;for(var n=new Array(i),r=new Map,o=0;o<t.rows.length;o++)for(var l=0,c=0;c<t.rows[o].cells.length;c++){for(var d=1;d<t.rows[o].cells[c].rowSpan;d++){var p=""+(o+d)+l;r.set(p,t.rows[o].cells[c])}var u=this.getCellIndex(r,o,c);u>l&&(l=u);var f=t.rows[o].cells[c].offsetWidth;(!n[l]||f<n[l].offsetWidth)&&(n[l]=t.rows[o].cells[c]),l+=1+t.rows[o].cells[c].colSpan-1}return n},a.prototype.resizing=function(t){var e=this,i=this.getPointX(t),s=this.getPointY(t),n=this.parent.enableRtl?-(i-this.pageX):i-this.pageX,r=this.parent.enableRtl?-(s-this.pageY):s-this.pageY;this.pageX=i,this.pageY=s;var o,l=this.curTable.closest("td"),c={event:t,requestType:"table"};this.parent.trigger(Qd,c,function(d){if(d.cancel)e.cancelResizeAction();else{var p=e.contentModule.getEditPanel().querySelector(".e-table-box"),u=parseInt(getComputedStyle(e.curTable).width,10),f=parseInt(getComputedStyle(e.curTable).height,10),m=+getComputedStyle(e.contentModule.getEditPanel()).paddingRight.match(/\d/g).join(""),g=e.contentModule.getEditPanel().offsetWidth-(e.contentModule.getEditPanel().offsetWidth-e.contentModule.getEditPanel().clientWidth)-m*2,b=void 0;if(!h(e.curTable.parentElement.closest("table"))&&!h(e.curTable.closest("td"))&&e.contentModule.getEditPanel().contains(e.curTable.closest("td"))){var S=e.curTable.closest("td"),T=+getComputedStyle(S).paddingRight.match(/\d/g).join("");b=S.offsetWidth-(S.offsetWidth-S.clientWidth)-T*2}else b=g;if(e.resizeBtnStat.column){e.curTable.closest("li")&&(b=e.curTable.closest("li").offsetWidth);var I=e.curTable.querySelectorAll("colgroup > col"),w=void 0;e.curTable.style.width!==""&&e.curTable.style.width.includes("%")?w=parseFloat(e.curTable.style.width.split("%")[0]):w=e.getCurrentTableWidth(e.curTable.offsetWidth,e.parent.inputElement.offsetWidth);var x=e.calMaxCol(e.curTable)[e.colIndex],A=e.getCurrentColWidth(x,u);if(e.currentColumnResize==="first"){if(n=n-.75,e.removeResizeElement(),l&&(o=e.curTable.getBoundingClientRect().right-e.calcPos(l).left,e.curTable.style.maxWidth=o+"px"),(n!==0&&5<A||n<0)&&w<=100&&e.convertPixelToPercentage(u-n,b)<=100){var q=e.findFirstLastColCells(e.curTable,!0);e.curTable.style.width=e.convertPixelToPercentage(u-n,b)>100?"100%":e.convertPixelToPercentage(u-n,b)+"%";var F=w-e.convertPixelToPercentage(u-n,b),J=0,ae=e.curTable.style.width.indexOf("%")>-1;if(!ae&&e.curTable.offsetWidth>e.contentModule.getEditPanel().offsetWidth){e.curTable.style.width=g+"px";return}if(ae&&parseFloat(e.curTable.style.width.split("%")[0])>100){e.curTable.style.width="100%";return}if(!h(e.curTable.style.marginLeft)&&e.curTable.style.marginLeft!==""){var de=/[-+]?\d*\.\d+|\d+/,re=e.curTable.style.marginLeft.match(de);h(re)||(J=parseFloat(re[0]))}var me=J+F;if(me&&me>100){var U=parseFloat(e.curTable.style.width);me=100-U}if(!e.curTable.classList.contains("e-rte-paste-table")&&me&&me<1){e.curTable.style.marginLeft=null,e.curTable.style.width="100%";return}e.curTable.style.marginLeft="calc("+(e.curTable.style.width==="100%"?0:me)+"%)";for(var O=0;O<q.length;O++){var _=e.getCurrentColWidth(q[O],u);q[O].style.width=_-F+"%"}}}else if(e.currentColumnResize==="last"){if(n=n+.75,e.removeResizeElement(),l&&(o=l.getBoundingClientRect().right-e.curTable.getBoundingClientRect().left,e.curTable.style.maxWidth=o+"px"),(n!==0&&5<A||n>0)&&w<=100&&e.convertPixelToPercentage(u+n,b)<=100){var H=e.findFirstLastColCells(e.curTable,!1);e.curTable.style.width=e.convertPixelToPercentage(u+n,b)>100?"100%":e.convertPixelToPercentage(u+n,b)+"%";for(var F=w-e.convertPixelToPercentage(u+n,b),O=0;O<H.length;O++){var _=e.getCurrentColWidth(H[O],u);H[O].style.width=_-F+"%"}}}else{var Q=I[e.colIndex].offsetWidth-n,j=I[e.colIndex].offsetWidth+I[e.colIndex-1].offsetWidth;if(j-Q>20&&Q>20){var te=j-Q,xe=Q;I[e.colIndex-1].style.width=e.convertPixelToPercentage(te,u)+"%",I[e.colIndex].style.width=e.convertPixelToPercentage(xe,u)+"%"}}e.updateHelper()}else if(e.resizeBtnStat.row){e.parent.preventDefaultResize(t);for(var ne=[],De=e.curTable.querySelectorAll("tr"),O=0;O<De.length;O++)e.rowEle!==De[O]&&(ne[O]=parseFloat(De[O].clientHeight.toString()));e.curTable.style.height=parseFloat(e.curTable.clientHeight.toString())+(r>0?0:r)+"px";for(var O=0;O<De.length;O++)e.rowEle===De[O]?De[O].style.height=parseFloat(De[O].clientHeight.toString())+r+"px":De[O].style.height=ne[O]+"px";h(p)||(p.style.cssText="top: "+(e.calcPos(e.curTable).top+f-4)+"px; left:"+(e.calcPos(e.curTable).left+u-4)+"px;"),e.updateHelper()}else if(e.resizeBtnStat.tableBox){if(l){var $e=e.curTable.getBoundingClientRect().left-l.getBoundingClientRect().left;o=Math.abs($e-l.getBoundingClientRect().width)-5,e.curTable.style.maxWidth=o+"px"}e.curTable.style.height=f+r+"px",h(p)||(p.classList.add("e-rbox-select"),p.style.cssText="top: "+(e.calcPos(e.curTable).top+f-4)+"px; left:"+(e.calcPos(e.curTable).left+u-4)+"px;"),e.curTable.closest("li")&&(b=e.curTable.closest("li").offsetWidth);var ae=e.curTable.style.width.indexOf("%")>-1;if(ae&&parseFloat(e.curTable.style.width.split("%")[0])>100){e.curTable.style.width="100%";return}if(!ae&&e.curTable.offsetWidth>e.contentModule.getEditPanel().offsetWidth){e.curTable.style.width=g+"px";return}e.curTable.style.width=ae?e.convertPixelToPercentage(u+n,b)+"%":u+n+"px"}}})},a.prototype.getCurrentColWidth=function(t,e){var i=0;return t.style.width!==""&&t.style.width.includes("%")?i=parseFloat(t.style.width.split("%")[0]):i=this.convertPixelToPercentage(t.offsetWidth,e),i},a.prototype.getCurrentTableWidth=function(t,e){var i=0;return i=t/e*100,i},a.prototype.findFirstLastColCells=function(t,e){for(var i=[],s=t.rows,n=[],r=function(l){for(var c=e?0:s[l].cells.length-1,d=s[l].cells[c],p=1;p<d.rowSpan;p++){var u=l+p+"-"+c;n.push(u)}var f=l+"-"+c;(n.length===0||e&&n.indexOf(f)===-1||!e&&n.indexOf(f)===-1&&n.every(function(m){return m.split("-")[0]!==l.toString()}))&&i.push(d)},o=0;o<s.length;o++)r(o);return i},a.prototype.convertPixelToPercentage=function(t,e){return t/e*100},a.prototype.cancelResizeAction=function(){this.isResizeBind=!0,v.remove(this.contentModule.getDocument(),E.touchMoveEvent,this.resizing),v.remove(this.contentModule.getDocument(),E.touchEndEvent,this.resizeEnd),this.removeResizeElement()},a.prototype.resizeEnd=function(t){this.resizeBtnInit(),this.isResizeBind=!0,v.remove(this.contentModule.getDocument(),E.touchMoveEvent,this.resizing),v.remove(this.contentModule.getDocument(),E.touchEndEvent,this.resizeEnd),this.contentModule.getEditPanel().querySelector(".e-table-box")&&this.contentModule.getEditPanel().contains(this.contentModule.getEditPanel().querySelector(".e-table-box"))&&this.removeResizeElement(),this.helper&&this.contentModule.getEditPanel().contains(this.helper)&&(N(this.helper),this.helper=null),this.resetResizeHelper(this.curTable),this.pageX=null,this.pageY=null,this.moveEle=null;for(var e=this.curTable.querySelectorAll("tr"),i=[],s=0;s<e.length;s++){var n=parseFloat(e[s].clientHeight.toString())/parseFloat(this.curTable.clientHeight.toString())*100;i[s]=n}for(var s=0;s<e.length;s++)e[s].parentElement.nodeName==="THEAD"&&(e[s].parentElement.style.height=i[s]+"%"),e[s].style.height=i[s]+"%";var r={event:t,requestType:"table"};this.parent.trigger(Yd,r),this.parent.formatter.saveData(),this.resizeEndTime=new Date().getTime()},a.prototype.resetResizeHelper=function(t){var e=this.parent.element.querySelectorAll(".e-table-rhelper.e-column-helper");Array.from(e).forEach(function(l){l.parentNode&&l.parentNode.removeChild(l)});var i=this.parent.element.querySelectorAll(".e-table-rhelper.e-row-helper");Array.from(i).forEach(function(l){l.parentNode&&l.parentNode.removeChild(l)}),t.style.width||(t.style.width=t.offsetWidth+"px");var s=t.querySelector("colgroup");if(s){for(var n=0;n<t.rows.length;n++)for(var r=0;r<t.rows[n].cells.length;r++){var o=this.convertPixelToPercentage(t.rows[n].cells[r].offsetWidth,parseInt(getComputedStyle(t).width,10))+"%";t.rows[n].cells[r].style.width=o}t.removeChild(s)}},a.prototype.resizeBtnInit=function(){return this.resizeBtnStat={column:!1,row:!1,tableBox:!1}},a.prototype.addRow=function(t,e,i){var s;i&&(s={item:{command:"Table",subCommand:"InsertRowAfter"}});var n={selection:t,subCommand:i?s.item.subCommand:e.item.subCommand};this.parent.formatter.process(this.parent,i?s:e,e,n)},a.prototype.addColumn=function(t,e){this.parent.formatter.process(this.parent,e,e,{selection:t,width:this.parent.tableSettings.width,subCommand:e.item.subCommand})},a.prototype.removeRowColumn=function(t,e){this.parent.formatter.process(this.parent,e,e,{selection:t,subCommand:e.item.subCommand}),this.hideTableQuickToolbar()},a.prototype.removeTable=function(t,e,i){var s;i&&(s={item:{command:"Table",subCommand:"TableRemove"}});var n={selection:t,subCommand:i?s.item.subCommand:e.item.subCommand};this.parent.formatter.process(this.parent,i?s:e,e.originalEvent,n),this.contentModule.getEditPanel().focus(),(this.parent.inputElement.innerHTML===null||this.parent.inputElement.innerHTML==="")&&(this.parent.enterKey==="DIV"?this.contentModule.getEditPanel().innerHTML="<div><br/></div>":this.parent.enterKey==="BR"?this.contentModule.getEditPanel().innerHTML="<br/>":this.contentModule.getEditPanel().innerHTML="<p><br/></p>"),this.removeResizeElement(),this.hideTableQuickToolbar()},a.prototype.renderDlgContent=function(t){var e=this,i=t.args.originalEvent.target;if(E.isDevice||this.parent.inlineMode.enable||!h(M(i,".e-rte-text-popup"))){this.insertTableDialog(t);return}if(this.popupObj){this.popupObj.hide();return}this.hideTableQuickToolbar();var s="1X1",n=this.l10n.getConstant("inserttablebtn");this.dlgDiv=this.parent.createElement("div",{className:"e-rte-table-popup"+this.parent.getCssClass(!0),id:this.rteID+"_table"}),this.tblHeader=this.parent.createElement("div",{className:"e-rte-popup-header"+this.parent.getCssClass(!0)}),this.tblHeader.innerHTML=s,this.dlgDiv.appendChild(this.tblHeader);var r=this.parent.createElement("div",{className:"e-rte-table-span"+this.parent.getCssClass(!0)});this.drawTable(r,t),this.dlgDiv.appendChild(r),this.dlgDiv.appendChild(this.parent.createElement("span",{className:"e-span-border"+this.parent.getCssClass(!0)}));var o=this.parent.createElement("button",{className:"e-insert-table-btn"+this.parent.getCssClass(!0),id:this.rteID+"_insertTable",attrs:{type:"button",tabindex:"0"}});h(this.parent.getToolbarElement().querySelector(".e-expended-nav"))||this.parent.getToolbarElement().querySelector(".e-expended-nav").setAttribute("tabindex","1"),this.dlgDiv.appendChild(o),this.createTableButton=new Vt({iconCss:"e-icons e-create-table",content:n,cssClass:"e-flat"+this.parent.getCssClass(!0),enableRtl:this.parent.enableRtl,locale:this.parent.locale}),this.createTableButton.isStringTemplate=!0,this.createTableButton.appendTo(o),v.add(o,"click",this.insertTableDialog,{self:this,args:t.args,selection:t.selection}),this.parent.getToolbar().parentElement.appendChild(this.dlgDiv);var l=t.args.originalEvent.target;l=l.classList.contains("e-toolbar-item")?l.firstChild:l.parentElement,this.popupObj=new jt(this.dlgDiv,{targetType:"relative",relateTo:l,collision:{X:"fit",Y:"none"},offsetY:8,viewPortElement:this.parent.element,position:{X:"left",Y:"bottom"},enableRtl:this.parent.enableRtl,zIndex:10001,close:function(c){v.remove(o,"click",e.insertTableDialog),N(o),e.createTableButton&&!e.createTableButton.isDestroyed&&(e.createTableButton.destroy(),e.createTableButton.element=null,e.createTableButton=null),e.parent.isBlur=!1,e.popupObj.destroy(),N(e.popupObj.element),e.popupObj=null}}),L([this.popupObj.element],"e-popup-open"),h(this.parent.cssClass)||L([this.popupObj.element],this.parent.getCssClass()),o.focus(),this.popupObj.refreshPosition(l)},a.prototype.onIframeMouseDown=function(){this.popupObj&&this.popupObj.hide(),this.parent.inlineMode.enable&&this.editdlgObj&&this.editdlgObj.hide(),!h(this.parent)&&!h(this.parent.contentModule)&&!h(this.parent.contentModule.getEditPanel())&&this.removeResizeElement()},a.prototype.docClick=function(t){var e=t.args.target;e&&e.classList&&(this.popupObj&&!M(e,"[id='"+this.popupObj.element.id+"']")||this.editdlgObj&&!M(e,"#"+this.editdlgObj.element.id))&&!e.classList.contains("e-create-table")&&e.offsetParent&&!e.offsetParent.classList.contains("e-rte-backgroundcolor-dropdown")&&(this.popupObj&&this.popupObj.hide(),this.editdlgObj&&(this.parent.notify(Hs,{closedBy:"outside click"}),this.editdlgObj.hide()),this.parent.isBlur=!0,qs(this.parent.element,"focusout"));var i=M(e,"td"),s=!!(i&&this.parent.contentModule.getEditPanel().contains(i));if(e&&e.tagName!=="TD"&&e.tagName!=="TH"&&!s&&M(e,".e-rte-quick-popup")===null&&e.offsetParent&&!e.offsetParent.classList.contains("e-quick-dropdown")&&!e.offsetParent.classList.contains("e-rte-backgroundcolor-dropdown")&&!M(e,".e-rte-dropdown-popup")&&!M(e,".e-rte-elements")){var n=!!(e&&e.closest(".e-toolbar"));n||this.removeCellSelectClasses(),this.removeTableSelection(),E.isIE||this.hideTableQuickToolbar()}e&&e.classList&&!e.classList.contains($a)&&!e.classList.contains(Ja)&&!e.classList.contains(Za)&&this.removeResizeElement()},a.prototype.drawTable=function(t,e){for(var i,s,n=0;n<3;n++){i=this.parent.createElement("div",{className:"e-rte-table-row"+this.parent.getCssClass(!0),attrs:{"data-column":""+n}}),v.add(i,"mouseleave",this.tableCellLeave,this);for(var r=0;r<10;r++)s=this.parent.createElement("div",{className:"e-rte-tablecell e-default"+this.parent.getCssClass(!0),attrs:{"data-cell":""+r}}),i.appendChild(s),s.style.display="inline-block",r===0&&n===0&&L([s],"e-active"),v.add(s,"mousemove",this.tableCellSelect,this),v.add(s,"mouseup",this.tableCellClick,{self:this,args:e.args,selection:e.selection});t.appendChild(i)}},a.prototype.editTable=function(t){var e=this;this.createDialog(t);var i=this.tableDlgContent(t),s=this.l10n.getConstant("dialogUpdate"),n=this.l10n.getConstant("dialogCancel"),r=this.l10n.getConstant("tableEditHeader");this.editdlgObj.setProperties({height:"initial",width:"290px",content:i,header:r,buttons:[{click:this.applyProperties.bind(this,t),buttonModel:{content:s,cssClass:"e-flat e-size-update"+this.parent.getCssClass(!0),isPrimary:!0}},{click:function(o){e.cancelDialog(o)},buttonModel:{cssClass:"e-flat e-cancel"+this.parent.getCssClass(!0),content:n}}],cssClass:this.editdlgObj.cssClass+" e-rte-edit-table-prop-dialog"}),this.editdlgObj.element.style.maxHeight="none",this.editdlgObj.content.querySelector("input").focus(),this.hideTableQuickToolbar()},a.prototype.insertTableDialog=function(t){var e=this.self?this.self:this;e.popupObj&&e.popupObj.hide(),e.createDialog(t);var i=e.tableCellDlgContent(),s=e.l10n.getConstant("dialogInsert"),n=e.l10n.getConstant("dialogCancel");h(e.editdlgObj)||(e.editdlgObj.setProperties({height:"initial",width:"290px",content:i,buttons:[{click:e.customTable.bind(this,t),buttonModel:{content:s,cssClass:"e-flat e-insert-table "+e.parent.cssClass,isPrimary:!0}},{click:function(r){e.cancelDialog(r)},buttonModel:{cssClass:"e-flat e-cancel "+e.parent.cssClass,content:n}}]}),h(e.parent.cssClass)||e.editdlgObj.setProperties({cssClass:e.parent.cssClass}),e.editdlgObj.element.style.maxHeight="none",e.editdlgObj.content.querySelector("input").focus())},a.prototype.tableCellDlgContent=function(){var t=this.l10n.getConstant("columns"),e=this.l10n.getConstant("rows"),i=this.parent.createElement("div",{className:"e-cell-wrap"+this.parent.getCssClass(!0)}),s='<div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text"  data-role ="none" id="tableColumn" class="e-table-column'+this.parent.getCssClass(!0)+'"/></div><div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text" data-role ="none" id="tableRow" class="e-table-row'+this.parent.getCssClass(!0)+'" /></div>',n=Es(s);return i.appendChild(n),this.columnTextBox=new Oi({format:"n0",min:1,value:3,placeholder:t,floatLabelType:"Auto",max:50,enableRtl:this.parent.enableRtl,locale:this.parent.locale,cssClass:this.parent.getCssClass()}),this.columnTextBox.isStringTemplate=!0,this.columnTextBox.appendTo(i.querySelector("#tableColumn")),this.rowTextBox=new Oi({format:"n0",min:1,value:3,placeholder:e,floatLabelType:"Auto",max:1e3,enableRtl:this.parent.enableRtl,locale:this.parent.locale,cssClass:this.parent.getCssClass()}),this.rowTextBox.isStringTemplate=!0,this.rowTextBox.appendTo(i.querySelector("#tableRow")),i},a.prototype.clearDialogObj=function(){this.editdlgObj&&(this.editdlgObj.destroy(),N(this.editdlgObj.element),this.editdlgObj=null)},a.prototype.createDialog=function(t){var e=this;if(this.editdlgObj){this.editdlgObj.hide({returnValue:!0});return}var i=this.parent.createElement("div",{className:"e-rte-edit-table"+this.parent.getCssClass(!0),id:this.rteID+"_tabledialog"});this.parent.rootContainer.appendChild(i);var s=this.l10n.getConstant("dialogInsert"),n=this.l10n.getConstant("dialogCancel"),r=this.l10n.getConstant("tabledialogHeader"),o={header:r,cssClass:rt+this.parent.getCssClass(!0),enableRtl:this.parent.enableRtl,locale:this.parent.locale,showCloseIcon:!0,closeOnEscape:!0,width:E.isDevice?"290px":"340px",height:"initial",position:{X:"center",Y:E.isDevice?"center":"top"},isModal:E.isDevice,buttons:[{buttonModel:{content:s,cssClass:"e-flat e-insert-table"+this.parent.getCssClass(!0),isPrimary:!0}},{click:function(l){e.cancelDialog(l)},buttonModel:{cssClass:"e-flat e-cancel"+this.parent.getCssClass(!0),content:n}}],target:E.isDevice?document.body:this.parent.element,animationSettings:{effect:"None"},close:function(l){e.parent.isBlur=!1,e.editdlgObj.destroy(),N(e.editdlgObj.element),e.dialogRenderObj.close(l),e.editdlgObj=null}};this.editdlgObj=this.dialogRenderObj.render(o),this.editdlgObj.appendTo(i),this.quickToolObj&&this.quickToolObj.inlineQTBar&&document.body.contains(this.quickToolObj.inlineQTBar.element)&&this.quickToolObj.inlineQTBar.hidePopup(),this.quickToolObj&&this.quickToolObj.textQTBar&&this.parent.element.ownerDocument.body.contains(this.quickToolObj.textQTBar.element)&&this.quickToolObj.textQTBar.hidePopup()},a.prototype.customTable=function(t,e){var i=this.self?this.self:this;if(i.rowTextBox.value&&i.columnTextBox.value){var s=E.isDevice||!h(t.args)&&!h(t.args.originalEvent)&&t.args.originalEvent.action==="insert-table"||i.parent.inlineMode.enable||!h(i.parent.quickToolbarSettings.text)&&!(t instanceof PointerEvent)?t:this;i.tableInsert(i.rowTextBox.value,i.columnTextBox.value,e,s)}},a.prototype.cancelDialog=function(t){this.parent.isBlur=!1,this.editdlgObj.hide({returnValue:!0})},a.prototype.applyProperties=function(t,e){var i=this.editdlgObj.element,s=M(t.selectNode[0],"table");if(s.style.width=i.querySelector(".e-table-width").value+"px",i.querySelector(".e-cell-padding").value!=="")for(var n=s.querySelectorAll("td"),r=0;r<n.length;r++){var o="";n[r].style.padding===""?o=n[r].getAttribute("style")+" padding:"+i.querySelector(".e-cell-padding").value+"px;":(n[r].style.padding=i.querySelector(".e-cell-padding").value+"px",o=n[r].getAttribute("style")),n[r].setAttribute("style",o)}s.cellSpacing=i.querySelector(".e-cell-spacing").value,!h(s.cellSpacing)&&s.cellSpacing!=="0"?L([s],Zm):Ue([s],Zm),this.parent.formatter.saveData(),this.editdlgObj.hide({returnValue:!0})},a.prototype.tableDlgContent=function(t){var e=t.selectParent[0],i=this.l10n.getConstant("tableWidth"),s=this.l10n.getConstant("cellpadding"),n=this.l10n.getConstant("cellspacing"),r=this.parent.createElement("div",{className:"e-table-sizewrap"+this.parent.getCssClass(!0)}),o=M(e,"table").getClientRects()[0].width,l=M(e,"td").style.padding,c=M(e,"table").getAttribute("cellspacing"),d='<div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text" data-role ="none" id="tableWidth" class="e-table-width'+this.parent.getCssClass(!0)+'"  /></div><div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text" data-role ="none" id="cellPadding" class="e-cell-padding'+this.parent.getCssClass(!0)+'" /> </div><div class="e-rte-field'+this.parent.getCssClass(!0)+'"><input type="text" data-role ="none" id="cellSpacing" class="e-cell-spacing'+this.parent.getCssClass(!0)+'" /></div>',p=Es(d);return r.appendChild(p),this.tableWidthNum=new Oi({format:"n0",min:0,value:o,placeholder:i,floatLabelType:"Auto",enableRtl:this.parent.enableRtl,locale:this.parent.locale}),this.tableWidthNum.isStringTemplate=!0,this.tableWidthNum.appendTo(r.querySelector("#tableWidth")),this.tableCellPadding=new Oi({format:"n0",min:0,value:l!==""?parseInt(l,null):0,placeholder:s,floatLabelType:"Auto",enableRtl:this.parent.enableRtl,locale:this.parent.locale}),this.tableCellPadding.isStringTemplate=!0,this.tableCellPadding.appendTo(r.querySelector("#cellPadding")),this.tableCellSpacing=new Oi({format:"n0",min:0,value:c!==""&&!h(c)?parseInt(c,null):0,placeholder:n,floatLabelType:"Auto",enableRtl:this.parent.enableRtl,locale:this.parent.locale}),this.tableCellSpacing.isStringTemplate=!0,this.tableCellSpacing.appendTo(r.querySelector("#cellSpacing")),r},a.prototype.destroy=function(){this.isDestroyed||(this.resizeIconPositionTime&&(clearTimeout(this.resizeIconPositionTime),this.resizeIconPositionTime=null),this.removeEventListener(),v.remove(this.parent.contentModule.getDocument(),"selectionchange",this.tableCellsKeyboardSelection),this.curTable&&v.remove(this.curTable,"mouseleave",this.tableMouseLeave),this.tableCellSpacing&&!this.tableCellSpacing.isDestroyed&&(this.tableCellSpacing.destroy(),this.tableCellSpacing=null),this.tableCellPadding&&!this.tableCellPadding.isDestroyed&&(this.tableCellPadding.destroy(),this.tableCellPadding=null),this.tableWidthNum&&!this.tableWidthNum.isDestroyed&&(this.tableWidthNum.destroy(),this.tableWidthNum=null),this.rowTextBox&&!this.rowTextBox.isDestroyed&&(this.rowTextBox.destroy(),this.rowTextBox=null),this.columnTextBox&&!this.columnTextBox.isDestroyed&&(this.columnTextBox.destroy(),this.columnTextBox=null),this.createTableButton&&!this.createTableButton.isDestroyed&&(this.createTableButton.destroy(),this.createTableButton=null),this.isDestroyed=!0)},a.prototype.moduleDestroy=function(){this.parent=null},a.prototype.getModuleName=function(){return"table"},a.prototype.afterKeyDown=function(){var t=this;this.curTable&&(this.resizeIconPositionTime=setTimeout(function(){t.updateResizeIconPosition()},1))},a.prototype.updateResizeIconPosition=function(){var t=this.parent.contentModule.getEditPanel().querySelector(".e-table-box");if(!h(t)){var e=this.calcPos(this.curTable);t.style.cssText="top: "+(e.top+parseInt(getComputedStyle(this.curTable).height,10)-4)+"px; left:"+(e.left+parseInt(getComputedStyle(this.curTable).width,10)-4)+"px;"}},a}(),iS=function(){function a(t){this.parent=t,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(Ee,this.removeEventListener,this),this.parent.on(Hs,this.documentClickClosedBy,this))},a.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(Ee,this.removeEventListener),this.parent.off(Hs,this.documentClickClosedBy))},a.prototype.render=function(t){var e;return t.beforeOpen=this.beforeOpen.bind(this),t.open=this.open.bind(this),t.position={X:"center",Y:t.target!=="string"&&t.target.nodeName==="BODY"&&!h(t.position)?t.position.Y:this.getDialogPosition()},h(t.close)&&(t.close=this.close.bind(this)),t.beforeClose=this.beforeClose.bind(this),e=new ch(t),e.isStringTemplate=!0,e},a.prototype.beforeOpen=function(t){if(t.element.classList.contains("e-dialog")){var e=M(t.target,"form");h(e)||(this.dialogEle=t.element,this.dialogEle.addEventListener("keydown",this.handleEnterKeyDown))}this.parent.trigger(T0,t,this.beforeOpenCallback.bind(this,t))},a.prototype.handleEnterKeyDown=function(t){t.code==="Enter"&&t.preventDefault()},a.prototype.beforeOpenCallback=function(t){t.cancel&&this.parent.notify(is,null)},a.prototype.open=function(t){this.parent.trigger(N0,t)},a.prototype.documentClickClosedBy=function(t){this.outsideClickClosedBy=t.closedBy},a.prototype.beforeClose=function(t){this.dialogEle&&this.dialogEle.removeEventListener("keydown",this.handleEnterKeyDown),t.closedBy=this.outsideClickClosedBy==="outside click"?this.outsideClickClosedBy:t.closedBy,this.parent.trigger(I0,t,function(e){e.cancel||e.container.classList.contains("e-popup-close")&&(e.cancel=!0)}),this.outsideClickClosedBy=""},a.prototype.getDialogPosition=function(){var t=this.parent.element.getBoundingClientRect().top;if(t<0){for(var e=0,i=this.parent.element;i.nodeName!=="BODY";){var s=i.getBoundingClientRect().top;s>0&&(e=s),i=i.parentElement}return t=Math.abs(t)+e,t.toString()}else return"top"},a.prototype.close=function(t){this.parent.trigger(D0,t)},a}(),sS=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),nS=`
<!DOCTYPE html> 
    <html>
         <head>
            <meta charset='utf-8' /> 
            <style>
                @charset "UTF-8";
                body {
                    font-family: "Roboto", sans-serif;
                    font-size: 14px;
                }
                html, body{height: 100%;margin: 0;}
                body.e-cursor{cursor:default}
                span.e-selected-node	{background-color: #939393;color: white;}
                span.e-selected-node.e-highlight {background-color: #1d9dd8;}
                body{color:#333;word-wrap:break-word;padding: 8px;box-sizing: border-box;}
                .e-rte-image, .e-rte-video {border: 0;cursor: pointer;display:
                    block;float: none;height: auto;margin: 5px auto;max-width: 100%;position: relative;}
                .e-rte-audio {border: 0;cursor: pointer;display:
                        block;float: none;margin: 5px auto;max-width: 100%;position: relative;}
                .e-rte-image.e-imginline, .e-rte-audio.e-audio-inline, .e-rte-video.e-video-inline {display: inline-block;float: none;
                    margin-left: 5px;margin-right: 5px;max-width: calc(100% - (2 * 5px));padding: 1px;vertical-align: bottom;}
                .e-rte-image.e-imgcenter, .e-rte-video.e-video-center {cursor: pointer;display: block;float: none;margin: 5px auto;max-width: 100%;position: relative;}
                .e-rte-image.e-imgright, .e-rte-video.e-video-right { float: right; margin: 0 auto;margin-left: 5px;text-align: right;}
                .e-rte-image.e-imgleft, .e-rte-video.e-video-left {float: left;margin: 0 auto;margin-right: 5px;text-align: left;}
                .e-img-caption { display: inline-block; float: none; margin: 5px auto; max-width: 100%;position: relative;}
                .e-img-caption.e-caption-inline {display: inline-block;float: none;
                    margin: 5px auto;margin-left: 5px;margin-right: 5px;max-width: calc(100% - (2 * 5px));
                    position: relativetext-align: center;vertical-align: bottom;}
                .e-rte-img-caption.e-imgcenter {display: contents; margin-left: auto; margin-right: auto;}
                .e-rte-img-caption.e-imgright {display: contents; margin-left: auto; margin-right: 0;}
                .e-rte-img-caption.e-imgleft {display: contents;margin-left: 0;margin-right: auto;}
                .e-img-caption.e-rte-img-caption.e-imgbreak {display: contents;}
                .e-img-inner {box-sizing: border-box;display: block;font-size: 16px;font-weight: initial;
                    margin: auto;opacity: .9;text-align: center;width: 100%;}
                .e-img-wrap {display: inline-block;margin: auto;padding: 0;text-align: center;width: 100%;}
                .e-imgleft, .e-video-left {float: left;margin: 0 5px 0 0;text-align: left;}
                .e-imgright, .e-video-right {float: right;margin: 0 0 0 5px;text-align: right;}
                .e-imgcenter, .e-video-center {cursor: pointer;display: block;float: none;height: auto;margin: 5px auto;max-width: 100%;position: relative;}
                .e-control img:not(.e-resize) {border: 2px solid transparent; z-index: 1000}
                .e-imginline , .e-audio-inline, .e-video-inline {display: inline-block;float: none;margin-left: 5px;margin-right: 5px;
                    max-width: calc(100% - (2 * 5px));vertical-align: bottom;}
                .e-imgbreak, .e-audio-break, .e-video-break {border: 0;cursor: pointer;
                    display: block;float: none;height: auto;margin: 5px auto;max-width: 100%;position: relative;}
                .e-rte-image.e-img-focus:not(.e-resize), .e-audio-focus:not(.e-resize), .e-video-focus:not(.e-resize) {border: solid 2px #4a90e2;}
                img.e-img-focus::selection, audio.e-audio-focus::selection, .e-video-focus::selection { background: transparent;color: transparent;}
                span.e-rte-imageboxmark, span.e-rte-videoboxmark {  width: 10px; height: 10px; position: absolute; display: block;
                    background: #4a90e2; border: 1px solid #fff; z-index: 1000;}
                .e-mob-rte.e-mob-span span.e-rte-imageboxmark, .e-mob-rte.e-mob-span span.e-rte-videoboxmark { background: #4a90e2; border: 1px solid #fff; }
                .e-mob-rte span.e-rte-imageboxmark, .e-mob-rte span.e-rte-videoboxmark { background: #fff; border: 1px solid #4a90e2;
                    border-radius: 15px; height: 20px; width: 20px; }
                .e-mob-rte.e-mob-span span.e-rte-imageboxmark, .e-mob-rte.e-mob-span span.e-rte-videoboxmark { background: #4a90e2; border: 1px solid #fff; }
                .e-rte-content .e-content img.e-resize, .e-rte-content .e-content video.e-resize { z-index: 1000; }
                .e-rte-content { font-size: 14px; }
                .e-content { font-weight: normal; line-height: 1.5; font-size: 1em; }
                .e-img-caption .e-img-inner { outline: 0; }
                .e-rte-img-caption.e-imgleft .e-img-inner { float: left; text-align: left; }
                .e-rte-img-caption.e-imgright .e-img-inner { float: right; text-align: right; }
                .e-rte-img-caption.e-imgleft .e-img-wrap, .e-rte-img-caption.e-imgright .e-img-wrap { display: contents; }
                .e-img-caption a:focus-visible { outline: none; }
                .e-rte-img-caption .e-rte-image.e-imgright { margin-left: auto; margin-right: 0; }
                .e-rte-img-caption .e-rte-image.e-imgleft { margin: 0; }
                body{box-sizing: border-box;min-height: 100px;outline: 0 solid transparent;
                    overflow-x: auto;padding: 16px;position: relative;text-align: inherit;z-index: 2;}
                p{margin: 0 0 10px;margin-bottom: 10px;}
                li{margin-bottom: 10px;}
                table{margin-bottom: 10px;}
                h1{ font-size: 2.857em; font-weight: 600; line-height: 1.2; margin: 10px 0; }
                h2{ font-size: 2.285em; font-weight: 600; line-height: 1.2; margin: 10px 0; }
                h3{ font-size: 2em; font-weight: 600; line-height: 1.2; margin: 10px 0; }
                h4{ font-size: 1.714em; font-weight: 600; line-height: 1.2; margin: 10px 0; }
                h5{ font-size: 1.428em; font-weight: 600; line-height: 1.2; margin: 10px 0; }
                h6{ font-size: 1.142em; line-height: 600; line-height: 1.5; margin: 10px 0; }
                blockquote{margin: 10px 0;margin-left: 0;padding-left: 5px;border-left: solid 2px #5c5c5c;}
                pre{background-color: inherit;border: 0;border-radius: 0;color: #333;
                    font-size: inherit;line-height: inherit;margin: 0 0 10px;overflow: visible;padding: 0;
                    white-space: pre-wrap;word-break: inherit;word-wrap: break-word;}
                strong, b{font-weight: 700;}
                a{text-decoration: none;user-select: auto;}
                a:hover{text-decoration: underline;};
                p:last-child, pre:last-child, blockquote:last-child{margin-bottom: 0;}
                h3+h4, h4+h5, h5+h6{margin-top: 00.6em;}
                ul:last-child{margin-bottom: 0;}
                table { border-collapse: collapse; empty-cells: show;}
                table td,table th {border: 1px solid #BDBDBD; height: 20px; padding: 2px 5px; vertical-align: middle;}
                table.e-alternate-border tbody tr:nth-child(2n) {background-color: #F5F5F5;}
                table th {background-color: #E0E0E0;}
                table.e-dashed-border td,table.e-dashed-border th { border: 1px dashed #BDBDBD} 
                table .e-cell-select {border: 1px double #4a90e2;}
                table.e-cell-select {position: relative;}
                table.e-cell-select::after { content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0; border: 2px solid #4a90e2; pointer-events: none;}
                table td.e-cell-select.e-multi-cells-select, table th.e-cell-select.e-multi-cells-select {border: 1px solid #dee2e6; position: relative; }
                table td.e-cell-select.e-multi-cells-select::after, table th.e-cell-select.e-multi-cells-select::after {background-color: rgba(13, 110, 253, 0.08); content: "";
                    position: absolute; top: 0; left: 0; width: 100%; height: 100%; bottom: 0; pointer-events: none; right: 0;}
                span.e-table-box { cursor: nwse-resize; display: block; height: 10px; position: absolute; width: 10px; }
                span.e-table-box.e-rmob {height: 14px;width: 14px;}
                .e-row-resize, .e-column-resize { background-color: transparent; background-repeat: repeat;
                    bottom: 0;cursor: col-resize;height: 1px;overflow: visible;position: absolute;width: 1px; }
                .e-row-resize { cursor: row-resize; height: 1px;}
                .e-table-rhelper { cursor: col-resize; opacity: .87;position: absolute;}
                .e-table-rhelper.e-column-helper { width: 1px; }
                .e-table-rhelper.e-row-helper {height: 1px;}
                .e-reicon::before { border-bottom: 6px solid transparent; border-right: 6px solid;
                    border-top: 6px solid transparent; content: ''; display: block; height: 0;
                    position: absolute; right: 4px; top: 4px; width: 20px; }
                .e-reicon::after { border-bottom: 6px solid transparent; border-left: 6px solid;
                    border-top: 6px solid transparent; content: ''; display: block;
                    height: 0; left: 4px; position: absolute; top: 4px; width: 20px; z-index: 3; }
                .e-row-helper.e-reicon::after { top: 10px; transform: rotate(90deg); }
                .e-row-helper.e-reicon::before { left: 4px; top: -20px; transform: rotate(90deg); }
                span.e-table-box { background-color: #ffffff; border: 1px solid #BDBDBD; }
                span.e-table-box.e-rbox-select { background-color: #BDBDBD; border: 1px solid #BDBDBD; }
                .e-table-rhelper { background-color: #4a90e2;}
                .e-rtl { direction: rtl; }
                .e-rte-placeholder::before { content: attr(placeholder); opacity: 0.54; overflow: hidden; padding-top: 16px; position: absolute; text-align: start; top: 0; z-index: 1; }
                li ol, li ul { margin-block-start: 10px;}
                .e-resize-enabled, .e-count-enabled { padding-bottom: 0px; }
                td.e-multi-cells-select ::selection, th.e-multi-cells-select ::selection { background-color: transparent; }
                td.e-multi-cells-select, th.e-multi-cells-select { user-select: none !important; }
            </style>
        </head>`,rS=function(a){sS(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.renderPanel=function(){var e=this.parent,i=Ro(e.value,e),s='<body spellcheck="false" autocorrect="off" contenteditable="true">'+i+"</body></html>",n=nS+s,r=this.parent.createElement("iframe",{id:this.parent.getID()+"_rte-view",className:"e-rte-content",attrs:{srcdoc:n}});r.setAttribute("role","none"),this.setPanel(r),e.rootContainer.appendChild(r),r.contentDocument.body.id=this.parent.getID()+"_rte-edit-view",r.contentDocument.body.setAttribute("aria-owns",this.parent.getID()),r.contentDocument.open(),n=this.setThemeColor(n,{color:"#333"}),r.contentDocument.write(n),r.contentDocument.close(),e.enableRtl&&this.contentPanel.contentDocument.body.setAttribute("class","e-rtl")},t.prototype.setThemeColor=function(e,i){var s=getComputedStyle(this.parent.element,".e-richtexteditor").getPropertyValue("color");return e.replace(i.color,s)},t.prototype.getEditPanel=function(){var e;return h(this.contentPanel.contentDocument)?e=this.parent.inputElement:e=this.contentPanel.contentDocument.body,e},t.prototype.getDocument=function(){return this.getEditPanel().ownerDocument},t}(Rg);var aS=function(){function a(t){this.parent=t}return a.prototype.quickToolbarOpen=function(){var t=this.popupObj;this.parent.trigger(w0,t)},a.prototype.renderPopup=function(t){this.setPanel(t.element),this.renderPanel(),t.popupObj=new jt(t.element,{targetType:"relative",relateTo:this.parent.element,open:this.quickToolbarOpen.bind(this)}),this.popupObj=t.popupObj,t.popupObj.hide()},a.prototype.renderPanel=function(){this.getPanel().classList.add(V0)},a.prototype.getPanel=function(){return this.popupPanel},a.prototype.setPanel=function(t){this.popupPanel=t},a}(),Vd=function(){function a(t,e){this.tools={},this.parent=t,this.locator=e,this.isDestroyed=!1,this.renderFactory=this.locator.getService("rendererFactory"),this.addEventListener(),this.parent.toolbarSettings&&Object.keys(this.parent.toolbarSettings.itemConfigs).length>0?ue(this.tools,On,Jd(this.parent.toolbarSettings.itemConfigs),!0):this.tools=On,(this.parent.toolbarSettings.enable||this.parent.quickToolbarSettings.enable)&&(this.toolbarRenderer=new og(this.parent,this.locator),this.renderFactory.addRenderer(Ce.Toolbar,this.toolbarRenderer))}return a.prototype.addEventListener=function(){this.parent.on(ts,this.setRtl,this),this.parent.on(ot,this.setCssClass,this)},a.prototype.removeEventListener=function(){this.parent.off(ts,this.setRtl),this.parent.off(ot,this.setCssClass)},a.prototype.setCssClass=function(t){h(this.toolbarObj)||(h(t.oldCssClass)?this.toolbarObj.setProperties({cssClass:(this.toolbarObj.cssClass+" "+t.cssClass).trim()}):this.toolbarObj.setProperties({cssClass:(this.toolbarObj.cssClass.replace(t.oldCssClass,"").trim()+" "+t.cssClass).trim()}))},a.prototype.setRtl=function(t){h(this.toolbarObj)||this.toolbarObj.setProperties({enableRtl:t.enableRtl})},a.prototype.getClass=function(t){var e;switch(t){case"fontsize":e="e-rte-inline-size-template";break;case"fontcolor":case"backgroundcolor":e="e-rte-inline-color-template";break;default:e="e-rte-inline-template";break}return e},a.prototype.getTemplateObject=function(t,e){var i;switch(t){case"fontcolor":case"backgroundcolor":case"numberformatlist":case"bulletformatlist":i="span";break;default:i="button";break}return{command:this.tools[t.toLocaleLowerCase()].command,subCommand:this.tools[t.toLocaleLowerCase()].subCommand,template:this.parent.createElement(i,{id:this.parent.getID()+"_"+e+"_"+this.tools[t.toLocaleLowerCase()].id}).outerHTML,cssClass:this.parent.inlineMode.enable?this.getClass(t):"",tooltipText:kr(t,this.locator)}},a.prototype.getObject=function(t,e){var i=t.toLowerCase();if(Kd.indexOf(i)!==-1)return this.getTemplateObject(i,e);switch(i){case"|":return{type:"Separator"};case"-":return{type:"Separator",cssClass:Q0};default:return{id:this.parent.getID()+"_"+e+"_"+this.tools[i.toLocaleLowerCase()].id,prefixIcon:this.tools[i.toLocaleLowerCase()].icon,tooltipText:kr(i,this.locator),command:this.tools[i.toLocaleLowerCase()].command,subCommand:this.tools[i.toLocaleLowerCase()].subCommand}}},a.prototype.getItems=function(t,e){var i=this;if(this.parent.toolbarSettings.items.length<1)return[];for(var s=[],n=function(m){switch(typeof m){case"string":s.push(r.getObject(m,e));break;default:if(!h(m.click)){var g=m,b=g.click;g.click=function(){if(g.undo&&i.parent.formatter.getUndoRedoStack().length===0&&i.parent.formatter.saveData(),b.call(i),i.parent.formatter.getUndoRedoStack().length>0){var S=i.parent.createElement("div"),T=i.parent.formatter.getUndoRedoStack()[i.parent.formatter.getUndoRedoStack().length-1],I=T.text.cloneNode(!0);if(S.appendChild(I),S.innerHTML.trim()===i.parent.inputElement.innerHTML.trim())return}g.undo&&i.parent.formatter.saveData()}}s.push(m)}},r=this,o=0,l=t;o<l.length;o++){var c=l[o];n(c)}if(this.parent.showTooltip)for(var d=0;d<s.length;d++){var p=s[d].tooltipText,u=void 0,f=window.navigator.platform.toLocaleLowerCase().includes("mac");rc[""+p]?u=f?rc[""+p].replace("Ctrl+","\u2318").replace("Shift+","\u21E7").replace("Alt+","\u2325"):rc[""+p]:u=p,u&&(s[d].command==="Images"&&s[d].subCommand==="InsertLink"||(s[d].tooltipText=p!==u?p+" ("+u+")":p))}return s},a.prototype.getToolbarOptions=function(t){return{target:t.target,rteToolbarObj:this,items:this.getItems(t.items,t.container),overflowMode:t.mode,enablePersistence:this.parent.enablePersistence,enableRtl:this.parent.enableRtl,cssClass:t.cssClass,type:t.container}},a.prototype.render=function(t){this.toolbarRenderer=this.renderFactory.getRenderer(Ce.Toolbar),this.toolbarRenderer&&this.toolbarRenderer.isDestroyed&&(this.toolbarRenderer=new og(this.parent,this.locator)),this.toolbarRenderer.renderToolbar(this.getToolbarOptions(t))},a.prototype.destroy=function(){this.isDestroyed||(this.removeEventListener(),this.toolbarObj&&!this.toolbarObj.isDestroyed&&(this.toolbarObj.destroy(),this.toolbarObj=null),this.toolbarRenderer.destroy(),this.toolbarRenderer=null,this.tools={},this.isDestroyed=!0)},a}(),qg=function(){function a(t,e){this.parent=t,this.locator=e,this.i10n=e.getService("rteLocale"),this.renderFactory=this.locator.getService("rendererFactory"),this.addEventListener()}return a.prototype.initializeInstance=function(){this.toolbarRenderer=this.renderFactory.getRenderer(Ce.Toolbar)},a.prototype.beforeRender=function(t){var e=t.item;e.cssClass&&L([t.element],e.cssClass)},a.prototype.dropdownContent=function(t,e,i){return'<span style="display: inline-flex;width:'+(e==="quick"?"auto":t)+'" ><span class="e-rte-dropdown-btn-text">'+i+"</span></span>"},a.prototype.renderDropDowns=function(t){var e=this;this.initializeInstance();var i=t.containerType,s=t.container;Kd.forEach(function(n){var r=void 0;if($d(n,t.items)!==-1)switch(n){case"numberformatlist":{if(r=W("#"+e.parent.getID()+"_"+i+"_NumberFormatList",s),h(r)||r.classList.contains(Dt))return;var o=e.parent.numberFormatList.types.slice();o.forEach(function(b){Object.defineProperties(b,{command:{value:"Lists",enumerable:!0},subCommand:{value:"NumberFormatList",enumerable:!0}})}),e.numberFormatListDropDown=e.toolbarRenderer.renderListDropDown({cssClass:"e-order-list "+rt+" "+Ao,itemName:"NumberFormatList",items:o,element:r});break}case"bulletformatlist":{if(r=W("#"+e.parent.getID()+"_"+i+"_BulletFormatList",s),h(r)||r.classList.contains(Dt))return;var l=e.parent.bulletFormatList.types.slice();l.forEach(function(b){Object.defineProperties(b,{command:{value:"Lists",enumerable:!0},subCommand:{value:"BulletFormatList",enumerable:!0}})}),e.bulletFormatListDropDown=e.toolbarRenderer.renderListDropDown({cssClass:"e-unorder-list "+rt+" "+Ao,itemName:"BulletFormatList",items:l,element:r});break}case"formats":{if(r=W("#"+e.parent.getID()+"_"+i+"_Formats",s),h(r)||r.classList.contains(Dt))return;var c=e.parent.format.types.slice();c.forEach(function(b){Object.defineProperties(b,{command:{value:"Formats",enumerable:!0},subCommand:{value:b.value,enumerable:!0}})});var d=h(e.parent.format.default)?c[0].text:e.parent.format.default;e.formatDropDown=e.toolbarRenderer.renderDropDownButton({iconCss:i==="quick"?"e-formats e-icons":"",content:e.dropdownContent(e.parent.format.width,i,i==="quick"?"":Pt(c,d,"text","text")),cssClass:Zt+" "+Ai+" "+X0,itemName:"Formats",items:c,element:r});break}case"fontname":{if(r=W("#"+e.parent.getID()+"_"+i+"_FontName",s),h(r)||r.classList.contains(Dt))return;var p=e.parent.fontFamily.items.slice();p.forEach(function(b){Object.defineProperties(b,{command:{value:"Font",enumerable:!0},subCommand:{value:"FontName",enumerable:!0}})});var u=h(e.parent.fontFamily.default)?p[0].text:e.parent.fontFamily.default;e.fontNameDropDown=e.toolbarRenderer.renderDropDownButton({iconCss:i==="quick"?"e-font-name e-icons":"",content:e.dropdownContent(e.parent.fontFamily.width,i,i==="quick"?"":Pt(p,u,"text","text")==="Default"?e.i10n.getConstant("fontName"):Pt(p,u,"text","text")),cssClass:Zt+" "+Ai+" "+K0,itemName:"FontName",items:p,element:r}),h(e.parent.fontFamily.default)||(e.getEditNode().style.fontFamily=e.parent.fontFamily.default);break}case"fontsize":{if(r=W("#"+e.parent.getID()+"_"+i+"_FontSize",s),h(r)||r.classList.contains(Dt))return;var f=!h(e.fontSizeDropDown)&&!h(e.fontSizeDropDown.items)&&e.fontSizeDropDown.items.length>0?e.fontSizeDropDown.items:JSON.parse(JSON.stringify(e.parent.fontSize.items.slice()));f.forEach(function(b){Object.defineProperties(b,{command:{value:"Font",enumerable:!0},subCommand:{value:"FontSize",enumerable:!0}})});var m=h(e.parent.fontSize.default)?f[0].text:e.parent.fontSize.default,g=m==="Default"?Pt(f,m.replace(/\s/g,""),"text","text"):Pt(f,m.replace(/\s/g,""),"value","text");e.fontSizeDropDown=e.toolbarRenderer.renderDropDownButton({content:e.dropdownContent(e.parent.fontSize.width,i,hd(g==="Default"?e.i10n.getConstant("fontSize"):g)),cssClass:Zt+" "+Ai+" "+$0,itemName:"FontSize",items:f,element:r}),h(e.parent.fontSize.default)||(e.getEditNode().style.fontSize=e.parent.fontSize.default);break}case"alignments":if(r=W("#"+e.parent.getID()+"_"+i+"_Alignments",s),h(r)||r.classList.contains(Dt))return;e.alignDropDown=e.toolbarRenderer.renderDropDownButton({iconCss:"e-justify-left e-icons",cssClass:Zt+" "+Ai+" "+J0,itemName:"Alignments",items:xr,element:r});break;case"align":case"videoalign":e.renderAlignmentDropDown(i,s,r,n);break;case"display":case"audiolayoutoption":case"videolayoutoption":e.renderDisplayDropDown(i,s,r,n);break;case"tablerows":e.rowDropDown(i,s,r);break;case"tablecolumns":e.columnDropDown(i,s,r);break;case"tablecell":e.cellDropDown(i,s,r);break;case"tablecellverticalalign":e.verticalAlignDropDown(i,s,r);break;case"styles":e.tableStylesDropDown(i,s,r);break}}),this.parent.inlineMode.enable&&this.setCssClass({cssClass:this.parent.getCssClass()})},a.prototype.getUpdateItems=function(t,e){var i=t.slice();return i.forEach(function(s){Object.defineProperties(s,{command:{value:e==="Format"?"Formats":"Font",enumerable:!0},subCommand:{value:e==="Format"?s.value:e,enumerable:!0}})}),i},a.prototype.onPropertyChanged=function(t){for(var e=t.newProp,i,s,n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];switch(o){case"fontFamily":if(this.fontNameDropDown)for(var l=0,c=Object.keys(e.fontFamily);l<c.length;l++){var d=c[l];switch(d){case"default":case"width":{var p=this.fontNameDropDown.items;i=h(M(this.fontNameDropDown.element,"."+po))?"toolbar":"quick";var u=h(this.parent.fontFamily.default)?p[0].text:this.parent.fontFamily.default;s=this.dropdownContent(this.parent.fontFamily.width,i,i==="quick"?"":Pt(p,u,"text","text")==="Default"?this.i10n.getConstant("fontName"):Pt(p,u,"text","text")),this.fontNameDropDown.setProperties({content:s}),h(this.parent.fontFamily.default)?this.getEditNode().style.removeProperty("font-family"):this.getEditNode().style.fontFamily=this.parent.fontFamily.default;break}case"items":this.fontNameDropDown.setProperties({items:this.getUpdateItems(e.fontFamily.items,"FontName")});break}}break;case"fontSize":if(this.fontSizeDropDown)for(var f=0,m=Object.keys(e.fontSize);f<m.length;f++){var g=m[f];switch(g){case"default":case"width":{var b=this.fontSizeDropDown.items;i=h(M(this.fontSizeDropDown.element,"."+po))?"toolbar":"quick";var S=h(this.parent.fontSize.default)?b[0].text:this.parent.fontSize.default,T=S==="Default"?Pt(b,S.replace(/\s/g,""),"text","text"):Pt(b,S.replace(/\s/g,""),"value","text");s=this.dropdownContent(this.parent.fontSize.width,i,hd(T==="Default"?this.i10n.getConstant("fontSize"):T)),this.fontSizeDropDown.setProperties({content:s}),h(this.parent.fontSize.default)?this.getEditNode().style.removeProperty("font-size"):this.getEditNode().style.fontSize=this.parent.fontSize.default;break}case"items":this.fontSizeDropDown.setProperties({items:this.getUpdateItems(e.fontSize.items,"FontSize")});break}}break;case"format":if(this.formatDropDown)for(var I=0,w=Object.keys(e.format);I<w.length;I++){var x=w[I];switch(x){case"default":case"width":{var A=this.formatDropDown.items;i=h(M(this.formatDropDown.element,"."+po))?"toolbar":"quick";var q=h(this.parent.format.default)?A[0].text:this.parent.format.default;s=this.dropdownContent(this.parent.format.width,i,i==="quick"?"":Pt(A,q,"text","text")),this.formatDropDown.setProperties({content:s});break}case"types":this.formatDropDown.setProperties({items:this.getUpdateItems(e.format.types,"Format")});break}}break}}},a.prototype.getEditNode=function(){return this.parent.contentModule.getEditPanel()},a.prototype.rowDropDown=function(t,e,i){i=W("#"+this.parent.getID()+"_"+t+"_TableRows",e),!i.classList.contains(Dt)&&(this.tableRowsDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:"e-table-rows e-icons",cssClass:Zt+" "+Ai+" "+As,itemName:"TableRows",items:vo,element:i}))},a.prototype.columnDropDown=function(t,e,i){i=W("#"+this.parent.getID()+"_"+t+"_TableColumns",e),!i.classList.contains(Dt)&&(this.tableColumnsDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:"e-table-columns e-icons",cssClass:Zt+" "+Ai+" "+As,itemName:"TableColumns",items:yo,element:i}))},a.prototype.cellDropDown=function(t,e,i){i=W("#"+this.parent.getID()+"_"+t+"_TableCell",e),!i.classList.contains(Dt)&&(this.tableCellDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:"e-table-cell e-icons",cssClass:Zt+" "+Ai+" "+As,itemName:"TableCell",items:TM,element:i}))},a.prototype.verticalAlignDropDown=function(t,e,i){i=W("#"+this.parent.getID()+"_"+t+"_TableCellVerticalAlign",e),!i.classList.contains(Dt)&&(this.tableCellVerticalAlignDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:"e-table-cell-ver-align e-icons",cssClass:Zt+" "+Ai+" "+As,itemName:"TableCellVerticalAlign",items:bo,element:i}))},a.prototype.renderDisplayDropDown=function(t,e,i,s){i=W("#"+this.parent.getID()+"_"+t+(s==="display"?"_Display":s==="videolayoutoption"?"_VideoLayoutOption":"_AudioLayoutOption"),e),!i.classList.contains(Dt)&&(this.displayDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:s==="display"?"e-display e-icons":s==="videolayoutoption"?"e-video-display e-icons":"e-audio-display e-icons",cssClass:Zt+" "+Ai+" "+As,itemName:s==="display"?"Display":s==="videolayoutoption"?"VideoLayoutOption":"AudioLayoutOption",items:s==="display"?fo:s==="videolayoutoption"?go:mo,element:i}))},a.prototype.renderAlignmentDropDown=function(t,e,i,s){i=W("#"+this.parent.getID()+"_"+t+(s==="align"?"_Align":"_VideoAlign"),e),!i.classList.contains(Dt)&&(this.imageAlignDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:"e-justify-left e-icons",cssClass:Zt+" "+ec+" "+As,itemName:s==="align"?"Align":"VideoAlign",items:s==="align"?bM:CM,element:i}))},a.prototype.tableStylesDropDown=function(t,e,i){i=W("#"+this.parent.getID()+"_"+t+"_Styles",e),!i.classList.contains(Dt)&&(this.imageAlignDropDown=this.toolbarRenderer.renderDropDownButton({iconCss:"e-style e-icons",cssClass:Zt+" "+ec+" "+As,itemName:"Styles",items:this.parent.tableSettings.styles,element:i}))},a.prototype.removeDropDownClasses=function(t){k([t],[Dt,Zt,ec,Ai])},a.prototype.destroyDropDowns=function(){this.formatDropDown&&(this.removeDropDownClasses(this.formatDropDown.element),this.formatDropDown.destroy(),this.formatDropDown=null),this.fontNameDropDown&&(this.removeDropDownClasses(this.fontNameDropDown.element),this.fontNameDropDown.destroy(),this.fontNameDropDown=null),this.fontSizeDropDown&&(this.removeDropDownClasses(this.fontSizeDropDown.element),this.fontSizeDropDown.destroy(),this.fontSizeDropDown=null),this.alignDropDown&&(this.removeDropDownClasses(this.alignDropDown.element),this.alignDropDown.destroy(),this.alignDropDown=null),this.imageAlignDropDown&&(this.removeDropDownClasses(this.imageAlignDropDown.element),this.imageAlignDropDown.destroy(),this.imageAlignDropDown=null),this.displayDropDown&&(this.removeDropDownClasses(this.displayDropDown.element),this.displayDropDown.destroy(),this.displayDropDown=null),this.tableRowsDropDown&&(this.removeDropDownClasses(this.tableRowsDropDown.element),this.tableRowsDropDown.destroy(),this.tableRowsDropDown=null),this.tableColumnsDropDown&&(this.removeDropDownClasses(this.tableColumnsDropDown.element),this.tableColumnsDropDown.destroy(),this.tableColumnsDropDown=null),this.tableCellDropDown&&(this.removeDropDownClasses(this.tableCellDropDown.element),this.tableCellDropDown.destroy(),this.tableCellDropDown=null),this.tableCellVerticalAlignDropDown&&(this.removeDropDownClasses(this.tableCellVerticalAlignDropDown.element),this.tableCellVerticalAlignDropDown.destroy(),this.tableCellVerticalAlignDropDown=null),this.numberFormatListDropDown&&(this.removeDropDownClasses(this.numberFormatListDropDown.element),this.numberFormatListDropDown.destroy(),this.numberFormatListDropDown=null),this.bulletFormatListDropDown&&(this.removeDropDownClasses(this.bulletFormatListDropDown.element),this.bulletFormatListDropDown.destroy(),this.bulletFormatListDropDown=null),this.toolbarRenderer=null},a.prototype.setRtl=function(t){this.formatDropDown&&this.formatDropDown.setProperties({enableRtl:t.enableRtl}),this.fontNameDropDown&&this.fontNameDropDown.setProperties({enableRtl:t.enableRtl}),this.fontSizeDropDown&&this.fontSizeDropDown.setProperties({enableRtl:t.enableRtl}),this.alignDropDown&&this.alignDropDown.setProperties({enableRtl:t.enableRtl}),this.imageAlignDropDown&&this.imageAlignDropDown.setProperties({enableRtl:t.enableRtl}),this.displayDropDown&&this.displayDropDown.setProperties({enableRtl:t.enableRtl}),this.numberFormatListDropDown&&this.numberFormatListDropDown.setProperties({enableRtl:t.enableRtl}),this.bulletFormatListDropDown&&this.bulletFormatListDropDown.setProperties({enableRtl:t.enableRtl})},a.prototype.updateCss=function(t,e){t&&e.cssClass&&(h(e.oldCssClass)?t.setProperties({cssClass:(t.cssClass+" "+e.cssClass).trim()}):t.setProperties({cssClass:(t.cssClass.replace(e.oldCssClass,"").trim()+" "+e.cssClass).trim()}))},a.prototype.setCssClass=function(t){for(var e=[this.formatDropDown,this.fontNameDropDown,this.fontSizeDropDown,this.alignDropDown,this.imageAlignDropDown,this.displayDropDown,this.numberFormatListDropDown,this.bulletFormatListDropDown,this.tableRowsDropDown,this.tableColumnsDropDown,this.tableCellDropDown,this.tableCellVerticalAlignDropDown],i=0;i<e.length;i++)this.updateCss(e[i],t)},a.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(yc,this.beforeRender,this),this.parent.on(wt,this.onIframeMouseDown,this),this.parent.on(ts,this.setRtl,this),this.parent.on(gt,this.onPropertyChanged,this),this.parent.on(ot,this.setCssClass,this))},a.prototype.onIframeMouseDown=function(){!h(this.parent.getToolbarElement())&&(this.parent.getToolbarElement().querySelectorAll('.e-rte-dropdown-btn[aria-expanded="true"]').length>0||this.parent.getToolbarElement().querySelectorAll('.e-dropdown-btn.e-rte-inline-dropdown[aria-expanded="true"]').length>0)&&qs(document,"mousedown")},a.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(wt,this.onIframeMouseDown),this.parent.off(ts,this.setRtl),this.parent.off(yc,this.beforeRender),this.parent.off(gt,this.onPropertyChanged),this.parent.off(ot,this.setCssClass))},a.prototype.destroy=function(){this.removeEventListener(),this.destroyDropDowns()},a}(),oS=function(){function a(t){this.parent=t,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.on(pc,this.toolbarClick,this),this.parent.on(gi,this.dropDownSelect,this),this.parent.on(Lr,this.renderSelection,this),this.parent.on(Ee,this.removeEventListener,this)},a.prototype.toolbarClick=function(t){if(!h(t.item)){if(!h(t.item.controlParent)){var e=t.item.controlParent.activeEle;e&&(e.tabIndex=-1)}(t.item.command==="NumberFormatList"||t.item.command==="BulletFormatList")&&(t.originalEvent.target.classList.contains("e-order-list")||t.originalEvent.target.classList.contains("e-unorder-list"))&&(t.item.command="Lists",t.item.subCommand=t.item.subCommand==="NumberFormatList"?"OL":"UL"),!(t.item.command==="Lists"&&t.originalEvent.target.classList.contains("e-caret")&&(t.originalEvent.target.parentElement.classList.contains("e-rte-bulletformatlist-dropdown")||t.originalEvent.target.parentElement.classList.contains("e-rte-numberformatlist-dropdown")))&&(this.parent.notify(fc,t),this.parent.notify(C0,t))}},a.prototype.dropDownSelect=function(t){if(this.parent.notify(ii,{}),!(document.body.contains(document.body.querySelector(".e-rte-quick-toolbar"))&&t.item&&(t.item.command==="Images"||t.item.command==="Audios"||t.item.command==="Videos"||t.item.command==="VideoLayoutOption"||t.item.command==="Display"||t.item.command==="Table"))){var e=t.item.controlParent&&this.parent.quickToolbarModule&&this.parent.quickToolbarModule.tableQTBar&&this.parent.quickToolbarModule.tableQTBar.element.contains(t.item.controlParent.element)?"Table":null;if(t.item.command==="Lists"){var i={listStyle:t.item.value,listImage:t.item.listImage,type:t.item.subCommand};this.parent.formatter.process(this.parent,t,t.originalEvent,i)}else this.parent.formatter.process(this.parent,t,t.originalEvent,e)}this.parent.notify(ti,{})},a.prototype.renderSelection=function(t){this.parent.notify(ii,{}),this.parent.formatter.process(this.parent,t,t.originalEvent,null),this.parent.notify(ti,{})},a.prototype.removeEventListener=function(){this.parent.off(pc,this.toolbarClick),this.parent.off(gi,this.dropDownSelect),this.parent.off(Lr,this.renderSelection),this.parent.off(Ee,this.removeEventListener)},a}(),_g=function(){function a(t,e){this.tools={},this.parent=t,this.locator=e,this.renderFactory=this.locator.getService("rendererFactory"),this.addEventListener(),this.parent.toolbarSettings&&Object.keys(this.parent.toolbarSettings.itemConfigs).length>0?ue(this.tools,On,Jd(this.parent.toolbarSettings.itemConfigs),!0):this.tools=On}return a.prototype.initializeInstance=function(){this.toolbarRenderer=this.renderFactory.getRenderer(Ce.Toolbar)},a.prototype.renderColorPickerInput=function(t){var e=this;this.initializeInstance();var i=t.containerType,s=t.container,n,r;Kd.forEach(function(o){if($d(o,t.items)!==-1)switch(o){case"fontcolor":{n=e.parent.getID()+"_"+i+"_FontColor_Target";var l=e.parent.createElement("input");if(l.id=n,l.classList.add(Z0),!h(e.parent.cssClass))for(var c=e.parent.cssClass.split(" "),d=0;d<c.length;d++)c[d].trim()!==""&&l.classList.add(c[d]);document.body.appendChild(l),r={cssClass:e.tools[o.toLocaleLowerCase()].icon+" "+rt+" "+Ao+e.parent.getCssClass(!0),value:e.tools[o.toLocaleLowerCase()].value,command:e.tools[o.toLocaleLowerCase()].command,subCommand:e.tools[o.toLocaleLowerCase()].subCommand,element:W("#"+e.parent.getID()+"_"+i+"_FontColor",s),target:n},e.fontColorPicker=e.toolbarRenderer.renderColorPicker(r,"fontcolor"),e.fontColorDropDown=e.toolbarRenderer.renderColorPickerDropDown(r,"fontcolor",e.fontColorPicker);break}case"backgroundcolor":{n=e.parent.getID()+"_"+i+"_BackgroundColor_Target";var p=e.parent.createElement("input");if(p.id=n,p.classList.add(eM),!h(e.parent.cssClass))for(var c=e.parent.cssClass.split(" "),d=0;d<c.length;d++)c[d].trim()!==""&&p.classList.add(c[d]);document.body.appendChild(p),r={cssClass:e.tools[o.toLocaleLowerCase()].icon+" "+rt+" "+Ao+e.parent.getCssClass(!0),value:e.tools[o.toLocaleLowerCase()].value,command:e.tools[o.toLocaleLowerCase()].command,subCommand:e.tools[o.toLocaleLowerCase()].subCommand,element:W("#"+e.parent.getID()+"_"+i+"_BackgroundColor",s),target:n},e.backgroundColorPicker=e.toolbarRenderer.renderColorPicker(r,"backgroundcolor"),e.backgroundColorDropDown=e.toolbarRenderer.renderColorPickerDropDown(r,"backgroundcolor",e.backgroundColorPicker,e.defaultColorPicker);break}}}),this.parent.inlineMode.enable&&this.setCssClass({cssClass:this.parent.getCssClass()})},a.prototype.destroy=function(){this.removeEventListener(),this.destroyColorPicker(),this.defaultColorPicker=null,this.fontColorPicker=null,this.fontColorDropDown=null,this.backgroundColorDropDown=null,this.backgroundColorPicker=null,this.tools={}},a.prototype.destroyColorPicker=function(){if(this.fontColorPicker&&!this.fontColorPicker.isDestroyed&&this.fontColorPicker.destroy(),this.backgroundColorPicker&&!this.backgroundColorPicker.isDestroyed&&this.backgroundColorPicker.destroy(),this.fontColorDropDown&&!this.fontColorDropDown.isDestroyed){var t=this.fontColorDropDown.element.querySelector(".e-rte-color-content");t&&N(t),this.fontColorDropDown.destroy()}if(this.backgroundColorDropDown&&!this.backgroundColorDropDown.isDestroyed){var t=this.backgroundColorDropDown.element.querySelector(".e-rte-color-content");t&&(this.defaultColorPicker=t.children[0].style.borderBottomColor,N(t)),this.backgroundColorDropDown.destroy()}},a.prototype.setRtl=function(t){this.fontColorPicker&&(this.fontColorPicker.setProperties({enableRtl:t.enableRtl}),this.fontColorDropDown.setProperties({enableRtl:t.enableRtl})),this.backgroundColorPicker&&(this.backgroundColorPicker.setProperties({enableRtl:t.enableRtl}),this.backgroundColorDropDown.setProperties({enableRtl:t.enableRtl}))},a.prototype.setCssClass=function(t){this.updateCss(this.fontColorPicker,this.fontColorDropDown,t),this.updateCss(this.backgroundColorPicker,this.backgroundColorDropDown,t)},a.prototype.updateCss=function(t,e,i){t&&i.cssClass&&(h(i.oldCssClass)?(t.setProperties({cssClass:(t.cssClass+" "+i.cssClass).trim()}),e.setProperties({cssClass:(e.cssClass+" "+i.cssClass).trim()})):(t.setProperties({cssClass:(t.cssClass.replace(i.oldCssClass,"").replace("  "," ").trim()+" "+i.cssClass).trim()}),e.setProperties({cssClass:(e.cssClass.replace(i.oldCssClass,"").replace("  "," ").trim()+" "+i.cssClass).trim()})))},a.prototype.addEventListener=function(){this.parent.on(Om,this.renderColorPickerInput,this),this.parent.on(ts,this.setRtl,this),this.parent.on(gt,this.onPropertyChanged,this),this.parent.on(ot,this.setCssClass,this),this.parent.on(ed,this.showColorPicker,this)},a.prototype.showColorPicker=function(t){!h(this.fontColorPicker)&&t.toolbarClick==="fontcolor"?this.fontColorDropDown.toggle():!h(this.backgroundColorPicker)&&t.toolbarClick==="backgroundcolor"&&this.backgroundColorDropDown.toggle()},a.prototype.onPropertyChanged=function(t){for(var e=t.newProp,i,s=0,n=Object.keys(e);s<n.length;s++){var r=n[s];switch(r){case"fontColor":if(this.fontColorPicker)for(var o=0,l=Object.keys(e.fontColor);o<l.length;o++){var c=l[o];switch(c){case"default":{this.fontColorPicker.setProperties({value:e.fontColor.default}),i=this.fontColorDropDown.element;var d=i.querySelector("."+this.tools.fontcolor.icon);d.style.borderBottomColor=e.fontColor.default;break}case"mode":this.fontColorPicker.setProperties({mode:e.fontColor.mode});break;case"columns":this.fontColorPicker.setProperties({columns:e.fontColor.columns});break;case"colorCode":this.fontColorPicker.setProperties({presetColors:e.fontColor.colorCode});break;case"modeSwitcher":this.fontColorPicker.setProperties({modeSwitcher:e.fontColor.modeSwitcher});break}}break;case"backgroundColor":if(this.backgroundColorPicker)for(var p=0,u=Object.keys(e.backgroundColor);p<u.length;p++){var f=u[p];switch(f){case"default":{this.backgroundColorPicker.setProperties({value:e.backgroundColor.default}),i=this.backgroundColorDropDown.element;var m=i.querySelector("."+this.tools.backgroundcolor.icon);m.style.borderBottomColor=e.backgroundColor.default;break}case"mode":this.backgroundColorPicker.setProperties({mode:e.backgroundColor.mode});break;case"columns":this.backgroundColorPicker.setProperties({columns:e.backgroundColor.columns});break;case"colorCode":this.backgroundColorPicker.setProperties({presetColors:e.backgroundColor.colorCode});break;case"modeSwitcher":this.backgroundColorPicker.setProperties({modeSwitcher:e.backgroundColor.modeSwitcher});break}}break}}},a.prototype.removeEventListener=function(){this.parent.off(Om,this.renderColorPickerInput),this.parent.off(ts,this.setRtl),this.parent.off(gt,this.onPropertyChanged),this.parent.off(ot,this.setCssClass),this.parent.off(ed,this.showColorPicker)},a}(),Wg=function(){function a(t,e){this.tools={},this.parent=t,this.isDestroyed=!1,this.isToolbar=!1,this.locator=e,this.isTransformChild=!1,this.renderFactory=this.locator.getService("rendererFactory"),AM(this.parent),jg(this.parent),this.baseToolbar=new Vd(this.parent,this.locator),this.addEventListener(),this.parent.toolbarSettings&&Object.keys(this.parent.toolbarSettings.itemConfigs).length>0?ue(this.tools,On,Jd(this.parent.toolbarSettings.itemConfigs),!0):this.tools=On}return a.prototype.initializeInstance=function(){this.contentRenderer=this.renderFactory.getRenderer(Ce.Content),this.editableElement=this.contentRenderer.getEditPanel(),this.editPanel=this.contentRenderer.getPanel()},a.prototype.toolbarBindEvent=function(){this.parent.inlineMode.enable||(this.keyBoardModule=new oi(this.getToolbarElement(),{keyAction:this.toolBarKeyDown.bind(this),keyConfigs:this.parent.formatter.keyConfig,eventName:"keydown"}))},a.prototype.toolBarKeyDown=function(t){switch(t.action){case"escape":this.parent.contentModule.getEditPanel().focus();break;case"enter":!h(t.target)&&(t.target.classList.contains("e-rte-fontcolor-dropdown")||t.target.classList.contains("e-rte-backgroundcolor-dropdown"))&&this.parent.notify(ed,{toolbarClick:t.target.classList.contains("e-rte-fontcolor-dropdown")?"fontcolor":"backgroundcolor"})}},a.prototype.createToolbarElement=function(){this.tbElement=this.parent.createElement("div",{id:this.parent.getID()+"_toolbar"}),!(!E.isDevice&&this.parent.inlineMode.enable&&et())&&(this.parent.inlineMode.enable?this.parent.rootContainer.insertBefore(this.tbElement,this.editPanel):(this.tbWrapper=this.parent.createElement("div",{id:this.parent.getID()+"_toolbar_wrapper",innerHTML:this.tbElement.outerHTML,className:tc}),this.tbElement=this.tbWrapper.firstElementChild,this.parent.rootContainer.insertBefore(this.tbWrapper,this.editPanel)))},a.prototype.getToolbarMode=function(){var t;switch(this.parent.toolbarSettings.type){case mi.Expand:t="Extended";break;case mi.Scrollable:t="Scrollable";break;default:t="MultiRow"}return et()&&this.parent.toolbarSettings.type===mi.Expand&&(t=mi.Scrollable),t},a.prototype.checkToolbarResponsive=function(t){if(!E.isDevice||et())return!1;var e;return this.parent.toolbarSettings.type===mi.Expand?e=mi.MultiRow:e=this.parent.toolbarSettings.type,this.baseToolbar.render({container:this.parent.inlineMode.enable?"quick":"toolbar",items:this.parent.toolbarSettings.items,mode:e,target:t,cssClass:this.parent.getCssClass()}),this.parent.toolbarSettings.type===mi.Expand&&(L([t],["e-rte-tb-mobile"]),this.parent.inlineMode.enable?this.addFixedTBarClass():L([t],[U0])),this.wireEvents(),this.dropDownModule.renderDropDowns({container:t,containerType:this.parent.inlineMode.enable?"quick":"toolbar",items:this.parent.toolbarSettings.items}),this.renderColorPicker({container:this.tbElement,containerType:this.parent.inlineMode.enable?"quick":"toolbar",items:this.parent.toolbarSettings.items}),!0},a.prototype.checkIsTransformChild=function(){this.isTransformChild=!1;for(var t=ce('[style*="transform"]',document),e=0;e<t.length;e++)if(!h(t[e].contains)&&t[e].contains(this.parent.element)){this.isTransformChild=!0;break}},a.prototype.toggleFloatClass=function(){var t=this.parent.floatingToolbarOffset;this.parent.toolbarSettings.enableFloating?(L([this.tbElement.parentElement],[id]),se(this.tbElement.parentElement,{top:t+"px"})):(k([this.tbElement.parentElement],[id]),se(this.tbElement.parentElement,{top:""}))},a.prototype.renderToolbar=function(){this.initializeInstance(),this.createToolbarElement(),!this.checkToolbarResponsive(this.tbElement)&&(this.parent.inlineMode.enable?this.parent.notify(Lc,{}):(this.baseToolbar.render({container:"toolbar",items:this.parent.toolbarSettings.items,mode:this.getToolbarMode(),target:this.tbElement,cssClass:this.parent.getCssClass()}),this.parent.inlineMode.enable||(this.parent.toolbarSettings.enableFloating&&(this.checkIsTransformChild(),this.toggleFloatClass()),L([this.parent.element],[ig]),this.parent.toolbarSettings.type===mi.Expand&&L([this.parent.element],[Bm]))),this.wireEvents(),this.parent.inlineMode.enable&&!et()&&this.addFixedTBarClass(),this.parent.inlineMode.enable||(this.dropDownModule.renderDropDowns({container:this.tbElement,containerType:"toolbar",items:this.parent.toolbarSettings.items}),this.renderColorPicker({container:this.tbElement,containerType:"toolbar",items:this.parent.toolbarSettings.items}),this.refreshToolbarOverflow()),this.parent.rootContainer&&this.parent.rootContainer.classList.contains("e-source-code-enabled")&&(this.parent.notify(Dr,{targetItem:"SourceCode",updateItem:"Preview",baseToolbar:this.parent.getBaseToolbarObject()}),this.parent.disableToolbarItem(this.parent.toolbarSettings.items)))},a.prototype.addFixedTBarClass=function(){L([this.tbElement],[Pm])},a.prototype.removeFixedTBarClass=function(){k([this.tbElement],[Pm])},a.prototype.showFixedTBar=function(){L([this.tbElement],[Um]),E.isIos&&L([this.tbElement],[Xm])},a.prototype.hideFixedTBar=function(){this.isToolbar?this.isToolbar=!1:k([this.tbElement],[Um,Xm])},a.prototype.updateItem=function(t){var e=this.tools[t.updateItem.toLocaleLowerCase()];(kr(t.updateItem.toLocaleLowerCase(),this.locator)!=="Code View"&&kr(t.updateItem.toLocaleLowerCase(),this.locator)!=="Preview"||this.parent.locale!=="en-US")&&(e.tooltip=kr(t.updateItem.toLocaleLowerCase(),this.locator));var i=this.tools[t.targetItem.toLocaleLowerCase()],s=Io(No(i.subCommand),t.baseToolbar.toolbarObj.items)[0];if(h(s))this.addTBarItem(t,0);else{var n=this.parent.inlineMode.enable?"_quick_":"_toolbar_";t.baseToolbar.toolbarObj.items[s].id=this.parent.getID()+n+e.id,t.baseToolbar.toolbarObj.items[s].prefixIcon=e.icon,t.baseToolbar.toolbarObj.items[s].tooltipText=e.tooltip,t.baseToolbar.toolbarObj.items[s].subCommand=e.subCommand,t.baseToolbar.toolbarObj.dataBind(),t.baseToolbar.toolbarObj.refreshOverflow()}},a.prototype.updateToolbarStatus=function(t){if(!(!this.tbElement||this.parent.inlineMode.enable&&(et()||!E.isDevice))){var e={args:t,dropDownModule:this.dropDownModule,parent:this.parent,tbElements:ce("."+Ss,this.tbElement),tbItems:this.baseToolbar.toolbarObj.items};cd(e,!!this.parent.inlineMode.enable,this.parent)}},a.prototype.fullScreen=function(t){this.parent.fullScreenModule.showFullScreen(t)},a.prototype.hideScreen=function(t){this.parent.fullScreenModule.hideFullScreen(t)},a.prototype.getBaseToolbar=function(){return this.baseToolbar},a.prototype.addTBarItem=function(t,e){t.baseToolbar.toolbarObj.addItems([t.baseToolbar.getObject(t.updateItem,"toolbar")],e)},a.prototype.enableTBarItems=function(t,e,i,s){var n=Io(No(e),t.toolbarObj.items);this.tbItems=ce("."+Ss,t.toolbarObj.element);for(var r=0;r<n.length;r++){var o=this.tbItems[n[r]];o&&t.toolbarObj.enableItems(o,i)}!W("."+Bs,this.parent.element)&&!s&&xn(t,this.parent.formatter.editorManager.undoRedoManager.getUndoStatus())},a.prototype.removeTBarItems=function(t){h(this.baseToolbar.toolbarObj)&&(this.baseToolbar=this.parent.getBaseToolbarObject());var e=Io(No(t),this.baseToolbar.toolbarObj.items);this.tbItems=this.parent.inlineMode.enable?ce("."+Ss,this.baseToolbar.toolbarObj.element):ce("."+Ss,this.parent.element);for(var i=0;i<e.length;i++)this.baseToolbar.toolbarObj.removeItems(this.tbItems[e[i]])},a.prototype.getExpandTBarPopHeight=function(){var t=0;if(this.parent.toolbarSettings.type===mi.Expand&&this.tbElement.classList.contains("e-extended-toolbar")){var e=W(".e-toolbar-extended",this.tbElement);e&&this.tbElement.classList.contains("e-expand-open")||e&&e.classList.contains("e-popup-open")?(L([e],[Vm]),t=t+e.offsetHeight,k([e],[Vm])):k([this.tbElement],[rd])}return t},a.prototype.getToolbarHeight=function(){return this.tbElement.offsetHeight},a.prototype.getToolbarElement=function(){return this.parent&&this.parent.element?W("."+co,this.parent.element):null},a.prototype.refreshToolbarOverflow=function(){this.parent.element.classList.remove(js),this.baseToolbar.toolbarObj.refreshOverflow(),this.parent.enableRtl&&this.parent.element.classList.add(js)},a.prototype.isToolbarDestroyed=function(){return!!(this.baseToolbar&&this.baseToolbar.toolbarObj&&this.baseToolbar.toolbarObj.isDestroyed)},a.prototype.destroyToolbar=function(){if(!this.isToolbarDestroyed()){this.parent.unWireScrollElementsEvents(),this.unWireEvents(),this.dropDownModule.destroy(),this.parent.emojiPickerModule&&!this.parent.emojiPickerModule.isPopupDestroyed&&this.parent.emojiPickerModule.childDestroy(),this.dropDownModule=null,this.colorPickerModule.destroy(),this.colorPickerModule=null,this.keyBoardModule&&(this.keyBoardModule.destroy(),this.keyBoardModule=null),this.baseToolbar.destroy(),this.removeEventListener(),k([this.parent.element],[ig]),k([this.parent.element],[Bm]);var t=W("."+tc,this.parent.element),e=W("."+co,this.parent.element);h(t)||N(t),h(e)||N(e)}},a.prototype.destroy=function(){this.isDestroyed||(this.isToolbarDestroyed()||this.destroyToolbar(),this.toolbarObj=null,this.editPanel=null,this.isToolbar=null,this.editableElement=null,this.tbItems=null,this.baseToolbar=null,this.tbElement=null,this.tbWrapper=null,this.isTransformChild=null,this.contentRenderer=null,this.dropDownModule=null,this.colorPickerModule=null,this.toolbarActionModule=null,this.tools=null,this.locator=null,this.renderFactory=null,this.isDestroyed=!0)},a.prototype.moduleDestroy=function(){this.parent=null,this.baseToolbar.parent=null,this.toolbarActionModule.parent=null,this.dropDownModule.parent=null},a.prototype.mouseDownHandler=function(){E.isDevice&&this.parent.inlineMode.enable&&!et()&&this.showFixedTBar()},a.prototype.focusChangeHandler=function(){E.isDevice&&this.parent.inlineMode.enable&&!et()&&(this.isToolbar=!1,this.hideFixedTBar())},a.prototype.dropDownBeforeOpenHandler=function(){this.isToolbar=!0},a.prototype.tbFocusHandler=function(t){var e=document.activeElement,i=M(e,".e-rte-toolbar");if(e===this.parent.getToolbarElement()||i===this.parent.getToolbarElement())for(var s=this.parent.getToolbarElement().querySelectorAll(".e-expended-nav"),n=0;n<s.length;n++)h(this.parent.getToolbarElement().querySelector(".e-insert-table-btn"))?s[n].setAttribute("tabindex","0"):s[n].setAttribute("tabindex","1")},a.prototype.wireEvents=function(){this.parent.inlineMode.enable&&et()||v.add(this.tbElement,"focusin",this.tbFocusHandler,this)},a.prototype.unWireEvents=function(){v.remove(this.tbElement,"focusin",this.tbFocusHandler)},a.prototype.addEventListener=function(){this.parent.isDestroyed||(this.dropDownModule=new qg(this.parent,this.locator),this.toolbarActionModule=new oS(this.parent),this.colorPickerModule=new _g(this.parent,this.locator),this.parent.on(Ct,this.renderToolbar,this),this.parent.on(uc,this.toolbarBindEvent,this),this.parent.on(Zi,this.updateToolbarStatus,this),this.parent.on(gt,this.onPropertyChanged,this),this.parent.on(wm,this.onRefresh,this),this.parent.on(Ee,this.destroy,this),this.parent.on(gc,this.fullScreen,this),this.parent.on(vc,this.hideScreen,this),this.parent.on(Dr,this.updateItem,this),this.parent.on(Lo,this.dropDownBeforeOpenHandler,this),this.parent.on(Br,this.focusChangeHandler,this),this.parent.on(_t,this.mouseDownHandler,this),this.parent.on(Pr,this.mouseDownHandler,this),this.parent.on(ot,this.setCssClass,this),this.parent.on(ni,this.moduleDestroy,this))},a.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(Ct,this.renderToolbar),this.parent.off(uc,this.toolbarBindEvent),this.parent.off(Zi,this.updateToolbarStatus),this.parent.off(gt,this.onPropertyChanged),this.parent.off(wm,this.onRefresh),this.parent.off(Ee,this.destroy),this.parent.off(gc,this.parent.fullScreenModule.showFullScreen),this.parent.off(vc,this.parent.fullScreenModule.hideFullScreen),this.parent.off(Dr,this.updateItem),this.parent.off(Lo,this.dropDownBeforeOpenHandler),this.parent.off(Br,this.focusChangeHandler),this.parent.off(_t,this.mouseDownHandler),this.parent.off(Pr,this.mouseDownHandler),this.parent.off(ot,this.setCssClass),this.parent.off(ni,this.moduleDestroy))},a.prototype.setCssClass=function(t){this.toolbarObj&&t.cssClass&&(h(t.oldCssClass)?this.toolbarObj.setProperties({cssClass:(this.toolbarObj.cssClass+" "+t.cssClass).trim()}):this.toolbarObj.setProperties({cssClass:(this.toolbarObj.cssClass.replace(t.oldCssClass,"").trim()+" "+t.cssClass).trim()}))},a.prototype.onRefresh=function(){this.parent.inlineMode.enable||this.refreshToolbarOverflow(),this.parent.autoResize()},a.prototype.onPropertyChanged=function(t){if(!h(t.newProp.inlineMode))for(var e=0,i=Object.keys(t.newProp.inlineMode);e<i.length;e++){var s=i[e];switch(s){case"enable":this.refreshToolbar();break}}h(t.newProp.toolbarSettings)||h(t.newProp.toolbarSettings.enableFloating)||this.toggleFloatClass(),t.module===this.getModuleName()&&this.refreshToolbar()},a.prototype.refreshToolbar=function(){h(this.baseToolbar.toolbarObj)&&(this.baseToolbar=this.parent.getBaseToolbarObject());var t=W("."+tc,this.parent.element),e=W("."+co,this.parent.element);(e||t)&&this.destroyToolbar(),this.parent.toolbarSettings.enable&&(this.baseToolbar&&this.baseToolbar.toolbarObj&&!this.baseToolbar.toolbarObj.isDestroyed&&this.baseToolbar.destroy(),this.baseToolbar=new Vd(this.parent,this.locator),this.addEventListener(),this.renderToolbar(),this.parent.wireScrollElementsEvents(),!W("."+Bs,this.parent.element)&&!this.parent.inlineMode.enable&&xn(this.baseToolbar,this.parent.formatter.editorManager.undoRedoManager.getUndoStatus()),this.parent.notify(ss,{}))},a.prototype.getModuleName=function(){return"toolbar"},a.prototype.renderColorPicker=function(t){this.colorPickerModule.renderColorPickerInput(t)},a}(),lS=function(){function a(t,e){this.parent=t,this.locator=e,this.isRendered=!1,this.isDestroyed=!1,this.renderFactory=this.locator.getService("rendererFactory"),this.contentRenderer=this.renderFactory.getRenderer(Ce.Content),this.popupRenderer=this.renderFactory.getRenderer(Ce.Popup),this.dropDownButtons=new qg(this.parent,this.locator),this.colorPickerObj=new _g(this.parent,this.locator)}return a.prototype.appendPopupContent=function(){this.toolbarElement=this.parent.createElement("div",{className:po}),this.element.classList.contains(Fm)&&this.toolbarElement.classList.add(F0),this.element.appendChild(this.toolbarElement)},a.prototype.render=function(t){var e;t.popupType==="Image"?e=q0:t.popupType==="Inline"?e=Er:t.popupType==="Text"?e=Fm:e="";var i=Ae(t.popupType+"_Quick_Popup");this.stringItems=t.toolbarItems,this.element=this.parent.createElement("div",{id:i,className:e+" "+rt}),this.element.setAttribute("aria-owns",this.parent.getID()),this.appendPopupContent(),this.createToolbar(t.toolbarItems,t.mode,t.cssClass),this.popupRenderer.renderPopup(this),this.addEventListener()},a.prototype.createToolbar=function(t,e,i){this.quickTBarObj=new Vd(this.parent,this.locator),this.quickTBarObj.render({container:"quick",target:this.toolbarElement,items:t,mode:e,cssClass:i}),this.quickTBarObj.toolbarObj.refresh()},a.prototype.setPosition=function(t){var e,i,s=M(t.target,".e-img-caption"),n=!(t.target.classList.contains("e-imginline")||t.target.classList.contains("e-imgbreak")),r=h(s)?t.target:s;L([this.toolbarElement],[qm]);var o;if(!h(M(r,"table"))&&!r.classList.contains("e-multi-cells-select")&&!r.classList.contains("e-rte-image")){o=r.offsetTop;for(var l=M(r,"table");!h(l);)o+=l.offsetTop,l=M(l.parentElement,"table")}else o=r.classList.contains("e-rte-audio")?r.parentElement.offsetTop:r.offsetTop;var c=window.pageYOffset+t.parentData.top;o-t.editTop>t.popHeight?i=c+t.tBarElementHeight+(o-t.editTop)-t.popHeight-5:t.editTop+t.editHeight-(o+r.offsetHeight)>t.popHeight?i=c+t.tBarElementHeight+(o-t.editTop)+r.offsetHeight+5:i=t.y,r=n?t.target:r;var d;if(!h(M(r,"table"))&&!r.classList.contains("e-multi-cells-select")&&!r.classList.contains("e-rte-image")){d=r.offsetLeft;for(var l=M(r.parentElement,"th, td");!h(l);)d+=l.offsetLeft,l=M(l.parentElement,"table")}else d=r.classList.contains("e-rte-audio")?r.parentElement.offsetLeft:r.offsetLeft;r.offsetWidth>t.popWidth?e=r.offsetWidth/2-t.popWidth/2+t.parentData.left+d:e=t.parentData.left+d,this.popupObj.position.X=e+t.popWidth>t.parentData.right?t.parentData.right-t.popWidth:e,this.popupObj.position.Y=i>=0?i:t.y+5,this.popupObj.dataBind(),k([this.toolbarElement],[qm])},a.prototype.checkCollision=function(t,e,i){var s,n,r=t.parentData.top,o=t.windowY+r+t.tBarElementHeight,l=[];e==="document"?l=us(t.popup):l=us(t.popup,t.parentElement);for(var c=0;c<l.length;c++)switch(l[c]){case"top":e==="document"?n=t.windowY:n=window.pageYOffset+r+t.tBarElementHeight;break;case"bottom":{var d=void 0;e==="document"?i==="inline"||i==="text"?d=t.y-t.popHeight-10:t.windowHeight-(r+t.tBarElementHeight)>t.popHeight?o-t.windowHeight>t.popHeight?d=o+(t.windowHeight-r)-t.popHeight:d=o:d=t.windowY+(r+t.tBarElementHeight):t.target.tagName!=="IMG"?d=t.parentData.bottom+window.pageYOffset-t.popHeight-10:d=t.parentData.bottom+window.pageYOffset-t.popHeight-5,n=d;break}case"right":i==="inline"||i==="text"?s=window.pageXOffset+(t.windowWidth-(t.popWidth+t.bodyRightSpace+10)):s=t.x-t.popWidth;break;case"left":i==="inline"||i==="text"?s=0:s=t.parentData.left;break}this.popupObj.position.X=s||this.popupObj.position.X,this.popupObj.position.Y=n||this.popupObj.position.Y,this.popupObj.dataBind()},a.prototype.showPopup=function(t,e,i,s){var n=this,r={popup:this.popupObj,cancel:!1,targetElement:i,positionX:t,positionY:e};this.parent.trigger(L0,r,function(o){if(!o.cancel){var l=void 0,c=void 0,d=window.getComputedStyle(document.body),p=parseFloat(d.marginRight.split("px")[0])+parseFloat(d.paddingRight.split("px")[0]),u=window.innerHeight,f=window.innerWidth,m=n.parent.element,g=!h(n.parent.getToolbar()),b=g&&n.parent.toolbarModule.getToolbarHeight(),S=g&&n.parent.toolbarModule.getExpandTBarPopHeight(),T=g?b+S:0;if(L([n.element],[Tr]),E.isDevice&&!et()&&L([n.parent.getToolbar()],[Tr]),n.parent.iframeSettings.enable){var I=n.contentRenderer.getPanel().contentWindow;l=I.pageYOffset,c=I.innerHeight}else{var I=M(i,"."+_0);l=I?I.scrollTop:0,c=I?I.offsetHeight:0}!n.parent.inlineMode.enable&&!M(i,"table")&&s!=="text"&&s!=="link"||i.tagName==="IMG"?(n.parent.disableToolbarItem(n.parent.toolbarSettings.items),n.parent.enableToolbarItem(["Undo","Redo"])):n.parent.enableToolbarItem(n.parent.toolbarSettings.items),Pe([n.element],document.body),n.parent.showTooltip&&(n.tooltip=new ms({target:"#"+n.element.id+" [title]",openDelay:400,showTipPointer:!0,beforeRender:n.tooltipBeforeRender.bind(n),windowCollision:!0,position:"BottomCenter",cssClass:n.parent.getCssClass()}),n.tooltip.appendTo(n.element)),n.popupObj.position.X=o.positionX+20,n.popupObj.position.Y=o.positionY+20,n.popupObj.dataBind(),n.popupObj.element.classList.add("e-popup-open"),n.dropDownButtons.renderDropDowns({container:n.toolbarElement,containerType:"quick",items:n.stringItems}),n.colorPickerObj.renderColorPickerInput({container:n.toolbarElement,containerType:"quick",items:n.stringItems});var w={x:t,y:e,target:i,editTop:l,editHeight:c,popup:n.popupObj.element,popHeight:n.popupObj.element.offsetHeight,popWidth:n.popupObj.element.offsetWidth,parentElement:m,bodyRightSpace:p,windowY:window.pageYOffset,windowHeight:u,windowWidth:f,parentData:m.getBoundingClientRect(),tBarElementHeight:T};(M(i,"TABLE")||i.tagName==="IMG"||i.tagName==="AUDIO"||i.tagName==="VIDEO"||i.tagName==="IFRAME"||i.classList&&(i.classList.contains(Fi)||i.classList.contains(Ji)||i.classList.contains(wn)))&&(t===o.positionX||e===o.positionY)&&n.setPosition(w),n.parent.inlineMode.enable||n.checkCollision(w,"parent",""),n.checkCollision(w,"document",n.parent.inlineMode.enable?"inline":s==="text"?"text":""),n.popupObj.element.classList.remove("e-popup-open"),k([n.element],[Tr]),n.popupObj.show({name:"ZoomIn",duration:E.isIE?250:400},i),n.popupObj&&n.parent.cssClass&&(k([n.popupObj.element],n.parent.cssClass.replace(/\s+/g," ").trim().split(" ")),L([n.popupObj.element],n.parent.cssClass.replace(/\s+/g," ").trim().split(" "))),se(n.element,{maxWidth:window.outerWidth+"px"}),L([n.element],[Hm]),n.isRendered=!0}})},a.prototype.tooltipBeforeRender=function(t){t.target.querySelector(".e-active")&&(t.cancel=!0,h(t.target.getAttribute("title"))||this.parent.notify(ko,{target:t.target,isTitle:!0}))},a.prototype.hidePopup=function(){var t=!h(this.parent.rootContainer)&&this.parent.rootContainer.classList.contains("e-source-code-enabled");if(E.isDevice&&!et()&&k([this.parent.getToolbar()],[Tr]),!h(this.element.querySelectorAll("[data-title]"))){var e=this.element.querySelectorAll("[data-title]");e.forEach(function(n){var r=new MouseEvent("mouseout",{bubbles:!0,cancelable:!0});n.dispatchEvent(r)})}if(h(document.querySelector(".e-tooltip-wrap")))h(this.tooltip)||this.tooltip.destroy();else{if(!h(document.querySelector("#"+this.element.id+" [data-tooltip-id]"))){var i=document.querySelector("#"+this.element.id+" [data-tooltip-id]"),s=i.getAttribute("data-content");i.removeAttribute("data-content"),i.setAttribute("title",s),i.removeAttribute("data-tooltip-id")}this.tooltip.destroy()}!h(this.parent.getToolbar())&&!this.parent.inlineMode.enable&&(t||this.parent.enableToolbarItem(this.parent.toolbarSettings.items)),this.removeEleFromDOM(),this.isRendered=!1},a.prototype.addQTBarItem=function(t,e){this.quickTBarObj.toolbarObj.addItems(this.quickTBarObj.getItems(t,"toolbar"),e)},a.prototype.removeQTBarItem=function(t){this.quickTBarObj.toolbarObj.removeItems(t)},a.prototype.removeEleFromDOM=function(){var t=this.popupObj.element;if(this.isRendered){this.dropDownButtons.destroyDropDowns(),this.colorPickerObj.destroyColorPicker(),k([this.element],[Hm]),N(t);var e=this.popupObj;this.parent.trigger(O0,e)}},a.prototype.updateStatus=function(t){var e={args:t,dropDownModule:this.dropDownButtons,parent:this.parent,tbElements:ce("."+Ss,this.element),tbItems:this.quickTBarObj.toolbarObj.items};if(cd(e,!0,this.parent),this.parent.quickToolbarSettings.text&&this.parent.quickToolbarModule.textQTBar){var i={args:t,dropDownModule:this.parent.quickToolbarModule.textQTBar.dropDownButtons,parent:this.parent,tbElements:ce("."+Ss,this.parent.quickToolbarModule.textQTBar.element),tbItems:this.parent.quickToolbarModule.textQTBar.quickTBarObj.toolbarObj.items};cd(i,!0,this.parent),xn(this.parent.quickToolbarModule.textQTBar.quickTBarObj,this.parent.formatter.editorManager.undoRedoManager.getUndoStatus())}W("."+Bs,this.parent.element)||xn(this.parent.getBaseToolbarObject(),this.parent.formatter.editorManager.undoRedoManager.getUndoStatus())},a.prototype.destroy=function(){this.isDestroyed||(this.tooltip&&!this.tooltip.isDestroyed&&(this.tooltip.destroy(),this.tooltip=null),this.removeEventListener(),this.quickTBarObj.destroy(),this.quickTBarObj=null,this.popupObj&&!this.popupObj.isDestroyed&&(this.removeEleFromDOM(),this.popupObj.destroy()),this.colorPickerObj=null,this.dropDownButtons=null,this.stringItems=null,this.dropDownButtons=null,this.colorPickerObj=null,this.toolbarElement=null,this.isDestroyed=!0)},a.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(Ee,this.destroy,this),this.parent.on(gt,this.onPropertyChanged,this),(this.parent.inlineMode.enable||this.parent.quickToolbarSettings.text)&&this.parent.on(Zi,this.updateStatus,this))},a.prototype.onPropertyChanged=function(t){if(!h(t.newProp.inlineMode))for(var e=0,i=Object.keys(t.newProp.inlineMode);e<i.length;e++){var s=i[e];switch(s){case"enable":t.newProp.inlineMode.enable?this.parent.on(Zi,this.updateStatus,this):this.parent.off(Zi,this.updateStatus);break}}},a.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(Ee,this.destroy),this.parent.off(gt,this.onPropertyChanged),(this.parent.inlineMode.enable||this.parent.quickToolbarSettings.text)&&this.parent.off(Zi,this.updateStatus))},a}(),Qg=function(){function a(t,e){this.debounceTimeout=1e3,this.parent=t,this.locator=e,this.renderFactory=this.locator.getService("rendererFactory"),this.renderFactory.addRenderer(Ce.Popup,new aS(this.parent)),this.addEventListener(),this.isDestroyed=!1}return a.prototype.formatItems=function(t){var e=[];return t.forEach(function(i){if(typeof i=="string")switch(i.toLocaleLowerCase()){case"open":e.push("openLink");break;case"edit":e.push("editLink");break;case"unlink":e.push("removeLink");break;default:e.push(i);break}else e.push(i)}),e},a.prototype.getQTBarOptions=function(t,e,i,s){return{popupType:t,toolbarItems:i,mode:e,renderType:s,cssClass:this.parent.getCssClass()}},a.prototype.createQTBar=function(t,e,i,s){if(i.length<1)return null;var n=new lS(this.parent,this.locator);return n.render(this.getQTBarOptions(t,e,this.formatItems(i),s)),n},a.prototype.initializeQuickToolbars=function(){this.parent.quickToolbarModule=this,this.contentRenderer=this.renderFactory.getRenderer(Ce.Content),this.parent.inlineMode.enable&&this.parent.inlineMode.onSelection&&et()&&v.add(this.contentRenderer.getDocument(),"selectionchange",this.selectionChangeHandler,this)},a.prototype.onMouseDown=function(t){this.parent.isBlur=!1,this.parent.isRTE=!0},a.prototype.keyUpQT=function(t){t.which===27&&this.hideQuickToolbars()},a.prototype.renderQuickToolbars=function(){this.linkQTBar||this.imageQTBar||this.audioQTBar||this.videoQTBar||this.textQTBar||this.tableQTBar||(this.linkQTBar=this.createQTBar("Link","Scrollable",this.parent.quickToolbarSettings.link,Ce.LinkToolbar),this.renderFactory.addRenderer(Ce.LinkToolbar,this.linkQTBar),!h(this.parent.quickToolbarSettings.text)&&!this.parent.inlineMode.enable&&(this.textQTBar=this.createQTBar("Text","MultiRow",this.parent.quickToolbarSettings.text,Ce.TextToolbar),this.renderFactory.addRenderer(Ce.TextToolbar,this.textQTBar)),this.imageQTBar=this.createQTBar("Image","MultiRow",this.parent.quickToolbarSettings.image,Ce.ImageToolbar),this.renderFactory.addRenderer(Ce.ImageToolbar,this.imageQTBar),this.audioQTBar=this.createQTBar("Audio","MultiRow",this.parent.quickToolbarSettings.audio,Ce.AudioToolbar),this.renderFactory.addRenderer(Ce.AudioToolbar,this.audioQTBar),this.videoQTBar=this.createQTBar("Video","MultiRow",this.parent.quickToolbarSettings.video,Ce.VideoToolbar),this.renderFactory.addRenderer(Ce.VideoToolbar,this.videoQTBar),this.tableQTBar=this.createQTBar("Table","MultiRow",this.parent.quickToolbarSettings.table,Ce.TableToolbar),this.renderFactory.addRenderer(Ce.TableToolbar,this.tableQTBar),this.linkQTBar&&(v.add(this.linkQTBar.element,"mousedown",this.onMouseDown,this),v.add(this.linkQTBar.element,"keyup",this.keyUpQT,this)),this.imageQTBar&&(v.add(this.imageQTBar.element,"mousedown",this.onMouseDown,this),v.add(this.imageQTBar.element,"keyup",this.keyUpQT,this)),this.audioQTBar&&(v.add(this.audioQTBar.element,"mousedown",this.onMouseDown,this),v.add(this.audioQTBar.element,"keyup",this.keyUpQT,this)),this.videoQTBar&&(v.add(this.videoQTBar.element,"mousedown",this.onMouseDown,this),v.add(this.videoQTBar.element,"keyup",this.keyUpQT,this)),this.textQTBar&&(v.add(this.textQTBar.element,"mousedown",this.onMouseDown,this),v.add(this.textQTBar.element,"keyup",this.keyUpQT,this)),this.tableQTBar&&(v.add(this.tableQTBar.element,"mousedown",this.onMouseDown,this),v.add(this.tableQTBar.element,"keyup",this.keyUpQT,this)))},a.prototype.renderInlineQuickToolbar=function(){this.parent.inlineMode.enable&&(!E.isDevice||et())&&(L([this.parent.element],[Jh]),this.inlineQTBar=this.createQTBar("Inline","MultiRow",this.parent.toolbarSettings.items,Ce.InlineToolbar),this.renderFactory.addRenderer(Ce.InlineToolbar,this.inlineQTBar),v.add(this.inlineQTBar.element,"mousedown",this.onMouseDown,this),v.add(this.inlineQTBar.element,"keyup",this.keyUpQT,this))},a.prototype.showInlineQTBar=function(t,e,i){h(this.parent)||this.parent.readonly||i.tagName.toLowerCase()==="img"||this.inlineQTBar.element.querySelector(".e-rte-color-content")||this.inlineQTBar.showPopup(t,e,i)},a.prototype.hideInlineQTBar=function(){this.inlineQTBar&&!Qe(this.inlineQTBar.element,"e-popup-close")&&this.inlineQTBar.hidePopup()},a.prototype.hideQuickToolbars=function(){this.linkQTBar&&!Qe(this.linkQTBar.element,"e-popup-close")&&document.body.contains(this.linkQTBar.element)&&this.linkQTBar.hidePopup(),this.textQTBar&&!Qe(this.textQTBar.element,"e-popup-close")&&document.body.contains(this.textQTBar.element)&&this.textQTBar.hidePopup(),this.imageQTBar&&!Qe(this.imageQTBar.element,"e-popup-close")&&document.body.contains(this.imageQTBar.element)&&this.imageQTBar.hidePopup(),this.audioQTBar&&!Qe(this.audioQTBar.element,"e-popup-close")&&document.body.contains(this.audioQTBar.element)&&this.audioQTBar.hidePopup(),this.videoQTBar&&!Qe(this.videoQTBar.element,"e-popup-close")&&document.body.contains(this.videoQTBar.element)&&this.videoQTBar.hidePopup(),this.tableQTBar&&!Qe(this.tableQTBar.element,"e-popup-close")&&document.body.contains(this.tableQTBar.element)&&this.tableQTBar.hidePopup(),!h(this.parent)&&this.parent.inlineMode.enable&&(!E.isDevice||et())&&this.hideInlineQTBar()},a.prototype.deBounce=function(t,e,i){var s=this;clearTimeout(this.deBouncer),this.deBouncer=window.setTimeout(function(){s.showInlineQTBar(t,e,i)},this.debounceTimeout)},a.prototype.mouseUpHandler=function(t){if(this.parent.inlineMode.enable&&(!E.isDevice||et())){var e=t.args.touches?t.args.changedTouches[0]:t.args,i=this.parent.getRange(),s=t.args.target;if(h(W("."+Er,document.body))){if(et()&&t.touchData&&t.touchData.prevClientX!==t.touchData.clientX&&t.touchData.prevClientY!==t.touchData.clientY)return;this.hideInlineQTBar();var n=this.parent.element.getBoundingClientRect().left;if(this.offsetX=this.parent.iframeSettings.enable?window.pageXOffset+n+e.clientX:e.pageX,this.offsetY=sg(e,this.parent.element,this.parent.iframeSettings.enable),s.nodeName==="TEXTAREA")this.showInlineQTBar(this.offsetX,this.offsetY,s);else{var r=M(s,"a");s=r||s;var o=this.parent.getRange().startContainer.parentElement,l=this.parent.getRange().endContainer.parentElement;if((h(M(o,"A"))||h(M(l,"A")))&&(!M(s,"td,th")||!i.collapsed)&&(s.tagName!=="IMG"||this.parent.getRange().startOffset!==this.parent.getRange().endOffset)){if(this.parent.inlineMode.onSelection&&i.collapsed)return;this.target=s,this.showInlineQTBar(this.offsetX,this.offsetY,s)}}}}if(!h(this.textQTBar)&&!h(this.parent.quickToolbarSettings.text)&&!this.parent.inlineMode.enable){if(!h(t)&&!h(t.name)&&t.name==="sourceCodeMouseDown")return;var e=t.args.touches?t.args.changedTouches[0]:t.args,s=t.args.target;this.hideQuickToolbars();var n=this.parent.element.getBoundingClientRect().left;this.offsetX=this.parent.iframeSettings.enable?this.parent.element.ownerDocument.documentElement.scrollLeft+n+e.clientX:e.pageX,this.offsetY=sg(e,this.parent.element,this.parent.iframeSettings.enable);var i=this.parent.getRange();if(i.endContainer.parentElement.tagName===i.startContainer.parentElement.tagName&&i.startContainer.parentElement.tagName==="A"&&i.endContainer.parentElement.tagName==="A"||s.tagName==="IMG"||s.tagName==="VIDEO"||this.isEmbedVidElem(s)||s.tagName==="AUDIO"||s.childNodes[0]&&s.childNodes[0].nodeType===1&&s.childNodes[0].classList.contains("e-rte-audio")||this.parent.getRange().startOffset===this.parent.getRange().endOffset)return;this.target=s,this.textQTBar.showPopup(this.offsetX,this.offsetY,s,"text")}},a.prototype.isEmbedVidElem=function(t){return!!(t&&t.nodeType!==3&&t.nodeName!=="BR"&&t.classList&&t.classList.contains(wn)||t&&t.nodeName==="IFRAME")},a.prototype.keyDownHandler=function(t){var e=t.args.altKey;if(this.parent.inlineMode.enable&&t.args.metaKey&&t.args.keyCode===65){this.showInlineQTBar(this.offsetX,this.offsetY,t.args.target);return}e||(this.parent.inlineMode.enable&&(!E.isDevice||et())&&!h(W("."+Er,document))&&this.hideInlineQTBar(),this.textQTBar&&!Qe(this.textQTBar.element,"e-popup-close")&&this.textQTBar.hidePopup())},a.prototype.inlineQTBarMouseDownHandler=function(){this.parent.inlineMode.enable&&(!E.isDevice||et())&&!h(W("."+Er,document))&&this.hideInlineQTBar(),h(this.parent.quickToolbarSettings.text)||this.textQTBar&&!Qe(this.textQTBar.element,"e-popup-close")&&document.body.contains(this.textQTBar.element)&&this.textQTBar.hidePopup()},a.prototype.keyUpHandler=function(t){var e=t.args;if(this.parent.inlineMode.enable&&!E.isDevice){if(this.parent.inlineMode.onSelection){this.parent.getSelection().length>0&&(e.ctrlKey&&e.keyCode===65||e.shiftKey&&(e.keyCode===33||e.keyCode===34||e.keyCode===35||e.keyCode===36||e.keyCode===37||e.keyCode===38||e.keyCode===39||e.keyCode===40))&&this.showInlineQTBar(this.offsetX,this.offsetY,e.target);return}this.deBounce(this.offsetX,this.offsetY,e.target)}this.parent.quickToolbarSettings.text&&!E.isDevice&&(e.ctrlKey&&e.keyCode===65||e.shiftKey&&(e.keyCode===33||e.keyCode===34||e.keyCode===35||e.keyCode===36||e.keyCode===37||e.keyCode===38||e.keyCode===39||e.keyCode===40))&&this.textQTBar.showPopup(this.offsetX,this.offsetY,e.target,"text")},a.prototype.selectionChangeHandler=function(t){var e=this;clearTimeout(this.deBouncer),this.deBouncer=window.setTimeout(function(){e.onSelectionChange(t)},this.debounceTimeout)},a.prototype.onSelectionChange=function(t){if(h(W("."+Er,document.body))){var e=this.contentRenderer.getDocument().getSelection();e.isCollapsed||this.mouseUpHandler({args:t})}},a.prototype.getInlineBaseToolbar=function(){return this.inlineQTBar&&this.inlineQTBar.quickTBarObj},a.prototype.destroy=function(){this.isDestroyed||(this.linkQTBar&&!this.linkQTBar.isDestroyed&&(v.remove(this.linkQTBar.element,"mousedown",this.onMouseDown),v.remove(this.linkQTBar.element,"keyup",this.keyUpQT),this.linkQTBar.destroy()),this.textQTBar&&!this.textQTBar.isDestroyed&&(v.remove(this.textQTBar.element,"mousedown",this.onMouseDown),v.remove(this.textQTBar.element,"keyup",this.keyUpQT),this.textQTBar.destroy()),this.imageQTBar&&!this.imageQTBar.isDestroyed&&(v.remove(this.imageQTBar.element,"mousedown",this.onMouseDown),v.remove(this.imageQTBar.element,"keyup",this.keyUpQT),this.imageQTBar.destroy()),this.audioQTBar&&!this.audioQTBar.isDestroyed&&(v.remove(this.audioQTBar.element,"mousedown",this.onMouseDown),v.remove(this.audioQTBar.element,"keyup",this.keyUpQT),this.audioQTBar.destroy()),this.videoQTBar&&!this.videoQTBar.isDestroyed&&(v.remove(this.videoQTBar.element,"mousedown",this.onMouseDown),v.remove(this.videoQTBar.element,"keyup",this.keyUpQT),this.videoQTBar.destroy()),this.tableQTBar&&!this.tableQTBar.isDestroyed&&(v.remove(this.tableQTBar.element,"mousedown",this.onMouseDown),v.remove(this.tableQTBar.element,"keyup",this.keyUpQT),this.tableQTBar.destroy()),this.inlineQTBar&&!this.inlineQTBar.isDestroyed&&(v.remove(this.inlineQTBar.element,"mousedown",this.onMouseDown),v.remove(this.inlineQTBar.element,"keyup",this.keyUpQT),et()&&v.remove(document,"selectionchange",this.selectionChangeHandler),this.inlineQTBar.destroy()),this.removeEventListener(),this.isDestroyed=!0)},a.prototype.wireInlineQTBarEvents=function(){this.parent.on(Rr,this.mouseUpHandler,this),this.parent.on(_t,this.inlineQTBarMouseDownHandler,this),this.parent.on(pt,this.keyDownHandler,this),this.parent.on(Ht,this.keyUpHandler,this),this.parent.on(Pr,this.mouseUpHandler,this),this.parent.on(Lc,this.renderInlineQuickToolbar,this)},a.prototype.unWireInlineQTBarEvents=function(){this.parent.off(Rr,this.mouseUpHandler),this.parent.off(_t,this.inlineQTBarMouseDownHandler),this.parent.off(pt,this.keyDownHandler),this.parent.off(Ht,this.keyUpHandler),this.parent.off(Pr,this.mouseUpHandler),this.parent.off(Lc,this.renderInlineQuickToolbar)},a.prototype.toolbarUpdated=function(t){this.linkQTBar&&!Qe(this.linkQTBar.element,"e-popup-close")&&this.linkQTBar.hidePopup(),this.imageQTBar&&!Qe(this.imageQTBar.element,"e-popup-close")&&this.imageQTBar.hidePopup(),this.audioQTBar&&!Qe(this.audioQTBar.element,"e-popup-close")&&this.audioQTBar.hidePopup(),this.videoQTBar&&!Qe(this.videoQTBar.element,"e-popup-close")&&this.videoQTBar.hidePopup(),this.tableQTBar&&!Qe(this.tableQTBar.element,"e-popup-close")&&this.tableQTBar.hidePopup()},a.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(Ct,this.initializeQuickToolbars,this),this.parent.on(_t,this.renderQuickToolbars,this),this.parent.on(Zi,this.toolbarUpdated,this),this.parent.on(Pc,this.renderQuickToolbars,this),this.wireInlineQTBarEvents(),this.parent.on(gt,this.onPropertyChanged,this),this.parent.quickToolbarSettings.actionOnScroll==="hide"&&(this.parent.on(Mr,this.hideQuickToolbars,this),this.parent.on(Sr,this.hideQuickToolbars,this)),this.parent.on(Br,this.hideQuickToolbars,this),this.parent.on(wt,this.onIframeMouseDown,this),this.parent.on(Ee,this.destroy,this),this.parent.on(pt,this.onKeyDown,this),this.parent.on(ts,this.setRtl,this),this.parent.on(ot,this.setCssClass,this),this.parent.on(Kc,this.hideQuickToolbars,this))},a.prototype.onKeyDown=function(t){var e=t.args;(e.which===8||e.which===46)&&(this.imageQTBar&&!Qe(this.imageQTBar.element,"e-popup-close")&&this.imageQTBar.hidePopup(),this.audioQTBar&&!Qe(this.audioQTBar.element,"e-popup-close")&&this.audioQTBar.hidePopup(),this.videoQTBar&&!Qe(this.videoQTBar.element,"e-popup-close")&&this.videoQTBar.hidePopup(),this.tableQTBar&&!Qe(this.tableQTBar.element,"e-popup-close")&&this.tableQTBar.hidePopup(),this.linkQTBar&&!Qe(this.linkQTBar.element,"e-popup-close")&&this.linkQTBar.hidePopup(),this.textQTBar&&!Qe(this.textQTBar.element,"e-popup-close")&&this.textQTBar.hidePopup())},a.prototype.onIframeMouseDown=function(){this.hideQuickToolbars(),this.hideInlineQTBar()},a.prototype.updateCss=function(t,e){t&&e.cssClass&&(h(e.oldCssClass&&t.quickTBarObj.toolbarObj.cssClass!==e.cssClass)?t.quickTBarObj.toolbarObj.setProperties({cssClass:(t.quickTBarObj.toolbarObj.cssClass+" "+e.cssClass).trim()}):t.quickTBarObj.toolbarObj.setProperties({cssClass:(t.quickTBarObj.toolbarObj.cssClass.replace(e.oldCssClass,"").trim()+" "+e.cssClass).trim()}))},a.prototype.setCssClass=function(t){for(var e=[this.inlineQTBar,this.imageQTBar,this.linkQTBar,this.textQTBar,this.tableQTBar],i=0;i<e.length;i++)this.updateCss(e[i],t)},a.prototype.setRtl=function(t){this.inlineQTBar&&this.inlineQTBar.quickTBarObj.toolbarObj.setProperties({enableRtl:t.enableRtl}),this.imageQTBar&&this.imageQTBar.quickTBarObj.toolbarObj.setProperties({enableRtl:t.enableRtl}),this.audioQTBar&&this.audioQTBar.quickTBarObj.toolbarObj.setProperties({enableRtl:t.enableRtl}),this.videoQTBar&&this.videoQTBar.quickTBarObj.toolbarObj.setProperties({enableRtl:t.enableRtl}),this.linkQTBar&&this.linkQTBar.quickTBarObj.toolbarObj.setProperties({enableRtl:t.enableRtl}),this.textQTBar&&this.textQTBar.quickTBarObj.toolbarObj.setProperties({enableRtl:t.enableRtl})},a.prototype.removeEventListener=function(){this.deBouncer&&(clearTimeout(this.deBouncer),this.deBouncer=null),this.parent.off(Ct,this.initializeQuickToolbars),this.parent.off(_t,this.renderQuickToolbars),this.parent.off(Zi,this.toolbarUpdated),this.parent.off(Pc,this.renderQuickToolbars),this.unWireInlineQTBarEvents(),this.parent.off(gt,this.onPropertyChanged),this.parent.quickToolbarSettings.actionOnScroll==="hide"&&(this.parent.off(Mr,this.hideQuickToolbars),this.parent.off(Sr,this.hideQuickToolbars)),this.parent.off(Br,this.hideQuickToolbars),this.parent.off(Ee,this.destroy),this.parent.off(wt,this.onIframeMouseDown),this.parent.off(pt,this.onKeyDown),this.parent.off(ts,this.setRtl),this.parent.off(ot,this.setCssClass),this.parent.off(Kc,this.hideQuickToolbars)},a.prototype.onPropertyChanged=function(t){if(!h(t.newProp.quickToolbarSettings))for(var e=0,i=Object.keys(t.newProp.quickToolbarSettings);e<i.length;e++){var s=i[e];switch(s){case"actionOnScroll":t.newProp.quickToolbarSettings.actionOnScroll==="none"?(this.parent.off(Mr,this.hideQuickToolbars),this.parent.off(Sr,this.hideQuickToolbars)):(this.parent.on(Mr,this.hideQuickToolbars,this),this.parent.on(Sr,this.hideQuickToolbars,this));break}}t.module===this.getModuleName()&&(this.inlineQTBar&&(k([this.parent.element],[Jh]),this.unWireInlineQTBarEvents(),this.hideInlineQTBar()),this.parent.inlineMode.enable&&(!E.isDevice||et())&&(L([this.parent.element],[Jh]),this.wireInlineQTBarEvents()))},a.prototype.getModuleName=function(){return"quickToolbar"},a.prototype.getQuickToolbarInstance=function(){return[this.linkQTBar,this.imageQTBar,this.audioQTBar,this.videoQTBar,this.tableQTBar,this.textQTBar,this.inlineQTBar]},a}();var hS=function(){function a(t){this.parent=t,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.on(bc,this.commandCallBack,this),this.parent.on(Ee,this.removeEventListener,this)},a.prototype.commandCallBack=function(t){var e=!h(t.requestType)&&t.requestType==="FormatPainter"&&t.action==="format-copy";!h(t)&&!h(t.requestType)&&t.requestType!=="Undo"&&t.requestType!=="Redo"&&!e&&this.parent.formatter.saveData(),this.parent.notify(Ps,{args:t}),this.parent.notify(E0,{})},a.prototype.removeEventListener=function(){this.parent.off(bc,this.commandCallBack),this.parent.off(Ee,this.removeEventListener)},a}(),cS=function(){function a(){}return a.prototype.process=function(t,e,i,s){var n=this,r=t.contentModule.getDocument().getSelection(),o=r.rangeCount>0?r.getRangeAt(r.rangeCount-1):null,l,c;!h(s)&&!h(s.selection)&&(c=s.selection.range);var d=!h(s)&&!h(s.cssClass)&&s.cssClass!=="e-video-inline";if(t.editorMode==="HTML"&&!h(e)&&!d&&(h(e.name)||!h(e.name)&&e.name!=="showDialog")&&(c?l=this.editorManager.nodeSelection.save(c,t.contentModule.getDocument()):l=this.editorManager.nodeSelection.save(o,t.contentModule.getDocument())),!(!h(e)&&e.item.command&&e.item.command!=="Table"&&e.item.command!=="Actions"&&e.item.command!=="Links"&&e.item.command!=="Images"&&e.item.command!=="Files"&&e.item.command!=="Audios"&&e.item.command!=="Videos"&&e.item.command!=="EmojiPicker"&&o&&!(t.contentModule.getEditPanel().contains(this.getAncestorNode(o.commonAncestorContainer))||t.contentModule.getEditPanel()===o.commonAncestorContainer||t.contentModule.getPanel()===o.commonAncestorContainer))){if(!h(e)&&t.maxLength!==-1&&!h(e.item.command)){var p=0;e.item.command==="Links"&&(p=s.text.length===0?s.url.length:s.text.length),(e.item.command==="Images"||e.item.command==="Videos"||e.item.command==="Table"||e.item.command==="Files")&&(p=1);var u=t.getText().trim().replace(/(\r\n|\n|\r|\t)/gm,"").replace(/\u200B/g,"").length,f=t.getSelection().length,m=u-f+p;if(!(t.maxLength===-1||m<=t.maxLength))return}if(h(e)){var g=i.action;e={};var b={originalEvent:i,cancel:!1,requestType:g||i.key+"Key",itemCollection:s};if(ue(e,e,b,!0),g!=="tab"&&g!=="enter"&&g!=="space"&&g!=="escape"&&(t.editorMode==="Markdown"&&g==="insert-table"&&(s={headingText:t.localeObj.getConstant("TableHeadingText"),colText:t.localeObj.getConstant("TableColText")}),t.trigger(bt,e,function(T){T.cancel&&(g==="paste"||g==="cut"||g==="copy")&&i.preventDefault()})),!e.cancel){var S=h(t.tableModule)?!0:t.tableModule?t.tableModule.ensureInsideTableList:!1;(i.which===9&&S||i.which!==9)&&(i.which===13&&t.editorMode==="HTML"&&(s={enterAction:t.enterKey}),this.editorManager.observer.notify(i.type==="keydown"?xd:Nn,{event:i,callBack:this.onSuccess.bind(this,t),value:s,enterAction:t.enterKey}))}}else!h(e)&&e.item.command&&e.item.subCommand&&(e.item.command!==e.item.subCommand&&e.item.command!=="Font"||(e.item.subCommand==="FontName"||e.item.subCommand==="FontSize")&&e.name==="dropDownSelect"||(e.item.subCommand==="BackgroundColor"||e.item.subCommand==="FontColor")&&e.name==="colorPickerChanged"||e.item.subCommand==="FormatPainter"||e.item.subCommand==="EmojiPicker")&&(ue(e,e,{requestType:e.item.subCommand,cancel:!1,itemCollection:s,selectType:e.name},!0),t.trigger(bt,e,function(T){if(!T.cancel){var I=!h(T.requestType)&&T.requestType==="FormatPainter"&&T.name==="format-copy",w=!h(T.requestType)&&T.requestType==="FormatPainter"&&T.name==="format-paste";(n.getUndoRedoStack().length===0&&T.item.command!=="Links"&&T.item.command!=="Images"&&!I||w)&&n.saveData(),t.isBlur=!1;var x=!h(i)&&!h(i.target)&&(!h(M(i.target,".e-rte-elements.e-dropdown-popup.e-rte-dropdown-popup.e-quick-dropdown.e-popup-open"))||!h(M(i.target,".e-rte-elements.e-rte-quick-popup.e-popup-open")));(h(l)||!x&&(h(M(l.range.startContainer.parentElement,".e-img-caption"))||M(l.range.startContainer.parentElement,".e-img-caption").getAttribute("contenteditable")!=="false"))&&t.contentModule.getEditPanel().focus(),t.editorMode==="HTML"&&!d&&(h(e.selectType)||!h(e.selectType)&&e.selectType!=="showDialog")&&l.restore();var A=T.item.subCommand.toLocaleLowerCase();A==="paste"||A==="cut"||A==="copy"?t.clipboardAction(A,i):(n.editorManager.observer.notify(Fr,{subCommand:T.item.subCommand}),n.editorManager.execCommand(T.item.command,T.item.subCommand,i,n.onSuccess.bind(n,t),T.item.value,T.item.subCommand==="Pre"&&T.selectType==="dropDownSelect"?{name:T.selectType}:s,"#"+t.getID()+" iframe",t.enterKey))}}));(h(i)||i&&i.action!=="copy")&&this.enableUndo(t)}},a.prototype.getAncestorNode=function(t){return t=t.nodeType===3?t.parentNode:t,t},a.prototype.onKeyHandler=function(t,e){var i=this;this.editorManager.observer.notify(Nn,{event:e,callBack:function(){t.notify(Ir,{}),i.enableUndo(t)},enterAction:t.enterKey})},a.prototype.onSuccess=function(t,e){t.notify(Ir,{}),e&&(h(e.event)||e.event.action!=="copy")&&(this.enableUndo(t),t.notify(bc,e)),t.trigger(vi,e,function(i){if(t.setPlaceHolder(),(i.requestType==="Images"||i.requestType==="Links"||i.requestType==="Audios"||i.requestType==="Videos")&&t.editorMode==="HTML"){var s=i;if(i.requestType==="Links"&&i.event&&i.event.type==="keydown"&&i.event.keyCode===32)return;t.notify(es,{args:s.event,type:i.requestType,isNotify:!0,elements:s.elements})}i.requestType==="VideosPlayPause"&&t.notify("editAreaClick",{args:event}),t.autoResize()})},a.prototype.saveData=function(t){this.editorManager.undoRedoManager.saveData(t)},a.prototype.getUndoStatus=function(){return this.editorManager.undoRedoManager.getUndoStatus()},a.prototype.getUndoRedoStack=function(){return this.editorManager.undoRedoManager.undoRedoStack},a.prototype.enableUndo=function(t){var e=this.getUndoStatus();t.inlineMode.enable&&(!E.isDevice||et())?xn(t.quickToolbarModule.inlineQTBar.quickTBarObj,e):t.toolbarModule&&t.toolbarModule.baseToolbar&&xn(t.toolbarModule.baseToolbar,e)},a}();var Yg=function(){function a(t,e){this.BLOCK_TAGS=["p","h1","h2","h3","h4","h5","h6","blockquote","li","pre","td","th","div","hr","section","figure"],this.BASIC_FORMATS=["p","h1","h2","h3","h4","h5","h6","blockquote","pre"],this.root=t,this.currentDocument=e}return a.prototype.getBlockNodes=function(){var t=[];if(h(this.root.querySelector(".e-cell-select")))return t;var e=this.root.querySelector(".e-cell-select").closest("table"),i=e.querySelectorAll(".e-cell-select");if(h(i)||i.length<2)return t;for(var s=0;s<i.length;s++)this.addBlockNodes(i[s],t);return this.wrapParagraphNodes(t),t},a.prototype.addBlockNodes=function(t,e){var i=t.childNodes;if(i.length===0){e.push(t);return}for(var s=0;s<i.length;s++){var n=i[s];e.indexOf(n.parentElement)>=0||(n.parentElement&&(n.parentElement.nodeName==="TD"||n.parentElement.nodeName==="TH")&&n.parentElement.childNodes.length===1&&(n.nodeName==="BR"||(n.nodeType,Node.TEXT_NODE)),e.push(n.parentElement))}},a.prototype.getTextNodes=function(){var t=[];if(h(this.root.querySelector(".e-cell-select")))return t;var e=this.root.querySelector(".e-cell-select").closest("table"),i=e.querySelectorAll(".e-cell-select");if(h(i)||i.length<2)return t;for(var s=0;s<i.length;s++)this.addTextNodes(i[s],t);return t},a.prototype.addTextNodes=function(t,e){var i=t.childNodes;if(i.length===0&&(t.nodeName==="TD"||t.nodeName==="TH")){var s=this.currentDocument.createTextNode("\u200B");t.appendChild(s),e.push(s);return}else if(i.length===1&&(t.nodeName==="TD"||t.nodeName==="TH")&&i[0].nodeName==="BR"){var s=this.currentDocument.createTextNode("\u200B");t.insertBefore(s,i[0]),e.push(s);return}for(var n=0;n<i.length;n++){var r=i[n];r.nodeType===Node.TEXT_NODE?e.push(r):r.nodeType===Node.ELEMENT_NODE&&this.addTextNodes(r,e)}},a.prototype.wrapParagraphNodes=function(t){for(var e=Array.from(t),i=0;i<e.length;i++){var s=e[i];if(s.nodeName==="TD"||s.nodeName==="TH")if(s.childNodes.length===1&&(s.childNodes[0].nodeName==="BR"||s.childNodes[0].nodeType===Node.TEXT_NODE)){var n=s.childNodes[0],r=P("p");n.parentElement.insertBefore(r,n),r.appendChild(n);var o=t.indexOf(s);t[o]=r}else{var l=t.indexOf(s);this.wrapInlineNodes(s,t,l)}}for(var i=0;i<t.length;i++){var c=t[i];if(c.nodeName==="LI"&&c.childNodes.length===1){var d=c.childNodes[0];d.nodeType===Node.ELEMENT_NODE&&this.BASIC_FORMATS.indexOf(d.nodeName.toLocaleLowerCase())>=0&&d.textContent===c.textContent&&(t[i]=d)}}},a.prototype.wrapInlineNodes=function(t,e,i){var s=t.childNodes[0],n=P("p"),r=[];if(h(s)){t.appendChild(n),r.push(n),ag(e,r,i);return}for(;s;)if(s.nodeName==="BR")s.parentNode.insertBefore(n,s),n.appendChild(s),n.childNodes.length>0&&r.indexOf(n)<0&&r.push(n),s=n.nextSibling,n=P("p");else if(this.BLOCK_TAGS.indexOf(s.nodeName.toLocaleLowerCase())>=0)if(r.push(s),n.childNodes.length>0)s=n.nextSibling;else{if(s&&s.nodeName==="LI"&&s.querySelectorAll("li").length>0)for(var o=s.querySelectorAll("li"),l=0;l<o.length;l++)r.push(o[l]);s.nodeName==="LI"&&h(s.nextSibling)?s=s.parentElement.nextSibling:s=s.nextSibling}else if(s.nodeType===Node.TEXT_NODE){if(s.textContent.trim()===""&&s.textContent.indexOf("\u200B")<0){var c=s.nextSibling;N(s),s=c;continue}s.parentNode.insertBefore(n,s);var d=s;n.appendChild(d),n.childNodes.length>0&&r.indexOf(n)<0&&r.push(n),s=n.nextSibling}else if(s.nodeName==="TABLE"||s.nodeName==="UL"||s.nodeName==="OL")if(s.nodeName==="TABLE"){for(var p=[],u=s.querySelectorAll("td, th"),l=0;l<u.length;l++)this.addBlockNodes(u[l],p);this.wrapParagraphNodes(p);for(var l=0;l<p.length;l++)r.push(p[l]);s=s.nextSibling}else s=s.firstElementChild;else this.BLOCK_TAGS.indexOf(s.nodeName.toLocaleLowerCase())<0&&(s.parentNode.insertBefore(n,s),n.appendChild(s),n.childNodes.length>0&&r.indexOf(n)<0&&r.push(n),s=n.nextSibling);ag(e,r,i)},a}(),Se={startSelection:"e-editor-select-start",endSelection:"e-editor-select-end"},Ho=function(){function a(t,e){this.parent=t,this.nodeSelection=new Lt,this.currentDocument=e,this.tableSelection=new Yg(t,e)}return a.prototype.contents=function(t){return t&&t.tagName!=="IFRAME"?Array.prototype.slice.call(t.childNodes||[]):[]},a.prototype.isBlockNode=function(t){return!!t&&t.nodeType===Node.ELEMENT_NODE&&Fs.indexOf(t.tagName.toLowerCase())>=0},a.prototype.isLink=function(t){return!!t&&t.nodeType===Node.ELEMENT_NODE&&t.tagName.toLowerCase()==="a"},a.prototype.blockParentNode=function(t){for(;t&&t.parentNode!==this.parent&&(!t.parentNode||!this.hasClass(t.parentNode,"e-node-inner"));null)if(t=t.parentNode,this.isBlockNode(t))return t;return t},a.prototype.rawAttributes=function(t){var e={},i=t.attributes;if(i.length>0)for(var s=0;s<i.length;s++){var n=i[s];e[n.nodeName]=n.value}return e},a.prototype.attributes=function(t){if(!t)return"";for(var e="",i=this.rawAttributes(t),s=Object.keys(i).sort(),n=0;n<s.length;n++){var r=s[n],o=i[""+r];o.indexOf("'")<0&&o.indexOf('"')>=0?e+=" "+r+"='"+o+"'":(o.indexOf('"')>=0&&o.indexOf("'")>=0&&(o=o.replace(/"/g,"&quot;")),e+=" "+r+'="'+o+'"')}return e},a.prototype.clearAttributes=function(t){for(var e=t.attributes,i=e.length-1;i>=0;i--){var s=e[i];t.removeAttribute(s.nodeName)}},a.prototype.openTagString=function(t){return"<"+t.tagName.toLowerCase()+this.attributes(t)+">"},a.prototype.closeTagString=function(t){return"</"+t.tagName.toLowerCase()+">"},a.prototype.createTagString=function(t,e,i){return"<"+t.toLowerCase()+this.attributes(e)+">"+i+"</"+t.toLowerCase()+">"},a.prototype.isList=function(t){return!!t&&["UL","OL"].indexOf(t.tagName)>=0},a.prototype.isElement=function(t){return t===this.parent},a.prototype.isEditable=function(t){return(!t.getAttribute||t.getAttribute("contenteditable")==="true")&&["STYLE","SCRIPT"].indexOf(t.tagName)<0},a.prototype.hasClass=function(t,e){return t&&t.classList&&t.classList.contains(e)},a.prototype.replaceWith=function(t,e){var i=t.parentNode;i.insertBefore(this.parseHTMLFragment(e),t),N(t)},a.prototype.parseHTMLFragment=function(t){var e=P("template");return e.innerHTML=t,e.content instanceof DocumentFragment?e.content:document.createRange().createContextualFragment(t)},a.prototype.wrap=function(t,e){return t.parentNode.insertBefore(e,t),e=t.previousSibling,e.appendChild(t),e},a.prototype.insertAfter=function(t,e){e.parentNode.insertBefore(t,e.nextSibling)},a.prototype.wrapInner=function(t,e){for(t.appendChild(e),e=t.querySelector(".e-rte-wrap-inner"),e.classList.remove("e-rte-wrap-inner"),e.classList.length===0&&e.removeAttribute("class");t.firstChild!==e;)e.appendChild(t.firstChild);return e},a.prototype.unWrap=function(t){for(var e=t.parentNode,i=[];t.firstChild&&t.textContent!==" ";)i.push(t.firstChild),e.insertBefore(t.firstChild,t);return i=i.length>0?i:[t.parentNode],e.removeChild(t),i},a.prototype.getSelectedNode=function(t,e){return t.nodeType===Node.ELEMENT_NODE&&t.childNodes.length>0&&t.childNodes[e-1]&&t.childNodes[e-1].nodeType===Node.ELEMENT_NODE&&(t.childNodes[e-1].classList.contains(Se.startSelection)||t.childNodes[e-1].classList.contains(Se.endSelection))?t=t.childNodes[e-1]:t.nodeType===Node.ELEMENT_NODE&&t.childNodes.length>0&&t.childNodes[e]&&(t=t.childNodes[e]),t.nodeType===Node.TEXT_NODE&&(t=t.parentNode),t},a.prototype.nodeFinds=function(t,e){for(var i=[],s=0;s<e.length;s++)t.contains(e[s])&&t!==e[s]&&i.push(e[s]);return i},a.prototype.isEditorArea=function(){var t=this.getRangePoint(0),e;for(e=t.commonAncestorContainer;e&&!this.isElement(e);null)e=e.parentNode;return!!this.isElement(e)},a.prototype.getRangePoint=function(t){var e=this.getSelection(),i=[];if(e&&e.getRangeAt&&e.rangeCount){i=[];for(var s=0;s<e.rangeCount;s++)i.push(e.getRangeAt(s))}else i=[this.currentDocument.createRange()];return typeof t<"u"?i[t]:i},a.prototype.getSelection=function(){return this.nodeSelection.get(this.currentDocument)},a.prototype.getPreviousNode=function(t){for(t=t.previousElementSibling;t&&t.textContent===`
`;null)t=t.previousElementSibling;return t},a.prototype.encode=function(t){var e=document.createElement("div");return e.innerText=t,e.innerHTML.replace(/<br\s*[\/]?>/gi,`
`)},a.prototype.saveMarker=function(t){var e=this.parent.querySelector("."+Se.startSelection),i=this.parent.querySelector("."+Se.endSelection),s,n;if(this.hasClass(e,Se.startSelection)&&e.classList.length>1){var r=this.createTagString(Hi,e,this.encode(e.textContent));this.replaceWith(e,r),e=this.parent.querySelector("."+Se.startSelection),e.classList.remove(Se.startSelection),s=e.childNodes[0]}else s=this.unWrap(e)[0];if(this.hasClass(i,Se.endSelection)&&i.classList.length>1){var r=this.createTagString(Hi,i,this.encode(i.textContent));this.replaceWith(i,r),i=this.parent.querySelector("."+Se.endSelection),i.classList.remove(Se.endSelection),n=i.childNodes[0]}else n=i?this.unWrap(i)[0]:s;return t.startContainer=t.getNodeArray(s,!0),t.endContainer=t.getNodeArray(n,!1),t},a.prototype.marker=function(t,e){return'<span class="'+t+'">'+e+"</span>"},a.prototype.setMarker=function(t){var e=t.range,i=e.startContainer.childNodes,s=i.length>1&&i[0].nodeName==="TABLE",n=i.length>1&&i[0].nodeName==="IMAGE"&&e.endOffset===1&&e.endContainer.nodeName==="#text"&&e.endContainer.textContent.length===0,r=(s?GM(i[e.startOffset+1]):i[e.startOffset>0?e.startOffset-1:e.startOffset])||e.startContainer,o=e.endContainer.childNodes[e.endOffset>0?n?e.endOffset:e.endOffset-1:e.endOffset]||e.endContainer;if(r.nodeType===Node.ELEMENT_NODE&&o.nodeType===Node.ELEMENT_NODE&&(r.contains(o)||o.contains(r))){var l=r.contains(o)?r:o,c=l.nodeType!==Node.TEXT_NODE;if(c){for(var d=[],p=[],u=l;l.contains(u);null)d.indexOf(u)<0&&u.childNodes&&u.childNodes.length?(d.push(u),u=u.childNodes[0]):u.nextSibling?u=u.nextSibling:u.parentNode&&(u=u.parentNode,d.push(u)),p.indexOf(u)<0&&(u.nodeType===Node.TEXT_NODE||Bi.indexOf(u.parentNode.tagName.toLocaleLowerCase())>=0&&(u.tagName==="BR"||u.tagName==="IMG"))&&p.push(u);p.length&&(r=r.contains(o)?p[0]:r,o=p[p.length-1])}}if(r!==o){if(r.nodeType!==Node.TEXT_NODE&&(r.tagName==="BR"&&Bi.indexOf(r.parentNode.tagName.toLocaleLowerCase())>=0||r.tagName==="IMG")){this.replaceWith(r,this.marker(Se.startSelection,this.encode(r.textContent)));var f=e.startContainer.querySelector("."+Se.startSelection);f.appendChild(r)}else if(r.nodeType!==3&&r.nodeName!=="#text"&&r.nodeName!=="BR"){var m=this.marker(Se.startSelection,"");Pe([this.parseHTMLFragment(m)],r)}else this.replaceWith(r,this.marker(Se.startSelection,this.encode(r.textContent)));if(o.nodeType!==Node.TEXT_NODE&&o.tagName==="BR"&&Bi.indexOf(o.parentNode.tagName.toLocaleLowerCase())>=0){this.replaceWith(o,this.marker(Se.endSelection,this.encode(o.textContent)));var g=e.endContainer.querySelector("."+Se.endSelection);g.appendChild(o)}else this.ensureSelfClosingTag(o,Se.endSelection,e)}else this.ensureSelfClosingTag(r,Se.startSelection,e)},a.prototype.ensureSelfClosingTag=function(t,e,i){var s=!1;if(t.nodeType===3)this.replaceWith(t,this.marker(e,this.encode(t.textContent)));else if(t.tagName==="BR"){this.replaceWith(t,this.marker(e,this.encode(t.textContent)));var n=i.startContainer.querySelector("."+e);n&&n.parentElement.appendChild(t)}else{var r=h(t.parentElement)?"":t.parentElement.tagName.toLocaleLowerCase();if(t.tagName==="IMG"&&r!=="p"&&r!=="div"){var o=document.createElement("p");t.parentElement.insertBefore(o,t),o.appendChild(t),t=o.children[0]}if(t.tagName==="TABLE")if(s=!0,t.textContent===""){var l=t.querySelectorAll("td");t=l[l.length-1],t=h(t.childNodes[0])?t:t.childNodes[0]}else{for(var c=t.lastChild;c.nodeType!==3&&c.nodeName!=="#text"&&c.nodeName!=="BR";)c=c.lastChild;t=c}for(var d=0;d<hg.length;d++)t=t.tagName===hg[d]&&!s?t.parentNode:t;if(t.nodeType===3&&t.nodeName==="#text")this.replaceWith(t,this.marker(e,this.encode(t.textContent)));else if(t.nodeName==="BR"){this.replaceWith(t,this.marker(Se.endSelection,this.encode(t.textContent)));var p=i.endContainer.querySelector("."+Se.endSelection);p.appendChild(t)}else{var u=this.marker(e,"");Pe([this.parseHTMLFragment(u)],t)}}},a.prototype.createTempNode=function(t){var e=t.textContent;if(t.tagName==="BR"){var i="<"+Hi+"></"+Hi+">",s=t.parentNode;Bi.indexOf(s.tagName.toLocaleLowerCase())>=0&&(t=this.wrap(t,this.parseHTMLFragment(i)))}else if(t.nodeType!==Node.TEXT_NODE&&(t.classList.contains(Se.startSelection)||t.classList.contains(Se.endSelection))||e.replace(/\n/g,"").replace(/(^ *)|( *$)/g,"").length>0||e.length&&e.indexOf(`
`)<0){var i="<"+Hi+"></"+Hi+">",n=t;t=this.wrap(t,this.parseHTMLFragment(i));var r=n.nodeType===Node.ELEMENT_NODE&&n.firstChild&&n.firstChild.nodeName==="BR"&&(n.classList.contains(Se.startSelection)||n.classList.contains(Se.endSelection));!r&&t.nextElementSibling&&t.nextElementSibling.tagName==="BR"&&t.appendChild(t.nextElementSibling)}return t},a.prototype.getImageTagInSelection=function(){var t=this.getSelection();return this.isEditorArea()&&t.rangeCount?t.focusNode.querySelectorAll("img"):null},a.prototype.gatherElementsAround=function(t,e){var i=P(e),s=t.previousSibling,n=t.parentElement;n.className==="e-editor-select-start"?n.parentNode.insertBefore(i,n):n&&n.insertBefore(i,t);for(var r=0;s!==null&&s.nodeName!=="BR"&&!this.isBlockNode(s);){var o=s.previousSibling;(s.nodeType===3||s.nodeType===1)&&(r===0?i.appendChild(s):i.insertBefore(s,i.firstChild)),s=o,r++}for(i.appendChild(t),s=i.nextSibling?i.nextSibling:i.parentElement.nextSibling;s!==null&&s.nodeName!=="BR"&&!this.isBlockNode(s);){var l=s.nextSibling?s.nextSibling:s.parentElement.nextSibling;(s.nodeType===3||s.nodeType===1)&&i.appendChild(s),s=l}return i},a.prototype.convertToBlockNodes=function(t,e){if(t.length>1)for(var i=0,s=t[0];!h(s);){if(s.nodeName==="BR"){var n=s.nextSibling;N(s),s=n}if(!h(s)){e?t[i]=s.nodeName==="LI"||this.isBlockNode(s)?s:this.gatherElementsAround(s,e?"p":"div"):t[i]=this.isBlockNode(t[i])?t[i]:this.gatherElementsAround(s,e?"p":"div");var r=t[i].nodeName==="LI"?t[i].parentElement:t[i],o=r.nodeName==="#text"?r.parentElement:r;s=!h(o.querySelector(".e-editor-select-end"))||!h(M(s,".e-editor-select-end"))?null:r.nextSibling,s===null&&!h(r.nextSibling)&&r.nextSibling.nodeName==="BR"&&N(r.nextSibling)}i++}else this.isBlockNode(t[0])||(t[0]=this.gatherElementsAround(t[0],e?"p":"div"),!h(t[0].nextSibling)&&t[0].nextSibling.nodeName==="BR"&&N(t[0].nextSibling));return t},a.prototype.blockNodes=function(t){var e=[],i=this.getSelection();if(this.isEditorArea()&&i.rangeCount)for(var s=this.getRangePoint(),n=0;n<s.length;n++){var r=void 0,o=s[n],l=this.getSelectedNode(o.startContainer,o.startOffset),c=this.getSelectedNode(o.endContainer,o.endOffset);this.isBlockNode(l)&&e.indexOf(l)<0&&e.push(l),r=this.blockParentNode(l);var d=this.blockParentNode(c);if(r&&e.indexOf(r)<0)if(!h(t)&&t)if(o.commonAncestorContainer.nodeName==="TD"||r.nodeName==="TD"||d.nodeName==="TD"){var p=this.getPreBlockNodeCollection(o);p.length>1?this.wrapWithBlockNode(p,e):p.length>0&&(l!==c&&l.nodeName!=="BR"?e.push(this.createTempNode(l)):l===c&&l.nodeName==="SPAN"&&(l.classList.contains(Se.startSelection)||l.classList.contains(Se.endSelection))&&e.push(this.createTempNode(l)))}else e.push(r);else if(Bi.indexOf(r.tagName.toLocaleLowerCase())>=0&&(l.tagName==="BR"||l.nodeType===Node.TEXT_NODE||l.classList.contains(Se.startSelection)||l.classList.contains(Se.endSelection))){var u=l.previousSibling&&l.previousSibling.nodeType===Node.TEXT_NODE?l.previousSibling:l;!l.nextSibling&&!l.previousSibling&&l.tagName==="BR"?e.push(u):e.push(this.createTempNode(u))}else e.push(r);for(var f=[],m=l;m!==c&&m!==this.parent;null)f.indexOf(m)<0&&m.childNodes&&m.childNodes.length?(f.push(m),m=m.childNodes[0]):m&&m.nodeType!==8&&(m.tagName==="BR"||m.nodeType===Node.TEXT_NODE&&m.textContent.trim()!==""||m.nodeType!==Node.TEXT_NODE&&(m.classList.contains(Se.startSelection)||m.classList.contains(Se.endSelection)))&&Bi.indexOf(m.parentNode.tagName.toLocaleLowerCase())>=0?m=this.createTempNode(m):m.nextSibling&&m.nextSibling.nodeType!==8&&(m.nextSibling.tagName==="BR"||m.nextSibling.nodeType===Node.TEXT_NODE||m.nextSibling.classList.contains(Se.startSelection)||m.nextSibling.classList.contains(Se.endSelection))&&Bi.indexOf(m.nextSibling.parentNode.tagName.toLocaleLowerCase())>=0?m=this.createTempNode(m.nextSibling):m.nextSibling?m=m.nextSibling:m.parentNode&&(m=m.parentNode,f.push(m)),e.indexOf(m)<0&&m.nodeType===Node.ELEMENT_NODE&&Bi.indexOf(m.parentNode.tagName.toLocaleLowerCase())>=0&&(m.classList.contains(Se.startSelection)||m.classList.contains(Se.endSelection))&&e.push(this.createTempNode(m)),this.isBlockNode(m)&&this.ignoreTableTag(m)&&f.indexOf(m)<0&&e.indexOf(m)<0&&(m!==c||o.endOffset>0)&&e.push(m),m.nodeName==="IMG"&&m.parentElement.contentEditable==="true"&&e.push(m);r=this.blockParentNode(c),r&&this.ignoreTableTag(r)&&e.indexOf(r)<0&&!h(r.previousElementSibling)&&r.previousElementSibling.tagName!=="IMG"&&e.push(r)}for(var g=e.length-1;g>0;g--){var f=this.nodeFinds(e[g],e);if(f.length){var b=e[g].querySelectorAll("ul, ol");if(e[g].tagName==="LI"&&b.length>0)continue;e.splice(g,1)}}var S=this.tableSelection.getBlockNodes();return S.length>0?S:e},a.prototype.ignoreTableTag=function(t){return!(Nr.indexOf(t.tagName.toLocaleLowerCase())>=0)},a.prototype.getPreBlockNodeCollection=function(t){var e=this.getSelectedNode(t.startContainer,t.startOffset),i=this.getSelectedNode(t.endContainer,t.endOffset),s=[],n=e.closest("td, th");if(h(n))return s;for(var r=Array.from(n.childNodes),o=!0,l=this.getClosestInlineParent(e,n,!0),c=this.getClosestInlineParent(i,n,!1),d=0;d<r.length;d++){var p=r[d];l===c&&p===l?(s.push(p),o=!0):p===l?o=!1:p===c&&(s.push(p),o=!0),!o&&s.push(p)}return s},a.prototype.getClosestInlineParent=function(t,e,i){if(t.nodeType===Node.TEXT_NODE||this.isBlockNode(t))return t;for(var s=t,n=!1;s;){var r=s;if(n){if(this.isBlockNode(s))return r;if(i&&s.previousSibling){if(this.isBlockNode(s.previousSibling)||s.previousSibling.nodeName==="BR")return r;s=s.previousSibling}else if(!i&&s.nextSibling){if(this.isBlockNode(s.nextSibling)||s.nextSibling.nodeName==="BR")return r;s=s.nextSibling}else return s}else s=s.parentElement,s===e&&(s=r,n=!0)}return null},a.prototype.wrapWithBlockNode=function(t,e){for(var i=P("p"),s=0;s<t.length;s++){var n=t[s];if(n.nodeName==="BR")n.parentNode.insertBefore(i,n),i.appendChild(n),i.childNodes.length>0&&e.push(i),i=P("p");else{if(this.isBlockNode(n))e.push(n);else{if(n.nodeName==="#text"&&n.textContent.trim()==="")continue;i.childElementCount===0&&n.parentNode.insertBefore(i,n),i.appendChild(n)}s===t.length-1&&i.nextElementSibling&&i.querySelectorAll("br").length===0&&i.nextElementSibling.nodeName==="BR"&&i.appendChild(i.nextElementSibling)}}i.childNodes.length>0&&e.indexOf(i)<0&&e.push(i)},a}(),dS=function(){function a(t){this.parent=t,this.domNode=this.parent.domNode,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.observer.on(jd,this.applyListsHandler,this),this.parent.observer.on(Us,this.onKeyUp,this),this.parent.observer.on(at,this.keyDownHandler,this),this.parent.observer.on(Bd,this.spaceKeyAction,this),this.parent.observer.on(Ie,this.destroy,this)},a.prototype.removeEventListener=function(){this.parent.observer.off(jd,this.applyListsHandler),this.parent.observer.off(Us,this.onKeyUp),this.parent.observer.off(at,this.keyDownHandler),this.parent.observer.off(Bd,this.spaceKeyAction),this.parent.observer.off(Ie,this.destroy)},a.prototype.testList=function(t){var e=[/^[\d]+[.]+$/,/^(?=[MDCLXVI])M*(C[MD]|D?C{0,3})(X[CL]|L?X{0,3})(I[XV]|V?I{0,3})[.]$/gi,/^[a-zA-Z][.]+$/],i=h(t)?null:t.innerText.trim().split(".")[0]+".";if(!h(i)){for(var s=0;s<e.length;s++)if(e[s].test(i))return!0}return!1},a.prototype.testCurrentList=function(t){var e=[/^[1]+[.]+$/,/^[i]+[.]+$/,/^[a]+[.]+$/];if(!h(t.startContainer.textContent.slice(0,t.startOffset))){for(var i=t.startContainer.textContent.replace(/\u200B/g,"").slice(0,t.startOffset).trim(),s=0;s<e.length;s++)if(e[s].test(i)&&i.length===2)return!0}return!1},a.prototype.spaceList=function(t){var e=this.parent.nodeSelection.getRange(this.parent.currentDocument);this.saveSelection=this.parent.nodeSelection.save(e,this.parent.currentDocument);var i=this.parent.domNode.getSelectedNode(e.startContainer,e.startOffset),s=this.parent.domNode.getSelectedNode(e.endContainer,e.endOffset),n=i.previousElementSibling,r=i.nextElementSibling,o=h(n)?null:n.innerText.trim().substring(0,1),l=h(r)?null:r.innerText.trim().substring(0,1),c=this.testCurrentList(e),d=this.testList(n),p=this.testList(r);if(!d&&!p&&o!=="*"&&l!=="*"){var u=P("br");c?(e.startContainer.textContent=e.startContainer.textContent.slice(e.startOffset,e.startContainer.textContent.length),e.startContainer.nodeName==="#text"&&e.startContainer.textContent.length===0&&this.parent.domNode.insertAfter(u,e.startContainer),this.applyListsHandler({subCommand:"OL",callBack:t.callBack}),t.event.preventDefault()):(e.startContainer.textContent.replace(/\u200B/g,"").slice(0,e.startOffset).trim()==="*"||e.startContainer.textContent.replace(/\u200B/g,"").slice(0,e.startOffset).trim()==="-")&&(e.startContainer.textContent=e.startContainer.textContent.slice(e.startOffset,e.startContainer.textContent.length),e.startContainer.nodeName==="#text"&&e.startContainer.textContent.length===0&&this.parent.domNode.insertAfter(u,e.startContainer),this.applyListsHandler({subCommand:"UL",callBack:t.callBack}),t.event.preventDefault())}},a.prototype.enterList=function(t){var e=this.parent.nodeSelection.getRange(this.parent.currentDocument),i=e.startContainer.nodeName==="LI"?e.startContainer:e.startContainer.parentElement.closest("LI"),s=e.endContainer.nodeName==="LI"?e.endContainer:e.endContainer.parentElement.closest("LI"),n=!1;if(!h(i)){var r=i.querySelectorAll(".e-video-clickelem"),o=r.length>0&&r[0].childNodes[0].nodeName==="IFRAME";n=i.querySelectorAll("IMG").length>0||i.querySelectorAll("AUDIO").length>0||i.querySelectorAll("VIDEO").length>0||o}if(!h(i)&&!h(s)&&i===s&&i.tagName==="LI"&&i.textContent.trim()===""&&!n){if(i.innerHTML.indexOf("&nbsp;")>=0)return;i.textContent.charCodeAt(0)===65279&&(i.textContent="");var l=i.parentElement,c=l.parentElement;if(h(c.closest("UL"))&&h(c.closest("OL"))){if(!h(i.nextElementSibling)){var d=this.parent.domNode.blockParentNode(i);this.parent.nodeCutter.GetSpliceNode(e,d)}var p=void 0;t.enterAction==="DIV"?(p=P("div"),p.innerHTML="<br>"):t.enterAction==="P"?(p=P("p"),p.innerHTML="<br>"):p=P("br"),!h(c)&&c.nodeName==="BLOCKQUOTE"&&this.parent.observer.notify("blockquote_list_handled",{}),this.parent.domNode.insertAfter(p,l),t.event.preventDefault(),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,p,0),l.textContent===""&&l.querySelectorAll("audio,video").length===0?N(l):N(i)}!h(c)&&(!h(c.closest("UL"))||!h(c.closest("OL")))&&c.nodeName==="LI"&&c.style.listStyleType==="none"&&c.textContent===""&&i.textContent===""&&i===l.firstElementChild&&h(i.nextSibling)&&(N(l),c.style.removeProperty("list-style-type"),t.event.preventDefault())}},a.prototype.backspaceList=function(t){var e=this.parent.nodeSelection.getRange(this.parent.currentDocument),i=this.parent.domNode.getSelectedNode(e.startContainer,e.startOffset),s=this.parent.domNode.getSelectedNode(e.endContainer,e.endOffset);if(i=i.nodeName==="BR"?i.parentElement:i,s=s.nodeName==="BR"?s.parentElement:s,i===s&&!h(M(i,"li"))&&(i.textContent.trim()===""&&i.textContent.charCodeAt(0)===65279||i.textContent.length===1&&i.textContent.charCodeAt(0)===8203)&&(i.textContent=""),i===s&&i.tagName==="LI"&&i.textContent.length===0&&h(i.previousElementSibling)&&i.removeAttribute("style"),i===s&&i.textContent===""){if(i.parentElement.tagName==="LI"&&s.parentElement.tagName==="LI")N(i);else if(i.closest("ul")||i.closest("ol")){var n=h(i.closest("ul"))?i.closest("ol"):i.closest("ul");if(n.firstElementChild===i&&!h(n.children[1])&&(n.children[1].tagName==="OL"||n.children[1].tagName==="UL"))if(n.tagName===n.children[1].tagName){for(;n.children[1].lastChild;)this.parent.domNode.insertAfter(n.children[1].lastChild,n.children[1]);N(n.children[1])}else n.parentElement.insertBefore(n.children[1],n)}}else if(!h(i.firstChild)&&i.firstChild.nodeName==="BR"&&!h(i.childNodes[1])&&(i.childNodes[1].nodeName==="UL"||i.childNodes[1].nodeName==="OL")){var n=h(i.closest("ul"))?i.closest("ol"):i.closest("ul");if(n.tagName===i.childNodes[1].nodeName){for(;i.childNodes[1].lastChild;)this.parent.domNode.insertAfter(i.children[1].lastChild,i);N(i.childNodes[1])}else n.parentElement.insertBefore(i.children[1],n)}this.removeList(e,t),this.firstListBackSpace(e,t)},a.prototype.removeList=function(t,e){var i=this.parent.domNode.getSelectedNode(t.startContainer,t.startOffset),s=!h(t.endContainer.parentElement.closest("li"))&&t.endContainer.parentElement.closest("li").childElementCount>1&&t.endContainer.nodeName==="#text"?t.endContainer:this.parent.domNode.getSelectedNode(t.endContainer,t.endOffset),n=t.startContainer.nodeName==="#text"?t.startContainer.parentElement.closest("li"):t.startContainer.closest("li"),r="";!h(n)&&!h(n.firstChild)&&n.childNodes.forEach(function(o){r=r+o.textContent}),i=i.nodeName==="BR"?i.parentElement:i,s=s.nodeName==="BR"?s.parentElement:s,i=i.nodeName!=="LI"&&!h(i.closest("LI"))?i.closest("LI"):i,s=s.nodeName!=="LI"&&s.nodeName!=="#text"&&!h(s.closest("LI"))?s.closest("LI"):s,(t.commonAncestorContainer.nodeName==="OL"||t.commonAncestorContainer.nodeName==="UL"||t.commonAncestorContainer.nodeName==="LI")&&h(s.nextElementSibling)&&s.textContent.length===t.endOffset&&h(i.previousElementSibling)&&t.startOffset===0||E.userAgent.indexOf("Firefox")!==-1&&t.startContainer===t.endContainer&&t.startContainer===this.parent.editableElement&&t.startOffset===0&&t.endOffset===1?(E.userAgent.indexOf("Firefox")!==-1?N(t.commonAncestorContainer.childNodes[0]):t.commonAncestorContainer.nodeName==="LI"?N(t.commonAncestorContainer.parentElement):N(t.commonAncestorContainer),e.event.preventDefault()):!h(n)&&!t.collapsed&&n.textContent===r&&(t.deleteContents(),this.parent.editableElement.querySelectorAll("li").forEach(function(o){(!o.firstChild||o.textContent.trim()==="")&&o.parentNode.removeChild(o)}),this.parent.editableElement.querySelectorAll("ol").forEach(function(o){(!o.firstChild||o.textContent.trim()==="")&&o.parentNode.removeChild(o)}),this.parent.editableElement.querySelectorAll("ul").forEach(function(o){(!o.firstChild||o.textContent.trim()==="")&&o.parentNode.removeChild(o)}),e.event.preventDefault())},a.prototype.onKeyUp=function(t){if(!h(this.commonLIParent)&&!h(this.commonLIParent.querySelector(".removeList"))){for(var e=this.commonLIParent.querySelector(".removeList");!h(e.firstChild);)this.parent.domNode.insertAfter(e.firstChild,e);N(e)}if(t.event.keyCode===13)for(var i=this.parent.editableElement.querySelectorAll("UL, OL"),s=0;s<i.length;s++)!h(i[s])&&!h(i[s].parentElement)&&!h(i[s].previousElementSibling)&&(i[s].parentElement.nodeName==="UL"||i[s].parentElement.nodeName==="OL")&&i[s].previousElementSibling.appendChild(i[s])},a.prototype.firstListBackSpace=function(t,e){var i=this.parent.domNode.getSelectedNode(t.startContainer,t.startOffset);if(h(i.closest("OL"))?h(i.closest("UL"))||(this.commonLIParent=i.closest("UL")):this.commonLIParent=i.closest("OL"),i.nodeName==="LI"&&t.startOffset===0&&t.endOffset===0&&h(i.previousSibling)&&!h(this.commonLIParent)&&h(this.commonLIParent.previousSibling)&&h(this.commonLIParent.parentElement.closest("OL"))&&h(this.commonLIParent.parentElement.closest("UL"))&&h(this.commonLIParent.parentElement.closest("LI"))){var s=P("P");s.innerHTML="&#8203;",i.classList.add("removeList"),this.commonLIParent.parentElement.insertBefore(s,this.commonLIParent)}},a.prototype.keyDownHandler=function(t){if(t.event.which===13&&this.enterList(t),t.event.which===32&&this.spaceList(t),t.event.which===8&&this.backspaceList(t),t.event.which===46&&t.event.action==="delete"||t.event.which===88&&t.event.action==="cut"){var e=this.parent.nodeSelection.getRange(this.parent.currentDocument),i=e.commonAncestorContainer,s=e.startContainer,n=e.endContainer,r=s.nodeType===3?this.domNode.blockParentNode(s):s,o=n.nodeType===3?this.domNode.blockParentNode(n):n;(i.nodeName==="UL"||i.nodeName==="OL")&&r!==o&&(!h(M(r,"ul"))||!h(M(r,"ol")))&&(!h(M(o,"ul"))||!h(M(o,"ol")))&&i.lastElementChild===M(o,"li")&&i.lastChild!==o&&!e.collapsed&&this.areAllListItemsSelected(i,e)&&N(i),this.removeList(e,t)}if(t.event.which===9){var e=this.parent.nodeSelection.getRange(this.parent.currentDocument);t.event.action&&t.event.action==="indent"||(this.saveSelection=this.parent.nodeSelection.save(e,this.parent.currentDocument));var l=void 0,c=e.startOffset,d=e.endOffset,r=this.parent.domNode.getSelectedNode(e.startContainer,e.startOffset),o=this.parent.domNode.getSelectedNode(e.endContainer,e.endOffset);if(r===o&&(r.nodeName==="BR"||r.nodeName==="#text")&&Bi.indexOf(r.parentNode.tagName.toLocaleLowerCase())>=0)return;t.event.action&&t.event.action==="indent"||this.domNode.setMarker(this.saveSelection),l=this.domNode.blockNodes();for(var p=[],u=!0,f=0;f<l.length;f++)l[f].parentNode.tagName==="LI"?p.push(l[f].parentNode):l[f].tagName==="LI"&&l[f].childNodes[0].tagName!=="P"&&l[f].childNodes[0].tagName!=="OL"&&l[f].childNodes[0].tagName!=="UL"&&p.push(l[f]);p.length>1||p.length===1?(t.event.preventDefault(),t.event.stopPropagation(),this.currentAction=this.getAction(p[0]),t.event.shiftKey?(this.revertList(p,t),this.revertClean()):u=this.nestedList(p),u&&(this.cleanNode(),this.parent.editableElement.focus()),t.event.action&&t.event.action==="indent"||(this.saveSelection=this.domNode.saveMarker(this.saveSelection),this.saveSelection.restore(),t.callBack&&t.callBack({requestType:this.currentAction,editorMode:"HTML",range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.domNode.blockNodes(),event:t.event}))):t.event.action&&t.event.action==="indent"||(t.event&&t.event.shiftKey&&t.event.key==="Tab"&&(t.event.action="tab"),this.saveSelection=this.domNode.saveMarker(this.saveSelection),this.saveSelection.restore())}else switch(t.event.action){case"ordered-list":this.applyListsHandler({subCommand:"OL",callBack:t.callBack}),t.event.preventDefault();break;case"unordered-list":this.applyListsHandler({subCommand:"UL",callBack:t.callBack}),t.event.preventDefault();break}},a.prototype.spaceKeyAction=function(t){t.event.which===32&&this.spaceList(t)},a.prototype.getAction=function(t){var e=t.parentNode;return e.nodeName==="OL"?"OL":"UL"},a.prototype.revertClean=function(){for(var t=this.parent.editableElement.querySelectorAll("ul, ol"),e=0;e<t.length;e++){var i=t[e].querySelectorAll("ul, ol");if(i.length>0)for(var s=0;s<i.length;s++){var n=i[s].previousSibling;n&&n.tagName==="LI"&&n.appendChild(i[s])}}},a.prototype.noPreviousElement=function(t){var e,i,s=t.querySelectorAll("ol, ul"),n=t.querySelectorAll("li"),r=this.domNode.contents(n[0])[0];if(n.length>0&&(r.nodeName==="OL"||r.nodeName==="UL")?e=n[0]:i=s[0],e)for(var o=this.domNode.contents(t)[0];o&&!this.domNode.isList(o);null){var l=o.nextSibling;Ft([o],e),se(t,{"list-style-type":"none"}),se(e,{"list-style-type":""}),o=l}else if(i){var c=P("li");Ft([c],i);for(var o=this.domNode.contents(t)[0];o&&!this.domNode.isList(o);null){var l=o.nextSibling;c.appendChild(o),o=l}Ft([i],t.parentNode),N(t);var d=P("li",{styles:"list-style-type: none;"});Ft([d],i.parentNode),Pe([i],d)}else{var d=P("li",{styles:"list-style-type: none;"});Ft([d],t.parentNode);var c=P(t.parentNode.tagName);Ft([c],d),Pe([t],c)}},a.prototype.nestedList=function(t){for(var e=!1,i=0;i<t.length;i++){var s=this.domNode.getPreviousNode(t[i]);if(s){e=!0;var n=void 0,r=void 0,o=t[i].querySelectorAll("ol, ul"),l=t[i].querySelectorAll("li"),c=this.domNode.contents(l[0])[0];if(l.length>0&&(c.nodeName==="OL"||c.nodeName==="UL")?r=l[0]:n=o[0],n){var d=P("li");Ft([d],n);for(var p=this.domNode.contents(t[i])[0];p&&!this.domNode.isList(p);null){var u=p.nextSibling;d.appendChild(p),p=u}Pe([n],s),N(t[i])}else if(r){if(s.tagName==="LI"){for(var p=this.domNode.contents(t[i])[0];p&&!this.domNode.isList(p);null){var u=p.nextSibling;Ft([p],r),se(t[i],{"list-style-type":"none"}),se(r,{"list-style-type":""}),p=u}Pe([r.parentNode],s),N(t[i])}}else if(s.tagName==="LI"){var d=P(t[i].parentNode.tagName);d.style.listStyleType=t[i].parentNode.style.listStyleType,Pe([d],s),Pe([t[i]],d)}else(s.tagName==="OL"||s.tagName==="UL")&&Pe([t[i]],s)}else{var f=t[i];e=!0,this.noPreviousElement(f)}}return e},a.prototype.applyListsHandler=function(t){var e=this.parent.nodeSelection.getRange(this.parent.currentDocument);if(E.userAgent.indexOf("Firefox")!==-1&&e.startContainer===e.endContainer&&e.startContainer===this.parent.editableElement){for(var i=e.startContainer.childNodes,s=i[e.startOffset>0?e.startOffset-1:e.startOffset]||e.startContainer,n=e.endContainer.childNodes[e.endOffset>0?e.endOffset-1:e.endOffset]||e.endContainer,r=n.lastChild.nodeName==="BR"?h(n.lastChild.previousSibling)?n:n.lastChild.previousSibling:n.lastChild;!h(r)&&r.nodeName!=="#text"&&r.nodeName!=="IMG"&&r.nodeName!=="BR"&&r.nodeName!=="HR";)r=r.lastChild;this.parent.nodeSelection.setSelectionText(this.parent.currentDocument,s,r,0,r.textContent.length),e=this.parent.nodeSelection.getRange(this.parent.currentDocument)}if(e.startContainer===e.endContainer&&e.startContainer===this.parent.editableElement&&e.startOffset===e.endOffset&&e.startOffset===0&&this.parent.editableElement.textContent.length===0&&this.parent.editableElement.childNodes[0].nodeName!=="TABLE"&&this.parent.editableElement.childNodes[0].nodeName!=="IMG"){var o=e.startContainer.childNodes[0];this.parent.nodeSelection.setSelectionText(this.parent.currentDocument,o,o,0,0),e=this.parent.nodeSelection.getRange(this.parent.currentDocument)}this.saveSelection=this.parent.nodeSelection.save(e,this.parent.currentDocument),this.currentAction=t.subCommand,this.currentAction=t.subCommand=this.currentAction==="NumberFormatList"?"OL":this.currentAction==="BulletFormatList"?"UL":this.currentAction,this.domNode.setMarker(this.saveSelection);var l=this.domNode.blockNodes(!0);t.enterAction==="BR"&&(this.setSelectionBRConfig(),this.parent.domNode.convertToBlockNodes(this.parent.domNode.blockNodes(),!0),this.setSelectionBRConfig(),l=this.parent.domNode.blockNodes());for(var c=0;c<l.length;c++)l[c].tagName==="TABLE"&&!e.collapsed&&l.splice(c,1),l.length>0&&l[c].tagName!=="LI"&&l[c].parentNode.tagName==="LI"&&(l[c]=l[c].parentNode);this.applyLists(l,this.currentAction,t.selector,t.item,t),t.callBack&&t.callBack({requestType:this.currentAction,event:t.event,editorMode:"HTML",range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.domNode.blockNodes()})},a.prototype.setSelectionBRConfig=function(){var t=this.parent.editableElement.querySelector("."+Se.startSelection),e=this.parent.editableElement.querySelector("."+Se.endSelection);h(e)?this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,t,0):this.parent.nodeSelection.setSelectionText(this.parent.currentDocument,t,e,0,0)},a.prototype.applyLists=function(t,e,i,s,n){if(this.isRevert(t,e,s)&&h(s))this.revertList(t,n),this.removeEmptyListElements();else{this.checkLists(t,e,s);var r="";t[0].style.marginLeft!==""&&(r=' style = "margin-left: '+t[0].style.marginLeft+';"');for(var o=0;o<t.length;o++){!h(s)&&!h(s.listStyle)&&(s.listStyle==="listImage"?se(t[o],{"list-style-image":s.listImage}):(se(t[o],{"list-style-image":"none"}),se(t[o],{"list-style-type":s.listStyle.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}))),t[o].style.removeProperty("margin-left");var l=t[o].tagName==="IMG"||t[o].classList.contains("e-editor-select-start")?"":this.domNode.attributes(t[o]);if(t[o].getAttribute("contenteditable")==="true"&&t[o].childNodes.length===1&&t[o].childNodes[0].nodeName==="TABLE"){var c=document.createElement(e);c.innerHTML="<li><br/></li>",t[o].appendChild(c)}else if(t[o].tagName!=="LI"&&h(s)&&t[o].nodeName==="BLOCKQUOTE"){var d="<"+e+r+">",p="</"+e+">",u="li"+l,f=t[o].innerHTML,m=this.domNode.createTagString(u,null,f),g=d+m+p;t[o].innerHTML=g}else if(t[o].tagName!=="LI"&&h(s)){var d="<"+e+r+">",p="</"+e+">",u="li"+l,f=t[o].tagName.toLowerCase()===Hi?t[o].innerHTML:t[o].outerHTML,m=this.domNode.createTagString(u,null,f),g=d+m+p;this.domNode.replaceWith(t[o],g)}else if(!h(s)&&t[o].tagName!=="LI"){var b=t[o].tagName==="IMG"?"":this.domNode.attributes(t[o]),d="<"+e+b+">",p="</"+e+">",u="li",f=t[o].tagName.toLowerCase()===Hi?t[o].innerHTML:t[o].outerHTML,m=this.domNode.createTagString(u,null,f),g=d+m+p;this.domNode.replaceWith(t[o],g)}}}if(this.cleanNode(),n.enterAction==="BR"){var S=document.querySelectorAll("span#removeSpan");S.forEach(function(T){for(var I=document.createDocumentFragment();T.firstChild;)I.appendChild(T.firstChild);T.parentNode.replaceChild(I,T)})}this.parent.editableElement.focus(),vt()&&Ts(this.parent.editableElement,i),this.saveSelection=this.domNode.saveMarker(this.saveSelection),this.saveSelection.restore()},a.prototype.removeEmptyListElements=function(){for(var t=this.parent.editableElement.querySelectorAll("ol, ul"),e=0;e<t.length;e++)t[e].textContent.trim()===""&&N(t[e])},a.prototype.isRevert=function(t,e,i){for(var s=!0,n=0;n<t.length;n++){if(t[n].tagName!=="LI")return!1;(t[n].parentNode.tagName!==e||h(i)&&t[n].parentNode.style.listStyleType!=="")&&(s=!1),t[n].parentNode.tagName===e&&t[n].parentNode.style.listStyleType!==""&&(s=!0)}return s},a.prototype.checkLists=function(t,e,i){for(var s=[],n=0;n<t.length;n++){var r=t[n].parentNode;!h(i)&&t[n].tagName==="LI"&&!h(i.listStyle)&&(i.listStyle==="listImage"?se(r,{"list-style-image":i.listImage}):(se(r,{"list-style-image":"none"}),se(r,{"list-style-type":i.listStyle.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}))),(t[n].tagName==="LI"&&r.tagName!==e&&s.indexOf(r)<0||t[n].tagName==="LI"&&r.tagName===e&&s.indexOf(r)<0&&i!==null)&&s.push(r),h(i)&&(r.tagName===e||(r.tagName==="UL"||r.tagName==="OL")&&r.hasAttribute("style"))&&r.hasAttribute("style")&&r.removeAttribute("style")}for(var o=s.length-1;o>=0;o--){var l=s[o],c="<"+e.toLowerCase()+" "+this.domNode.attributes(l)+">"+l.innerHTML+"</"+e.toLowerCase()+">";this.domNode.replaceWith(s[o],c)}},a.prototype.cleanNode=function(){for(var t=this.parent.editableElement.querySelectorAll("ol + ol, ul + ul"),e,i,s=0;s<t.length;s++){for(var n=t[s],r=!0,o=n;o.parentElement&&!(o.parentElement&&o.parentElement.tagName!=="LI"&&o.parentElement.tagName!=="OL"&&o.parentElement.tagName!=="UL");)o=o.parentElement;if(r&&(t[s].parentElement.parentElement.nodeName==="OL"||t[s].parentElement.parentElement.nodeName==="UL")){r=!1;var l=t[s].parentElement.parentElement;e=l.style.listStyleType,i=n.previousElementSibling}if(this.domNode.isList(n.previousElementSibling)&&this.domNode.openTagString(n)===this.domNode.openTagString(n.previousElementSibling)){for(var c=this.domNode.contents(n),d=0;d<c.length;d++)n.previousElementSibling.appendChild(c[d]);n.parentNode.removeChild(n)}else if(!h(n.getAttribute("level")))n.tagName===n.previousElementSibling.tagName&&n.previousElementSibling.lastChild.append(n);else if(this.domNode.isList(n.previousElementSibling)&&o.contains(n.previousElementSibling)&&(n.tagName==="OL"||n.tagName==="UL")&&(n.previousElementSibling.nodeName==="OL"||n.previousElementSibling.nodeName==="UL")){for(var c=this.domNode.contents(n),d=0;d<c.length;d++)n.previousElementSibling.appendChild(c[d]);n.parentNode.removeChild(n)}}if(i){i.style.listStyleType=e;var p=this.parent.nodeSelection.getRange(this.parent.currentDocument),u=[];p.commonAncestorContainer.nodeName==="UL"||p.commonAncestorContainer.nodeName==="OL"?(p.commonAncestorContainer instanceof Element&&u.push(p.commonAncestorContainer),u=u.concat(Array.from(p.commonAncestorContainer.querySelectorAll("ol, ul")))):u=Array.from(p.commonAncestorContainer.querySelectorAll("ol, ul"));for(var f=0;f<u.length;f++)for(var m=void 0,g=u[f];g;)(g.nodeName==="OL"||g.nodeName==="OL")&&(g.style.listStyleType!==""&&g.style.listStyleType!=="none"&&g.nodeName!=="LI"?m=g.style.listStyleType:!h(m)&&(g.style.listStyleType===""||g.style.listStyleType==="none")&&g.nodeName!=="LI"&&(g.nodeName==="UL"||g.nodeName==="OL")&&(g.style.listStyleType=m)),g=g.querySelector("UL,OL")}},a.prototype.findUnSelected=function(t,e){if(t=t.slice().reverse(),t.length>0){var i=[],s=[],n=e[e.length-1],r=[],o=[];r=n.childNodes;for(var l=0;l<r.length;l++)if(r[l].tagName==="OL"||r[l].tagName==="UL"){var c=r[l].querySelectorAll("li");if(c.length>0)for(var d=0;d<c.length;d++)o.push(c[d])}for(var p=0;p<o.length;p++){for(var u=0,f=0;f<t.length;f++)o[p].contains(t[f])||(u=u+1);u===t.length&&s.push(o[p])}if(s.length>0)for(var m=0;m<s.length;m++)this.domNode.contents(s[m])[0].nodeName!=="OL"&&this.domNode.contents(s[m])[0].nodeName!=="UL"&&i.push(s[m]);i.length>0&&this.nestedList(i)}},a.prototype.revertList=function(t,e){for(var i=[],s=t.length-1;s>=0;s--)for(var n=s-1;n>=0;n--)if(t[n].contains(t[s])||t[n]===t[s]){i.push(t[s]),t.splice(s,1);break}this.findUnSelected(i,t);for(var r=[],s=0;s<t.length;s++){var o=t[s];this.domNode.contents(o)[0].nodeType===3&&this.domNode.contents(o)[0].textContent.trim().length===0&&N(this.domNode.contents(o)[0]);var l=t[s].parentNode,c=o.getAttribute("class");if(i.length===0){var d=t[s].querySelectorAll("ul, ol"),p=d[0];if(p){var u=p.querySelectorAll("li");if(u){var f=P(p.tagName);Pe([f],p.parentNode);var m=P("li",{styles:"list-style-type: none;"});Pe([m],f),Pe([p],m)}}}if(o.parentNode.insertBefore(this.closeTag(l.tagName),o),l.parentNode.tagName==="LI"||l.parentNode.tagName==="OL"||l.parentNode.tagName==="UL")o.parentNode.insertBefore(this.closeTag("LI"),o);else{if(o.querySelectorAll(Fs.join(", ")).length===0){var g=h(c)?' class="e-rte-wrap-inner"':' class="'+c+' e-rte-wrap-inner"',b=l;t.length===b.querySelectorAll("li").length&&(h(b.style.listStyleType)||l.style.removeProperty("list-style-type"),h(b.style.listStyleImage)||l.style.removeProperty("list-style-image"),b.style.length===0&&l.removeAttribute("style"));var S="<"+e.enterAction+g+this.domNode.attributes(o)+"></"+e.enterAction+">";if(e.enterAction!=="BR")this.domNode.wrapInner(o,this.domNode.parseHTMLFragment(S));else{var T="<span class=e-rte-wrap-inner id=removeSpan></span>",I=document.createElement("br");this.domNode.wrapInner(o,this.domNode.parseHTMLFragment(T)),o.appendChild(I)}}else if(this.domNode.contents(o)[0].nodeType===3){var w=this.domNode.createTagString(Hi,l,this.parent.domNode.encode(this.domNode.contents(o)[0].textContent));this.domNode.replaceWith(this.domNode.contents(o)[0],w)}else if(this.domNode.contents(o)[0].classList.contains(Se.startSelection)||this.domNode.contents(o)[0].classList.contains(Se.endSelection)){var w=this.domNode.createTagString(Hi,l,this.domNode.contents(o)[0].outerHTML);this.domNode.replaceWith(this.domNode.contents(o)[0],w)}else{var x=o.firstChild;if(x){var A=o.parentElement.attributes;if(A.length>0)for(var q=0;q<A.length;q++){var F=A[q],J=x.getAttribute(F.nodeName),ae=o.parentElement.getAttribute(F.nodeName);x.setAttribute(F.nodeName,J?ae+" "+J:ae)}}c=x.getAttribute("class"),c&&x.getAttribute("class")&&le(x,{class:c+" "+x.getAttribute("class")})}Pe([this.openTag("LI")],o),Ft([this.closeTag("LI")],o)}this.domNode.insertAfter(this.openTag(l.tagName),o),l.parentNode.tagName==="LI"&&(l=l.parentNode.parentNode),r.indexOf(l)<0&&r.push(l)}for(var s=0;s<r.length;s++){var de=r[s],re=de.innerHTML,me=/<span class="e-rte-list-close-([a-z]*)"><\/span>/g,U=/<span class="e-rte-list-open-([a-z]*)"><\/span>/g;re=re.replace(me,"</$1>"),re=re.replace(U,"<$1 "+this.domNode.attributes(de)+">"),this.domNode.replaceWith(de,this.domNode.openTagString(de)+re.trim()+this.domNode.closeTagString(de))}for(var O=this.parent.editableElement.querySelectorAll("ul:empty, ol:empty"),s=0;s<O.length;s++)N(O[s]);for(var _=this.parent.editableElement.querySelectorAll("li:empty"),s=0;s<_.length;s++)N(_[s])},a.prototype.openTag=function(t){return this.domNode.parseHTMLFragment('<span class="e-rte-list-open-'+t.toLowerCase()+'"></span>')},a.prototype.closeTag=function(t){return this.domNode.parseHTMLFragment('<span class="e-rte-list-close-'+t.toLowerCase()+'"></span>')},a.prototype.destroy=function(){this.removeEventListener(),this.domNode&&(this.domNode=null)},a.prototype.areAllListItemsSelected=function(t,e){for(var i=t.querySelectorAll("li"),s=0;s<i.length;s++){var n=i[s],r=this.parent.currentDocument.createRange();if(r.selectNodeContents(n),!e.intersectsNode(n))return!1}return!0},a}(),Ve=function(){function a(){}return a.WrapBefore=function(t,e,i){return e.innerText=t.textContent,i?this.AppendBefore(e,t,!0):this.AppendBefore(e,t),t.parentNode&&t.parentNode.removeChild(t),e.childNodes[0]},a.Wrap=function(t,e){return this.AppendBefore(e,t),e.appendChild(t),t},a.unwrap=function(t){for(var e=t.parentNode,i=[];t.firstChild;null)i.push(e.insertBefore(t.firstChild,t));return e.removeChild(t),i},a.AppendBefore=function(t,e,i){return e.parentNode?i?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.insertBefore(t,e):e},a}(),Vs=function(){function a(){this.enterAction="P",this.position=-1,this.nodeSelection=new Lt}return a.prototype.GetSpliceNode=function(t,e){return e=this.SplitNode(t,e,!0),e=this.SplitNode(t,e,!1),e},a.prototype.SplitNode=function(t,e,i){if(e){var s=t.cloneRange(),n=e.parentNode,r=this.nodeSelection.getIndex(e);s.collapse(i),i?s.setStartBefore(e):s.setEndAfter(e);var o=s.extractContents();if(i){if(e=n.childNodes[r],o=this.spliceEmptyNode(o,!1),o&&o.childNodes.length>0){var l=!!(o.childNodes.length===1&&o.childNodes[0].nodeName!=="IMG"&&!(o.querySelectorAll("img").length>0)&&this.isRteElm(o)&&o.textContent.trim()==="");if(!l)if(e)Ve.AppendBefore(o,e);else{n.appendChild(o);var c=document.createElement("div");c.innerHTML="&#65279;&#65279;",e=c.firstChild,n.appendChild(e)}}}else if(e=n.childNodes.length>1?n.childNodes[r]:n.childNodes[0],o=this.spliceEmptyNode(o,!0),o&&o.childNodes.length>0){var l=!!(o.childNodes.length===1&&o.childNodes[0].nodeName!=="IMG"&&this.isRteElm(o)&&o.textContent.trim()==="");if(!l)if(e)Ve.AppendBefore(o,e,!0);else{n.appendChild(o);var c=document.createElement("div");c.innerHTML="&#65279;&#65279;",n.insertBefore(c.firstChild,n.firstChild),e=n.firstChild}}return e}else return null},a.prototype.isRteElm=function(t){var e=!0;if(t.childNodes.length===1&&t.childNodes[0].nodeName!=="IMG")for(var i=t.childNodes[0],s=0;!h(i.childNodes)&&s<i.childNodes.length;s++)(i.childNodes[s].nodeName==="IMG"||i.childNodes[s].nodeName==="SPAN"&&(i.childNodes[s].classList.contains("e-video-wrap")||i.childNodes[s].classList.contains("e-embed-video-wrap")||i.childNodes[s].classList.contains("e-audio-wrap")))&&(e=!1);else e=!0;return e},a.prototype.spliceEmptyNode=function(t,e){var i;return t.childNodes.length===1&&t.childNodes[0].nodeName==="#text"&&t.childNodes[0].textContent===""||t.textContent===""?i=-1:i=t.childNodes.length-1,i>-1&&!e?this.spliceEmptyNode(t.childNodes[i],e):i>-1?this.spliceEmptyNode(t.childNodes[0],e):t.nodeType!==3&&t.nodeType!==11&&t.nodeName!=="IMG"&&!(t.querySelectorAll("img").length>0)&&!t.classList.contains("e-video-wrap")&&!t.classList.contains("e-audio-wrap")&&t.parentNode.removeChild(t),t},a.prototype.GetCursorStart=function(t,e,i){t=i?t:t.reverse();for(var s=t[0],n=0;n<t.length&&(i?t[n]<e:t[n]>=e);n++)s=t[n];return s},a.prototype.GetCursorRange=function(t,e,i){var s=t.createRange(),n=[];n.push(0);for(var r=this.TrimLineBreak(i.data),o=r.indexOf(" ",0);o!==-1;)n.indexOf(o)<0&&n.push(o),new RegExp("\\s").test(r[o-1])&&n.indexOf(o-1)<0&&n.push(o-1),new RegExp("\\s").test(r[o+1])&&n.push(o+1),o=r.indexOf(" ",o+1);if(n.push(r.length),n.indexOf(e.startOffset)>=0||n.indexOf(e.startOffset-1)>=0&&(e.startOffset!==1||e.startOffset===1&&new RegExp("\\s").test(r[0]))||n[n.length-1]-1===e.startOffset&&e.endOffset!==r.length-1&&!new RegExp("\\s").test(r[0]))s=e,this.position=1;else{var l=this.GetCursorStart(n,e.startOffset,!0);this.position=e.startOffset-l,l!==0&&r[l]&&r[l]===" "&&(l=l+1),s.setStart(e.startContainer,l),s.setEnd(e.startContainer,this.GetCursorStart(n,e.startOffset,!1))}return s},a.prototype.GetCursorNode=function(t,e,i){return this.GetSpliceNode(this.GetCursorRange(t,e,i),i)},a.prototype.TrimLineBreak=function(t){return t.replace(/(\r\n\t|\n|\r\t)/gm," ")},a}(),pS=function(){function a(t){this.blockquotePrevent=!1,this.parent=t,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.observer.on(Ad,this.applyFormats,this),this.parent.observer.on(Us,this.onKeyUp,this),this.parent.observer.on(at,this.onKeyDown,this),this.parent.observer.on(JM,this.blockQuotesHandled,this),this.parent.observer.on(Ie,this.destroy,this)},a.prototype.removeEventListener=function(){this.parent.observer.off(Ad,this.applyFormats),this.parent.observer.off(Us,this.onKeyUp),this.parent.observer.off(at,this.onKeyDown),this.parent.observer.off(Ie,this.destroy)},a.prototype.getParentNode=function(t){for(;t.parentNode&&t.parentNode!==this.parent.editableElement;null)t=t.parentNode;return t},a.prototype.blockQuotesHandled=function(){this.blockquotePrevent=!0},a.prototype.onKeyUp=function(t){var e=this.parent.nodeSelection.getRange(this.parent.currentDocument),i=e.endContainer,s=i.lastChild;if(t.event.which===13&&e.startContainer===i&&i.nodeType!==3){var n=P("p");if(n.innerHTML="<br>",!h(s)&&s&&s.nodeName==="BR"&&s.previousSibling&&s.previousSibling.nodeName==="TABLE")i.replaceChild(n,s),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,n,0);else{var r=this.parent.nodeSelection.getSelectionNodeCollectionBr(e)[0];!h(r)&&r.nodeName==="BR"&&r.previousSibling&&r.previousSibling.nodeName==="TABLE"&&(i.replaceChild(n,r),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,n,0))}}if(t.enterAction!=="BR"&&!h(e.startContainer)&&!h(e.startContainer.parentElement)&&e.startContainer===e.endContainer&&e.startContainer.nodeName==="#text"&&e.startContainer.parentElement.classList.contains("e-content")&&e.startContainer.parentElement.isContentEditable){var n=P(t.enterAction);e.startContainer.parentElement.insertBefore(n,e.startContainer),n.appendChild(e.startContainer),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,n,1)}},a.prototype.getBlockParent=function(t,e){for(var i=t;t!==e;)i=t,t=t.parentElement;return i},a.prototype.onKeyDown=function(t){if(t.event.which===13&&!this.blockquotePrevent){var e=this.parent.nodeSelection.getRange(this.parent.currentDocument),i=e.startContainer.textContent.length===0||e.startContainer.nodeName==="PRE"?e.startContainer:e.startContainer.parentElement,s=e.endContainer.textContent.length===0||e.endContainer.nodeName==="PRE"?e.endContainer:e.endContainer.parentElement,n=M(i,"pre"),r=M(s,"pre"),o=M(i,"blockquote"),l=M(s,"blockquote"),c=!h(n)&&!h(n.parentElement)&&n.parentElement.tagName==="LI";if(c)return;if((h(n)&&!h(r)||!h(n)&&h(r))&&(t.event.preventDefault(),this.deleteContent(e),this.removeCodeContent(e),e=this.parent.nodeSelection.getRange(this.parent.currentDocument),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,s,0)),t.event.which===13&&(!h(o)&&!h(l)||!h(o)&&h(l))){var d=this.getBlockParent(e.startContainer,o);if(d.textContent.charCodeAt(0)===8203&&d.textContent.length===1||d.textContent.length===0&&d.querySelectorAll("img").length===0&&d.querySelectorAll("table").length===0)if(t.event.preventDefault(),h(d.nextElementSibling))this.paraFocus(d.parentElement===this.parent.editableElement?d:d.parentElement);else{var p=new Vs,u=p.SplitNode(e,d.parentElement,!1).cloneNode(!0);this.paraFocus(d.parentElement===this.parent.editableElement?d:d.parentElement)}}if(t.event.which===13&&!h(n)&&!h(r)){t.event.preventDefault(),this.deleteContent(e),this.removeCodeContent(e),e=this.parent.nodeSelection.getRange(this.parent.currentDocument);var f=e.startContainer.childNodes[e.endOffset],m=e.startContainer.childNodes[e.endOffset-1],d=e.startContainer;if(!h(f)&&!h(m)&&h(f.nextSibling)&&f.nodeName==="BR"&&m.nodeName==="BR")this.paraFocus(e.startContainer,t.enterAction);else if(d.textContent.charCodeAt(0)===8203&&d.textContent.length===1||d.textContent.length===0){for(;d.parentElement.nodeName!=="PRE"&&(d.textContent.length===1||d.textContent.length===0);)d=d.parentElement;!h(d.previousSibling)&&d.previousSibling.nodeName==="BR"&&h(d.nextSibling)?this.paraFocus(d.parentElement):this.isNotEndCursor(n,e)}else this.isNotEndCursor(n,e)}}this.blockquotePrevent=!1},a.prototype.removeCodeContent=function(t){var e=new RegExp("\uFEFF","g");if(!h(t.endContainer.textContent.match(e))){var i=t.endContainer.textContent.charCodeAt(t.endOffset-1)===65279?t.endOffset-2:t.endOffset;t.endContainer.textContent=t.endContainer.textContent.replace(e,""),t.endContainer.textContent===""?this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,t.endContainer.parentElement,0):this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,t.endContainer,i)}},a.prototype.deleteContent=function(t){(t.startContainer!==t.endContainer||t.startOffset!==t.endOffset)&&t.deleteContents()},a.prototype.paraFocus=function(t,e){var i;e==="DIV"?(i=P("div"),i.innerHTML="<br>"):e==="BR"?i=P("br"):(i=P("p"),i.innerHTML="<br>"),this.parent.domNode.insertAfter(i,t),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,i,0),N(t.lastChild)},a.prototype.isNotEndCursor=function(t,e){var i=new Vs,s=e.startOffset===t.lastChild.textContent.length&&t.lastChild.textContent===e.startContainer.textContent;if(t.textContent.indexOf(e.startContainer.textContent)===0&&(e.startOffset===0&&e.endOffset===0||e.startContainer.nodeName==="PRE")){this.insertMarker(t,e);var n=P("br");t.childNodes[e.endOffset].parentElement.insertBefore(n,t.childNodes[e.endOffset])}else{var r=i.SplitNode(e,t,!0);this.insertMarker(t,e);var o=t.previousElementSibling;o.tagName==="PRE"&&(o.insertAdjacentHTML("beforeend","<br>"+r.innerHTML),N(t))}this.setCursorPosition(s,t)},a.prototype.setCursorPosition=function(t,e){var i=!1,s=this.parent.editableElement.querySelector(".tempSpan"),n=s.parentElement;if(s.parentNode.textContent===""?i=!0:this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,s,0),t)if(i)n===e?(this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,s,0),N(s)):this.focusSelectionParent(s,n);else{var r=P("br");this.parent.domNode.insertAfter(r,s),this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,s,0),N(s)}else i?this.focusSelectionParent(s,n):N(s)},a.prototype.focusSelectionParent=function(t,e){N(t),e.innerHTML="\u200B",this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,e,0)},a.prototype.insertMarker=function(t,e){var i=P("span",{className:"tempSpan"});e.startContainer.nodeName==="PRE"?t.childNodes[e.endOffset].parentElement.insertBefore(i,t.childNodes[e.endOffset]):e.startContainer.parentElement.insertBefore(i,e.startContainer)},a.prototype.applyFormats=function(t){var e=this.parent.nodeSelection.getRange(this.parent.currentDocument),i=!1;this.parent.editableElement===e.endContainer&&!h(this.parent.editableElement.children[e.endOffset-1])&&this.parent.editableElement.children[e.endOffset-1].tagName==="TABLE"&&!e.collapsed&&(i=!0);var s=this.parent.nodeSelection.save(e,this.parent.currentDocument);this.parent.domNode.setMarker(s);var n=this.parent.domNode.blockNodes(!0);if(t.enterAction==="BR"){this.setSelectionBRConfig();var r=this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument),o=this.parent.nodeSelection.getSelectionNodes(r),l=[];o.length===0&&o.push(n[0]);for(var c=0;c<o.length;c++){for(var d=o[c],p=void 0;!this.parent.domNode.isBlockNode(d)&&d!==this.parent.editableElement;)p=d,d=d.parentElement;this.parent.domNode.isBlockNode(d)&&d===this.parent.editableElement&&l.push(p)}for(var c=0;c<l.length;c++)if(!this.parent.domNode.isBlockNode(l[c])){for(var d=l[c],u=d;d===this.parent.editableElement;)u=d,d=d.parentElement;var f=void 0;this.parent.domNode.isBlockNode(u.parentElement)&&u.parentElement===this.parent.editableElement?(f=P("div"),u.parentElement.insertBefore(f,u),f.appendChild(u),u.textContent.length===0&&u.appendChild(P("br"))):f=u;for(var m=f.previousSibling;!h(m)&&m.nodeName!=="BR"&&!this.parent.domNode.isBlockNode(m);)f.firstChild.parentElement.insertBefore(m,f.firstChild),m=f.previousSibling;!h(m)&&m.nodeName==="BR"&&N(m);for(var g=f.nextSibling;!h(g)&&g.nodeName!=="BR"&&!this.parent.domNode.isBlockNode(g);)f.appendChild(g),g=f.nextSibling;!h(g)&&g.nodeName==="BR"&&N(g)}this.setSelectionBRConfig(),n=this.parent.domNode.blockNodes()}for(var b=!1,S=!1,c=0;c<n.length;c++)(h(M(n[0],"blockquote"))||h(M(n[n.length-1],"blockquote")))&&(S=!0);for(var c=0;c<n.length;c++){var T=void 0,I=void 0;if(t.subCommand.toLowerCase()==="blockquote"?(T=this.getParentNode(n[c]),t.enterAction==="BR"?I=T.innerHTML:!h(M(n[c],"table"))&&this.parent.editableElement.contains(M(n[c],"table"))?I=h(M(n[c],"blockquote"))?n[c].outerHTML:M(n[c],"blockquote").outerHTML:I=T.outerHTML):(T=n[c],I=T.innerHTML),!(t.subCommand.toLowerCase()==="blockquote"&&t.subCommand.toLowerCase()===T.tagName.toLowerCase()&&S||t.subCommand.toLowerCase()===T.tagName.toLowerCase()&&(t.subCommand.toLowerCase()!=="pre"&&t.subCommand.toLowerCase()!=="blockquote"||!h(t.exeValue)&&t.exeValue.name==="dropDownSelect")||h(T.parentNode)||T.tagName==="TABLE"&&t.subCommand.toLowerCase()==="pre")){this.cleanFormats(T,t.subCommand);var w=t.subCommand.toLowerCase()==="pre"&&T.tagName.toLowerCase()==="pre"?"p":t.subCommand,x=t.subCommand.toLowerCase()===T.tagName.toLowerCase()&&t.subCommand.toLowerCase()==="blockquote"&&this.parent.domNode.isList(T.firstElementChild),A=T.tagName==="TABLE"?h(M(n[c],"blockquote"))?T:M(n[c],"blockquote"):T,q=t.subCommand.toLowerCase()===A.tagName.toLowerCase()&&t.subCommand.toLowerCase()==="blockquote",F=void 0;if(x)F=I.replace("<blockquote>","").replace("</blockquote>","");else if(q&&M(n[0],"blockquote")&&M(n[n.length-1],"blockquote"))if(h(n[0].previousSibling)&&h(n[n.length-1].nextSibling))F=I.replace(/<blockquote[^>]*>|<\/blockquote>/g,"");else{if(b=!0,c===0){var J=P("span");J.classList.add("e-rte-blockquote-close"),n[c].parentNode.insertBefore(J,n[c])}if(c===n.length-1){var ae=P("span");ae.classList.add("e-rte-blockquote-open"),this.parent.domNode.insertAfter(ae,n[c])}}else F=this.parent.domNode.createTagString(w,t.subCommand.toLowerCase()==="blockquote"?null:T,I.replace(/>\s+</g,"><"));if(T.tagName==="LI")T.innerHTML="",T.insertAdjacentHTML("beforeend",F);else if(!b){var de=!h(M(n[c],"table"))&&this.parent.editableElement.contains(M(n[c],"table"))?h(M(n[c],"blockquote"))?n[c]:M(n[c],"blockquote"):T;this.parent.domNode.replaceWith(de,F)}}}if(b)for(var re=this.parent.editableElement.querySelectorAll(".e-rte-blockquote-open, .e-rte-blockquote-close"),c=0;c<re.length;c++){var me=re[c].parentElement,U=me.innerHTML;if(U=U.replace(/<span class="e-rte-blockquote-open"><\/span>/g,"<blockquote>"),U=U.replace(/<span class="e-rte-blockquote-close"><\/span>/g,"</blockquote>"),re[0].parentElement===re[1].parentElement){this.parent.domNode.replaceWith(me,this.parent.domNode.openTagString(me)+U.trim()+this.parent.domNode.closeTagString(me));break}else c===re.length-1&&!h(re[c])&&!h(re[c-1])&&re[c].parentElement!==re[c-1].parentElement?this.parent.domNode.replaceWith(me,U.trim()):this.parent.domNode.replaceWith(me,this.parent.domNode.openTagString(me)+U.trim()+this.parent.domNode.closeTagString(me))}this.preFormatMerge(),this.blockquotesFormatMerge(t.enterAction);var O=this.parent.editableElement.querySelector("."+Se.startSelection),_=this.parent.editableElement.querySelector("."+Se.endSelection);!h(O)&&!h(_)&&(O=O.lastChild,_=_.lastChild),s=this.parent.domNode.saveMarker(s),vt()&&Ts(this.parent.editableElement,t.selector),i?this.parent.nodeSelection.setSelectionText(this.parent.currentDocument,O,_,0,_.textContent.length):s.restore(),t.callBack&&t.callBack({requestType:t.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.domNode.blockNodes()})},a.prototype.setSelectionBRConfig=function(){var t=this.parent.editableElement.querySelector("."+Se.startSelection),e=this.parent.editableElement.querySelector("."+Se.endSelection);h(e)?this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,t,0):this.parent.nodeSelection.setSelectionText(this.parent.currentDocument,t,e,0,0)},a.prototype.preFormatMerge=function(){var t=this.parent.editableElement.querySelectorAll("PRE");if(!h(t))for(var e=0;e<t.length;e++){var i=t[e].previousElementSibling;!h(i)&&i.tagName==="PRE"&&(i.insertAdjacentHTML("beforeend","<br>"+t[e].innerHTML),N(t[e]))}},a.prototype.blockquotesFormatMerge=function(t){var e=this.parent.editableElement.querySelectorAll("BLOCKQUOTE");if(!h(e))for(var i=0;i<e.length;i++){e[i].innerHTML.trim()===""&&N(e[i]);var s=e[i].previousElementSibling;!h(s)&&s.tagName==="BLOCKQUOTE"&&(s.insertAdjacentHTML("beforeend",(t==="BR"?"<br>":"")+e[i].innerHTML),N(e[i]))}},a.prototype.cleanFormats=function(t,e){var i=["display","font-size","margin-top","margin-bottom","margin-left","margin-right","font-weight"];e=e.toLowerCase();for(var s=0;s<i.length&&e!=="p"&&e!=="blockquote"&&e!=="pre";s++)t.style.removeProperty(i[s])},a.prototype.destroy=function(){this.removeEventListener()},a}(),Bt=function(){function a(){}return a.Insert=function(t,e,i,s,n){var r;if(typeof e=="string"){var o=document.createElement("div");o.innerHTML=e,r=s?o:o.firstChild}else if(s&&!(!h(e)&&!h(e.classList)&&e.classList.contains("pasteContent"))){var o=document.createElement("div");o.appendChild(e),r=o}else r=e;var l=new Lt,c=new Vs,d=l.getRange(t);if(d.startContainer===i&&d.startContainer===d.endContainer&&d.startOffset===0&&d.startOffset===d.endOffset&&i.textContent.length===0&&(i.children[0].tagName==="P"||i.children[0].tagName==="DIV"||i.children[0].tagName==="BR")&&(l.setSelectionText(t,d.startContainer.children[0],d.startContainer.children[0],0,0),d=l.getRange(t)),d.startContainer===i&&d.startContainer===d.endContainer&&d.startOffset===0&&d.startOffset===d.endOffset&&i.textContent.trim().length>0){var p=this.findFirstTextNode(d.startContainer);h(p)||(l.setSelectionText(t,p,p,0,0),d=l.getRange(t))}if(d.startContainer.nodeName==="BR"&&d.startOffset===0&&d.startOffset===d.endOffset&&d.startContainer===d.endContainer){var u=Array.prototype.slice.call(d.startContainer.parentElement.childNodes).indexOf(d.startContainer);l.setSelectionText(t,d.startContainer.parentElement,d.startContainer.parentElement,u,u),d=l.getRange(t)}var f=d.startOffset===d.endOffset&&d.startOffset===0&&d.startContainer===d.endContainer,m=d.collapsed,g=this.getNodeCollection(d,l,r),b=r.nodeName.toLowerCase()==="table"?h(g[0])?d.startContainer:this.closestEle(g[0].parentNode,i):g[0];if(b&&b.nodeName==="LI"&&r.nodeName.toLowerCase()==="table"){this.insertTableInList(d,r,b,g[0],c);return}if(f&&d.startContainer.textContent===""&&d.startContainer.nodeName!=="BR"&&n!=="BR"&&r.nodeName!=="#text"&&!h(r.children[0])&&!h(r.children[0].tagName)&&r.children[0].tagName==="IMG"&&r.children.length===1&&(d.startContainer.innerHTML=""),s||!h(r)&&!h(r.classList)&&r.classList.contains("pasteContent")){this.pasteInsertHTML(g,r,d,l,c,t,m,b,i,n);return}if(i!==d.startContainer&&(!m&&!(b.nodeType===Node.ELEMENT_NODE&&Nr.indexOf(b.tagName.toLocaleLowerCase())!==-1)||r.nodeName.toLowerCase()==="table"&&b&&Nr.indexOf(b.tagName.toLocaleLowerCase())===-1)){var S=c.GetSpliceNode(d,b),T=S.previousSibling,I=S.parentNode;if(g.length===1||r.nodeName.toLowerCase()==="table"&&S.childElementCount===0)l.setSelectionContents(t,S),d=l.getRange(t);else{var w=c.GetSpliceNode(d,g[g.length-1].parentElement);w=h(w)?S:w,l.setSelectionText(t,S,w,0,w.nodeType===3?w.textContent.length:w.childNodes.length),d=l.getRange(t)}d.startContainer.parentElement.closest("ol,ul")!==null&&d.endContainer.parentElement.closest("ol,ul")!==null?XM(d):d.extractContents(),e.tagName==="TABLE"&&this.removeEmptyElements(i);for(var x=0;x<g.length;x++)if(g[x].nodeType!==3&&g[x].parentNode!=null){if(g[x].nodeName==="IMG")continue;g[x].parentNode.removeChild(g[x])}if(!h(T)&&!h(T.parentNode))Ve.AppendBefore(r,T,!0);else{for(var A=null;I!==i&&I.firstChild&&I.textContent.trim()==="";){var q=I.parentNode;A=I,I=q}A!==null&&(I=A),I.firstChild&&(I!==i||r.nodeName==="TABLE"&&f&&I===d.startContainer&&I===d.endContainer)?I.textContent.trim()===""&&I!==i?(Ve.AppendBefore(r,I,!1),N(I)):Ve.AppendBefore(r,I.firstChild,!1):h(S.previousSibling)&&e.tagName==="TABLE"?I.prepend(r):I.appendChild(r)}r.nodeName==="IMG"?this.imageFocus(r,l,t):r.nodeType!==3?l.setSelectionText(t,r,r,0,r.childNodes.length):l.setSelectionText(t,r,r,0,r.textContent.length)}else{if(d.deleteContents(),f&&d.startContainer.textContent===""&&d.startContainer.nodeName!=="BR"&&(d.startContainer.innerHTML=""),E.isIE){var F=t.createDocumentFragment();F.appendChild(r),d.insertNode(F)}else if(d.startContainer.nodeType===1&&d.startContainer.nodeName.toLowerCase()==="hr"&&d.endContainer.nodeName.toLowerCase()==="hr"){var J=d.startContainer.nextElementSibling;J&&(J.querySelector("br")&&N(J.querySelector("br")),J.appendChild(r))}else d.startContainer.nodeName==="BR"?d.startContainer.parentElement.insertBefore(r,d.startContainer):d.insertNode(r);r.nodeType!==3&&r.childNodes.length>0?l.setSelectionText(t,r,r,1,1):r.nodeName==="IMG"?this.imageFocus(r,l,t):r.nodeType!==3?l.setSelectionContents(t,r):l.setSelectionText(t,r,r,r.textContent.length,r.textContent.length)}},a.findFirstTextNode=function(t){if(t.nodeType===Node.TEXT_NODE)return t;for(var e=0;e<t.childNodes.length;e++){var i=this.findFirstTextNode(t.childNodes[e]);if(!h(i))return i}return null},a.pasteInsertHTML=function(t,e,i,s,n,r,o,l,c,d){var p=i.startOffset===i.endOffset&&i.startContainer===i.endContainer;if(p&&i.startContainer===c&&c.textContent===""){var u=this.getImmediateBlockNode(t[t.length-1],c);s.setSelectionText(r,u,u,0,0),i=s.getRange(r)}var f,m,g,b;c!==i.startContainer&&(!o&&!(l.nodeType===Node.ELEMENT_NODE&&Nr.indexOf(l.tagName.toLocaleLowerCase())!==-1)||e.nodeName.toLowerCase()==="table"&&l&&Nr.indexOf(l.tagName.toLocaleLowerCase())===-1)&&(b=n.GetSpliceNode(i,l),h(b)||(m=h(b.previousSibling)?b.parentNode.previousSibling:b.previousSibling,t.length===1?(s.setSelectionContents(r,b),i=s.getRange(r),g=!0):(f=n.GetSpliceNode(i,t[t.length-1].parentElement),f=h(f)?b:f,s.setSelectionText(r,b,f,0,f.nodeType===3?f.textContent.length:f.childNodes.length),i=s.getRange(r),g=!1)));var S=!1;this.removingComments(e);for(var T=e.childNodes,I=0;I<T.length;I++)if(Fs.indexOf(T[I].nodeName.toLocaleLowerCase())>=0){S=!0;break}var w,x=document.createDocumentFragment();if(S){for(var re=i.startContainer;!h(re)&&re.nodeName!=="PRE"&&re!==c;)re=re.parentElement;if(!h(e)&&!h(re)&&re.nodeName==="PRE")i.insertNode(e),w=e.lastChild;else{this.insertTempNode(i,e,t,n,c);var me=!0,U=void 0,O=void 0,_=void 0;for(this.contentsDeleted||(!o&&i.startContainer.parentElement.textContent.length===0&&i.startContainer.nodeName==="BR"&&i.startContainer.parentElement.nodeName==="P"&&c.removeChild(i.startContainer.parentElement),i.deleteContents());e.firstChild;){if(e.firstChild.nodeName==="#text"&&e.firstChild.textContent.trim()===""){N(e.firstChild);continue}if(e.firstChild.nodeName==="#text"&&me||this.inlineNode.indexOf(e.firstChild.nodeName.toLocaleLowerCase())>=0&&me){if(w=e.firstChild,h(e.previousElementSibling)){var H=d==="DIV"?P("div"):P("p");e.parentElement.insertBefore(H,e)}e.previousElementSibling.nodeName==="BR"?e.parentElement.insertBefore(e.firstChild,e):e.previousElementSibling.appendChild(e.firstChild)}else w=e.firstChild,e.firstChild.nodeName==="#text"||this.inlineNode.indexOf(e.firstChild.nodeName.toLocaleLowerCase())>=0?(U?(_.appendChild(e.firstChild),x.appendChild(_)):(O=d==="DIV"?P("div"):P("p"),O.appendChild(e.firstChild),x.appendChild(O)),_=O,U=!0):(x.appendChild(e.firstChild),U=!1),me=!1}e.parentNode.replaceChild(x,e)}}else if(p){var F=P("span",{className:"tempSpan"}),J=M(i.startContainer.parentElement,"a");if(i.startContainer.nodeType===3&&J&&M(J,"span")){var ae=this.getImmediateBlockNode(i.startContainer,c);ae.querySelectorAll("br").length>0&&N(ae.querySelector("br"));var de=M(J,"span");de.appendChild(F)}else t[0].nodeName==="#text"&&t[0].nodeValue.includes("\u200B")&&!h(t[0].parentElement)&&!h(t[0].parentElement.previousElementSibling)&&t[0].parentElement.previousElementSibling.classList.contains("e-mention-chip")?i.startContainer.parentElement.insertAdjacentElement("afterend",F):i.insertNode(F);for(;e.firstChild;)w=e.firstChild,x.appendChild(e.firstChild);F.parentNode.replaceChild(x,F)}else{for(;e.firstChild;)w=e.firstChild,x.appendChild(e.firstChild);if(g)b.parentNode.replaceChild(x,b);else{var A=c===i.startContainer?i.startContainer:i.startContainer.parentNode,q=Array.prototype.indexOf.call(A.childNodes,E.userAgent.indexOf("Firefox")!==-1&&c===i.startContainer?i.startContainer.firstChild:i.startContainer);i.deleteContents(),i.setStart(A,q),i.setEnd(A,q),!h(f)&&f!==c&&N(f),h(m)?i.insertNode(x):m.parentNode===c?m.appendChild(x):m.parentNode.appendChild(x)}}if(w.nodeName==="TABLE"){var Q=P("p");Q.appendChild(P("br")),w.parentElement.insertBefore(Q,w.nextSibling),w=Q}w.nodeName==="#text"?this.placeCursorEnd(w,e,s,r,c):this.cursorPos(w,e,s,r,c,d),this.alignCheck(c)},a.placeCursorEnd=function(t,e,i,s,n){for(t=t.nodeName==="BR"?h(t.previousSibling)?t.parentNode:t.previousSibling:t;!h(t)&&t.nodeName!=="#text"&&t.nodeName!=="IMG"&&t.nodeName!=="BR"&&t.nodeName!=="HR";){if(!h(t.lastChild)&&t.lastChild.nodeName==="P"&&t.lastChild.innerHTML===""){var r=P("br");t.lastChild.appendChild(r)}t=t.lastChild}t=h(t)?e:t,t.nodeName==="IMG"?this.imageFocus(t,i,s):i.setSelectionText(s,t,t,t.textContent.length,t.textContent.length),this.removeEmptyElements(n)},a.getNodeCollection=function(t,e,i){var s=[];return t.startOffset===t.endOffset&&t.startContainer===t.endContainer&&t.startContainer.nodeName!=="BR"&&t.startContainer.childNodes.length>0&&(t.startContainer.nodeName==="TD"||t.startContainer.nodeType!==3&&i.classList&&i.classList.contains("pasteContent"))?s.push(t.startContainer.childNodes[t.endOffset]):s=e.getInsertNodeCollection(t),s},a.insertTempNode=function(t,e,i,s,n){if(t.startContainer===n&&!h(t.startContainer.childNodes[t.endOffset-1])&&t.startContainer.childNodes[t.endOffset-1].nodeName==="TABLE")h(t.startContainer.childNodes[t.endOffset-1].nextSibling)?t.startContainer.appendChild(e):t.startContainer.insertBefore(e,t.startContainer.childNodes[t.endOffset-1].nextSibling);else if(t.startContainer===n&&!h(t.startContainer.childNodes[t.endOffset])&&t.startContainer.childNodes[t.endOffset].nodeName==="TABLE")t.startContainer.insertBefore(e,t.startContainer.childNodes[t.endOffset]);else if(t.startContainer===t.endContainer&&t.startContainer.nodeType!==3&&e.firstChild.nodeName==="HR")t.startContainer.classList.contains("e-content")||t.startContainer.nodeName==="BODY"?t.startContainer.appendChild(e):t.startContainer.parentNode.insertBefore(e,t.startContainer);else{var r=this.getImmediateBlockNode(i[i.length-1],n);if((h(r)||h(r.parentElement))&&t.endContainer.nodeType!==3&&(r=t.endContainer,t.setEnd(r,t.endContainer.textContent.length)),r.nodeName==="BODY"&&t.startContainer===t.endContainer&&t.startContainer.nodeType===1&&(r=t.startContainer),r.closest("LI")&&r.nodeName!=="TD"&&r.nodeName!=="TH"&&r.nodeName!=="TR"&&e&&e.firstElementChild&&(e.firstElementChild.tagName==="OL"||e.firstElementChild.tagName==="UL"))for(var o=void 0;e.firstElementChild.lastElementChild&&e.firstElementChild.lastElementChild.tagName==="LI";)o=e.firstElementChild.lastElementChild,o.style.removeProperty("margin-left"),o.style.removeProperty("margin-top"),o.style.removeProperty("margin-bottom"),e.firstElementChild.insertAdjacentElement("afterend",o);if(r.nodeName==="TD"||r.nodeName==="TH"||r.nodeName==="TR"){var l=P("span",{className:"tempSpan"});t.insertNode(l),l.parentNode.replaceChild(e,l)}else{var c=new Lt,d=this.getNodeCollection(t,c,e)[this.getNodeCollection(t,c,e).length-1],p=void 0;if((d.nodeName==="BR"||d.nodeName==="HR"||d.nodeName==="#text"&&!h(d.parentElement)&&d.parentElement.nodeName==="LI")&&!h(d.parentElement)&&d.parentElement.textContent.trim().length===0)p=d,d.parentElement.nodeName==="LI"&&!h(d.nextSibling)&&d.nextSibling.nodeName==="BR"&&N(d.nextSibling);else if((d.nodeName==="#text"||d.nodeName==="BR")&&!h(d.parentElement)&&(d.parentElement.nodeName==="LI"||d.parentElement.closest("LI")||r===n&&d.parentElement===r)&&d.parentElement.textContent.trim().length>0){if(p=d,d.parentElement.nodeName==="LI"&&!h(d.nextSibling)&&d.nextSibling.nodeName==="BR"&&N(d.nextSibling),!t.collapsed){t.deleteContents();var u=t.startContainer;!h(u)&&u.nodeName==="LI"&&!h(u.parentElement)&&(u.parentElement.nodeName==="OL"||u.parentElement.nodeName==="UL")&&u.textContent.trim()===""&&u.parentElement.querySelectorAll("li").forEach(function(f){f.remove()})}t.insertNode(e),this.contentsDeleted=!0;return}else p=s.GetSpliceNode(t,r);p.parentNode.replaceChild(e,p)}}},a.cursorPos=function(t,e,i,s,n,r){t.classList.add("lastNode"),n.innerHTML=YM(n.innerHTML,r),t=n.querySelector(".lastNode"),h(t)||(this.placeCursorEnd(t,e,i,s,n),t.classList.remove("lastNode"),t.classList.length===0&&t.removeAttribute("class"))},a.imageFocus=function(t,e,i){var s=document.createTextNode(" ");if(t.parentNode&&t.parentNode.nodeName==="A"){var n=t.parentNode,r=n.parentNode;r.insertBefore(s,n.nextSibling),r.insertBefore(t,s)}else t.parentNode.insertBefore(s,t.nextSibling);e.setSelectionText(i,t.nextSibling,t.nextSibling,0,0)},a.getImmediateBlockNode=function(t,e){do t=t.parentNode;while(t&&Fs.indexOf(t.nodeName.toLocaleLowerCase())<0);return t},a.removingComments=function(t){var e=t.innerHTML;e=e.replace(/<!--[\s\S]*?-->/g,""),t.innerHTML=e},a.findDetachEmptyElem=function(t){var e;if(h(t.parentElement))e=null;else{var i=t.parentElement.textContent.length>0&&t.parentElement.textContent.match(/\u00a0/g)&&t.parentElement.textContent.match(/\u00a0/g).length>0;!i&&t.parentElement.textContent.trim()===""&&t.parentElement.contentEditable!=="true"&&h(t.parentElement.querySelector("img"))&&t.parentElement.nodeName!=="TD"&&t.parentElement.nodeName!=="TH"?e=this.findDetachEmptyElem(t.parentElement):e=t}return e},a.removeEmptyElements=function(t){for(var e=t.querySelectorAll(":empty"),i=Array.from(e).filter(function(o){return!o.closest("svg")&&!o.closest("canvas")}),s=0;s<i.length;s++){var n=!0;if(i[s].tagName==="DIV"&&(n=i[s].style.borderBottom==="none"||i[s].style.borderBottom===""),WM.indexOf(i[s].tagName.toLowerCase())<0&&n){var r=this.findDetachEmptyElem(i[s]);h(r)||N(r)}}},a.closestEle=function(t,e){var i=t;if(M(i,"li"))return M(i,"li");for(;i&&i.nodeType===1;){if(i.parentNode===e||!h(i.parentNode.tagName)&&Bi.indexOf(i.parentNode.tagName.toLocaleLowerCase())!==-1)return i;i=i.parentNode}return null},a.insertTableInList=function(t,e,i,s,n){if(t.collapsed){var r=t.startOffset===0,o=t.startContainer.textContent.trimEnd().length===t.startOffset;if(r||o)r?Ve.AppendBefore(e,s,!1):Ve.AppendBefore(e,s,!0);else{var l=n.SplitNode(t,i,!0),c=l.previousSibling;c.appendChild(e)}}else t.deleteContents(),i.appendChild(e);e.classList.add("ignore-table")},a.alignCheck=function(t){for(var e=t.querySelectorAll('span[style*="text-align"]'),i=0;i<e.length;i++){var s=e[i];if(s){var n=this.getImmediateBlockNode(s,null);if(n){for(var r="",o=0;o<e.length;o++){var l=e[o];n.contains(l)&&(r+=l.textContent)}n.textContent.trim()===r.trim()&&(n.style.textAlign=s.style.textAlign)}}}},a.inlineNode=["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","font","i","iframe","img","input","ins","kbd","label","map","mark","meter","noscript","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"],a.contentsDeleted=!1,a}(),uS=function(){function a(t){this.parent=t,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.observer.on(fd,this.linkCommand,this),this.parent.observer.on(Ie,this.destroy,this)},a.prototype.removeEventListener=function(){this.parent.observer.off(fd,this.linkCommand),this.parent.observer.off(Ie,this.destroy)},a.prototype.linkCommand=function(t){switch(t.value.toString().toLocaleLowerCase()){case"createlink":case"editlink":this.createLink(t);break;case"openlink":this.openLink(t);break;case"removelink":this.removeLink(t);break}},a.prototype.createLink=function(t){var e=!h(t.item.selectParent)&&t.item.selectParent.length>0&&M(t.item.selectParent[0],"a");if(e=h(e)?!h(t.item.selectParent)&&t.item.selectParent.length>0?t.item.selectParent[0]:null:e,!h(e)&&e.tagName==="A"){var i=e,s="";if(h(t.item.url)||i.setAttribute("href",t.item.url),h(t.item.title)||i.setAttribute("title",t.item.title),!h(t.item.text)&&t.item.text!==""&&(s=i.innerText,i.firstChild.nodeName==="#text"?i.innerText=t.item.text:i.firstChild.innerText=t.item.text),h(t.item.target)?(i.removeAttribute("target"),i.removeAttribute("aria-label")):(i.setAttribute("target",t.item.target),i.setAttribute("aria-label",t.item.ariaLabel)),s===t.item.text)t.item.selection.setSelectionText(this.parent.currentDocument,i,i,1,1),t.item.selection.restore();else{var n=t.item.action==="Paste"?i.childNodes[0].textContent.length:0,r=i.firstChild.nodeName==="#text"?i.childNodes[0].textContent.length:i.childNodes.length;t.item.selection.setSelectionText(this.parent.currentDocument,i.childNodes[0],i.childNodes[0],n,r)}}else{var o=new Lt,l=o.getRange(this.parent.currentDocument);l.endContainer.nodeName==="#text"&&l.startContainer.textContent.length===l.endOffset+1&&l.endContainer.textContent.charAt(l.endOffset)===" "&&!h(l.endContainer.nextSibling)&&l.endContainer.nextSibling.nodeName==="A"&&(o.setSelectionText(this.parent.currentDocument,l.startContainer,l.endContainer,l.startOffset,l.endOffset+1),l=o.getRange(this.parent.currentDocument));var c=h(t.item.text)?!0:t.item.text.replace(/ /g,"").localeCompare(l.toString().replace(/\n/g," ").replace(/ /g,""))<0;if(t.event&&t.event.type==="keydown"&&(t.event.keyCode===32||t.event.keyCode===13)||t.item.action==="Paste"||l.collapsed||c){var d=this.createAchorNode(t);d.innerText=t.item.text===""?t.item.url:t.item.text;var p=d.innerText,u=p.replace(/  +/g,function(m){return"\xA0".repeat(m.length)});if(d.innerText=u,t.item.selection.restore(),Bt.Insert(this.parent.currentDocument,d,this.parent.editableElement),t.event&&t.event.type==="keydown"&&(t.event.keyCode===32||t.event.keyCode===13)){var f=t.item.selection.range.startContainer;f.textContent=this.removeText(f.textContent,t.item.text)}else{var n=t.item.action==="Paste"?d.childNodes[0].textContent.length:0;t.item.selection.setSelectionText(this.parent.currentDocument,d.childNodes[0],d.childNodes[0],n,d.childNodes[0].textContent.length)}}else this.createLinkNode(t)}t.callBack&&t.callBack({requestType:"Links",editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},a.prototype.createLinkNode=function(t){for(var e=new Lt,i=new Vs,s=e.getRange(this.parent.currentDocument),n=this.getSelectionNodes(e.getNodeCollection(s)),r=e.save(s,this.parent.currentDocument),o=[],l=[],c,d=[],p=[],u=[],f,m=0;m<n.length;m++)n[m]=i.GetSpliceNode(s,n[m]),o[m]=n[m];for(var g=0;g<o.length;g++){var b=!0;for(c=o[g];b===!0;){if(c.parentNode.nodeName==="A"){var S=c.parentNode;c.parentNode.parentNode.insertBefore(S.firstChild,S),c.parentNode.removeChild(S)}this.isBlockNode(c.parentNode)||o.length===0||g===0||g===o.length-1||s.startContainer.nodeType===3?(l[g]=c,b=!1):c=c.parentNode}}for(var g=0,T=0;g<l.length;g++)if(g===0&&(u[T]=l[g]),l.length>1&&g<l.length-1){if(l[g].parentElement===l[g+1].parentElement&&l[g]===l[g+1])continue;u[T+1]=l[g+1],T++}var I=0;p[I]=this.createAchorNode(t);for(var g=0;g<u.length;g++)if(g===0&&(f=u[g].cloneNode(!0),p[g].appendChild(f)),g<u.length-1)if(u[g].parentNode===u[g+1].parentNode){var w=u[g+1].cloneNode(!0);p[I].appendChild(w)}else I=I+1,p[I]=this.createAchorNode(t),f=u[g+1].cloneNode(!0),p[I].appendChild(f);this.parent.nodeSelection.setRange(document,r.range);for(var g=0,x=0,A=0;g<=u.length;g++)g===0&&(u[g].parentNode.insertBefore(p[x],u[g].nextSibling),this.parent.domNode.blockNodes().length===1&&p.length===1&&this.parent.nodeSelection.setSelectionNode(this.parent.currentDocument,p[x]),d[A]=u[g],A++),g<u.length-1&&(u[g].parentNode===u[g+1].parentNode?(d[A]=u[g+1],A++):(x=x+1,u[g+1].parentNode.insertBefore(p[x],u[g+1]),d[A]=u[g+1],A++));for(var g=0;g<d.length;g++)d[g].parentNode&&d[g].parentNode.removeChild(d[g])},a.prototype.createAchorNode=function(t){var e=P("a",{className:"e-rte-anchor",attrs:{href:t.item.url,title:h(t.item.title)||t.item.title===""?t.item.url:t.item.title}});return h(t.item.target)||e.setAttribute("target",t.item.target),h(t.item.ariaLabel)||e.setAttribute("aria-label",t.item.ariaLabel),e},a.prototype.getSelectionNodes=function(t){t=t.reverse();for(var e=0;e<t.length;e++)(t[e].nodeType!==3||t[e].textContent.trim()==="")&&t[e].nodeName!=="IMG"&&(t.splice(e,1),e--);return t.reverse()},a.prototype.isBlockNode=function(t){return!!t&&t.nodeType===Node.ELEMENT_NODE&&Fs.indexOf(t.tagName.toLowerCase())>=0},a.prototype.removeText=function(t,e){for(var i=t.split(" "),s=0;s<i.length;s++)i[s]===e&&(i.splice(s,1),s--);return i.join(" ")+" "},a.prototype.openLink=function(t){document.defaultView.open(t.item.url,t.item.target),this.callBack(t)},a.prototype.removeLink=function(t){var e=this.parent.domNode.blockNodes();if(e.length<2){this.parent.domNode.setMarker(t.item.selection);for(var i=M(t.item.selectParent[0],"a"),s=i||t.item.selectParent[0],n=s.parentNode,r=[];s.firstChild&&n;null)r.push(n.insertBefore(s.firstChild,s));n.removeChild(s),r&&r.length===1&&(t.item.selection.startContainer=t.item.selection.getNodeArray(r[r.length-1],!0),t.item.selection.endContainer=t.item.selection.startContainer),t.item.selection=this.parent.domNode.saveMarker(t.item.selection)}else for(var o=0;o<e.length;o++)for(var l=e[o].querySelectorAll("a"),c=0;c<l.length;c++)this.parent.currentDocument.getSelection().containsNode(l[c],!0)&&(l[c].outerHTML=l[c].innerHTML);t.item.selection.restore(),this.callBack(t)},a.prototype.callBack=function(t){t.callBack&&t.callBack({requestType:t.item.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},a.prototype.destroy=function(){this.removeEventListener()},a}(),fS=function(){function a(t){this.alignments={JustifyLeft:"left",JustifyCenter:"center",JustifyRight:"right",JustifyFull:"justify"},this.parent=t,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.observer.on(Nd,this.applyAlignment,this),this.parent.observer.on(at,this.onKeyDown,this),this.parent.observer.on(Ie,this.destroy,this)},a.prototype.removeEventListener=function(){this.parent.observer.off(Nd,this.applyAlignment),this.parent.observer.off(at,this.onKeyDown),this.parent.observer.off(Ie,this.destroy)},a.prototype.onKeyDown=function(t){switch(t.event.action){case"justify-center":this.applyAlignment({subCommand:"JustifyCenter",callBack:t.callBack}),t.event.preventDefault();break;case"justify-full":this.applyAlignment({subCommand:"JustifyFull",callBack:t.callBack}),t.event.preventDefault();break;case"justify-left":this.applyAlignment({subCommand:"JustifyLeft",callBack:t.callBack}),t.event.preventDefault();break;case"justify-right":this.applyAlignment({subCommand:"JustifyRight",callBack:t.callBack}),t.event.preventDefault();break}},a.prototype.getTableNode=function(t){var e=t.startContainer.nodeType===Node.ELEMENT_NODE?t.startContainer:t.startContainer.parentNode,i=M(e,"td,th");return[i]},a.prototype.applyAlignment=function(t){var e=t.value==="Table",i=this.parent.nodeSelection.getRange(this.parent.currentDocument),s=this.parent.nodeSelection.save(i,this.parent.currentDocument);if(e)se(this.getTableNode(i)[0],{"text-align":this.alignments[t.subCommand]});else{this.parent.domNode.setMarker(s);var n=this.parent.domNode.blockNodes();t.enterAction==="BR"&&(n=this.parent.domNode.convertToBlockNodes(n,!1));for(var r=0;r<n.length;r++){var o=n[r];se(o,{"text-align":this.alignments[t.subCommand]})}for(var l=this.parent.domNode.getImageTagInSelection(),r=0;r<l.length;r++){var c=[];c.push(l[r]),this.parent.imgObj.imageCommand({item:{selectNode:c},subCommand:t.subCommand,value:t.subCommand,callBack:t.callBack,selector:t.selector})}this.parent.editableElement.focus(),s=this.parent.domNode.saveMarker(s),vt()&&Ts(this.parent.editableElement,t.selector),s.restore()}t.callBack&&t.callBack({requestType:t.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:e?this.getTableNode(i):this.parent.domNode.blockNodes()})},a.prototype.destroy=function(){this.removeEventListener()},a}(),mS=function(){function a(t){this.indentValue=20,this.parent=t,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.observer.on(Id,this.applyIndents,this),this.parent.observer.on(at,this.onKeyDown,this),this.parent.observer.on(Ie,this.destroy,this)},a.prototype.removeEventListener=function(){this.parent.observer.off(Id,this.applyIndents),this.parent.observer.off(at,this.onKeyDown),this.parent.observer.off(Ie,this.destroy)},a.prototype.onKeyDown=function(t){switch(t.event.action){case"indents":this.applyIndents({subCommand:"Indent",callBack:t.callBack}),t.event.preventDefault();break;case"outdents":this.applyIndents({subCommand:"Outdent",callBack:t.callBack}),t.event.preventDefault();break}},a.prototype.applyIndents=function(t){var e=this.parent.editableElement,i=e.classList.contains("e-rtl"),s=this.parent.nodeSelection.getRange(this.parent.currentDocument),n=this.parent.nodeSelection.save(s,this.parent.currentDocument);this.parent.domNode.setMarker(n);var r=this.parent.domNode.blockNodes();t.enterAction==="BR"&&(r=this.parent.domNode.convertToBlockNodes(r,!1));for(var o=r.slice(),l=[],c=0;c<o.length;c++)o[c].tagName!=="LI"&&o[c].parentNode.tagName==="LI"?(r.splice(r.indexOf(o[c]),1),l.push(o[c].parentNode)):o[c].tagName==="LI"&&(r.splice(r.indexOf(o[c]),1),l.push(o[c]));l.length>0&&this.parent.observer.notify(at,{event:{preventDefault:function(){},stopPropagation:function(){},shiftKey:t.subCommand!=="Indent",which:9,action:"indent"}});for(var c=0;c<r.length;c++){var d=r[c],p=i?d.style.marginRight:d.style.marginLeft,u=void 0;t.subCommand==="Indent"?(u=p===""?this.indentValue+"px":parseInt(p,null)+this.indentValue+"px",i?d.style.marginRight=u:d.style.marginLeft=u):(u=p===""||p==="0px"||p==="0in"?"":parseInt(p,null)-this.indentValue+"px",i?d.style.marginRight=u:d.style.marginLeft=u)}e.focus(),vt()&&Ts(e,t.selector),n=this.parent.domNode.saveMarker(n),n.restore(),t.callBack&&t.callBack({requestType:t.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.domNode.blockNodes()})},a.prototype.destroy=function(){this.removeEventListener()},a}(),ji="e-imgright",Ri="e-imgleft",En="e-imgcenter",gS="e-video-right",vS="e-video-left",yS="e-video-center",lc="e-imgbreak",bS="e-audio-break",so="e-video-break",Fe="e-img-caption";var pg="e-caption-inline",CS="e-imginline",ug="e-audio-inline",fg="e-clickelem",no="e-video-clickelem",hc="e-rte-audio",Tn="e-rte-video",ro="e-audio-wrap",MS="e-video-wrap",mg="e-embed-video-wrap",gg="e-audio-focus",vg="e-video-focus",Cr="e-video-inline",SS=function(){function a(t){this.parent=t,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.observer.on(zo,this.imageCommand,this),this.parent.observer.on(Ie,this.destroy,this)},a.prototype.removeEventListener=function(){this.parent.observer.off(zo,this.imageCommand),this.parent.observer.off(Ie,this.destroy)},a.prototype.imageCommand=function(t){switch(t.value.toString().toLowerCase()){case"image":case"replace":this.createImage(t);break;case"insertlink":this.insertImageLink(t);break;case"openimagelink":this.openImageLink(t);break;case"editimagelink":this.editImageLink(t);break;case"removeimagelink":this.removeImageLink(t);break;case"remove":this.removeImage(t);break;case"alttext":this.insertAltTextImage(t);break;case"dimension":this.imageDimension(t);break;case"caption":this.imageCaption(t);break;case"justifyleft":this.imageJustifyLeft(t);break;case"justifycenter":this.imageJustifyCenter(t);break;case"justifyright":this.imageJustifyRight(t);break;case"inline":this.imageInline(t);break;case"break":this.imageBreak(t);break}},a.prototype.createImage=function(t){var e=this,i=!1;if(t.item.url=h(t.item.url)||t.item.url==="undefined"?t.item.src:t.item.url,!h(t.item.selectParent)&&t.item.selectParent[0].tagName==="IMG"){var s=t.item.selectParent[0];i=!0,this.setStyle(s,t,i)}else{var n=P("img");this.setStyle(n,t),h(t.item.selection)||t.item.selection.restore(),!h(t.selector)&&t.selector==="pasteCleanupModule"?h(this.parent.currentDocument)||t.callBack({requestType:"Images",editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:[n]}):Bt.Insert(this.parent.currentDocument,n,this.parent.editableElement)}if(t.callBack&&(h(t.selector)||!h(t.selector)&&t.selector!=="pasteCleanupModule")){var r=this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)[0],o=t.value==="Replace"||i?t.item.selectParent[0]:E.isIE?r.previousSibling:r.previousElementSibling,l=function(){h(e.parent.currentDocument)||t.callBack({requestType:t.value==="Replace"?(t.item.subCommand="Replace","Replace"):"Images",editorMode:"HTML",event:t.event,range:e.parent.nodeSelection.getRange(e.parent.currentDocument),elements:[o]}),o.removeEventListener("load",l)};o.addEventListener("load",l)}},a.prototype.setStyle=function(t,e,i){h(e.item.url)||t.setAttribute("src",e.item.url);var s;if(i)for(var n={"e-imgcenter":"e-imgcenter","e-imgright":"e-imgright","e-imgleft":"e-imgleft"},r=t.classList,o=0;o<r.length;o++)h(n[r[o]])||(s=n[r[o]]);t.setAttribute("class","e-rte-image"+(h(e.item.cssClass)?"":" "+e.item.cssClass)+(h(s)?"":" "+s)),h(e.item.altText)||t.setAttribute("alt",e.item.altText.replace(/\.[a-zA-Z0-9]+$/,"")),!h(e.item.width)&&!h(e.item.width.width)&&t.setAttribute("width",this.calculateStyleValue(e.item.width.width)),!h(e.item.height)&&!h(e.item.height.height)&&t.setAttribute("height",this.calculateStyleValue(e.item.height.height)),!h(e.item.width)&&!h(e.item.width.minWidth)&&(t.style.minWidth=this.calculateStyleValue(e.item.width.minWidth)),!h(e.item.width)&&!h(e.item.width.maxWidth)&&(t.style.maxWidth=this.calculateStyleValue(e.item.width.maxWidth)),!h(e.item.height)&&!h(e.item.height.minHeight)&&(t.style.minHeight=this.calculateStyleValue(e.item.height.minHeight)),!h(e.item.height)&&!h(e.item.height.maxHeight)&&(t.style.maxHeight=this.calculateStyleValue(e.item.height.maxHeight))},a.prototype.calculateStyleValue=function(t){var e;return typeof t=="string"&&(t.indexOf("px")||t.indexOf("%")||t.indexOf("auto"))?e=t:e=t+"px",e},a.prototype.insertImageLink=function(t){var e=P("a",{attrs:{href:t.item.url}});t.item.selectNode[0].parentElement.classList.contains("e-img-wrap")&&(t.item.selection.restore(),e.setAttribute("contenteditable","true")),e.appendChild(t.item.selectNode[0]),h(t.item.target)||e.setAttribute("target",t.item.target),h(t.item.ariaLabel)||e.setAttribute("aria-label",t.item.ariaLabel),Bt.Insert(this.parent.currentDocument,e,this.parent.editableElement),this.callBack(t)},a.prototype.openImageLink=function(t){document.defaultView.open(t.item.url,t.item.target),this.callBack(t)},a.prototype.removeImageLink=function(t){var e=t.item.selectParent[0];if(e.classList.contains("e-img-caption")){var i=W(".e-img-wrap",e),s=W(".e-img-inner",e),n=s.cloneNode(!0);N(W("a",e)),N(s),i.appendChild(t.item.insertElement),i.appendChild(n)}else N(e),E.isIE&&t.item.selection&&t.item.selection.restore(),Bt.Insert(this.parent.currentDocument,t.item.insertElement,this.parent.editableElement);this.callBack(t)},a.prototype.editImageLink=function(t){t.item.selectNode[0].parentElement.href=t.item.url,h(t.item.target)?(t.item.selectNode[0].parentElement.removeAttribute("target"),t.item.selectNode[0].parentElement.removeAttribute("aria-label")):(t.item.selectNode[0].parentElement.target=t.item.target,t.item.selectNode[0].parentElement.setAttribute("aria-label",t.item.ariaLabel)),this.callBack(t)},a.prototype.removeImage=function(t){M(t.item.selectNode[0],"a")?t.item.selectNode[0].parentElement.nodeName==="A"&&!h(t.item.selectNode[0].parentElement.innerText)?h(M(t.item.selectNode[0],"."+Fe))?N(t.item.selectNode[0]):N(M(t.item.selectNode[0],"."+Fe)):N(M(t.item.selectNode[0],"a")):h(M(t.item.selectNode[0],"."+Fe))?N(t.item.selectNode[0]):N(M(t.item.selectNode[0],"."+Fe)),this.callBack(t)},a.prototype.insertAltTextImage=function(t){t.item.selectNode[0].setAttribute("alt",t.item.altText),this.callBack(t)},a.prototype.imageDimension=function(t){var e=t.item.selectNode[0];e.style.height="",e.style.width="",t.item.width!=="auto"?e.style.width=X(t.item.width):e.removeAttribute("width"),t.item.height!=="auto"?e.style.height=X(t.item.height):e.removeAttribute("height"),this.callBack(t)},a.prototype.imageCaption=function(t){Bt.Insert(this.parent.currentDocument,t.item.insertElement,this.parent.editableElement),this.callBack(t)},a.prototype.imageJustifyLeft=function(t){var e=t.item.selectNode[0];h(e)||(e.removeAttribute("class"),L([e],"e-rte-image"),h(M(e,"."+Fe))||(k([M(e,"."+Fe)],ji),L([M(e,"."+Fe)],Ri)),e.parentElement.nodeName==="A"?(k([e.parentElement],ji),L([e.parentElement],Ri),L([e],Ri)):L([e],Ri),this.callBack(t))},a.prototype.imageJustifyCenter=function(t){var e=t.item.selectNode[0];h(e)||(e.removeAttribute("class"),L([e],"e-rte-image"),h(M(e,"."+Fe))||(k([M(e,"."+Fe)],Ri),k([M(e,"."+Fe)],ji),L([M(e,"."+Fe)],En)),e.parentElement.nodeName==="A"?(k([e.parentElement],Ri),k([e.parentElement],ji),L([e.parentElement],En),L([e],En)):L([e],En),this.callBack(t))},a.prototype.imageJustifyRight=function(t){var e=t.item.selectNode[0];h(e)||(e.removeAttribute("class"),L([e],"e-rte-image"),h(M(e,"."+Fe))||(k([M(e,"."+Fe)],Ri),L([M(e,"."+Fe)],ji)),e.parentElement.nodeName==="A"?(k([e.parentElement],Ri),L([e.parentElement],ji),L([e],ji)):L([e],ji),this.callBack(t))},a.prototype.imageInline=function(t){var e=t.item.selectNode[0];e.removeAttribute("class"),L([e],"e-rte-image"),L([e],CS),h(M(e,"."+Fe))||(k([M(e,"."+Fe)],lc),k([M(e,"."+Fe)],En),k([M(e,"."+Fe)],Ri),k([M(e,"."+Fe)],ji),L([M(e,"."+Fe)],pg)),this.callBack(t)},a.prototype.imageBreak=function(t){var e=t.item.selectNode[0];e.removeAttribute("class"),L([e],lc),L([e],"e-rte-image"),h(M(e,"."+Fe))||(k([M(e,"."+Fe)],pg),k([M(e,"."+Fe)],En),k([M(e,"."+Fe)],Ri),k([M(e,"."+Fe)],ji),L([M(e,"."+Fe)],lc)),this.callBack(t)},a.prototype.callBack=function(t){t.callBack&&t.callBack({requestType:t.item.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},a.prototype.destroy=function(){this.removeEventListener()},a}(),ES=function(){function a(t){this.parent=t,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.observer.on(dd,this.audioCommand,this),this.parent.observer.on(Ie,this.destroy,this)},a.prototype.removeEventListener=function(){this.parent.observer.off(dd,this.audioCommand),this.parent.observer.off(Ie,this.destroy)},a.prototype.audioCommand=function(t){var e,i=t.value.toString().toLowerCase();switch((i==="inline"||i==="break"||i==="audioremove")&&(e=t.item.selectNode[0]),i){case"audio":case"audioreplace":this.createAudio(t);break;case"inline":e.removeAttribute("class"),e.closest("."+ro).style.display="inline-block",L([e],[hc,ug,gg]),this.callBack(t);break;case"break":e.removeAttribute("class"),e.closest("."+ro).style.display="block",L([e],[bS,hc,gg]),this.callBack(t);break;case"audioremove":N(e),this.callBack(t);break}},a.prototype.createAudio=function(t){var e=this,i=!1,s;if(!h(t.item.selectParent)&&t.item.selectParent[0].classList&&(t.item.selectParent[0].classList.contains(fg)||t.item.selectParent[0].classList.contains(ro))){var n=t.item.selectParent[0].querySelector("source");this.setStyle(n,t),i=!0}else{s=P("span",{className:ro,attrs:{contentEditable:"false",title:h(t.item.title)?h(t.item.fileName)?"":t.item.fileName:t.item.title}});var r=P("audio",{className:hc+" "+ug,attrs:{controls:""}}),o=P("source"),l=P("span",{className:fg});if(this.setStyle(o,t),r.appendChild(o),l.appendChild(r),s.appendChild(l),h(t.item.selection)||t.item.selection.restore(),Bt.Insert(this.parent.currentDocument,s,this.parent.editableElement),s.nextElementSibling===null){var c=P("br");s.parentNode.insertBefore(c,s.nextSibling)}}if(t.callBack&&(h(t.selector)||!h(t.selector)&&t.selector!=="pasteCleanupModule")){var d=this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)[0],p=t.value==="AudioReplace"||i?t.item.selectParent[0].querySelector("audio"):E.isIE?d:d.querySelector("audio");p.addEventListener("loadeddata",function(){(t.value!=="AudioReplace"||!i)&&(h(e.parent.currentDocument)||t.callBack({requestType:"Audios",editorMode:"HTML",event:t.event,range:e.parent.nodeSelection.getRange(e.parent.currentDocument),elements:[p]}))}),i&&p.load()}},a.prototype.setStyle=function(t,e){h(e.item.url)||t.setAttribute("src",e.item.url);var i=e.item.fileName?e.item.fileName.split(".").pop().toLowerCase():e.item.url?e.item.url.split(".").pop().toLowerCase():"";i==="opus"?t.type="audio/ogg":i==="m4a"?t.type="audio/mp4":t.type=e.item.fileName&&e.item.fileName.split(".").length>0?"audio/"+e.item.fileName.split(".")[e.item.fileName.split(".").length-1]:e.item.url&&e.item.url.split(".").length>0?"audio/"+e.item.url.split(".")[e.item.url.split(".").length-1]:""},a.prototype.callBack=function(t){t.callBack&&t.callBack({requestType:t.item.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},a.prototype.destroy=function(){this.removeEventListener()},a}(),TS=function(){function a(t){this.parent=t,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.observer.on(pd,this.videoCommand,this),this.parent.observer.on(Ie,this.destroy,this)},a.prototype.removeEventListener=function(){this.parent.observer.off(pd,this.videoCommand),this.parent.observer.off(Ie,this.destroy)},a.prototype.videoCommand=function(t){var e,i,s,n=t.value.toString().toLowerCase();switch(n!=="video"&&n!=="videoreplace"&&(e=t.item.selectNode[0],i=e.closest("."+mg),s=e.closest("."+no)),n){case"video":case"videoreplace":this.createVideo(t);break;case"videodimension":this.videoDimension(t);break;case"inline":e.removeAttribute("class"),i&&(i.style.display="inline-block"),s&&(e.parentElement.style.cssFloat=""),L([e],[Tn,Cr,vg]),this.callBack(t);break;case"break":e.removeAttribute("class"),i&&(i.style.display="block"),s&&(e.parentElement.style.cssFloat=""),L([e],[so,Tn,vg]),this.callBack(t);break;case"justifyleft":e.removeAttribute("class"),i&&(i.style.display="block"),s&&(e.parentElement.style.cssFloat="left"),L([e],[Tn,vS]),this.callBack(t);break;case"justifycenter":e.removeAttribute("class"),i&&(i.style.display="block"),s&&(e.parentElement.style.cssFloat=""),L([e],[Tn,yS]),this.callBack(t);break;case"justifyright":e.removeAttribute("class"),i&&(i.style.display="block"),s&&(e.parentElement.style.cssFloat="right"),L([e],[Tn,gS]),this.callBack(t);break;case"videoremove":N(e.parentElement),this.callBack(t);break}},a.prototype.wrapVideo=function(t){var e,i;if(t.item.isEmbedUrl){e=P("span",{className:mg,attrs:{contentEditable:"false"}});var s=P("span",{className:no}),n=P("template");n.innerHTML=t.item.fileName,s.appendChild(n.content),this.vidElement=i=s.firstElementChild,this.setStyle(i,t,this.vidElement),e.style.display=t.item.cssClass===Cr?"inline-block":"block",e.appendChild(s)}else e=P("span",{className:MS,attrs:{contentEditable:"false",title:h(t.item.title)?h(t.item.fileName)?"":t.item.fileName:t.item.title}}),this.vidElement=P("video",{className:Tn+" "+Cr,attrs:{controls:""}}),i=P("source"),this.setStyle(i,t,this.vidElement),this.vidElement.appendChild(i),e.appendChild(this.vidElement);return e},a.prototype.createVideo=function(t){var e=this,i=!1,s;if(t.value==="VideoReplace"&&!h(t.item.selectParent)&&t.item.selectParent[0].tagName==="VIDEO")if(t.item.isEmbedUrl){s=this.wrapVideo(t);var n=t.item.selection.range.startContainer;n.parentNode.replaceChild(s,n)}else{var r=t.item.selectParent[0].querySelector("source");this.setStyle(r,t,r),i=!0}else if(t.value==="VideoReplace"&&!h(t.item.selectParent)&&h(t.item.selectParent[0].querySelector("iframe"))&&t.item.selectParent[0].classList&&t.item.selectParent[0].classList.contains(no))t.item.selectParent[0].innerHTML=t.item.fileName,this.setStyle(t.item.selectParent[0].firstElementChild,t,t.item.selectParent[0].firstElementChild);else if(t.value==="VideoReplace"&&!h(t.item.selectParent)&&!h(t.item.selectParent[0].querySelector("iframe"))&&!t.item.isEmbedUrl){s=this.wrapVideo(t);var n=t.item.selection.range.startContainer;n.parentNode.replaceChild(s,n)}else if(t.item.isEmbedUrl?s=this.wrapVideo(t):s=this.wrapVideo(t),h(t.item.selection)||t.item.selection.restore(),Bt.Insert(this.parent.currentDocument,s,this.parent.editableElement),s.nextElementSibling===null){var o=P("br");s.parentNode.insertBefore(o,s.nextSibling)}if(t.callBack&&(h(t.selector)||!h(t.selector)&&t.selector!=="pasteCleanupModule")){var l=this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)[0],c;t.value==="VideoReplace"||i?t.item.isEmbedUrl?t.item.isEmbedUrl?h(s)||(c=s.querySelector("iframe")):c=t.item.selectParent[0].querySelector("iframe"):c=t.item.selectParent[0]:c=t.item.isEmbedUrl?l.querySelector("iframe"):l.lastElementChild,c.addEventListener(c.tagName!=="IFRAME"?"loadeddata":"load",function(){(t.value!=="VideoReplace"||!i)&&(t.item.isEmbedUrl&&c&&c.classList.add("e-rte-embed-url"),h(e.parent.currentDocument)||t.callBack({requestType:"Videos",editorMode:"HTML",event:t.event,range:e.parent.nodeSelection.getRange(e.parent.currentDocument),elements:[c]}))}),i&&c.load(),E.userAgent.indexOf("Firefox")!==-1&&(this.vidElement.addEventListener("play",function(){e.editAreaVideoClick(t)}),this.vidElement.addEventListener("pause",function(){e.editAreaVideoClick(t)}))}},a.prototype.editAreaVideoClick=function(t){t.callBack({requestType:"VideosPlayPause",editorMode:"HTML",event:t.event})},a.prototype.setStyle=function(t,e,i){!(e.item.url!==""&&!h(e.item.url)&&h(t))&&t.nodeName.toLowerCase()!=="iframe"&&t.setAttribute("src",e.item.url),e.item.isEmbedUrl||(t.type=e.item.fileName&&e.item.fileName.split(".").length>0?"video/"+e.item.fileName.split(".")[e.item.fileName.split(".").length-1]:e.item.url&&e.item.url.split(".").length>0?"video/"+e.item.url.split(".")[e.item.url.split(".").length-1]:""),!h(e.item.width)&&!h(e.item.width.width)&&i.setAttribute("width",X(e.item.width.width)),!h(e.item.height)&&!h(e.item.height.height)&&i.setAttribute("height",X(e.item.height.height)),!h(e.item.width)&&!h(e.item.width.minWidth)&&(i.style.minWidth=X(e.item.width.minWidth)),!h(e.item.width)&&!h(e.item.width.maxWidth)&&(i.style.maxWidth=X(e.item.width.maxWidth)),!h(e.item.height)&&!h(e.item.height.minHeight)&&(i.style.minHeight=X(e.item.height.minHeight)),!h(e.item.height)&&!h(e.item.height.maxHeight)&&(i.style.maxHeight=X(e.item.height.maxHeight)),h(e.item.cssClass)||(e.item.cssClass===so?(L([i],[so]),k([i],[Cr])):(L([i],[Cr]),k([i],[so])))},a.prototype.videoDimension=function(t){var e=t.item.selectNode[0].classList.contains(no)?t.item.selectNode[0].querySelector("iframe"):t.item.selectNode[0];e.style.height="",e.style.width="",t.item.width!=="auto"?e.style.width=X(t.item.width):e.removeAttribute("width"),t.item.height!=="auto"?e.style.height=X(t.item.height):e.removeAttribute("height"),this.callBack(t)},a.prototype.callBack=function(t){t.callBack&&t.callBack({requestType:t.item.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},a.prototype.destroy=function(){this.removeEventListener()},a}(),NS=function(){function a(t){this.parent=t,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.observer.on(ud,this.createTable,this),this.parent.observer.on(md,this.insertRow,this),this.parent.observer.on(gd,this.insertColumn,this),this.parent.observer.on(vd,this.deleteRow,this),this.parent.observer.on(yd,this.deleteColumn,this),this.parent.observer.on(bd,this.removeTable,this),this.parent.observer.on(Cd,this.tableHeader,this),this.parent.observer.on(Md,this.tableVerticalAlign,this),this.parent.observer.on(Sd,this.cellMerge,this),this.parent.observer.on(Td,this.HorizontalSplit,this),this.parent.observer.on(Ed,this.VerticalSplit,this),this.parent.observer.on(rg,this.tableMove,this),this.parent.observer.on(Ie,this.destroy,this)},a.prototype.removeEventListener=function(){this.parent.observer.off(ud,this.createTable),this.parent.observer.off(md,this.insertRow),this.parent.observer.off(gd,this.insertColumn),this.parent.observer.off(vd,this.deleteRow),this.parent.observer.off(yd,this.deleteColumn),this.parent.observer.off(bd,this.removeTable),this.parent.observer.off(Cd,this.tableHeader),this.parent.observer.off(Md,this.tableVerticalAlign),this.parent.observer.off(Sd,this.cellMerge),this.parent.observer.off(Td,this.HorizontalSplit),this.parent.observer.off(Ed,this.VerticalSplit),this.parent.observer.off(rg,this.tableMove),this.parent.observer.off(Ie,this.destroy)},a.prototype.createTable=function(t){var e=P("table",{className:"e-rte-table"}),i=P("tbody");h(t.item.width.width)||(e.style.width=this.calculateStyleValue(t.item.width.width)),h(t.item.width.minWidth)||(e.style.minWidth=this.calculateStyleValue(t.item.width.minWidth)),h(t.item.width.maxWidth)||(e.style.maxWidth=this.calculateStyleValue(t.item.width.maxWidth));for(var s=parseInt(t.item.width.width,10)>100?100/t.item.columns:parseInt(t.item.width.width,10)/t.item.columns,n=0;n<t.item.rows;n++){for(var r=P("tr"),o=0;o<t.item.columns;o++){var l=P("td");l.appendChild(P("br")),l.style.width=s+"%",r.appendChild(l)}i.appendChild(r)}if(e.appendChild(i),t.item.selection.restore(),Bt.Insert(this.parent.currentDocument,e,this.parent.editableElement),t.item.selection.setSelectionText(this.parent.currentDocument,e.querySelector("td"),e.querySelector("td"),0,0),e.nextElementSibling===null&&!e.classList.contains("ignore-table")){var c=void 0;t.enterAction==="DIV"?(c=P("div"),c.appendChild(P("br"))):t.enterAction==="BR"?c=P("br"):(c=P("p"),c.appendChild(P("br"))),this.insertAfter(c,e)}return e.classList.contains("ignore-table")&&Ue([e],["ignore-table"]),e.querySelector("td").classList.add("e-cell-select"),t.callBack&&t.callBack({requestType:"Table",editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:[e]}),e},a.prototype.calculateStyleValue=function(t){var e;return typeof t=="string"&&(t.indexOf("px")>=0||t.indexOf("%")>=0||t.indexOf("auto")>=0)?e=t:e=t+"px",e},a.prototype.insertAfter=function(t,e){e.parentNode.insertBefore(t,e.nextSibling)},a.prototype.getSelectedCellMinMaxIndex=function(t){for(var e=this.curTable.querySelectorAll(".e-cell-select"),i=0,s=t.length,n=0,r=t[0].length,o=0;i<e.length;i++){var l=this.getCorrespondingIndex(e[i],t),c=this.FindIndex(l[0],l[1],t);s=Math.min(l[0],s),n=Math.max(c[0],n),r=Math.min(l[1],r),o=Math.max(c[1],o)}return{startRow:s,endRow:n,startColumn:r,endColumn:o}},a.prototype.insertRow=function(t){var e=t.item.subCommand!=="InsertRowBefore",i=t.item.selection.range.startContainer;if(i.nodeName==="TH"||i.nodeName==="TD"||(i=M(i.parentElement,"td,th")),!(i.nodeName.toLowerCase()==="th"&&t.item.subCommand==="InsertRowBefore")){if(this.curTable=M(this.parent.nodeSelection.range.startContainer.parentElement,"table"),this.curTable.querySelectorAll(".e-cell-select").length===0){var s=this.curTable.rows[this.curTable.rows.length-1],n=s.cloneNode(!0);n.removeAttribute("rowspan"),this.insertAfter(n,s)}else{for(var r=this.getCorrespondingColumns(),o=this.getSelectedCellMinMaxIndex(r),l=e?o.endRow:o.startRow,c=P("tr"),d=this.curTable.querySelectorAll("th.e-cell-select").length>0,p=0;p<r[l].length;p++)if(e&&l<r.length-1&&r[l][p]===r[l+1][p]||!e&&0<l&&r[l][p]===r[l-1][p])(p===0||0<p&&r[l][p]!==r[l][p-1])&&r[l][p].setAttribute("rowspan",(parseInt(r[l][p].getAttribute("rowspan"),10)+1).toString());else{var u=P("td");u.appendChild(P("br")),c.appendChild(u),u.setAttribute("style",r[d&&e&&r[l+1]?l+1:l][p].getAttribute("style"))}var f=void 0;d&&e?f=this.curTable.querySelector("tbody").childNodes[0]:f=this.curTable.rows[l],t.item.subCommand==="InsertRowBefore"||d?f.parentElement.insertBefore(c,f):this.insertAfter(c,f)}t.item.selection.setSelectionText(this.parent.currentDocument,t.item.selection.range.startContainer,t.item.selection.range.startContainer,0,0),t.callBack&&t.callBack({requestType:t.item.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})}},a.prototype.insertColumn=function(t){var e=t.item.selection.range.startContainer;e.nodeName==="TH"||e.nodeName==="TD"||(e=M(e.parentElement,"td,th"));for(var i=M(e,"tr"),s,n=M(i,"table").rows,r=Array.prototype.slice.call(i.querySelectorAll(":scope > td, :scope > th")).indexOf(e),o=parseInt(t.item.width,10)/i.querySelectorAll(":scope > td, :scope > th").length,l=parseInt(t.item.width,10)/(i.querySelectorAll(":scope > td, :scope > th").length+1),c=M(i,"table"),d=M(i,"table").querySelectorAll("th,td"),p=0;p<d.length;p++)d[p].dataset.oldWidth=d[p].offsetWidth/c.offsetWidth*100+"%";for(var p=0;p<n.length;p++){s=n[p].querySelectorAll(":scope > td, :scope > th")[r];var u=s.cloneNode(!0);u.innerHTML="",u.appendChild(P("br")),u.removeAttribute("class"),u.removeAttribute("colspan"),u.removeAttribute("rowspan"),t.item.subCommand==="InsertColumnLeft"?s.parentElement.insertBefore(u,s):this.insertAfter(u,s),u.style.width=l.toFixed(4)+"%",delete u.dataset.oldWidth}for(var p=0;p<d.length;p++)d[p].style.width=(Number(d[p].dataset.oldWidth.split("%")[0])*l/o).toFixed(4)+"%",delete d[p].dataset.oldWidth;t.item.selection.setSelectionText(this.parent.currentDocument,e,e,0,0),t.callBack&&t.callBack({requestType:t.item.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},a.prototype.deleteColumn=function(t){var e=t.item.selection.range.startContainer;e.nodeType===3&&(e=M(e.parentElement,"td,th"));var i=M(e,e.tagName==="TH"?"thead":"tbody"),s=i&&Array.prototype.indexOf.call(i.childNodes,e.parentNode);this.curTable=M(e,"table");var n=M(e,"tr");if(n.querySelectorAll("th,td").length===1)t.item.selection.restore(),N(M(e.parentElement,"table"));else{for(var r=void 0,o=this.getCorrespondingColumns(),l=this.getSelectedCellMinMaxIndex(o),c=l.startColumn,d=l.endColumn,p=0;p<o.length;p++)for(var u=o[p],f=0;f<u.length;f++){var m=u[f],g=this.getCorrespondingIndex(m,o),b=parseInt(m.getAttribute("colspan"),10)||1;g[1]+(b-1)>=c&&g[1]<=d&&(b>1?m.setAttribute("colspan",(b-1).toString()):(N(m),r=f,E.isIE&&(t.item.selection.setSelectionText(this.parent.currentDocument,this.curTable.querySelector("td"),this.curTable.querySelector("td"),0,0),this.curTable.querySelector("td, th").classList.add("e-cell-select"))))}if(r>-1){var S=i.children[s],T=S&&S.children[r<=S.children.length-1?r:r-1];T&&(t.item.selection.setSelectionText(this.parent.currentDocument,T,T,0,0),T.classList.add("e-cell-select"))}}if(t.callBack){var I=this.parent.nodeSelection.getRange(this.parent.currentDocument).startContainer;if(I.nodeName!=="TD"){var w=this.parent.nodeSelection.getRange(this.parent.currentDocument).startOffset,x=I.children[w];x&&this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,x,0)}t.callBack({requestType:t.item.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})}},a.prototype.deleteRow=function(t){var e=t.item.selection.range.startContainer;e.nodeType===3&&(e=M(e.parentElement,"td,th"));var i=Array.prototype.indexOf.call(e.parentNode.childNodes,e);this.curTable=M(e,"table");var s,n=this.getCorrespondingColumns(),r=this.getSelectedCellMinMaxIndex(n),o,l;if(this.curTable.rows.length===1)t.item.selection.restore(),N(M(e.parentElement,"table"));else for(o=r.endRow;o>=r.startRow;o--){for(s=this.curTable.rows[o],l=0;l<n[o].length;l++){if((l===0||n[o][l]!==n[o][l-1])&&1<parseInt(n[o][l].getAttribute("rowspan"),10)){var c=parseInt(n[o][l].getAttribute("rowspan"),10)-1;if(c===1){n[o][l].removeAttribute("rowspan");var d=this.getMergedRow(this.getCorrespondingColumns())[l];if(d){var p=d.cloneNode(!0);p.innerHTML="<br>",d.parentElement&&d.parentElement.insertBefore(p,d)}}else n[o][l].setAttribute("rowspan",c.toString())}if(o<n.length-1&&n[o][l]===n[o+1][l]&&(o===0||n[o][l]!==n[o-1][l])){var u=n[o][l],f=void 0;for(f=l;0<f&&n[o][f]===n[o][f-1];f--)f===0?this.curTable.rows[o+1].prepend(u):n[o+1][f-1].insertAdjacentElement("afterend",u)}}var m=s.rowIndex;this.curTable.deleteRow(m);var g=h(this.curTable.rows[m])?this.curTable.querySelectorAll("tbody tr")[m-1]:this.curTable.querySelectorAll("tbody tr")[m],b=g&&g.querySelectorAll("td")[i];b?(t.item.selection.setSelectionText(this.parent.currentDocument,b,b,0,0),b.classList.add("e-cell-select")):(t.item.selection.setSelectionText(this.parent.currentDocument,this.curTable.querySelector("td"),this.curTable.querySelector("td"),0,0),this.curTable.querySelector("td, th").classList.add("e-cell-select"))}t.callBack&&t.callBack({requestType:t.item.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},a.prototype.getMergedRow=function(t){for(var e,i=0;i<t.length;i++)t[i].length!==this.curTable.rows[0].childNodes.length&&(e=t[i]);return e},a.prototype.removeTable=function(t){var e=t.item.selection.range.startContainer;e=e.nodeType===3?e.parentNode:e;var i=M(e.parentElement,"table");i&&(t.item.selection.restore(),N(i)),t.callBack&&t.callBack({requestType:t.item.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},a.prototype.tableHeader=function(t){var e=!1,i=t.item.selection.range.startContainer;i=i.nodeType===3?i.parentNode:i;var s=M(i.parentElement,"table");if([].slice.call(s.childNodes).forEach(function(u){u.nodeName==="THEAD"&&(e=!0)}),s&&!e){for(var n=s.querySelector("tr").childElementCount,r=0,o=0;o<n;o++)r=r+(parseInt(s.querySelector("tr").children[o].getAttribute("colspan"),10)||1);for(var l=s.createTHead(),c=l.insertRow(0),d=0;d<r;d++){var p=P("th");p.appendChild(P("br")),c.appendChild(p)}}else s.deleteTHead();t.callBack&&t.callBack({requestType:t.item.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},a.prototype.tableVerticalAlign=function(t){var e="";switch(t.item.subCommand){case"AlignTop":e="top";break;case"AlignMiddle":e="middle";break;case"AlignBottom":e="bottom";break}t.item.tableCell.style.verticalAlign=e,e&&e!==""&&t.item.tableCell.getAttribute("valign")&&t.item.tableCell.removeAttribute("valign"),t.callBack&&t.callBack({requestType:t.item.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},a.prototype.cellMerge=function(t){h(this.curTable)&&(this.curTable=M(this.parent.nodeSelection.range.startContainer.parentElement,"table"));var e=this.curTable.querySelectorAll(".e-cell-select");if(!(e.length<2)){this.mergeCellContent();var i=this.getSelectedMinMaxIndexes(this.getCorrespondingColumns()),s=e[0],n=s.parentElement.querySelectorAll(".e-cell-select");i.startColumn<i.endColumn&&s.setAttribute("colspan",(i.endColumn-i.startColumn+1).toString()),i.startRow<i.endRow&&s.setAttribute("rowspan",(i.endRow-i.startRow+1).toString());for(var r=0,o,l=n.length-1;l>=0;l--)if(!h(n[l].style.width)&&n[l].style.width!==""){if(!o){var c=n[l].style.width.match(/^([\d.]+)([a-z%]+)$/i);o=c?c[2]:"%"}r=r+parseFloat(n[l].style.width)}else r=r+n[l].offsetWidth/this.curTable.offsetWidth*100,o="%";s.style.width=r+o;for(var d=1;d<=e.length-1;d++)N(e[d]);for(var d=0;d<this.curTable.rows.length;d++)this.curTable.rows[d].innerHTML===""&&N(this.curTable.rows[d]);Ue(this.curTable.querySelectorAll("table td, table th"),"e-multi-cells-select"),Ue(this.curTable.querySelectorAll("table td, table th"),"e-cell-select-end"),this.updateRowSpanStyle(i.startRow,i.endRow,this.getCorrespondingColumns()),this.updateColSpanStyle(i.startColumn,i.endColumn,this.getCorrespondingColumns()),t.item.selection.setSelectionText(this.parent.currentDocument,t.item.selection.range.startContainer,t.item.selection.range.startContainer,0,0),this.parent.nodeSelection&&s&&this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,s,0),t.callBack&&t.callBack({requestType:t.item.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})}},a.prototype.updateColSpanStyle=function(t,e,i){var s,n,r,o=0,l,c=0,d=i;if(t<(e=Math.min(e,d[0].length-1))){for(n=t;n<=e;n++)if(o=Math.min(parseInt(d[0][n].getAttribute("colspan"),10)||1,e-t+1),!(t<n&&d[0][n]===d[0][n-1])&&1<o&&d[0][n]===d[0][n+1])for(c=o-1,s=1;s<d.length;s++){if(d[s][n]!==d[s-1][n]){for(r=n;r<n+o;r++)if(l=parseInt(d[s][r].getAttribute("colspan"),10)||1,1<l&&d[s][r]===d[s][r+1])r+=c=Math.min(c,l-1);else if(c=Math.max(0,c-1),c===0)break}if(!c)break}c&&this.updateCellAttribute(d,c,"colspan",0,d.length-1,t,e)}},a.prototype.updateRowSpanStyle=function(t,e,i){var s,n,r,o=0,l,c=0,d=i;if(t<(e=Math.min(e,d.length-1))){for(s=t;s<=e;s++)if(!(t<s&&d[s][0]===d[s-1][0])&&d[s][0]&&1<(o=Math.min(parseInt(d[s][0].getAttribute("rowspan"),10)||1,e-t+1))&&d[s][0]===d[s+1][0]){for(c=o-1,n=1;n<d[0].length;n++)if(d[s][n]!==d[s][n-1]){for(r=s;r<s+o;r++)if(l=parseInt(d[r][n].getAttribute("rowspan"),10)||1,1<l&&d[r][n]===d[r+1][n])r+=c=Math.min(c,l-1);else if(!(c=Math.max(0,c-1)))break;if(!c)break}}c&&this.updateCellAttribute(d,c,"rowspan",t,e,0,d[0].length-1)}},a.prototype.updateCellAttribute=function(t,e,i,s,n,r,o){var l,c,d;for(l=s;l<=n;l++)for(c=r;c<=o;c++)d=parseInt(t[l][c].getAttribute(i),10)||1,(s<l&&t[l][c]===t[l-1][c]||r<c&&t[l][c]===t[l][c-1]||1<d)&&(1<d-e?t[l][c].setAttribute(i,(d-e).toString()):t[l][c].removeAttribute(i))},a.prototype.mergeCellContent=function(){for(var t=this.curTable.querySelectorAll(".e-cell-select"),e=t[0].innerHTML==="<br>"?"":t[0].innerHTML,i=1;i<t.length;i++)t[i].innerHTML!=="<br>"&&(e=e?e+"<br>"+t[i].innerHTML:e+t[i].innerHTML);t[0].innerHTML=e},a.prototype.getSelectedMinMaxIndexes=function(t){var e=this.curTable.querySelectorAll(".e-cell-select");if(0<e.length){for(var i=t.length,s=0,n=t[0].length,r=0,o=0;o<e.length;o++){var l=this.getCorrespondingIndex(e[o],t),c=this.FindIndex(l[0],l[1],t);i=Math.min(l[0],i),s=Math.max(c[0],s),n=Math.min(l[1],n),r=Math.max(c[1],r)}return{startRow:i,endRow:s,startColumn:n,endColumn:r}}return null},a.prototype.HorizontalSplit=function(t){var e=t.item.selection.range.startContainer;if(this.curTable=M(e.parentElement,"table"),!(this.curTable.querySelectorAll(".e-cell-select").length>1)){this.activeCell=this.curTable.querySelector(".e-cell-select");var i=this.activeCell.cloneNode(!0);i.removeAttribute("class"),i.innerHTML="</br>";var s=this.getCorrespondingIndex(this.activeCell,this.getCorrespondingColumns()),n=this.getCorrespondingColumns(),r=this.activeCell.getAttribute("rowspan")?parseInt(this.activeCell.getAttribute("rowspan"),10):1;if(r>1){var o=Math.ceil(r/2);1<o?this.activeCell.setAttribute("rowspan",o.toString()):this.activeCell.removeAttribute("rowspan"),1<r-o?i.setAttribute("rowspan",(r-o).toString()):i.removeAttribute("rowspan");var l=void 0,c=void 0;for(l=s[0]+Math.ceil(r/2),c=s[1]===0?s[1]:s[1]-1;0<=c&&(n[l][c]===n[l][c-1]||0<l&&n[l][c]===n[l-1][c]);)c--;c===-1?this.curTable.rows[l].firstChild?this.curTable.rows[l].prepend(i):this.curTable.appendChild(i):n[l][c].insertAdjacentElement("afterend",i)}else{var d=P("tr");d.appendChild(i);for(var p=n[s[0]],u=0;u<=p.length-1;u++)p[u]!==p[u-1]&&p[u]!==this.activeCell&&p[u].setAttribute("rowspan",((parseInt(p[u].getAttribute("rowspan"),10)?parseInt(p[u].getAttribute("rowspan"),10):1)+1).toString());this.activeCell.parentNode.insertAdjacentElement("afterend",d)}t.callBack&&t.callBack({requestType:t.item.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})}},a.prototype.VerticalSplit=function(t){var e=t.item.selection.range.startContainer;if(this.curTable=M(e.parentElement,"table"),!(this.curTable.querySelectorAll(".e-cell-select").length>1)){this.activeCell=this.curTable.querySelector(".e-cell-select");var i=this.curTable.rows,s=this.activeCell.cloneNode(!0);s.removeAttribute("class"),s.innerHTML="</br>";var n=this.getCorrespondingIndex(this.activeCell,this.getCorrespondingColumns()),r=this.getCorrespondingColumns(),o=parseInt(this.activeCell.getAttribute("colspan"),10)||1;if(o>1){var l=Math.ceil(o/2),c=this.getColSizes(this.curTable),d=this.getSplitColWidth(n[1],n[1]+l-1,c),p=this.getSplitColWidth(n[1]+l,n[1]+o-1,c),u=this.convertPixelToPercentage(this.activeCell.offsetWidth,this.curTable.offsetWidth);p=u-d<p?u-d:p,1<l?this.activeCell.setAttribute("colspan",l.toString()):this.activeCell.removeAttribute("colspan"),1<o-l?s.setAttribute("colspan",(o-l).toString()):s.removeAttribute("colspan"),this.activeCell.style.width=d+"%",s.style.width=p+"%"}else{for(var f=parseFloat(this.activeCell.style.width)/2,m=0;m<=i.length-1;m++)if(m===0||r[m][n[1]]!==r[m-1][n[1]]){var g=r[m][n[1]];g!==this.activeCell&&g.setAttribute("colspan",((parseInt(g.getAttribute("colspan"),10)?parseInt(g.getAttribute("colspan"),10):1)+1).toString())}this.activeCell.style.width=f+"%",s.style.width=f+"%"}this.activeCell.parentNode.insertBefore(s,this.activeCell.nextSibling),t.callBack&&t.callBack({requestType:t.item.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})}},a.prototype.getSplitColWidth=function(t,e,i){for(var s=0,n=t;n<=e;n++)s+=i[n];return this.convertPixelToPercentage(s,this.curTable.offsetWidth)},a.prototype.getColSizes=function(t){for(var e=t.rows[0].cells,i=0,s=0;s<e.length;s++)i=i+e[s].colSpan;for(var n=new Array(i),r=new Map,o=0;o<t.rows.length;o++)for(var l=0,c=0;c<t.rows[o].cells.length;c++){for(var d=1;d<t.rows[o].cells[c].rowSpan;d++){var p=""+(o+d)+l;r.set(p,t.rows[o].cells[c])}var u=this.getCellIndex(r,o,c);u>l&&(l=u);var f=t.rows[o].cells[c].offsetWidth;(!n[l]||f<n[l])&&(n[l]=f),l+=1+t.rows[o].cells[c].colSpan-1}return n},a.prototype.getCellIndex=function(t,e,i){var s=""+e+i,n=t.get(s);return n?this.getCellIndex(t,e,i+n.colSpan):i},a.prototype.convertPixelToPercentage=function(t,e){return t/e*100},a.prototype.getCorrespondingColumns=function(){for(var t=[],e=this,i=0,s=e.curTable.rows,n=0;n<=s.length-1;n++)for(var r=s[n],o=0,l=0;l<=r.children.length-1;l++){for(var c=r.children[l],d=c,p=parseInt(d.getAttribute("colspan"),10)||1,u=parseInt(d.getAttribute("rowspan"),10)||1,f=n;f<n+u;f++)for(var m=o;m<o+p;m++)t[f]||(t[f]=[]),t[f][m]?o++:t[f][m]=c;o+=i}return t},a.prototype.FindIndex=function(t,e,i){var s,n;for(s=t+1,n=e+1;s<i.length;){if(i[s][e]!==i[t][e]){s--;break}s++}for(s===i.length&&s--;n<i[t].length;){if(i[t][n]!==i[t][e]){n--;break}n++}return n===i[t].length&&n--,[s,n]},a.prototype.getCorrespondingIndex=function(t,e){for(var i=0;i<e.length;i++)for(var s=0;s<e[i].length;s++)if(e[i][s]===t)return[i,s];return[]},a.prototype.highlightCells=function(t,e,i,s,n){var r,o,l,c,d=t,p=e,u=i,f=s,m=new IS;for(r=d;r<=p;r++){for(l=this.getCorrespondingIndex(n[r][u],n),c=this.FindIndex(l[0],l[1],n),(1<(parseInt(n[r][u].getAttribute("rowspan"),10)||1)||1<(parseInt(n[r][u].getAttribute("colspan"),10)||1))&&c?(d=Math.min(l[0],d),p=Math.max(c[0],p),u=Math.min(l[1],u),f=Math.max(c[1],f)):(1<(parseInt(n[r][f].getAttribute("rowspan"),10)||1)||1<(parseInt(n[r][f].getAttribute("colspan"),10)||1))&&(l=this.getCorrespondingIndex(n[r][f],n),c=this.FindIndex(l[0],l[1],n),c&&(d=Math.min(l[0],d),p=Math.max(c[0],p),u=Math.min(l[1],u),f=Math.max(c[1],f))),o=u;o<=f;o++)l=this.getCorrespondingIndex(n[d][o],n),c=this.FindIndex(l[0],l[1],n),(1<(parseInt(n[d][o].getAttribute("rowspan"),10)||1)||1<(parseInt(n[d][o].getAttribute("colspan"),10)||1))&&c?(d=Math.min(l[0],d),p=Math.max(c[0],p),u=Math.min(l[1],u),f=Math.max(c[1],f)):(1<(parseInt(n[p][o].getAttribute("rowspan"),10)||1)||1<(parseInt(n[p][o].getAttribute("colspan"),10)||1))&&(l=this.getCorrespondingIndex(n[p][o],n),c=this.FindIndex(l[0],l[1],n),c&&(d=Math.min(l[0],d),p=Math.max(c[0],p),u=Math.min(l[1],u),f=Math.max(c[1],f)));m=d===t&&p===e&&u===i&&f===s?{startRow:t,endRow:e,startColumn:i,endColumn:s}:this.highlightCells(d,p,u,f,n)}return m},a.prototype.restoreRange=function(t){this.parent.currentDocument.getSelection().rangeCount&&(t.nodeName==="TD"||t.nodeName==="TH")&&this.parent.nodeSelection.setCursorPoint(this.parent.currentDocument,t,0)},a.prototype.tableMove=function(t){this.activeCell=t.selectNode[0];var e=t.event.target,i=this.activeCell.tagName,s=e.tagName;if(this.curTable=M(e,"table"),!(e.tagName!=="TD"&&e.tagName!=="TH"&&i!==s)){var n=M(this.activeCell,"table");if(!(h(this.curTable)||h(n)||n!==this.curTable)){for(var r=this.getCorrespondingColumns(),o=this.getCorrespondingIndex(this.activeCell,r),l=this.getCorrespondingIndex(e,r),c=this.curTable.querySelectorAll(".e-cell-select, .e-multi-cells-select, .e-cell-select-end"),d=c.length-1;d>=0;d--)this.activeCell!==c[d]&&Ue([c[d]],["e-cell-select"]),Ue([c[d]],["e-multi-cells-select"]),Ue([c[d]],["e-cell-select-end"]);if(o[0]===l[0]&&o[1]===l[1]){c.length>1&&this.restoreRange(e);return}for(var p=this.highlightCells(Math.min(o[0],l[0]),Math.max(o[0],l[0]),Math.min(o[1],l[1]),Math.max(o[1],l[1]),r),u=p.startRow;u<=p.endRow;u++)for(var f=p.startColumn;f<=p.endColumn;f++)r[u][f].classList.add("e-cell-select"),r[u][f].classList.add("e-multi-cells-select");e.classList.add("e-cell-select-end"),t.event.type&&t.event.preventDefault(),this.restoreRange(e)}}},a.prototype.destroy=function(){this.removeEventListener()},a}(),IS=function(){function a(){}return a}(),qd=function(){function a(){}return a.applyFormat=function(t,e,i,s,n,r,o,l){this.enterAction=s;var c=["bold","italic","underline","strikethrough","superscript","subscript","uppercase","lowercase","fontcolor","fontname","fontsize","backgroundcolor"];if(c.indexOf(e)>-1||r==="formatPainter"){e==="backgroundcolor"&&r===""&&(r="transparent");var d=new Lt,p=new Ho(i,t),u=new Vs,f=new qt,m=d.getRange(t),g=m.startContainer.parentElement;if(m.collapsed&&!h(g)&&g.tagName==="A"&&(m.startOffset===g.textContent.length||m.startOffset===0)){var b=document.createTextNode("");m.startOffset===0?g.parentNode.insertBefore(b,g):h(g.nextSibling)?g.parentNode.appendChild(b):g.parentElement.insertBefore(b,g.nextSibling);var S=t.createRange();m.setStart(b,0),m.setEnd(b,0),m.collapse(!0),d.setRange(t,S)}if(E.userAgent.indexOf("Firefox")!==-1&&m.startContainer===m.endContainer&&!h(i)&&m.startContainer===i){for(var T=m.startContainer.childNodes,I=T[m.startOffset>0?m.startOffset-1:m.startOffset]||m.startContainer,w=m.endContainer.childNodes[m.endOffset>0?m.endOffset-1:m.endOffset]||m.endContainer,x=w.lastChild.nodeName==="BR"?h(w.lastChild.previousSibling)?w:w.lastChild.previousSibling:w.firstChild;!h(x)&&x.nodeName!=="#text"&&x.nodeName!=="IMG"&&x.nodeName!=="BR"&&x.nodeName!=="HR";)x=x.lastChild;d.setSelectionText(t,I,x,0,0),m=d.getRange(t)}var A=d.save(m,t),q=void 0,F=!1;i&&n&&i.nodeName!=="#text"&&(q=n.getTextNodes()),q&&q.length>0?F=!0:q=m.collapsed?d.getSelectionNodeCollection(m):d.getSelectionNodeCollectionBr(m);var J=!1,ae=!1,de=!1,re=!1,me=["fontcolor","fontname","fontsize","backgroundcolor"].indexOf(e)>-1;if(!F&&m.collapsed){var U=f.getFormattedNode(m.startContainer,e,i),O=h(U)?null:U.getAttribute("style")===null?U.nodeName:U.nodeName+"[style='"+U.getAttribute("style")+"']";if(q.length>0)J=!0,m=u.GetCursorRange(t,m,q[0]);else if(m.startContainer.nodeType===3&&(m.startContainer.parentElement.childElementCount>0&&m.startOffset>0&&m.startContainer.parentElement.firstElementChild.tagName.toLowerCase()!=="br"||!h(U)&&U===m.startContainer.parentElement.closest(O)&&m.startContainer.parentElement.closest(O).textContent.replace(new RegExp("\u200B","g"),"").trim().length!==0))J=!0,m=u.GetCursorRange(t,m,m.startContainer),q.push(m.startContainer);else{var _=this.insertCursorNode(t,d,m,f,u,e,r,i);d.endContainer=d.startContainer=d.getNodeArray(_,!0);var H=_.nodeName==="BR"&&_.parentNode.childNodes;!h(H)&&H.length===1&&H[0].nodeName==="BR"&&q.length===0?(d.setSelectionText(t,m.startContainer,m.endContainer,0,0),re=!0):d.endOffset=d.startOffset=1,_.nodeName==="BR"&&_.parentNode.textContent.length===0&&(re=!0)}}de=F?!1:m.collapsed;for(var Q=!1,j=0;j<q.length;j++){var te=f.getFormattedNode(q[j],e,i);te===null&&(e==="subscript"?(te=f.getFormattedNode(q[j],"superscript",i),Q=te!==null):e==="superscript"&&(te=f.getFormattedNode(q[j],"subscript",i),Q=te!==null)),j===0&&te===null&&(ae=!0),te!==null&&(!ae||me)?q[j]=this.removeFormat(q,j,te,de,F,ae,me,m,u,e,r,d,i,p):q[j]=this.insertFormat(t,q,j,te,de,F,ae,me,m,u,e,r,l,p,i),F||(d=this.applySelection(q,d,u,j,J))}vt()&&Ts(i,o),!re&&!F&&A.restore(),Q&&this.applyFormat(t,e,i,s)}},a.insertCursorNode=function(t,e,i,s,n,r,o,l){var c=e.getNodeCollection(i),d=new Ho(l,t),p=c.length>0?c.length>1&&i.startContainer===i.endContainer?this.getCursorFormat(s,c,r,l):o===""&&r==="fontsize"&&s.getFormattedNode(c[0],r,l)==null&&c[0].parentElement.nodeName==="SPAN"?c[0].parentElement:s.getFormattedNode(c[0],r,l):null,u=null;if(p){if(u=c[0],p.firstChild.textContent.charCodeAt(0)===8203&&p.firstChild.nodeType===3){var f=new RegExp("\u200B","g"),m=void 0;if(u.nodeName!=="#text")for(var g=0;g<c.length;g++)c[g].nodeType===Node.TEXT_NODE&&(u=c[g]);p.firstChild===u?(u.textContent=p.parentElement&&(d.isBlockNode(p.parentElement)&&p.parentElement.textContent.length<=1?p.parentElement.childElementCount>1:p.childElementCount===0)&&(p.parentElement.textContent.length>1||p.parentElement.firstChild&&p.parentElement.firstChild.nodeType===1)?u.textContent:u.textContent.replace(f,""),m=u):(p.firstChild.textContent=p.firstChild.textContent.replace(f,""),m=p.firstChild);var b=void 0;if(m.textContent.length===0){if(!h(m.previousSibling))u=m.previousSibling,b=m.textContent.length-1,e.setCursorPoint(t,m,b);else if(!h(m.parentElement)&&m.parentElement.textContent.length===0){var S=document.createElement("BR");m.parentElement.appendChild(S),N(m),u=S,e.setCursorPoint(t,u.parentElement,0)}}}["fontcolor","fontname","fontsize","backgroundcolor"].indexOf(r)>-1?(r==="fontcolor"?p.style.color=o:r==="fontname"?p.style.fontFamily=o:r==="fontsize"?p.style.fontSize=o:p.style.backgroundColor=o,u=p):Ve.unwrap(p)}else{if(c.length>1&&i.startOffset>0&&c[0].firstElementChild&&c[0].firstElementChild.tagName.toLowerCase()==="br"&&(c[0].innerHTML=""),c.length===1&&i.startOffset===0&&(c[0].nodeName==="BR"||!h(c[0].nextSibling)&&c[0].nextSibling.nodeName==="BR")&&N(c[0].nodeName==="#text"?c[0].nextSibling:c[0]),!h(c[0].parentElement)&&qt.inlineTags.indexOf(c[0].parentElement.tagName.toLowerCase())!==-1&&c[0].textContent.includes("\u200B")){var T=this.GetFormatNode(r,o);return this.applyStyles(c,0,T),c[0]}u=this.getInsertNode(t,i,r,o).firstChild}return u},a.getCursorFormat=function(t,e,i,s){for(var n,r=0;r<e.length;r++)n=e[r].lastElementChild?e[r].lastElementChild:e[r];return i==="fontsize"&&t.getFormattedNode(n,i,s)==null&&n.parentElement.nodeName==="SPAN"?n.parentElement:t.getFormattedNode(n,i,s)},a.removeFormat=function(t,e,i,s,n,r,o,l,c,d,p,u,f,m){var g=null,b=l.startContainer.nodeName==="#text"?l.startContainer.textContent.substring(l.startOffset,l.startContainer.textContent.length):l.startContainer.textContent,S=t[e].textContent;if(l.startContainer===l.endContainer&&l.startOffset===0&&l.endOffset===l.startContainer.length){if(o&&!t[e].contains(i)&&t[e].nodeType===3&&t[e].textContent!==i.textContent){for(var q=t[e].textContent===t[e].wholeText,F=t[e],J=this.GetFormatNode(d,p);F&&F.textContent===F.parentElement.textContent;)F=F.parentElement;if(q&&i.textContent!==F.textContent){var ae=[],de=this.getPriorityFormatNode(F,f);return de&&de.textContent===F.textContent&&(F=de),ae.push(F),this.applyStyles(ae,0,J),t[e]}}}else{var T=[],I=t[e],w=I;do T.push(u.getIndex(I)),I=I.parentNode;while(I&&I!==i);if(t[e].nodeName!=="BR"&&(w.nodeName==="#text"&&w.textContent.includes("\u200B")&&w.remove(),n||(I=g=s&&i.textContent.length-1===l.startOffset?c.SplitNode(l,i,!0):c.GetSpliceNode(l,i))),s){for(var A=g;A.firstChild!==null&&A.firstChild.nodeType!==3;null)A=A.firstChild;A.innerHTML="&#8203;",t[e]=A.firstChild}else{for(;I&&I.childNodes.length>0&&T.length-1>=0&&I.childNodes.length>T[T.length-1];)I=I.childNodes[T[T.length-1]],T.pop();if(t[e].nodeName!=="BR")if(I.nodeType===3&&!(s&&I.nodeValue===""))t[e]=I;else{var x=document.createElement("div");x.innerHTML="&#8203;",I.nodeType!==3?(I.insertBefore(x.firstChild,I.firstChild),t[e]=I.firstChild):(I.parentNode.insertBefore(x.firstChild,I),t[e]=I.previousSibling,I.parentNode.removeChild(I))}}}var re;d==="backgroundcolor"&&(re=i.style.fontSize);var me;if(d==="fontsize"){var U=M(t[e].parentElement,"span[style*=background-color]");h(U)||(me=U.style.backgroundColor)}var O=i.getAttribute("style"),_=i.tagName,H;if(_==="A"&&d==="underline")i.style.textDecoration="none",H=[i];else if(qt.inlineTags.indexOf(_.toLowerCase())!==-1&&o&&_.toLocaleLowerCase()!=="span"){var Q=i.style;Q.color&&d==="fontcolor"?i.nodeName==="A"?Q.color=p:Q.color="":Q.backgroundColor&&d==="backgroundcolor"?Q.backgroundColor="":Q.fontSize&&d==="fontsize"?Q.fontSize="":Q.fontFamily&&d==="fontname"&&(Q.fontFamily=""),i.getAttribute("style")===""&&i.removeAttribute("style"),H=[i]}else{H=Ve.unwrap(i);var j=t[e].parentElement;!h(j)&&j.tagName.toLowerCase()!=="li"&&(j=M(j,"li")),!h(j)&&j.tagName.toLowerCase()==="li"&&j.textContent.trim()===t[e].textContent.trim()?d==="bold"?j.style.fontWeight="normal":d==="italic"&&(j.style.fontStyle="normal"):!h(j)&&j.tagName.toLowerCase()==="li"&&j.textContent.trim()!==t[e].textContent.trim()&&a.conCatenateTextNode(j,d,"","normal",p)}if(H[0]&&!o)for(var F=H[e]?H[e]:H[0],te=F;F&&F.parentElement&&F.parentElement!==f;F=F){var xe=void 0;if(i.nodeName==="SPAN"?xe=F.parentElement.tagName.toLocaleLowerCase()===i.tagName.toLocaleLowerCase()&&F.parentElement.getAttribute("style")===O:xe=F.parentElement.tagName.toLocaleLowerCase()===i.tagName.toLocaleLowerCase(),F.parentElement&&xe&&(F.parentElement.childElementCount>1||l.startOffset>1)){if(te.parentElement&&te.parentElement.tagName.toLocaleLowerCase()===i.tagName.toLocaleLowerCase()&&l.startOffset===l.endOffset&&te.nodeType!==1&&!h(te.textContent)&&te.parentElement.childElementCount>1&&(l.setStart(te,0),l.setEnd(te,te.textContent.length),c.SplitNode(l,te.parentElement,!1)),F.parentElement.tagName.toLocaleLowerCase()==="span"&&i.style.textDecoration==="underline"&&F.parentElement.style.textDecoration!=="underline"){F=F.parentElement;continue}Ve.unwrap(F.parentElement),F=!h(F.parentElement)&&!m.isBlockNode(F.parentElement)?te:F.parentElement}else F=F.parentElement}if(H.length>0&&o&&!(d==="fontname"&&p===""||d==="fontsize"&&p==="")){for(var ne=0;ne<H.length;ne++)if(H[ne].nodeType!==3||H[ne].textContent&&H[ne].textContent.trim().length>0){H[ne]=Ve.Wrap(H[ne],this.GetFormatNode(d,p,_,O));var j=t[e].parentElement;!h(j)&&j.tagName.toLowerCase()!=="li"&&(j=M(j,"li")),!h(j)&&j.tagName.toLowerCase()==="li"&&j.textContent.trim()===t[e].textContent.trim()&&d==="fontname"&&(j.style.fontFamily=p),!h(j)&&j.tagName.toLowerCase()==="li"&&j.textContent.trim()!==t[e].textContent.trim()&&a.conCatenateTextNode(j,d,j.textContent,d,p),H[ne].textContent===b&&(ne===0?l.setStartBefore(H[ne]):ne===H.length-1&&l.setEndAfter(H[ne]))}var De=t[e].parentElement;if(!h(re)&&re!==""&&(De.style.fontSize=re),!h(me)&&me!==""&&(De.style.backgroundColor=me),d==="backgroundcolor"&&!h(re)&&re!==""&&De.parentElement.innerHTML===De.outerHTML){var $e=De.parentElement;$e.parentElement.insertBefore(De,$e),N($e)}if(d==="fontsize"||d==="fontcolor"){for(var j=t[e].parentElement,Ye=t[e].parentElement;!h(Ye)&&Ye.tagName.toLowerCase()!=="li";)Ye=Ye.parentElement,j=Ye;for(var ne=e,tt="";ne>=0&&!h(j)&&j.tagName.toLowerCase()==="li"&&j.contains(t[ne])&&j.textContent.replace("/\u200B/g","").trim().includes(t[ne].textContent.trim());)tt=" "+t[ne].textContent.trim()+tt,ne--;var st=!1,lt=0,qe=!1;if(!h(j)&&j.childNodes)for(var ns=0;ns<j.childNodes.length;ns++)j.childNodes[ns].nodeName==="OL"&&(lt++,st=!0);if(!h(j)&&j.tagName.toLowerCase()==="li"&&j.textContent.split("\u200B").join("").trim()===tt.split("\u200B").join("").trim())d==="fontsize"?j.style.fontSize=p:(j.style.color=p,j.style.textDecoration="inherit");else if(!h(j)&&j.tagName.toLowerCase()==="li"&&st){if(st&&lt>0)for(var yi=0;yi<j.childNodes.length;yi++)t[e].textContent===j.childNodes[yi].textContent&&t[e].textContent===S&&j.textContent.replace("/\u200B/g","").trim().includes(tt.split("\u200B").join("").trim())&&(qe=!0);if(qe){for(var Ws=0;Ws<j.childNodes.length;Ws++)j.childNodes[Ws].nodeName==="OL"&&(j.childNodes[Ws].style.fontSize="initial");d==="fontsize"?j.style.fontSize=p:(j.style.color=p,j.style.textDecoration="inherit")}}}}return t[e]},a.insertFormat=function(t,e,i,s,n,r,o,l,c,d,p,u,f,m,g){if(n)if(p!=="uppercase"&&p!=="lowercase"){var b=this.getInsertNode(t,c,p,u);e[i]=b.firstChild,d.position=1}else d.position=c.startOffset;else if(s===null&&o||l){if(!r&&e[i].nodeName!=="BR"&&(e[i]=d.GetSpliceNode(c,e[i]),e[i].textContent=d.TrimLineBreak(e[i].textContent)),p==="uppercase"||p==="lowercase")e[i].textContent=p==="uppercase"?e[i].textContent.toLocaleUpperCase():e[i].textContent.toLocaleLowerCase();else if(!(l===!0&&u==="")){var b=this.GetFormatNode(p,u);if(u==="formatPainter"||l){for(var S=e[i].parentElement,T=e[i].parentElement;!h(T)&&T.tagName.toLowerCase()!=="li";)T=T.parentElement,S=T;if(p==="fontcolor"||p==="fontname"||p==="fontsize"){var I=e[i].parentElement;if(!h(I)&&I.childNodes)for(var w=0;w<I.childNodes.length;w++){if(this.concatenateTextExcludingList(e,i)===e[i].textContent){var x=void 0;if(I.tagName==="LI"?x=I:I.closest("li")&&(x=I.closest("li")),!h(x))switch(p){case"fontcolor":x.style.color=u;break;case"fontname":x.style.fontFamily=u;break;case"fontsize":x.style.fontSize=u;break}}var A=I.childNodes[w];if(A.tagName==="OL"||A.tagName==="UL")switch(p){case"fontcolor":A.style.color="initial";break;case"fontname":A.style.fontFamily="initial";break;case"fontsize":A.style.fontSize="initial";break}}}if(!h(S)&&S.tagName.toLowerCase()==="li"&&S.textContent.trim()===e[i].textContent.trim()&&(p==="fontsize"?S.style.fontSize=u:p==="fontcolor"?(S.style.color=u,S.style.textDecoration="inherit"):p==="fontname"&&(S.style.fontFamily=u)),u==="formatPainter")return this.insertFormatPainterElem(e,i,c,d,f,m);var q=e[i],F=this.getPriorityFormatNode(q,g);if(!h(F)||l){var J=h(F)?q:F;if(J=!h(F)&&F.style.fontSize!==""?J.firstChild:J,h(F)||p==="fontsize")for(;J;){var ae=J.parentElement.textContent.trim()===e[i].textContent.trim(),de=J.parentElement;if(!m.isBlockNode(de)&&ae&&!(de.nodeName==="SPAN"&&de.classList.contains("e-img-inner")))J=de;else break}var re=[];if(p==="fontcolor"){var me=M(e[i].parentElement,"A");!h(me)&&me.firstChild.textContent.trim()===e[i].textContent.trim()&&(J=e[i])}e[i].textContent.trim()!==J.textContent.trim()&&(J=e[i]),re[0]=J,this.applyStyles(re,0,b),!h(S)&&S.tagName.toLowerCase()==="li"&&S.textContent.trim()!==e[i].textContent.trim()&&a.conCatenateTextNode(S,p,S.textContent,p,u)}else e[i]=this.applyStyles(e,i,b)}else{e[i]=this.applyStyles(e,i,b);var S=e[i].parentElement;!h(S)&&S.tagName.toLowerCase()!=="li"&&(S=M(S,"li")),!h(S)&&S.tagName.toLowerCase()==="li"&&S.textContent.trim()===e[i].textContent.trim()?p==="bold"?S.style.fontWeight="bold":p==="italic"&&(S.style.fontStyle="italic"):!h(S)&&S.tagName.toLowerCase()==="li"&&S.textContent.trim()!==e[i].textContent.trim()&&a.conCatenateTextNode(S,p,S.textContent,p)}}}else r||(e[i]=d.GetSpliceNode(c,e[i]));return e[i]},a.applyStyles=function(t,e,i){return t[e].nodeName==="BR"&&this.enterAction==="BR"||(t[e]=e===t.length-1||t[e].nodeName==="BR"?Ve.Wrap(t[e],i):Ve.WrapBefore(t[e],i,!0),t[e]=this.getChildNode(t[e],i)),t[e]},a.getPriorityFormatNode=function(t,e){var i=new qt,s=i.getFormattedNode(t,"fontsize",e),n,r,o;return h(s)?(r=i.getFormattedNode(t,"backgroundcolor",e),h(r)?(o=i.getFormattedNode(t,"fontname",e),h(o)?(n=i.getFormattedNode(t,"fontcolor",e),h(n)?null:n):o):r):s},a.getInsertNode=function(t,e,i,s){var n=this.GetFormatNode(i,s);if(n.innerHTML="&#8203;",E.isIE){var r=t.createDocumentFragment();r.appendChild(n),e.insertNode(r)}else e.insertNode(n);return n},a.getChildNode=function(t,e){return t==null&&(e.innerHTML="&#8203;",t=e.firstChild),t},a.applySelection=function(t,e,i,s,n){return t.length===1&&!n?(e.startContainer=e.getNodeArray(t[s],!0),e.endContainer=e.startContainer,e.startOffset=0,e.endOffset=t[s].textContent.length):t.length===1&&n?(e.startContainer=e.getNodeArray(t[s],!0),e.endContainer=e.startContainer,e.startOffset=i.position,e.endOffset=i.position):s===0?(e.startContainer=e.getNodeArray(t[s],!0),e.startOffset=0):s===t.length-1&&(e.endContainer=e.getNodeArray(t[s],!1),e.endOffset=t[s].textContent.length),e},a.GetFormatNode=function(t,e,i,s){var n;switch(t){case"bold":return document.createElement("strong");case"italic":return document.createElement("em");case"underline":return n=document.createElement("span"),this.updateStyles(n,i,s),n.style.textDecoration="underline",n;case"strikethrough":return n=document.createElement("span"),this.updateStyles(n,i,s),n.style.textDecoration="line-through",n;case"superscript":return document.createElement("sup");case"subscript":return document.createElement("sub");case"fontcolor":return n=document.createElement("span"),this.updateStyles(n,i,s),n.style.color=e,n.style.textDecoration="inherit",n;case"fontname":return n=document.createElement("span"),this.updateStyles(n,i,s),n.style.fontFamily=e,n;case"fontsize":return n=document.createElement("span"),this.updateStyles(n,i,s),n.style.fontSize=e,n;default:return n=document.createElement("span"),this.updateStyles(n,i,s),n.style.backgroundColor=e,n}},a.updateStyles=function(t,e,i){i!==null&&e==="SPAN"&&t.setAttribute("style",i)},a.insertFormatPainterElem=function(t,e,i,s,n,r){var o=r.isBlockNode(t[e].parentElement)?t[e]:t[e].parentElement;if(!r.isBlockNode(o))for(;o.textContent.trim()===o.parentElement.textContent.trim()&&!r.isBlockNode(o.parentElement);)o=o.parentElement;!h(o)&&o.nodeType===1&&!(o.classList.contains("e-rte-img-caption")||o.classList.contains("e-img-inner"))&&this.formatPainterCleanup(e,t,o,i,s,r);var l=n.element;if(!h(l)){var c=l.cloneNode(!0),d=c.querySelectorAll(n.lastChild.nodeName),p=void 0;d.length>0?p=d[d.length-1]:!h(c)&&c.nodeName===n.lastChild.nodeName&&(p=c),p.textContent=t[e].textContent;var u=p.childNodes[0];t[e]=Ve.Wrap(t[e],c),t[e].textContent="",t[e]=u}return t[e]},a.formatPainterCleanup=function(t,e,i,s,n,r){var o=["A","AUDIO","IMG","VIDEO","IFRAME"];if(t===0&&i.textContent.trim()!==e[t].textContent.trim()){n.SplitNode(s,i,!0);for(var l=e[t].parentElement.childNodes,c=0;c<l.length;c++)if(l[c].textContent.trim()===e[c].textContent.trim()){i.parentNode.insertBefore(l[c],i);break}for(var d=i.parentElement.childNodes,p=0;p<d.length;p++)(d[p].textContent.trim()===""||d[p].textContent.length===0)&&d[p].textContent.charCodeAt(0)!==160&&N(d[p])}else if(i.textContent.trim()!==e[t].textContent.trim())i.parentElement.insertBefore(e[t],i);else for(;!h(i)&&i.nodeType!==3&&!r.isBlockNode(i);){for(var u=void 0,c=0;c<i.childNodes.length;c++){var f=i.childNodes[c];f.textContent.trim().length!==0&&f.nodeType!==3&&(u=i.childNodes[c])}o.indexOf(i.tagName)===-1&&Ve.unwrap(i),i=u}},a.concatenateTextExcludingList=function(t,e){var i="",s=t[e].nodeName==="#text"?M(t[e].parentElement,"li"):M(t[e],"li");if(!h(s))for(var n=0;n<s.childNodes.length;n++){var r=s.childNodes[n];(r.nodeType===3||r.nodeType===1&&r.tagName!=="OL"&&r.tagName!=="UL")&&(i+=r.textContent)}return i},a.conCatenateTextNode=function(t,e,i,s,n){var r="",o="",l="",c="";switch(e){case"bold":t.querySelectorAll("strong").forEach(function(d){r=r+d.textContent}),r===i&&(t.style.fontWeight=s);break;case"italic":t.querySelectorAll("em").forEach(function(d){r=r+d.textContent}),r===i&&(t.style.fontStyle=s);break;case"fontcolor":t.querySelectorAll("span").forEach(function(d){o=d.style.color,o===n&&(r=r+d.textContent)}),r===i&&(t.style.color=o,t.style.textDecoration="inherit");break;case"fontsize":t.querySelectorAll("span").forEach(function(d){l=d.style.getPropertyValue("font-size"),l===n&&(r=r+d.textContent)}),r===i&&(t.style.fontSize=l);break;case"fontname":t.querySelectorAll("span").forEach(function(d){c=d.style.getPropertyValue("font-family"),c=c.replace(/ /g,""),c===n&&(r=r+d.textContent)}),r===i&&(t.style.fontFamily=c);break}},a.enterAction="P",a}(),DS=function(){function a(t){this.parent=t,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.observer.on(Dd,this.applySelection,this),this.parent.observer.on(at,this.keyDownHandler,this),this.parent.observer.on(Ie,this.destroy,this)},a.prototype.removeEventListener=function(){this.parent.observer.off(Dd,this.applySelection),this.parent.observer.off(at,this.keyDownHandler),this.parent.observer.off(Ie,this.destroy)},a.prototype.keyDownHandler=function(t){var e=["bold","italic","underline","strikethrough","superscript","subscript","uppercase","lowercase"];(t.event.ctrlKey||t.event.metaKey)&&e.indexOf(t.event.action)>-1&&(t.event.preventDefault(),qd.applyFormat(this.parent.currentDocument,t.event.action,this.parent.editableElement,t.enterAction,this.parent.tableCellSelection),this.callBack(t,t.event.action))},a.prototype.applySelection=function(t){qd.applyFormat(this.parent.currentDocument,t.subCommand.toLocaleLowerCase(),this.parent.editableElement,t.enterAction,this.parent.tableCellSelection,t.value,t.selector),this.callBack(t,t.subCommand)},a.prototype.callBack=function(t,e){t.callBack&&t.callBack({requestType:e,event:t.event,editorMode:"HTML",range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},a.prototype.destroy=function(){this.removeEventListener()},a}(),LS=function(){function a(t){this.parent=t,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.observer.on(Ld,this.applyHtml,this),this.parent.observer.on(Ie,this.destroy,this)},a.prototype.removeEventListener=function(){this.parent.observer.off(Ld,this.applyHtml),this.parent.observer.off(Ie,this.destroy)},a.prototype.applyHtml=function(t){if(Bt.Insert(this.parent.currentDocument,t.value,this.parent.editableElement,!0,t.enterAction),t.subCommand==="pasteCleanup"){var e=this.parent.editableElement.querySelectorAll(".pasteContent_RTE"),i=[].slice.call(e),s=this.parent.editableElement.querySelectorAll(".pasteContent_Img"),n=[].slice.call(s);t.callBack({requestType:t.subCommand,editorMode:"HTML",elements:i,imgElem:n})}else t.callBack&&t.callBack({requestType:t.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},a.prototype.destroy=function(){this.removeEventListener()},a}(),wS=function(){function a(){}return a.clear=function(t,e,i,s,n){this.domNode=new Ho(e,t),this.defaultTag=i==="P"?this.defaultTag:"div";var r=new Lt,o=new Vs,l=r.getRange(t),c=l.collapsed?r.getSelectionNodeCollection(l):r.getSelectionNodeCollectionBr(l),d=r.save(l,t),p=!1;l.collapsed&&n!=="ClearFormat"&&(p=!0,l=o.GetCursorRange(t,l,c[0]));var u=l.collapsed;if(!u){var f=void 0;if(c.length>0&&c[0].nodeName==="BR"&&M(c[0],"table")?f=o.GetSpliceNode(l,M(c[0],"table")):f=o.GetSpliceNode(l,c[c.length>1&&c[0].nodeName==="IMG"?1:0]),c.length===1)r.setSelectionContents(t,f),l=r.getRange(t);else if(c.length>1){for(var m=1,g=c[c.length-m];c.length<=m&&c[c.length-m].nodeName==="BR";)m++,g=c[c.length-m];var b=o.GetSpliceNode(l,g);r.setSelectionText(t,f,b,0,b.nodeType===3?b.textContent.length:b.childNodes.length),l=r.getRange(t)}var S=r.getNodeCollection(l),T=S.slice();this.clearInlines(r.getSelectionNodes(T),T,r.getRange(t),o,e),this.reSelection(t,d,S),l=r.getRange(t),S=r.getNodeCollection(l);var I=S.slice();this.clearBlocks(t,I,e,o,r),vt()&&Ts(e,s),this.reSelection(t,d,S)}p&&r.setCursorPoint(t,l.endContainer,l.endOffset)},a.reSelection=function(t,e,i){var s=e.getInsertNodes(i);e.startContainer=e.getNodeArray(s[0],!0,t),e.startOffset=0,e.endContainer=e.getNodeArray(s[s.length-1],!1,t);var n=s[s.length-1];e.endOffset=n.nodeType===3?n.textContent.length:n.childNodes.length,e.restore()},a.clearBlocks=function(t,e,i,s,n){for(var r=[],o=0;o<e.length;o++)this.BLOCK_TAGS.indexOf(e[o].nodeName.toLocaleLowerCase())>-1&&r.indexOf(e[o])===-1?r.push(e[o]):this.BLOCK_TAGS.indexOf(e[o].parentNode.nodeName.toLocaleLowerCase())>-1&&r.indexOf(e[o].parentNode)===-1&&i!==e[o].parentNode&&r.push(e[o].parentNode);r=this.spliceParent(r,e)[0],r=this.removeParent(r),this.unWrap(t,r,s,n)},a.spliceParent=function(t,e){for(var i=0;i<t.length;i++)for(var s=t[i].childNodes.length,n=0;n<s;n++)if(e.indexOf(t[i].childNodes[n])>0&&t[i].childNodes[n].childNodes.length>0&&(e=this.spliceParent([t[i].childNodes[n]],e)[1]),e.indexOf(t[i].childNodes[n])<=-1&&t[i].childNodes[n].textContent.trim()!==""){for(var r=0;r<s;r++)e.indexOf(t[i].childNodes[r])>-1&&e.splice(e.indexOf(t[i].childNodes[r]),1);n=t[i].childNodes.length;var o=t.indexOf(t[i].parentNode),l=e.indexOf(t[i].parentNode);o>-1&&t.splice(o,1),l>-1&&e.splice(l,1);var c=e.indexOf(t[i]);c>-1&&e.splice(c,1),t.splice(i,1),i--}return[t,e]},a.removeChild=function(t,e){var i=e.childNodes.length;if(i>0)for(var s=0;s<i;s++)t.indexOf(e.childNodes[s])>-1&&(t=this.removeChild(t,e.childNodes[s]),t.splice(t.indexOf(e.childNodes[s]),1));return t},a.removeParent=function(t){for(var e=0;e<t.length;e++)t.indexOf(t[e].parentNode)>-1&&(t=this.removeChild(t,t[e]),t.splice(e,1),e--);return t},a.unWrap=function(t,e,i,s){for(var n=0;n<e.length;n++)if(this.NONVALID_TAGS.indexOf(e[n].nodeName.toLowerCase())>-1&&e[n].parentNode&&this.NONVALID_PARENT_TAGS.indexOf(e[n].parentNode.nodeName.toLowerCase())>-1&&(s.setSelectionText(t,e[n],e[n],0,e[n].childNodes.length),Ve.unwrap(i.GetSpliceNode(s.getRange(t),e[n].parentNode))),e[n].nodeName.toLocaleLowerCase()!=="p"){this.NONVALID_PARENT_TAGS.indexOf(e[n].nodeName.toLowerCase())<0&&e[n].parentNode.nodeName.toLocaleLowerCase()!=="p"&&!((e[n].nodeName.toLocaleLowerCase()==="blockquote"||e[n].nodeName.toLocaleLowerCase()==="li")&&this.IGNORE_PARENT_TAGS.indexOf(e[n].childNodes[0].nodeName.toLocaleLowerCase())>-1)&&!(e[n].childNodes.length===1&&e[n].childNodes[0].nodeName.toLocaleLowerCase()==="p")&&Ve.Wrap(e[n],t.createElement(this.defaultTag));var r=Ve.unwrap(e[n]);r.length===1&&r[0].parentNode.nodeName.toLocaleLowerCase()==="p"&&(Ve.Wrap(e[n],t.createElement(this.defaultTag)),Ve.unwrap(e[n]));for(var o=0;o<r.length;o++)if(this.NONVALID_TAGS.indexOf(r[o].nodeName.toLowerCase())>-1)this.unWrap(t,[r[o]],i,s);else if(this.BLOCK_TAGS.indexOf(r[o].nodeName.toLocaleLowerCase())>-1&&r[o].nodeName.toLocaleLowerCase()!=="p"){var l=this.removeParent([r[o]]);this.unWrap(t,l,i,s)}else this.BLOCK_TAGS.indexOf(r[o].nodeName.toLocaleLowerCase())>-1&&r[o].parentNode.nodeName.toLocaleLowerCase()===r[o].nodeName.toLocaleLowerCase()?Ve.unwrap(r[o]):this.BLOCK_TAGS.indexOf(r[o].nodeName.toLocaleLowerCase())>-1&&r[o].nodeName.toLocaleLowerCase()==="p"&&(Ve.Wrap(r[o],t.createElement(this.defaultTag)),Ve.unwrap(r[o]))}else Ve.Wrap(e[n],t.createElement(this.defaultTag)),Ve.unwrap(e[n])},a.clearInlines=function(t,e,i,s,n){for(var r=0;r<t.length;r++){for(var o=t[r],l=void 0;!this.domNode.isBlockNode(o)&&o.parentElement&&!o.parentElement.classList.contains("e-img-inner");)l=o,o=o.parentElement;l&&qt.inlineTags.indexOf(l.nodeName.toLocaleLowerCase())>-1&&(s.GetSpliceNode(i,l),this.removeInlineParent(l))}},a.removeInlineParent=function(t){for(var e=Ve.unwrap(t),i=0;i<e.length;i++)e[i].parentNode.childNodes.length===1&&!e[i].parentNode.classList.contains("e-img-inner")&&qt.inlineTags.indexOf(e[i].parentNode.nodeName.toLocaleLowerCase())>-1?this.removeInlineParent(e[i].parentNode):qt.inlineTags.indexOf(e[i].nodeName.toLocaleLowerCase())>-1&&this.removeInlineParent(e[i])},a.BLOCK_TAGS=["address","article","aside","blockquote","details","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","li","main","nav","noscript","ol","p","pre","section","ul"],a.NONVALID_PARENT_TAGS=["thead","tbody","ul","ol","table","tfoot","tr"],a.IGNORE_PARENT_TAGS=["ul","ol","table"],a.NONVALID_TAGS=["thead","tbody","figcaption","td","tr","th","tfoot","figcaption","li"],a.defaultTag="p",a}(),OS=function(){function a(t){this.parent=t,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.observer.on(Od,this.applyClear,this),this.parent.observer.on(at,this.onKeyDown,this),this.parent.observer.on(Ie,this.destroy,this)},a.prototype.removeEventListener=function(){this.parent.observer.off(Od,this.applyClear),this.parent.observer.off(at,this.onKeyDown),this.parent.observer.off(Ie,this.destroy)},a.prototype.onKeyDown=function(t){switch(t.event.action){case"clear-format":this.applyClear({subCommand:"ClearFormat",callBack:t.callBack,enterAction:t.enterAction}),t.event.preventDefault();break}},a.prototype.applyClear=function(t){t.subCommand==="ClearFormat"&&(wS.clear(this.parent.currentDocument,this.parent.editableElement,t.enterAction,t.selector,t.subCommand),t.callBack&&t.callBack({requestType:t.subCommand,event:t.event,editorMode:"HTML",range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)}))},a.prototype.destroy=function(){this.removeEventListener()},a}(),xS=function(){function a(t,e){this.undoRedoStack=[],this.parent=t,this.undoRedoSteps=h(e)?30:e.undoRedoSteps,this.undoRedoTimer=h(e)?300:e.undoRedoTimer,this.addEventListener()}return a.prototype.addEventListener=function(){this.debounceListener=na(this.keyUp,this.undoRedoTimer),this.parent.observer.on(Us,this.debounceListener,this),this.parent.observer.on(at,this.keyDown,this),this.parent.observer.on(kd,this.onAction,this),this.parent.observer.on(Vr,this.onPropertyChanged,this),this.parent.observer.on(Ie,this.destroy,this)},a.prototype.onPropertyChanged=function(t){for(var e=0,i=Object.keys(t.newProp);e<i.length;e++){var s=i[e];switch(s){case"undoRedoSteps":this.undoRedoSteps=t.newProp.undoRedoSteps;break;case"undoRedoTimer":this.undoRedoTimer=t.newProp.undoRedoTimer;break}}},a.prototype.removeEventListener=function(){this.parent.observer.off(Us,this.keyUp),this.parent.observer.off(at,this.keyDown),this.parent.observer.off(kd,this.onAction),this.parent.observer.off(Vr,this.onPropertyChanged),this.parent.observer.off(Ie,this.destroy),this.debounceListener=null},a.prototype.onAction=function(t){t.subCommand==="Undo"?this.undo(t):this.redo(t)},a.prototype.destroy=function(){this.removeEventListener(),this.element=null,this.steps=null,this.undoRedoStack=[],this.undoRedoSteps=null,this.undoRedoTimer=null},a.prototype.keyDown=function(t){var e=t.event,i=this;switch(e.action){case"undo":e.preventDefault(),i.undo(t);break;case"redo":e.preventDefault(),i.redo(t);break}},a.prototype.keyUp=function(t){t.event.keyCode!==17&&!t.event.ctrlKey&&this.saveData(t)},a.prototype.getTextContentFromFragment=function(t){for(var e="",i=0;i<t.childNodes.length;i++){var s=t.childNodes[i];s.nodeType===Node.TEXT_NODE?e+=s.textContent:s.nodeType===Node.ELEMENT_NODE&&(e+=this.getTextContentFromFragment(s))}return e},a.prototype.isElementStructureEqual=function(t,e){if(t.childNodes.length!==e.childNodes.length)return!1;for(var i=0;i<t.childNodes.length;i++){var s=t.childNodes[i],n=e.childNodes[i];if(!s||!n||s.nodeType!==n.nodeType||s.outerHTML!==n.outerHTML)return!1}return!0},a.prototype.saveData=function(t){if(this.parent.currentDocument){for(var e=new Lt().getRange(this.parent.currentDocument),i=this.parent.editableElement===e.startContainer.parentElement?e.startContainer.parentElement:e.startContainer,s=i.childNodes.length-1;s>=0;s--)!h(i.childNodes[s])&&i.childNodes[s].nodeName==="#text"&&i.childNodes[s].textContent.length===0&&i.childNodes[s].nodeName!=="IMG"&&i.childNodes[s].nodeName!=="BR"&&i.childNodes[s].nodeName&&N(i.childNodes[s]);e=new Lt().getRange(this.parent.currentDocument);for(var n=new Lt().save(e,this.parent.currentDocument),r=this.parent.editableElement.cloneNode(!0),o=document.createDocumentFragment();r.firstChild;)o.appendChild(r.firstChild);var l={text:o,range:n};this.undoRedoStack.length>=this.steps&&(this.undoRedoStack=this.undoRedoStack.slice(0,this.steps+1)),!(this.undoRedoStack.length>1&&this.undoRedoStack[this.undoRedoStack.length-1].range.range.collapsed===e.collapsed&&this.undoRedoStack[this.undoRedoStack.length-1].range.startOffset===n.range.startOffset&&this.undoRedoStack[this.undoRedoStack.length-1].range.endOffset===n.range.endOffset&&this.undoRedoStack[this.undoRedoStack.length-1].range.range.startContainer===n.range.startContainer&&this.getTextContentFromFragment(this.undoRedoStack[this.undoRedoStack.length-1].text).trim()===this.getTextContentFromFragment(l.text).trim()&&this.isElementStructureEqual(this.undoRedoStack[this.undoRedoStack.length-1].text,l.text))&&(this.undoRedoStack.push(l),this.steps=this.undoRedoStack.length-1,this.steps>this.undoRedoSteps&&(this.undoRedoStack.shift(),this.steps--),t&&t.callBack&&t.callBack())}},a.prototype.undo=function(t){if(this.steps>0){var e=this.undoRedoStack[this.steps-1].range,i=this.undoRedoStack[this.steps-1].text;this.parent.editableElement.innerHTML="",this.parent.editableElement.appendChild(i.cloneNode(!0)),this.parent.editableElement.focus(),Po(this.parent.currentDocument,this.parent.editableElement),vt()&&Ts(this.parent.editableElement,t.selector),e.restore(),this.steps--,t.callBack&&t.callBack({requestType:"Undo",editorMode:"HTML",range:e,elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument),event:t.event})}},a.prototype.redo=function(t){if(this.undoRedoStack[this.steps+1]!=null){var e=this.undoRedoStack[this.steps+1].range,i=this.undoRedoStack[this.steps+1].text;this.parent.editableElement.innerHTML="",this.parent.editableElement.appendChild(i.cloneNode(!0)),this.parent.editableElement.focus(),Po(this.parent.currentDocument,this.parent.editableElement),vt()&&Ts(this.parent.editableElement,t.selector),e.restore(),this.steps++,t.callBack&&t.callBack({requestType:"Redo",editorMode:"HTML",range:e,elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument),event:t.event})}},a.prototype.getUndoStatus=function(){var t={undo:!1,redo:!1};return this.steps>0&&(t.undo=!0),this.undoRedoStack[this.steps+1]!=null&&(t.redo=!0),t},a}(),kS=function(){function a(t){this.olData=["decimal","lower-alpha","lower-roman","upper-alpha","upper-roman","lower-greek"],this.ulData=["disc","square","circle","disc","square","circle"],this.ignorableNodes=["A","APPLET","B","BLOCKQUOTE","BR","BUTTON","CENTER","CODE","COL","COLGROUP","DD","DEL","DFN","DIR","DIV","DL","DT","EM","FIELDSET","FONT","FORM","FRAME","FRAMESET","H1","H2","H3","H4","H5","H6","HR","I","IMG","IFRAME","INPUT","INS","LABEL","LI","OL","OPTION","P","PARAM","PRE","Q","S","SELECT","SPAN","STRIKE","STRONG","SUB","SUP","TABLE","TBODY","TD","TEXTAREA","TFOOT","TH","THEAD","TITLE","TR","TT","U","UL"],this.blockNode=["div","p","h1","h2","h3","h4","h5","h6","address","blockquote","button","center","dd","dir","dl","dt","fieldset","frameset","hr","iframe","isindex","li","map","menu","noframes","noscript","object","ol","pre","table","tbody","td","tfoot","th","thead","tr","ul","header","article","nav","footer","section","aside","main","figure","figcaption"],this.borderStyle=["border-top","border-right","border-bottom","border-left"],this.upperRomanNumber=["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII","XIII","XIV","XV","XVI","XVII","XVIII","XIX","XX"],this.lowerRomanNumber=["i","ii","iii","iv","v","vi","vii","viii","ix","x","xi","xii","xiii","xiv","xv","xvi","xvii","xviii","xix","xx"],this.lowerGreekNumber=["\u03B1","\u03B2","\u03B3","\u03B4","\u03B5","\u03B6","\u03B7","\u03B8","\u03B9","\u03BA","\u03BB","\u03BC","\u03BD","\u03BE","\u03BF","\u03C0","\u03C1","\u03C3","\u03C4","\u03C5","\u03C6","\u03C7","\u03C8","\u03C9"],this.removableElements=["o:p","style","w:sdt"],this.listContents=[],this.cropImageDimensions=[],this.parent=t,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.observer.on(Rd,this.wordCleanup,this),this.parent.observer.on(Ie,this.destroy,this)},a.prototype.removeEventListener=function(){this.parent.observer.off(Rd,this.wordCleanup),this.parent.observer.off(Ie,this.destroy)},a.prototype.wordCleanup=function(t){var e=h(t.allowedStylePropertiesArray)?[]:t.allowedStylePropertiesArray,i=[],s=t.args.clipboardData.getData("text/HTML"),n=t.args.clipboardData.getData("text/rtf"),r=P("p");r.setAttribute("id","MSWord-Content"),r.innerHTML=s,this.addDoubleBr(r);var o=/class='?Mso|style='[^ ]*\bmso-/i,l=/class="?Mso|style="[^ ]*\bmso-/i,c=/(class="?Mso|class='?Mso|class="?Xl|class='?Xl|class=Xl|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument)/gi,d=/style='mso-width-source:/i,p=this.findSource(r);o.test(s)||l.test(s)||c.test(s)||d.test(s)?(s=s.replace(/<img[^>]+>/i,""),this.addListClass(r),i=this.cleanUp(r,i),!h(i[0])&&i[0].parentElement.tagName!=="UL"&&i[0].parentElement.tagName!=="OL"&&this.listConverter(i),this.imageConversion(r,n),this.cleanList(r,"UL"),this.cleanList(r,"OL"),this.styleCorrection(r,e),this.removingComments(r),this.removeUnwantedElements(r),this.removeEmptyElements(r),this.removeEmptyAnchorTag(r),this.breakLineAddition(r),this.processMargin(r),this.removeClassName(r),d.test(s)&&this.addTableBorderClass(r),t.callBack(r.innerHTML,this.cropImageDimensions,p)):t.callBack(r.innerHTML,null,p)},a.prototype.addDoubleBr=function(t){var e=t.querySelector(".Apple-interchange-newline");if(!h(e)&&E.userAgent.indexOf("Chrome")!==-1&&e.parentElement.nodeName==="P"&&t!==e.parentElement)for(var i=0;i<t.childNodes.length;i++){var s=t.childNodes[i];if(s.nodeType===Node.COMMENT_NODE&&s.nodeValue.includes("StartFragment")){var n=document.createElement("p");n.innerHTML="<br>";var r=e.parentElement.style.cssText,o=n.getAttribute("style")||"",l=o+r;n.setAttribute("style",l),t.insertBefore(n,s.nextSibling),N(e);break}}},a.prototype.cleanList=function(t,e){for(var i=t.querySelectorAll(e+" div"),s=i.length-1;s>=0;s--){for(var n=i[s].parentNode;i[s].firstChild;)n.insertBefore(i[s].firstChild,i[s]);var r=this.findClosestListElem(i[s]);r&&this.insertAfter(i[s],r)}},a.prototype.insertAfter=function(t,e){e.parentNode.insertBefore(t,e.nextSibling)},a.prototype.findClosestListElem=function(t){for(var e;!h(t);)t=!h(t.closest("ul"))&&t.tagName!=="UL"?t.closest("ul"):t.tagName!=="OL"?t.closest("ol"):null,e=h(t)?e:t;return e},a.prototype.addListClass=function(t){for(var e=t.querySelectorAll("*"),i=0;i<e.length;i++)!h(e[i].getAttribute("style"))&&e[i].getAttribute("style").replace(/ /g,"").replace(`
`,"").indexOf("mso-list:l")>=0&&e[i].className.toLowerCase().indexOf("msolistparagraph")===-1&&e[i].tagName.charAt(0)!=="H"&&e[i].tagName!=="LI"&&e[i].tagName!=="OL"&&e[i].tagName!=="UL"&&e[i].classList.add("msolistparagraph")},a.prototype.addTableBorderClass=function(t){for(var e=t.querySelectorAll("table"),i=!1,s=0;s<e.length;s++){for(var n=0;n<this.borderStyle.length;n++)if(e[s].innerHTML.indexOf(this.borderStyle[n])>=0){i=!0;break}i&&(e[s].classList.add("e-rte-table-border"),i=!1)}},a.prototype.imageConversion=function(t,e){this.checkVShape(t);for(var i=t.querySelectorAll("img"),s=0;s<i.length;s++)!h(i[s].getAttribute("v:shapes"))&&i[s].getAttribute("v:shapes").indexOf("Picture")<0&&i[s].getAttribute("v:shapes").indexOf("\u5716\u7247")<0&&i[s].getAttribute("v:shapes").indexOf("Grafik")<0&&i[s].getAttribute("v:shapes").toLowerCase().indexOf("image")<0&&i[s].getAttribute("v:shapes").indexOf("Graphic")<0&&i[s].getAttribute("v:shapes").indexOf("_x0000_s")<0&&i[s].getAttribute("v:shapes").indexOf("_x0000_i")<0&&i[s].classList.add("e-rte-image-unsupported"),i[s].removeAttribute("v:shapes");i=t.querySelectorAll("img");var n=[],r=[],o=[],l=new RegExp(/([^\S]|^)(((https?\:\/\/)|(www\.))(\S+))/gi);if(i.length>0){for(var s=0;s<i.length;s++)n.push(i[s].getAttribute("src")),o.push(i[s].getAttribute("src").split("/")[i[s].getAttribute("src").split("/").length-1].split(".")[0]);for(var c=this.hexConversion(e),s=0;s<c.length;s++)r.push({base64Data:h(c[s].hex)?null:this.convertToBase64(c[s]),isCroppedImage:c[s].isCroppedImage}),c[s].isCroppedImage&&this.cropImageDimensions.push({goalWidth:c[s].goalWidth,goalHeight:c[s].goalHeight,cropLength:c[s].cropLength,cropTop:c[s].cropTop,cropR:c[s].cropR,cropB:c[s].cropB});i=t.querySelectorAll("img:not(.e-rte-image-unsupported");for(var s=0;s<i.length;s++)n[s].match(l)?i[s].setAttribute("src",n[s]):(!h(r[s])&&!h(r[s].base64Data)?i[s].setAttribute("src",r[s].base64Data):(i[s].removeAttribute("src"),i[s].classList.add("e-rte-image-unsupported")),!h(r[s])&&r[s].isCroppedImage&&i[s].classList.add("e-img-cropped")),i[s].setAttribute("id","msWordImg-"+o[s]);i=t.querySelectorAll(".e-rte-image-unsupported");for(var s=0;s<i.length;s++)i[s].removeAttribute("src")}},a.prototype.checkVShape=function(t){for(var e=t.querySelectorAll("*"),i=0;i<e.length;i++)switch(e[i].nodeName){case"V:SHAPETYPE":N(e[i]);break;case"V:SHAPE":if(e[i].firstElementChild.nodeName==="V:IMAGEDATA"){var s=e[i].firstElementChild.getAttribute("src"),n=P("img");n.setAttribute("src",s),e[i].parentElement.insertBefore(n,e[i]),N(e[i])}break}},a.prototype.convertToBase64=function(t){var e=this.conHexStringToBytes(t.hex),i=this.conBytesToBase64(e),s=t.type?"data:"+t.type+";base64,"+i:null;return s},a.prototype.conBytesToBase64=function(t){for(var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=t.length,n=0;n<s;n+=3){var r=t.slice(n,n+3),o=r.length,l=[];if(o<3)for(var c=o;c<3;c++)r[c]=0;l[0]=(r[0]&252)>>2,l[1]=(r[0]&3)<<4|r[1]>>4,l[2]=(r[1]&15)<<2|(r[2]&192)>>6,l[3]=r[2]&63;for(var c=0;c<4;c++)c<=o?e+=i.charAt(l[c]):e+="="}return e},a.prototype.conHexStringToBytes=function(t){for(var e=[],i=t.length/2,s=0;s<i;s++)e.push(parseInt(t.substr(s*2,2),16));return e},a.prototype.hexConversion=function(t){var e=RegExp,i=new e("\\{\\\\pict[\\s\\S]+?\\\\bliptag-?\\d+(\\\\blipupi-?\\d+)?(\\{\\\\\\*\\\\blipuid\\s?[\\da-fA-F]+)?[\\s\\}]*?"),s=new e("(?:("+i.source+"))([\\da-fA-F\\s]+)\\}","g"),n=t.match(s),r,o=[];if(!h(n)){for(var l=0;l<n.length;l++)if(!(n[l].indexOf("fIsBullet")!==-1&&n[l].indexOf("wzName")===-1)){var c=!1,d=0,p=0,u=0,f=0,m=0,g=0;if(i.test(n[l])){if(n[l].indexOf("\\pngblip")!==-1)r="image/png";else if(n[l].indexOf("\\jpegblip")!==-1)r="image/jpeg";else if(n[l].indexOf("\\emfblip")!==-1)r=null;else continue;c=!!(this.extractCropValue("cropl",n[l])>0&&this.extractCropValue("cropt",n[l])>0||this.extractCropValue("cropr",n[l])>0||this.extractCropValue("cropb",n[l])),c&&(d=this.extractCropValue("wgoal",n[l]),p=this.extractCropValue("hgoal",n[l]),u=this.extractCropValue("cropl",n[l]),f=this.extractCropValue("cropt",n[l]),m=this.extractCropValue("cropr",n[l]),g=this.extractCropValue("cropb",n[l])),o.push({hex:r?n[l].replace(i,"").replace(/[^\da-fA-F]/g,""):null,type:r,isCroppedImage:c,goalWidth:d,goalHeight:p,cropLength:u,cropTop:f,cropR:m,cropB:g})}}}return o},a.prototype.extractCropValue=function(t,e){var i=RegExp,s=new i("\\\\pic"+t+"(\\-?\\d+)\\\\").exec(e.replace(/\r\n\\/g,"\\").replace(/\n/g,"\\"))[1];return parseInt(s,10)},a.prototype.removeClassName=function(t){for(var e=t.querySelectorAll("*[class]:not(.e-img-cropped):not(.e-rte-image-unsupported)"),i=0;i<e.length;i++)e[i].removeAttribute("class")},a.prototype.breakLineAddition=function(t){for(var e=t.querySelectorAll("*"),i=0;i<e.length;i++)if(e[i].children.length===0&&e[i].innerHTML==="&nbsp;"&&e[i].innerHTML==="&nbsp;"&&!e[i].closest("li")&&!e[i].closest("td")&&(e[i].nodeName!=="SPAN"||e[i].nodeName==="SPAN"&&h(e[i].previousElementSibling)&&h(e[i].nextElementSibling))){var s=this.findDetachElem(e[i]),n=P("br"),r=s.textContent.length>0&&s.textContent.match(/\u00a0/g)&&s.textContent.match(/\u00a0/g).length>0;!r&&!h(s.parentElement)&&(s.parentElement.insertBefore(n,s),N(s))}},a.prototype.findDetachElem=function(t){var e;return!h(t.parentElement)&&t.parentElement.textContent.trim()===""&&t.parentElement.tagName!=="TD"&&h(t.parentElement.querySelector("img"))?e=this.findDetachElem(t.parentElement):e=t,e},a.prototype.removeUnwantedElements=function(t){var e=t.querySelector("style");h(e)||N(e);for(var i=t.innerHTML,s=0;s<this.removableElements.length;s++){var n=RegExp,r=new n("<"+this.removableElements[s]+"\\s*[^>]*>","g"),o=new n("</"+this.removableElements[s]+">","g");i=i.replace(r,""),i=i.replace(o,"")}t.innerHTML=i,t.querySelectorAll(":empty")},a.prototype.findDetachEmptyElem=function(t){var e;if(h(t.parentElement))e=null;else{var i=t.parentElement.textContent.length>0&&t.parentElement.textContent.match(/\u00a0/g)&&t.parentElement.textContent.match(/\u00a0/g).length>0;!i&&t.parentElement.textContent.trim()===""&&t.parentElement.getAttribute("id")!=="MSWord-Content"&&!this.hasParentWithClass(t,"MsoListParagraph")&&h(t.parentElement.querySelector("img"))?e=this.findDetachEmptyElem(t.parentElement):e=t}return e},a.prototype.hasParentWithClass=function(t,e){for(var i=t.parentElement;!h(i);){if(i.classList.contains(e))return!0;i=i.parentElement}return!1},a.prototype.removeEmptyElements=function(t){for(var e=t.querySelectorAll(":empty"),i=0;i<e.length;i++){!h(e[i].closest("td"))&&!h(e[i].closest("td").querySelector(".MsoNormal"))&&(e[i].innerHTML="-");var s=!0;if(e[i].tagName==="DIV"&&(s=e[i].style.borderBottom==="none"||e[i].style.borderBottom===""),e[i].tagName!=="IMG"&&e[i].tagName!=="BR"&&e[i].tagName!=="IFRAME"&&e[i].tagName!=="TD"&&e[i].tagName!=="HR"&&s){var n=this.findDetachEmptyElem(e[i]);h(n)||N(n)}}},a.prototype.styleCorrection=function(t,e){var i=t.querySelectorAll("style"),s=[];if(i.length>0){h(i[0].innerHTML.match(/[\S ]+\s+{[\s\S]+?}/gi))?i.length>1&&(s=i[1].innerHTML.match(/[\S ]+\s+{[\s\S]+?}/gi)):s=i[0].innerHTML.match(/[\S ]+\s+{[\s\S]+?}/gi);var n=h(s)?null:this.findStyleObject(s);if(!h(n)){var r=Object.keys(n),o=r.map(function(x){return n[""+x]});o=this.removeUnwantedStyle(o,e),this.filterStyles(t,e);for(var l=void 0,c=!1,d=/^(p|div|li)\.(1|10|11)$/,p=0;p<r.length;p++){if(r[p].split(".")[0]==="")l=t.getElementsByClassName(r[p].split(".")[1]),c=!0;else{if(r[p].split(".").length===1&&r[p].split(".")[0].indexOf("@")>=0||d.test(r[p]))continue;r[p].split(".").length===1&&r[p].split(".")[0].indexOf("@")<0?l=t.getElementsByTagName(r[p]):l=t.querySelectorAll(r[p])}for(var u=0;u<l.length;u++)if(!(l[u].closest("li")&&r[p]==="p")){var f=l[u].getAttribute("style");if(!h(f)&&f.trim()!==""){var m=o[p].split(";");if(!c)for(var g=0;g<m.length;g++)f.indexOf(m[g].split(":")[0])>=0&&(m.splice(g,1),g--);var b=f+m.join(";")+";";l[u].setAttribute("style",b)}else o[p]=o[p].replace(/text-indent:-(.*?)(?=;|$)/gm,""),l[u].setAttribute("style",o[p])}c=!1}for(var S=["MsoListParagraphCxSpFirst","MsoListParagraphCxSpMiddle","MsoListParagraphCxSpLast"],p=0;p<S.length;p++)if(r.indexOf("li."+S[p])>-1)for(var T=t.querySelectorAll("ol."+S[p]+", ul."+S[p]),u=0;u<T.length;u++){var f=T[u].getAttribute("style");if(!h(f)&&f.trim()!==""&&T[u].style.marginLeft!==""){for(var m=o[r.indexOf("li."+S[p])].split(";"),g=0;g<m.length;g++)if("margin-left".indexOf(m[g].split(":")[0])>=0&&!h(m[g].split(":")[1])&&m[g].split(":")[1].indexOf("in")>=0&&T[u].style.marginLeft.indexOf("in")>=0){var I=parseFloat(m[g].split(":")[1].split("in")[0]),w=parseFloat(T[u].style.marginLeft.split("in")[0]);T[u].style.marginLeft=w-I+"in"}}}}}},a.prototype.filterStyles=function(t,e){for(var i=t.querySelectorAll("*[style]"),s=0;s<i.length;s++){for(var n=i[s].getAttribute("style").split(";"),r="",o=0;o<n.length;o++)e.indexOf(n[o].split(":")[0].trim())>=0&&(r+=n[o]+";");i[s].setAttribute("style",r)}},a.prototype.removeUnwantedStyle=function(t,e){for(var i=0;i<t.length;i++){var s=t[i].split(";");t[i]="";for(var n=0;n<s.length;n++)e.indexOf(s[n].split(":")[0])>=0&&(t[i]+=s[n]+";")}return t},a.prototype.findStyleObject=function(t){for(var e={},i=0;i<t.length;i++){var s=t[i],n=s.replace(/([\S ]+\s+){[\s\S]+?}/gi,"$1"),r=s.replace(/[\S ]+\s+{([\s\S]+?)}/gi,"$1");n=n.replace(/^[\s]|[\s]$/gm,""),r=r.replace(/^[\s]|[\s]$/gm,""),n=n.replace(/\n|\r|\n\r/g,""),r=r.replace(/\n|\r|\n\r/g,"");for(var o=n.split(", "),l=0;l<o.length;l++)e[o[l]]=r}return e},a.prototype.removingComments=function(t){var e=t.innerHTML;e=e.replace(/<!--[\s\S]*?-->/g,""),t.innerHTML=e},a.prototype.cleanUp=function(t,e){for(var i=[],s,n=t.querySelectorAll("*"),r=0;r<n.length;r++){if(this.ignorableNodes.indexOf(n[r].nodeName)===-1||n[r].nodeType===3&&n[r].textContent.trim()===""){i.push(n[r]);continue}else n[r].className&&n[r].className.toLowerCase().indexOf("msolistparagraph")!==-1&&!h(n[r].getAttribute("style"))&&n[r].getAttribute("style").indexOf("mso-list:")>=0&&(n[r].className.indexOf("MsoListParagraphCxSpFirst")>=0&&e.length>0&&e[e.length-1]!==null&&e.push(null),e.push(n[r]));s&&this.blockNode.indexOf(n[r].nodeName.toLowerCase())!==-1&&!(n[r].className&&n[r].className.toLowerCase().indexOf("msolistparagraph")!==-1&&!h(n[r].getAttribute("style"))&&n[r].getAttribute("style").indexOf("mso-list:")>=0)&&e.push(null),this.blockNode.indexOf(n[r].nodeName.toLowerCase())!==-1&&(n[r].className&&n[r].className.toLowerCase().indexOf("msolistparagraph")!==-1&&!h(n[r].getAttribute("style"))&&n[r].getAttribute("style").indexOf("mso-list:")>=0?s=!0:s=!1)}return e.length&&e[e.length-1]!==null&&e.push(null),e},a.prototype.listConverter=function(t){for(var e,i=[],s,n=[],r="",o,l="",c=0;c<t.length;c++){if(t[c]===null){i.push({content:this.makeConversion(n),node:t[c-1]}),n=[];continue}if(t[c].getAttribute("style")&&t[c].getAttribute("style").indexOf("mso-outline-level")!==-1&&t[c].setAttribute("style",t[c].getAttribute("style").replace("mso-outline-level","mso-outline")),r=t[c].getAttribute("style"),r&&r.indexOf("level")!==-1?e=parseInt(r.charAt(r.indexOf("level")+5),null):e=1,r&&r.indexOf("mso-list:")!==-1){var d=void 0;if(r.match(/mso-list:[^;]+;?/)){var p=r.replace(new RegExp(`
`,"g"),"").split(" ").join("");d=p.match(/mso-list:[^;]+;?/)[0].split(":l"),s=h(d)?null:parseInt(d[1].split("level")[0],10)}else s=null}this.listContents=[],this.getListContent(t[c]);var u=void 0,f=void 0,m=void 0,g=void 0;if(!h(this.listContents[0])){if(u=this.listContents[0].trim().length>1?"ol":"ul",f=this.getlistStyleType(this.listContents[0],u),u==="ol"&&(c===0||t[c-1]===null)){var b=this.listContents[0].split(".")[0],S=["A","a","I","i","\u03B1","1","1-"];S.indexOf(b)===-1&&(f==="decimal"?isNaN(parseInt(b,10))||(m=parseInt(b,10)):f==="upper-alpha"?m=b.split(".")[0].charCodeAt(0)-64:f==="lower-alpha"?m=b.split(".")[0].charCodeAt(0)-96:f==="upper-roman"?m=this.upperRomanNumber.indexOf(this.listContents[0].split(".")[0])+1:f==="lower-roman"?m=this.lowerRomanNumber.indexOf(this.listContents[0].split(".")[0])+1:f==="lower-greek"&&(m=this.lowerGreekNumber.indexOf(this.listContents[0].split(".")[0])+1))}t[c].style.marginLeft!==""&&(g=t[c].style.marginLeft);for(var T=[],I=1;I<this.listContents.length;I++)T.push(this.listContents[I]);var w=void 0;h(t[c].className)||(w=t[c].className),h(t[c].getAttribute("style"))||(t[c].setAttribute("style",t[c].getAttribute("style").replace("text-align:start;","")),t[c].style.textIndent="",l=t[c].getAttribute("style")),n.push({listType:u,content:T,nestedLevel:e,listFormatOverride:s,class:w,listStyle:l,listStyleTypeName:f,start:m,styleMarginLeft:g})}}for(o=t.shift();o;){for(var x=[],A=0;A<i.length;A++)if(i[A].node===o){for(var q=0;q<i[A].content.childNodes.length;q++)x.push(i[A].content.childNodes[q]);for(var q=0;q<x.length;q++)o.parentElement.insertBefore(x[q],o);break}o.remove(),o=t.shift(),o||(o=t.shift())}},a.prototype.getlistStyleType=function(t,e){var i;if(e==="ol"){var s=t.split(".")[0].charCodeAt(0);switch(!0){case this.upperRomanNumber.indexOf(t.split(".")[0])>-1:i="upper-roman";break;case this.lowerRomanNumber.indexOf(t.split(".")[0])>-1:i="lower-roman";break;case this.lowerGreekNumber.indexOf(t.split(".")[0])>-1:i="lower-greek";break;case(s>64&&s<91):i="upper-alpha";break;case(s>96&&s<123):i="lower-alpha";break;default:i="decimal";break}}else switch(t.split(".")[0]){case"o":i="circle";break;case"\xA7":i="square";break;default:i="disc";break}return i},a.prototype.makeConversion=function(t){for(var e=P("div"),i,s=1,n,r=0,o,l=t[0].listFormatOverride,c=0;c<t.length;c++){for(var d=["MsoListParagraphCxSpFirst","MsoListParagraphCxSpMiddle","MsoListParagraphCxSpLast"],p=!1,u=0;u<d.length;u++)if(d[u].indexOf(t[c].class)>=0){p=!0;break}!h(n)&&c!==0&&t[c-1].listType!==t[c].listType&&!p&&(n=null);var f=P("p",{className:"MsoNoSpacing"});if(f.innerHTML=t[c].content.join(" "),t[c].nestedLevel===1&&(r===0||l!==t[c].listFormatOverride)&&t[c].content)e.appendChild(i=P(t[c].listType,{className:t[c].class})),n=P("li"),n.appendChild(f),i.appendChild(n),i.setAttribute("level",t[c].nestedLevel.toString()),t[c].class!=="msolistparagraph"?i.style.marginLeft=t[c].styleMarginLeft:L([i],"marginLeftIgnore"),i.style.listStyleType=t[c].listStyleTypeName;else if(t[c].nestedLevel===s&&l===t[c].listFormatOverride)!h(n)&&!h(n.parentElement)&&n.parentElement.tagName.toLowerCase()===t[c].listType?(n.parentElement.appendChild(n=P("li")),n.appendChild(f)):h(n)?(i=P(t[c].listType),i.style.listStyleType=t[c].listStyleTypeName,n=P("li"),n.appendChild(f),i.appendChild(n),i.setAttribute("level",t[c].nestedLevel.toString()),e.appendChild(i)):(i=P(t[c].listType),i.style.listStyleType=t[c].listStyleTypeName,n.parentElement.parentElement.appendChild(i),n=P("li"),n.appendChild(f),i.appendChild(n),i.setAttribute("level",t[c].nestedLevel.toString()));else if(t[c].nestedLevel>s)if(h(n))if(t[c].nestedLevel>s&&p){var g=P(t[c].listType);n=P("li"),g.appendChild(n),g.style.listStyleType="none";for(var m=0;m<t[c].nestedLevel-1;m++)n.appendChild(i=P(t[c].listType)),n=P("li"),i.appendChild(n),i.style.listStyleType="none";n.appendChild(f),e.appendChild(g),i.setAttribute("level",t[c].nestedLevel.toString()),i.style.listStyleType=t[c].listStyleTypeName}else e.appendChild(i=P(t[c].listType)),n=P("li"),n.appendChild(f),i.appendChild(n),i.setAttribute("level",t[c].nestedLevel.toString()),t[c].class!=="msolistparagraph"?i.style.marginLeft=t[c].styleMarginLeft:L([i],"marginLeftIgnore"),i.style.listStyleType=t[c].listStyleTypeName;else{for(var m=0;m<t[c].nestedLevel-s;m++)n.appendChild(i=P(t[c].listType)),n=P("li"),m!==t[c].nestedLevel-s-1&&t[c].nestedLevel-s>1&&(n.style.listStyleType="none"),i.appendChild(n);n.appendChild(f),i.setAttribute("level",t[c].nestedLevel.toString()),i.style.listStyleType=t[c].listStyleTypeName}else if(t[c].nestedLevel===1)e.lastChild.tagName.toLowerCase()===t[c].listType?i=e.lastChild:(e.appendChild(i=P(t[c].listType)),i.style.listStyleType=t[c].listStyleTypeName),n=P("li"),n.appendChild(f),i.appendChild(n),i.setAttribute("level",t[c].nestedLevel.toString());else for(o=n;o.parentElement;)if(o=o.parentElement,o.attributes.getNamedItem("level")){if(parseInt(o.attributes.getNamedItem("level").textContent,10)===t[c].nestedLevel&&l===t[c].listFormatOverride){n=P("li"),n.appendChild(f),o.appendChild(n);break}else if(parseInt(o.attributes.getNamedItem("level").textContent,null)===t[c].nestedLevel&&l!==t[c].listFormatOverride){if(i=P(t[c].listType),n=P("li"),i.appendChild(n),t[c].nestedLevel>1)for(var b=0;b<t[c].nestedLevel-1;b++)n.appendChild(i=P(t[c].listType)),n=P("li"),i.appendChild(n),i.style.listStyleType="none";n.appendChild(f),o.appendChild(i),i.setAttribute("level",t[c].nestedLevel.toString()),i.style.listStyleType=t[c].listStyleTypeName;break}else if(t[c].nestedLevel>parseInt(o.attributes.getNamedItem("level").textContent,10)){o.appendChild(i=P(t[c].listType)),n=P("li"),n.appendChild(f),i.appendChild(n),i.setAttribute("level",t[c].nestedLevel.toString()),i.style.listStyleType=t[c].listStyleTypeName;break}}n.setAttribute("class",t[c].class),n.setAttribute("style",h(t[c].listStyle)?"":t[c].listStyle),s=t[c].nestedLevel,l=t[c].listFormatOverride,r++,h(t[c].start&&t[c].start!==1&&t[c].listType==="ol")||i.setAttribute("start",t[c].start.toString())}return e},a.prototype.getListContent=function(t){var e="",i=t.firstElementChild;if(i.textContent.trim()===""&&!h(i.firstElementChild)&&i.firstElementChild.nodeName==="IMG")e=t.innerHTML.trim(),this.listContents.push(""),this.listContents.push(e);else if(i.childNodes.length>0){for(var s=i.querySelectorAll('[style*="mso-list"]'),n=0;n<s.length;n++)s[n].setAttribute("style",s[n].getAttribute("style").replace(/\n/g,""));var r=i.querySelector('span[style="mso-list:Ignore"]');h(r)||(this.listContents.push(r.textContent.trim()),N(r),this.removingComments(t),this.removeUnwantedElements(t))}this.listContents.push(t.innerHTML)},a.prototype.processMargin=function(t){var e=t.querySelectorAll("li");if(e.length>0)for(var i=0;i<e.length;i++)!h(e[i].style.marginLeft)&&!e[i].parentElement.classList.contains("marginLeftIgnore")&&(e[i].style.marginLeft="");var s=t.querySelectorAll("table");if(s.length>0)for(var i=0;i<s.length;i++)!h(s[i].style.marginLeft)&&s[i].style.marginLeft.indexOf("-")>=0&&(s[i].style.marginLeft="");var n=t.querySelectorAll(".marginLeftIgnore li");if(n.length>0){for(var i=0;i<n.length;i++)if(!h(n[i].style.marginLeft)&&n[i].style.marginLeft!==""){var r=n[i].style.marginLeft,o=parseFloat(r.split("in")[0]),l=o-.5;n[i].style.marginLeft=l.toString()+"in"}}},a.prototype.removeEmptyAnchorTag=function(t){for(var e=t.querySelectorAll("a:not([href])"),i=e.length-1;i>=0;i--){for(var s=e[i].parentNode;e[i].firstChild;)s.insertBefore(e[i].firstChild,e[i]);s.removeChild(e[i])}},a.prototype.findSource=function(t){for(var e=t.querySelectorAll("meta"),i=0;i<e.length;i++){var s=e[i],n=s.getAttribute("content"),r=s.getAttribute("name");if(r&&r.toLowerCase().indexOf("generator")>=0&&n&&n.toLowerCase().indexOf("microsoft")>=0){for(var o=0;o<ac.length;o++)if(n.toLowerCase().indexOf(ac[o])>=0)return ac[o]}}return"html"},a.prototype.destroy=function(){this.removeEventListener()},a}(),AS=function(){function a(t){this.parent=t,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.observer.on(wd,this.insertText,this),this.parent.observer.on(Ie,this.destroy,this)},a.prototype.removeEventListener=function(){this.parent.observer.off(wd,this.insertText),this.parent.observer.off(Ie,this.destroy)},a.prototype.insertText=function(t){var e=document.createTextNode(t.value);Bt.Insert(this.parent.currentDocument,e,this.parent.editableElement),t.callBack&&t.callBack({requestType:t.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},a.prototype.destroy=function(){this.removeEventListener()},a}(),jS=function(){function a(t){this.parent=t,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.observer.on(Fd,this.emojiInsert,this),this.parent.observer.on(Ie,this.destroy,this)},a.prototype.removeEventListener=function(){this.parent.observer.off(Fd,this.emojiInsert),this.parent.observer.off(Ie,this.destroy)},a.prototype.emojiInsert=function(t){for(var e=document.createTextNode(t.value),i=this.parent.currentDocument.getSelection(),s=i.getRangeAt(0),n=s.startOffset,r=n-1;r>=n-15;r--){var o=i.focusNode.textContent.substring(r-1,r),l=/:$/.test(o);if(l){this.beforeApplyFormat(!0);break}}var c=/:$/.test(i.focusNode.textContent.charAt(n-1)),d=i.focusNode.textContent.charAt(n-2),p=/\s/.test(d);c&&(p||i.focusOffset===1)&&this.beforeApplyFormat(!0),Bt.Insert(this.parent.currentDocument,e,this.parent.editableElement),t.callBack&&t.callBack({requestType:t.subCommand,editorMode:"HTML",event:t.event,range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},a.prototype.beforeApplyFormat=function(t){var e=this.parent.nodeSelection.getRange(this.parent.currentDocument),i=this.parent.nodeSelection.getNodeCollection(e)[0],s=!(i.parentElement.innerHTML.replace(/&nbsp;|<br>/g,"").trim()===":"||i.textContent.trim().indexOf("/")===0),n=i;if(s&&t)for(;n!==this.parent.editableElement;)n=n.parentElement;for(var r=e.startOffset;this.parent.nodeSelection.getRange(document).toString().indexOf(":")===-1;)this.parent.nodeSelection.setSelectionText(document,i,i,r,e.endOffset),r--;var o=this.parent.nodeSelection.getRange(this.parent.currentDocument),l=this.parent.nodeCutter.GetSpliceNode(o,i);l.parentNode.removeChild(l)},a.prototype.destroy=function(){this.removeEventListener()},a}(),RS=function(){function a(t,e){this.INVALID_TAGS=["A","AUDIO","IMG","VIDEO","IFRAME"],this.parent=t,this.settings=e,this.addEventListener(),this.setDeniedFormats()}return a.prototype.addEventListener=function(){this.parent.observer.on(Hd,this.actionHandler,this),this.parent.observer.on(Vr,this.onPropertyChanged,this),this.parent.observer.on(Ie,this.destroy,this)},a.prototype.onPropertyChanged=function(t){t&&t.module==="formatPainter"&&(h(t.newProp.formatPainterSettings.allowedFormats)||(this.settings.allowedFormats=t.newProp.formatPainterSettings.allowedFormats),h(t.newProp.formatPainterSettings.deniedFormats)||(this.settings.deniedFormats=t.newProp.formatPainterSettings.deniedFormats,this.setDeniedFormats()))},a.prototype.removeEventListener=function(){this.parent.observer.off(Hd,this.actionHandler),this.parent.observer.off(Vr,this.onPropertyChanged),this.parent.observer.off(Ie,this.destroy)},a.prototype.destroy=function(){this.removeEventListener(),this.INVALID_TAGS=null,this.copyCollection=null,this.deniedFormatsCollection=null,this.newElem=null,this.newElemLastChild=null,this.settings=null,this.parent=null},a.prototype.actionHandler=function(t){if(this.settings.allowedContext=["Text","List","Table"],!h(t)&&!h(t.item)&&!h(t.item.formatPainterAction)){switch(t.item.formatPainterAction){case"format-copy":this.copyAction();break;case"format-paste":this.pasteAction();break;case"escape":this.escapeAction();break}this.callBack(t)}},a.prototype.callBack=function(t){t.callBack&&t.callBack({requestType:"FormatPainter",action:t.item.formatPainterAction,event:t.event,editorMode:"HTML",range:this.parent.nodeSelection.getRange(this.parent.currentDocument),elements:this.parent.nodeSelection.getSelectedNodes(this.parent.currentDocument)})},a.prototype.generateElement=function(){var t=this.copyCollection.slice();t.reverse();for(var e=t.length,i=P("div",{className:"e-format-paste-wrapper"}),s,n=0;n<e;n++){var r=t[n],o=r.attrs,l=r.className,c=r.styles,d=r.tagName,p=P(d);l!==""&&(p.className=l);for(var u=0;u<o.length;u++){var f=o[u].name,m=o[u].value;p.setAttribute(f,m)}for(var g=0;g<c.length;g++){var f=c[g].property,m=c[g].value,b=c[g].priority;p.style.setProperty(f,m,b)}i.childElementCount===0?(i.append(p),s=p):(s.append(p),s=p)}for(var S=this.removeDeniedFormats(i),T=S;T;)T.firstChild===null?(s=T,T=void 0):T=T.firstChild;this.newElem=S,this.newElemLastChild=s},a.prototype.pasteAction=function(){if(h(this.copyCollection)||this.copyCollection.length===0){this.paintPlainTextFormat();return}this.insertFormatNode(this.newElem,this.newElemLastChild)},a.prototype.removeDeniedFormats=function(t){if(!h(this.deniedFormatsCollection)&&this.deniedFormatsCollection.length>0)for(var e=this.deniedFormatsCollection,i=e.length,s=0;s<i;s++){var n=e[s].tag;if(e[s].tag)for(var r=t.querySelectorAll(n),o=0;o<r.length;o++){if(e[s].classes.length>0){for(var l=e[s].classes,c=l.length,d=0;d<c;d++)r[o].classList.contains(l[d])&&k([r[o]],l[d].trim());r[o].classList.length===0&&r[o].removeAttribute("class")}if(e[s].styles.length>0){for(var p=e[s].styles,u=p.length,d=0;d<u;d++)r[o].style.removeProperty(p[d].trim());r[o].style.length===0&&r[o].removeAttribute("style")}if(e[s].attributes.length>0)for(var f=e[s].attributes,m=f.length,d=0;d<m;d++)r[o].removeAttribute(f[d].trim())}}return t.firstElementChild},a.prototype.copyAction=function(){var t=[],e=this.parent.nodeSelection.getRange(this.parent.currentDocument),i=this.parent.nodeSelection,s=e.collapsed?i.getSelectionNodeCollection(e):i.getSelectionNodeCollectionBr(e);if(!(s.length===0&&i.getSelectionNodeCollectionBr(e).length===0)){s=s.length===0?i.getSelectionNodeCollectionBr(e):s;for(var n=s[0].parentElement,r=this.findCurrentContext(n),o=this.settings.allowedFormats.indexOf(";")>-1?this.settings.allowedFormats.split(";"):[this.settings.allowedFormats],l=0;l<o.length;l++)o[l]=o[l].trim();var c=this.getRangeParentElem(r,n),d=c[0],p=c[1];if(r===null&&(r=p),!h(r)&&this.settings.allowedContext.indexOf(r)>-1){e.startContainer.nodeName==="#text"&&(n=e.startContainer.parentElement);var u=n;do{if(o.indexOf(n.nodeName.toLowerCase())>-1){for(var f=n.attributes,m=[],l=0;l<f.length;l++)f[l].name!=="class"&&f[l].name!=="style"&&m.push(f[l]);for(var g=n.className,b=n.style,S=[],l=0;l<b.length;l++){var T=b[l],I=b.getPropertyValue(T),w=b.getPropertyPriority(T);S.push({property:T,value:I,priority:w})}t.push({attrs:m,className:g,styles:S,tagName:n.nodeName})}if(d===n?n=void 0:h(n.parentElement)||(n=n.parentElement),u===n)break}while(!h(n)||n===this.parent.editableElement);this.copyCollection=t}this.generateElement()}},a.prototype.getRangeParentElem=function(t,e){var i=e,s;switch(i.nodeType===3&&(i=i.parentElement),t){case"Table":s=M(i,"td"),h(s)&&(s=M(i,"th"));break;case"List":s=M(i,"li");break;case"Text":s=M(i,"p");break}if(h(s)){var n=this.getNearestBlockParentElement(e);!h(n)&&n!=="UL"&&n!=="OL"&&n!=="LI"&&(s=M(i,n),t="Text")}return t==="List"&&(s=s.parentElement),[s,t]},a.prototype.getNearestBlockParentElement=function(t){var e=t;for(e.nodeType===3&&(e=e.parentNode);e&&e!==this.parent.editableElement;){if(!h(e)&&this.isBlockElement(e))return e.nodeName;e=e.parentNode}return null},a.prototype.isBlockElement=function(t){var e=["P","DIV","UL","OL","LI","H1","H2","H3","H4","H5","H6","ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","FIGCAPTION","FIGURE","FOOTER","HEADER","HR","MAIN","NAV","SECTION","SUMMARY","PRE"];return e.indexOf(t.nodeName)>-1},a.prototype.escapeAction=function(){this.copyCollection=[]},a.prototype.paintPlainTextFormat=function(){var t=this.parent.nodeSelection.getRange(this.parent.currentDocument),e=this.parent.nodeSelection,i=t.collapsed?e.getSelectionNodeCollection(t):e.getSelectionNodeCollectionBr(t),s;if(i.length>1)for(var n=0;n<i.length;n++)s=this.validateELementTag(i[n]);else s=this.validateELementTag(t.startContainer)&&this.validateELementTag(t.endContainer);s||this.parent.execCommand("Clear","ClearFormat",null,null)},a.prototype.validateELementTag=function(t){return t.nodeType===3&&(t=t.parentElement),this.INVALID_TAGS.indexOf(t.tagName)>-1},a.prototype.findCurrentContext=function(t){var e=M(t,"p"),i=M(t,"li");return e&&!i?"Text":M(t,"li")?!h(e)&&!h(i)&&e.textContent.trim()!==i.textContent.trim()?"Text":"List":M(t,"td")||M(t,"tr")||M(t,"th")?"Table":null},a.prototype.insertFormatNode=function(t,e){var i=t.cloneNode(!0);if(!this.isBlockElement(t)){var s=P("P");s.appendChild(t),i=s.cloneNode(!0)}for(var n=this.parent.editableElement,r=this.parent.currentDocument,o=i.firstChild,l;o;)if(this.isBlockElement(o))o=o.firstChild;else{l=o.parentNode.removeChild(o);break}var c={element:l,lastChild:e};qd.applyFormat(r,null,n,"P",null,"formatPainter",null,c);var d=this.parent.nodeSelection.getRange(r),p=d.collapsed,u=this.parent.domNode.blockNodes(),f=this.isListCopied();if(f)for(var m=0;m<u.length;m++)M(u[m],"li")&&(u[m]=M(u[m],"li"));var g=!1;u.length===1&&(g=u[0].textContent.trim()===d.toString().trim()),(this.isBlockElement(i)&&p||u.length>1||g)&&this.insertBlockNode(i,d,r,u)},a.prototype.isListCopied=function(){for(var t=!1,e=0;e<this.copyCollection.length;e++)if(this.copyCollection[e].tagName==="OL"||this.copyCollection[e].tagName==="UL"){t=!0;break}return t},a.prototype.insertBlockNode=function(t,e,i,s){var n=this.parent.nodeSelection,r=n.save(e,i);this.parent.domNode.setMarker(r);var o,l,c=!1;(t.nodeName==="UL"||t.nodeName==="OL")&&(l=t.cloneNode(!0),o=l.firstChild);for(var d=h(l)?t:t.firstChild,p=0;p<s.length;p++)if(!(this.INVALID_TAGS.indexOf(s[p].nodeName)>-1||s[p].querySelectorAll("img,audio,video,iframe").length>0)){for(var u=d.cloneNode(!1);s[p].firstChild;)s[p].textContent.trim().length!==0?u.appendChild(s[p].firstChild):s[p].removeChild(s[p].firstChild);if(s[p].nodeName==="TD"||s[p].nodeName==="TH")if(h(l)){s[p].appendChild(u);continue}else if(p===0&&!h(l)){s[p].appendChild(l),l.appendChild(u);continue}else{s[p].appendChild(u);continue}if(h(l)||(c=this.isSameListType(t,s[p])),u.nodeName==="LI"&&!c?this.insertNewList(e,s,p,l,u):c?this.insertSameList(s,p,l,u):s[p].parentNode.replaceChild(u,s[p]),u.nodeName!=="LI"&&(u.parentElement.nodeName==="OL"||u.parentElement.nodeName==="UL")){var f=u.parentElement;if(this.parent.nodeCutter.SplitNode(e,f,!0),h(f.previousElementSibling))f.parentElement.prepend(u);else if(f.previousElementSibling.after(u),u.childNodes.length>1)for(var m=0;m<u.childNodes.length;m++){var g=u.childNodes[m];(g.nodeName==="OL"||g.nodeName==="UL")&&u.after(g)}}}h(o)||N(o),this.cleanEmptyLists();var b=this.parent.domNode.saveMarker(r);b.restore()},a.prototype.insertNewList=function(t,e,i,s,n){if(i===0){var r=e[i].nodeName;e[i]=e[i].parentNode.replaceChild(s,e[i]);var o=r==="LI"?s.parentElement:s;if(this.parent.nodeCutter.SplitNode(t,o,!0),e[i].nodeName==="LI"&&!h(o))s.append(n),h(o.parentNode)||o.parentNode.insertBefore(s,o);else if(h(o))s.append(n);else if(!h(o.previousElementSibling)&&o.previousElementSibling.nodeName===s.nodeName){var l=o.previousElementSibling;for(l.append(n);l.firstChild;)s.append(l.firstChild)}else if(!h(o.nextElementSibling)&&o.nextElementSibling.nodeName===s.nodeName){var l=o.nextElementSibling;for(l.prepend(n);l.firstChild;)s.append(l.firstChild)}else s.append(n)}else s.append(n);this.detachEmptyBlockNodes(e[i])},a.prototype.insertSameList=function(t,e,i,s){if(e===0){if(!h(t[e].parentNode)&&(t[e].parentNode.nodeName==="UL"||t[e].parentNode.nodeName==="OL")){if(t.length===1){for(;s.firstChild;)t[e].append(s.firstChild);for(var n=0;n<t[e].parentNode.childNodes.length;n++){var r=t[e].parentNode.childNodes[n];i.append(r.cloneNode(!0))}}else i.append(s);t[e].parentNode.parentNode.replaceChild(i,t[e].parentNode)}}else i.append(s);this.detachEmptyBlockNodes(t[e])},a.prototype.isSameListType=function(t,e){var i=!1,s=M(e,"ol, ul");return!h(s)&&s.querySelectorAll("li").length>0&&(s.nodeName===t.nodeName?i=!0:i=!1),i},a.prototype.cleanEmptyLists=function(){for(var t=this.parent.editableElement.querySelectorAll("ol, ul"),e=0;e<t.length;e++)t[e].textContent.trim()===""&&N(t[e])},a.prototype.setDeniedFormats=function(){var t=[];if(!(h(this.settings)||h(this.settings.deniedFormats))){for(var e=this.settings.deniedFormats.indexOf(";")>-1?this.settings.deniedFormats.split(";"):[this.settings.deniedFormats],i=e.length,s=0;s<i;s++){var n=e[s];if(n!==""){n.trim();var r=this.makeDeniedFormatsCollection(n);h(r)||t.push(r)}}this.deniedFormatsCollection=t}},a.prototype.detachEmptyBlockNodes=function(t){!h(t)&&t.textContent.trim()===""&&N(t)},a.prototype.makeDeniedFormatsCollection=function(t){var e=t.indexOf("("),i=t.indexOf(")"),s=t.indexOf("["),n=t.indexOf("]"),r=t.indexOf("{"),o=t.indexOf("}"),l=[],c="",d="",p="",u=[],f=[],m=[];e>-1&&i>-1&&(l=t.substring(e+1,i).split(" "),u=l[0].split(")")[0].split(",")),s>-1&&n>-1&&(c=t.substring(s+1,n),f=c.split(",")),r>-1&&o>-1&&(d=t.substring(r+1,o),m=d.split(","));var g=[e,s,r];g=g.filter(function(T){return T>-1});var b=g.length,S;return b===1?S=g[0]:b===2?S=Math.min(g[0],g[1]):b===3&&(S=Math.min(g[0],g[1],g[2])),p=t.substring(0,S),p=p.trim(),{tag:p,styles:m,classes:u,attributes:f}},a}(),zS=function(){function a(t){this.currentDocument=t.document,this.editableElement=t.editableElement,this.nodeSelection=new Lt,this.nodeCutter=new Vs,this.domNode=new Ho(this.editableElement,this.currentDocument),this.observer=new os(this),this.listObj=new dS(this),this.formatObj=new pS(this),this.alignmentObj=new fS(this),this.indentsObj=new mS(this),this.linkObj=new uS(this),this.imgObj=new SS(this),this.audioObj=new ES(this),this.videoObj=new TS(this),this.selectionObj=new DS(this),this.inserthtmlObj=new LS(this),this.insertTextObj=new AS(this),this.clearObj=new OS(this),this.tableObj=new NS(this),this.undoRedoManager=new xS(this,t.options),this.msWordPaste=new kS(this),this.formatPainterEditor=new RS(this,t.formatPainterSettings),this.emojiPickerObj=new jS(this),this.tableCellSelection=new Yg(this.editableElement,this.currentDocument),this.wireEvents()}return a.prototype.wireEvents=function(){this.observer.on(xd,this.editorKeyDown,this),this.observer.on(Nn,this.editorKeyUp,this),this.observer.on(Nn,this.editorKeyUp,this),this.observer.on(Bo,this.onPropertyChanged,this),this.observer.on(zd,this.onWordPaste,this),this.observer.on(Pd,this.onBegin,this),this.observer.on(cg,this.editorMouseDown,this),this.observer.on(dg,this.destroy,this)},a.prototype.unwireEvents=function(){this.observer.off(xd,this.editorKeyDown),this.observer.off(Nn,this.editorKeyUp),this.observer.off(Nn,this.editorKeyUp),this.observer.off(Bo,this.onPropertyChanged),this.observer.off(zd,this.onWordPaste),this.observer.off(Pd,this.onBegin),this.observer.off(cg,this.editorMouseDown),this.observer.off(dg,this.destroy)},a.prototype.onWordPaste=function(t){this.observer.notify(Rd,t)},a.prototype.onPropertyChanged=function(t){this.observer.notify(Vr,t)},a.prototype.editorKeyDown=function(t){this.observer.notify(at,t)},a.prototype.editorKeyUp=function(t){this.observer.notify(Us,t)},a.prototype.onBegin=function(t){this.observer.notify(Bd,t)},a.prototype.execCommand=function(t,e,i,s,n,r,o,l){switch(t.toLowerCase()){case"lists":this.observer.notify(jd,{subCommand:e,event:i,callBack:s,selector:o,item:r,enterAction:l});break;case"formats":this.observer.notify(Ad,{subCommand:e,event:i,callBack:s,selector:o,exeValue:r,enterAction:l});break;case"alignments":this.observer.notify(Nd,{subCommand:e,event:i,callBack:s,selector:o,value:r,enterAction:l});break;case"indents":this.observer.notify(Id,{subCommand:e,event:i,callBack:s,selector:o,enterAction:l});break;case"links":this.observer.notify(fd,{command:t,value:e,item:r,event:i,callBack:s});break;case"files":this.observer.notify(zo,{command:t,value:"Image",item:r,event:i,callBack:s,selector:o});break;case"images":this.observer.notify(zo,{command:t,value:e,item:r,event:i,callBack:s,selector:o});break;case"audios":this.observer.notify(dd,{command:t,value:e,item:r,event:i,callBack:s,selector:o});break;case"videos":this.observer.notify(pd,{command:t,value:e,item:r,event:i,callBack:s,selector:o});break;case"table":switch(e.toString().toLocaleLowerCase()){case"createtable":this.observer.notify(ud,{item:r,event:i,callBack:s,enterAction:l});break;case"insertrowbefore":case"insertrowafter":this.observer.notify(md,{item:r,event:i,callBack:s});break;case"insertcolumnleft":case"insertcolumnright":this.observer.notify(gd,{item:r,event:i,callBack:s});break;case"deleterow":this.observer.notify(vd,{item:r,event:i,callBack:s});break;case"deletecolumn":this.observer.notify(yd,{item:r,event:i,callBack:s});break;case"tableremove":this.observer.notify(bd,{item:r,event:i,callBack:s});break;case"tableheader":this.observer.notify(Cd,{item:r,event:i,callBack:s});break;case"aligntop":case"alignmiddle":case"alignbottom":this.observer.notify(Md,{item:r,event:i,callBack:s});break;case"merge":this.observer.notify(Sd,{item:r,event:i,callBack:s});break;case"horizontalsplit":this.observer.notify(Td,{item:r,event:i,callBack:s});break;case"verticalsplit":this.observer.notify(Ed,{item:r,event:i,callBack:s});break}break;case"font":case"style":case"effects":case"casing":this.observer.notify(Dd,{subCommand:e,event:i,callBack:s,value:n,selector:o,enterAction:l});break;case"inserthtml":this.observer.notify(Ld,{subCommand:e,callBack:s,value:n,enterAction:l});break;case"inserttext":this.observer.notify(wd,{subCommand:e,callBack:s,value:n});break;case"clear":this.observer.notify(Od,{subCommand:e,event:i,callBack:s,selector:o,enterAction:l});break;case"actions":this.observer.notify(kd,{subCommand:e,event:i,callBack:s,selector:o});break;case"formatpainter":this.observer.notify(Hd,{item:r,subCommand:e,event:i,callBack:s});break;case"emojipicker":this.observer.notify(Fd,{item:r,subCommand:e,value:n,event:i,callBack:s})}},a.prototype.editorMouseDown=function(t){t.args.detail===3&&this.tripleClickSelection(t.args)},a.prototype.tripleClickSelection=function(t){var e=this.nodeSelection.getRange(this.currentDocument),i=this.nodeSelection.get(this.currentDocument);if(i.rangeCount>0&&i.toString()!==""){var s=this.getParentBlockNode(e.startContainer),n=this.getParentBlockNode(e.endContainer);if(s&&n&&s===n){var r=this.currentDocument.createRange(),o=this.getFirstTextNode(s),l=this.getLastTextNode(n);o&&l&&(r.setStart(o,0),r.setEnd(l,l.textContent.length),this.nodeSelection.setRange(this.currentDocument,r),t.preventDefault())}}},a.prototype.getParentBlockNode=function(t){var e=this.currentDocument.createTreeWalker(this.editableElement,NodeFilter.SHOW_ELEMENT,{acceptNode:function(s){var n=window.getComputedStyle(s).display;return n.indexOf("inline")<0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});e.currentNode=t;var i=e.parentNode();return i},a.prototype.getLastTextNode=function(t){for(var e=this.currentDocument.createTreeWalker(t,NodeFilter.SHOW_TEXT,null),i=null,s=e.nextNode();s;)i=s,s=e.nextNode();return i},a.prototype.getFirstTextNode=function(t){var e=this.currentDocument.createTreeWalker(t,NodeFilter.SHOW_TEXT,null),i=e.nextNode();return i},a.prototype.destroy=function(){this.unwireEvents(),this.observer.notify(Ie),this.editableElement&&(this.editableElement=null),this.currentDocument=null,this.nodeCutter&&(this.nodeCutter=null),this.domNode&&(this.domNode=null),this.listObj&&(this.listObj=null),this.formatObj&&(this.formatObj=null),this.alignmentObj&&(this.alignmentObj=null),this.indentsObj&&(this.indentsObj=null),this.linkObj&&(this.linkObj=null),this.imgObj&&(this.imgObj=null),this.audioObj&&(this.audioObj=null),this.videoObj&&(this.videoObj=null),this.selectionObj&&(this.selectionObj=null),this.inserthtmlObj&&(this.inserthtmlObj=null),this.insertTextObj&&(this.insertTextObj=null),this.clearObj&&(this.clearObj=null),this.tableObj&&(this.tableObj=null),this.msWordPaste&&(this.msWordPaste=null),this.formatPainterEditor&&(this.formatPainterEditor=null),this.emojiPickerObj&&(this.emojiPickerObj=null),this.tableCellSelection&&(this.tableCellSelection=null)},a}(),PS=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),BS=function(a){PS(t,a);function t(e){var i=a.call(this)||this;return i.initialize(),ue(i,i,e,!0),i.currentDocument&&i.element&&i.updateFormatter(i.element,i.currentDocument,e.options,e.formatPainterSettings),i}return t.prototype.initialize=function(){this.keyConfig=KM},t.prototype.updateFormatter=function(e,i,s,n){e&&i&&(this.editorManager=new zS({document:i,editableElement:e,options:s,formatPainterSettings:n}))},t}(cS),yg=function(){function a(t){this.parent=t,this.toolbarStatus=this.prevToolbarStatus=zg(),this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.on(Ps,this.onRefreshHandler,this),this.parent.on(Ee,this.removeEventListener,this)},a.prototype.removeEventListener=function(){this.toolbarStatus=null,this.prevToolbarStatus=null,this.parent.off(Ps,this.onRefreshHandler),this.parent.off(Ee,this.removeEventListener)},a.prototype.onRefreshHandler=function(t){if(!this.parent.readonly){var e=[],i=[],s=[];this.parent.fontSize.items.forEach(function(r){e.push(r.value)}),this.parent.fontFamily.items.forEach(function(r){i.push(r.value)}),this.parent.format.types.forEach(function(r){s.push(r.value.toLocaleLowerCase())}),this.toolbarStatus=Pg.get(this.parent.contentModule.getDocument(),this.parent.contentModule.getEditPanel(),s,e,i,t.documentNode);var n=JSON.stringify(this.toolbarStatus);this.parent.notify(Zi,this.toolbarStatus),JSON.stringify(this.prevToolbarStatus)!==n&&(this.parent.notify(Hc,{html:JSON.parse(n),markdown:null}),this.prevToolbarStatus=JSON.parse(n))}},a}(),HS=function(){function a(t){this.parent=t,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.on(Ur,this.enableXhtmlValidation,this),this.parent.on(Ee,this.removeEventListener,this)},a.prototype.removeEventListener=function(){this.parent.off(Ur,this.enableXhtmlValidation),this.parent.off(Ee,this.removeEventListener)},a.prototype.enableXhtmlValidation=function(){this.parent.enableXhtml&&(h(this.parent.inputElement)?this.currentElement=this.parent.element:this.currentElement=this.parent.inputElement,this.clean(this.currentElement),this.ImageTags(),this.removeTags(),this.RemoveUnsupported(),this.currentElement.innerHTML=this.selfEncloseValidation(this.currentElement.innerHTML,this.currentElement.innerText===`
`?this.currentElement.innerText.length:this.currentElement.innerText.trim().length),this.parent.setProperties({value:this.currentElement.innerHTML},!0))},a.prototype.selfEncloseValidation=function(t,e){if(e===0&&t.indexOf("table")<0&&t.indexOf("img")<0&&t.includes("&nbsp;")){var i=t.split("&nbsp;");i[i.length-1]="&#8203;"+i[i.length-1],t=i.join("")}t=t.replace(/<br>/g,"<br/>").replace(/<hr>/g,"<hr/>").replace(/ /g," ");for(var s,n=[],r=[],o=[/<img(.*?)>/gi,/<area(.*?)>/gi,/<base(.*?)>/gi,/<col (.*?)>/gi,/<embed(.*?)>/gi,/<input(.*?)>/gi,/<link(.*?)>/gi,/<meta(.*?)>/gi,/<param(.*?)>/gi,/<source(.*?)>/gi,/<track(.*?)>/gi,/<wbr(.*?)>/gi],l=0;l<o.length;l++){for(s=o[l].exec(t);s!==null;)n.push(s[0].toString()),s=o[l].exec(t);r=n.slice(0);for(var c=0;c<n.length;c++)(n[c].indexOf("/")===-1||n[c].lastIndexOf("/")!==n[c].length-2)&&(n[c]=n[c].substr(0,n[c].length-1)+" /"+n[c].substr(n[c].length-1,n[c].length));for(var d=0;d<=n.length-1;d++)t=t.replace(r[d],n[d])}return t},a.prototype.clean=function(t){for(var e=0;e<t.childNodes.length;e++){var i=t.childNodes[e];i.nodeType===8||i.nodeName==="V:IMAGE"?(t.removeChild(i),e--):i.nodeType===1&&this.clean(i)}return this.currentElement.innerHTML},a.prototype.ImageTags=function(){for(var t=this.currentElement.querySelectorAll("IMG"),e=t.length-1;e>=0;e--)if(!t[e].hasAttribute("alt")){var i=t[e];i.setAttribute("alt","")}},a.prototype.removeTags=function(){for(var t=[["br","ul"],["br","ol"],["table","span"],["div","span"],["p","span"]],e=0;e<t.length;e++)this.RemoveElementNode(t[e][0],t[e][1])},a.prototype.RemoveElementNode=function(t,e){for(var i=this.currentElement.querySelectorAll(e),s=0;s<i.length;s++)for(var n=i[s].querySelectorAll(t),r=n.length;r>0;r--)N(n[r-1])},a.prototype.RemoveUnsupported=function(){for(var t=this.currentElement.querySelectorAll("u"),e=t.length-1;e>=0;e--){var i=this.parent.createElement("span");i.style.textDecoration="underline",i.innerHTML=t[e].innerHTML,t[e].parentNode.insertBefore(i,t[e]),N(t[e])}for(var s=this.currentElement.querySelectorAll("strong"),e=s.length-1;e>=0;e--){var n=this.parent.createElement("b");n.innerHTML=s[e].innerHTML,s[e].parentNode.insertBefore(n,s[e]),N(s[e])}for(var r=["language","role","target","contenteditable","cellspacing","cellpadding","border","valign","colspan"],e=0;e<=r.length;e++)this.RemoveAttributeByName(r[e])},a.prototype.RemoveAttributeByName=function(t){if(this.currentElement.firstChild!==null&&this.currentElement.firstChild.nodeType!==3)for(var e=0;e<this.currentElement.childNodes.length;e++){var i=this.currentElement.childNodes[e];if(i.nodeType!==3&&i.nodeName!=="TABLE"&&i.nodeName!=="TBODY"&&i.nodeName!=="THEAD"&&i.nodeName!=="TH"&&i.nodeName!=="TR"&&i.nodeName!=="TD"&&(i.hasAttribute(t)&&i.removeAttribute(t),i.hasChildNodes()))for(var s=0;s<i.childNodes.length;s++){var n=i.childNodes[s];if(n.nodeType!==3&&n.nodeName!=="TABLE"&&n.nodeName!=="TBODY"&&n.nodeName!=="THEAD"&&n.nodeName!=="TH"&&n.nodeName!=="TR"&&n.nodeName!=="TD"&&n.hasAttribute(t)&&!n.classList.contains("e-mention-chip")&&n.removeAttribute(t),n.hasChildNodes())for(var r=0;r<n.childNodes.length;r++)n.childNodes[r].nodeType!==3&&n.childNodes[r].nodeName!=="TABLE"&&n.childNodes[r].nodeName!=="TBODY"&&n.childNodes[r].nodeName!=="THEAD"&&n.childNodes[r].nodeName!=="TH"&&n.childNodes[r].nodeName!=="TR"&&n.childNodes[r].nodeName!=="TD"&&n.childNodes[r].hasAttribute(t)&&n.childNodes[r].removeAttribute(t)}}},a}(),Gg=function(){function a(t,e){this.rangeCollection=[],this.isImageDelete=!1,this.parent=t,this.locator=e,this.renderFactory=this.locator.getService("rendererFactory"),this.xhtmlValidation=new HS(t),this.addEventListener(),this.isDestroyed=!1}return a.prototype.destroy=function(){this.isDestroyed||(this.clickTimeout&&(clearTimeout(this.clickTimeout),this.clickTimeout=null),this.removeEventListener(),this.locator=null,this.contentRenderer=null,this.renderFactory=null,this.toolbarUpdate=null,this.nodeSelectionObj=null,this.rangeCollection.length>0&&(this.rangeCollection=[]),this.rangeElement&&(this.rangeElement=null),this.oldRangeElement&&(this.oldRangeElement=null),this.deleteRangeElement&&(this.deleteRangeElement=null),this.deleteOldRangeElement&&(this.deleteOldRangeElement=null),this.saveSelection&&(this.saveSelection=null),this.xhtmlValidation&&(this.xhtmlValidation=null),this.isDestroyed=!0)},a.prototype.sanitizeHelper=function(t){return t=Ag(t,this.parent),t},a.prototype.addEventListener=function(){this.parent.isDestroyed||(this.nodeSelectionObj=new Lt,this.parent.on(dc,this.instantiateRenderer,this),this.parent.on(fc,this.onToolbarClick,this),this.parent.on(pt,this.onKeyDown,this),this.parent.on(Ht,this.onKeyUp,this),this.parent.on(Ct,this.render,this),this.parent.on(gt,this.onPropertyChanged,this),this.parent.on(Ee,this.destroy,this),this.parent.on(Ic,this.selectAll,this),this.parent.on(wo,this.selectRange,this),this.parent.on(Dc,this.getSelectedHtml,this),this.parent.on(ti,this.onSelectionSave,this),this.parent.on(ii,this.onSelectionRestore,this),this.parent.on(xc,this.updateReadOnly,this),this.parent.on(Ln,this.onPaste,this),this.parent.on(jr,this.isTableClassAdded,this),this.parent.on(wg,this.onHandleFontsizeChange,this))},a.prototype.updateReadOnly=function(){this.parent.readonly?(le(this.parent.contentModule.getEditPanel(),{contenteditable:"false"}),L([this.parent.element],ad)):(le(this.parent.contentModule.getEditPanel(),{contenteditable:"true"}),k([this.parent.element],ad))},a.prototype.onSelectionSave=function(){var t=this.contentRenderer.getDocument(),e=this.nodeSelectionObj.getRange(t);this.saveSelection=this.nodeSelectionObj.save(e,t)},a.prototype.onSelectionRestore=function(t){this.parent.isBlur=!1,(h(t.items)||t.items)&&this.saveSelection.restore()},a.prototype.isTableClassAdded=function(){for(var t=this.parent.inputElement.querySelectorAll("table"),e=0;e<t.length;e++)!t[e].classList.contains("e-rte-table")&&!t[e].classList.contains("e-rte-paste-table")&&t[e].classList.add("e-rte-table")},a.prototype.onHandleFontsizeChange=function(t){var e=t.args,i={name:"dropDownSelect"};i.item={command:"Font",subCommand:"FontSize"};var s=this.parent.fontSize.items,n;if(this.parent.toolbarModule&&this.parent.toolbarModule.dropDownModule&&this.parent.toolbarModule.dropDownModule.fontSizeDropDown&&!h(this.parent.toolbarModule.dropDownModule.fontSizeDropDown.activeElem[0].textContent)&&this.parent.toolbarModule.dropDownModule.fontSizeDropDown.activeElem[0].textContent!=="")n=this.parent.toolbarModule.dropDownModule.fontSizeDropDown.activeElem[0].textContent;else{var r=void 0,o=this.parent.contentModule.getDocument().getSelection();o&&o.focusNode&&o.focusNode.parentElement?r=document.defaultView.getComputedStyle(o.focusNode.parentElement,null).getPropertyValue("font-size"):r=this.parent.fontSize.width,r=h(r)?this.parent.fontSize.width:r;var l=r.match(/^([\d.]+)(\D+)$/),c=parseInt(l[1],10),d=l[2],p=s[1].value.match(/^([\d.]+)(\D+)$/);if(p[2]===d){var u=s.findIndex(function(T){var I=T.value;return parseInt(I,10)>=c});n=s[u].text}else{var f=this.convertFontSize(c,d,p[2]),u=s.findIndex(function(I){var w=I.value;return parseInt(w,10)>=f});n=s[u].text}}var m=s.findIndex(function(T){return T.text===(n==="Font Size"?"Default":n)});if(e.action==="increase-fontsize"&&m!==-1)if(m>=s.length-1){var g=s[m].value.match(/^([\d.]+)(\D+)$/);if(g){var b=parseInt(g[1],10),d=g[2],S=b%10===0?Math.ceil((b+1)/10)*10:Math.ceil(b/10)*10;i.item.value=S.toLocaleString()+d,i.item.text=S.toLocaleString()+" "+d}this.parent.fontSize.items.push(i.item)}else i.item.value=s[m+1].value,i.item.text=s[m+1].text;else e.action==="decrease-fontsize"&&m!==-1&&m>0?(i.item.value=s[m-1].value,i.item.text=s[m-1].text):m>=0&&m<s.length&&s[m]&&(i.item.value=s[m].value,i.item.text=s[m].text);this.parent.formatter.process(this.parent,i,e)},a.prototype.convertFontSize=function(t,e,i){(jm.indexOf(e)!==-1||jm.indexOf(i)!==-1)&&(e="px");var s=t*B0[e][i];return s},a.prototype.onKeyUp=function(t){var e=t.args,i=[8,9,13,17,18,20,27,37,38,39,40,44,45,46,91,112,113,114,115,116,117,118,119,120,121,122,123],s=this.parent.getRange(),n=new RegExp("\u200B","g"),r=s.startContainer===s.endContainer&&s.startOffset===s.endOffset&&s.startOffset===1&&s.startContainer.textContent.length===1&&s.startContainer.textContent.charCodeAt(0)===8203&&s.startContainer.textContent.replace(n,"").length===0,o=!1;if(s.startContainer===s.endContainer&&s.startOffset===s.endOffset&&s.startContainer!==this.parent.inputElement&&s.startOffset!==0){var l=s.startContainer.nodeType===3?s.startContainer:s.startContainer.childNodes[s.startOffset-1];o=e.keyCode===16&&l.textContent.charCodeAt(0)===8203&&!h(l.previousSibling)&&l.previousSibling.contentEditable==="false"}var c,d=!1;if(i.indexOf(e.keyCode)<0&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&!r&&!o){c=s.startOffset;var p=s.startContainer;if(p.nodeType===Node.TEXT_NODE&&p.nodeValue.includes("\u200B")){var u=p.splitText(p.nodeValue.indexOf("\u200B"));u.splitText(1),u.parentNode.removeChild(u)}if(s.startContainer.nodeName==="#text"?s.startContainer.parentElement!==this.parent.inputElement?s.startContainer.parentElement.classList.add("currentStartMark"):d=!0:s.startContainer.classList.add("currentStartMark"),s.startContainer.textContent.charCodeAt(0)===8203){var f=s.startContainer.textContent.length,m=s.startOffset;s.startContainer.textContent=s.startContainer.textContent.replace(n,""),c=m===0?m:m-(f-s.startContainer.textContent.length),this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),s.startContainer,c)}var g=this.parent.inputElement.innerHTML.length,b=this.parent.inputElement.innerHTML.replace(n,"").length,S=s.startContainer;if(g>b&&!d){if(S.textContent.trim().length!==0&&S.previousSibling){var T=document.createElement("span");T.className="tempSpan",s.insertNode(T)}for(var I=this.parent.inputElement.firstChild;!h(I);){if(I.nodeName==="#text"){I=I.nextElementSibling;continue}I.textContent.replace(n,"").trim().length>0&&I.textContent.includes("\u200B")&&(I.innerHTML=I.innerHTML.replace(n,"")),I=I.nextElementSibling}var w=this.parent.inputElement.querySelector(".tempSpan");if(w&&w.previousSibling&&S.textContent.trim().length!==0){S=w.previousSibling,c=w.previousSibling.textContent.length;var x=w.parentNode;x.removeChild(w),w=null}var A=this.parent.inputElement.querySelector(".currentStartMark").childNodes;if(A.length>1)for(var q=0;q<A.length;q++)A[q].nodeName==="#text"&&A[q].textContent.length===0&&(N(A[q]),q--),!h(A[q])&&S.textContent.replace(n,"")===A[q].textContent&&(c=S.textContent.length>1?S.textContent===A[q].textContent?c:c-(S.textContent.length-S.textContent.replace(n,"").length):S.textContent.length,S=A[q]);else A.length===1&&S.textContent.replace(n,"")===A[0].textContent&&(S=A[0]);s.startContainer!==S&&this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),S,c)}var F=this.parent.inputElement.querySelector(".currentStartMark");h(F)||(F.classList.remove("currentStartMark"),F.getAttribute("class").trim()===""&&F.removeAttribute("class")),!h(s.startContainer.previousSibling)&&!h(s.startContainer.previousSibling.parentElement)&&s.startContainer.parentElement===s.startContainer.previousSibling.parentElement&&s.startContainer.previousSibling.textContent.charCodeAt(0)===8203&&s.startContainer.previousSibling.textContent.length<=1&&(s.startContainer.previousSibling.textContent=s.startContainer.previousSibling.textContent.replace(n,"")),s.endContainer.textContent.charCodeAt(s.endOffset)===8203&&(c=s.startOffset,s.endContainer.textContent=s.endContainer.textContent.replace(n,""),this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),s.startContainer,c))}},a.prototype.onKeyDown=function(t){var e=this,i,s=t.args;if(this.parent.inputElement.querySelectorAll(".e-cell-select").length>1&&(s.keyCode===8||s.keyCode===32||s.keyCode===13)){this.tableSelectionKeyAction(t),this.parent.autoResize();return}if(E.info.name==="chrome"&&(i=this.parent.getRange(),this.backSpaceCleanup(t,i),this.deleteCleanup(t,i)),s.keyCode===9&&this.parent.enableTabKey){if(this.parent.formatter.saveData(t),!h(s.target)&&h(M(s.target,".e-rte-toolbar"))){var n=this.nodeSelectionObj.getRange(this.contentRenderer.getDocument()),r=this.nodeSelectionObj.getParentNodeCollection(n);if(!(r[0].nodeName==="LI"||M(r[0],"li")||M(r[0],"table"))){s.preventDefault();var o=this.contentRenderer.getDocument().getSelection().getRangeAt(0),l=this.parent.formatter.editorManager.domNode.blockNodes();if(this.parent.enterKey==="BR")if(o.startOffset!==o.endOffset&&o.startOffset===0){var c=this.nodeSelectionObj.save(n,this.contentRenderer.getDocument());this.parent.formatter.editorManager.domNode.setMarker(c),l=this.parent.formatter.editorManager.domNode.blockNodes(),this.parent.formatter.editorManager.domNode.convertToBlockNodes(l,!1),this.marginTabAdd(s.shiftKey,l),c=this.parent.formatter.editorManager.domNode.saveMarker(c),c.restore()}else Bt.Insert(this.contentRenderer.getDocument(),"&nbsp;&nbsp;&nbsp;&nbsp;"),this.rangeCollection.push(this.nodeSelectionObj.getRange(this.contentRenderer.getDocument()));else if(!s.shiftKey)o.startOffset!==o.endOffset&&o.startOffset===0?this.marginTabAdd(s.shiftKey,l):(Bt.Insert(this.contentRenderer.getDocument(),"&nbsp;&nbsp;&nbsp;&nbsp;"),this.rangeCollection.push(this.nodeSelectionObj.getRange(this.contentRenderer.getDocument())));else if(this.rangeCollection.length>0&&this.rangeCollection[this.rangeCollection.length-1].startContainer.textContent.length===4){var d=this.rangeCollection[this.rangeCollection.length-1].startContainer;this.nodeSelectionObj.setSelectionText(this.contentRenderer.getDocument(),d,d,0,d.textContent.length),Bt.Insert(this.contentRenderer.getDocument(),document.createTextNode("")),this.rangeCollection.pop()}else this.marginTabAdd(s.shiftKey,l)}}this.parent.formatter.saveData(t)}if((t.args.action==="space"||t.args.action==="enter"||t.args.keyCode===13)&&(this.spaceLink(t.args),this.parent.editorMode==="HTML"&&!this.parent.readonly)){var p=this.parent.getText().trim().replace(/(\r\n|\n|\r|\t)/gm,"").replace(/\u200B/g,"").length,u=this.parent.getSelection().length,f=p-u+1;if(!(this.parent.maxLength===-1||f<=this.parent.maxLength)&&t.args.keyCode===13){t.args.preventDefault();return}else this.parent.notify(Ac,{args:t.args}),Po(this.parent.contentModule.getDocument(),this.parent.inputElement)}if(t.args.action==="space"){var m=this.parent.getRange(),g=m.startContainer.textContent.slice(0,m.startOffset),b=this.isOrderedList(g),S=this.isUnOrderedList(g);if(b&&!S||S&&!b){var T={callBack:null,event:t.args,name:"keydown-handler"},I={cancel:!1,item:{command:"Lists",subCommand:b?"OL":"UL"},name:"actionBegin",originalEvent:t.args,requestType:b?"OL":"UL"};this.parent.trigger(bt,I,function(w){w.cancel||(e.parent.formatter.editorManager.observer.notify(Pd,T),e.parent.trigger(vi,{editorMode:e.parent.editorMode,elements:e.parent.formatter.editorManager.domNode.blockNodes(),event:t.args,name:vi,range:e.parent.getRange(),requestType:b?"OL":"UL"}))})}}E.info.name==="chrome"&&(!h(this.rangeElement)&&!h(this.oldRangeElement)||!h(this.deleteRangeElement)&&!h(this.deleteOldRangeElement))&&i.startContainer.parentElement.tagName!=="TD"&&i.startContainer.parentElement.tagName!=="TH"&&(this.rangeElement=null,this.oldRangeElement=null,this.deleteRangeElement=null,this.deleteOldRangeElement=null,this.isImageDelete||s.preventDefault(),s.preventDefault()),this.parent.autoResize()},a.prototype.isOrderedList=function(t){t=t.replace(/\u200B/g,"");var e=[/^[1]+[.]+$/,/^[i]+[.]+$/,/^[a]+[.]+$/];if(!h(t)){for(var i=0;i<e.length;i++)if(e[i].test(t))return!0}return!1},a.prototype.isUnOrderedList=function(t){t=t.replace(/\u200B/g,"");var e=[/^[*]$/,/^[-]$/];if(!h(t)){for(var i=0;i<e.length;i++)if(e[i].test(t))return!0}return!1},a.prototype.backSpaceCleanup=function(t,e){var i=!1,s=!0;!h(e.startContainer.previousSibling)&&e.startContainer.previousSibling.nodeName==="SPAN"&&(s=e.startContainer.previousSibling.contentEditable!=="false");var n=e.startContainer.nodeName==="#text"?e.startContainer.parentElement:e.startContainer,r=M(e.startContainer.nodeName==="#text"?e.startContainer.parentElement:e.startContainer,"li")?n.nodeName!=="li"&&h(n.previousSibling):!0;if(t.args.code==="Backspace"&&t.args.keyCode===8&&e.startOffset===0&&e.endOffset===0&&this.parent.getSelection().length===0&&e.startContainer.textContent.length>0&&e.startContainer.parentElement.tagName!=="TD"&&e.startContainer.parentElement.tagName!=="TH"&&s&&r){if(!this.parent.formatter.editorManager.domNode.isBlockNode(n)&&!h(n.previousSibling)&&n.previousSibling.nodeName==="BR"||!h(e.startContainer.previousSibling)&&e.startContainer.previousSibling.nodeName==="BR")return;if(this.rangeElement=this.getRootBlockNode(e.startContainer),this.rangeElement.tagName==="OL"||this.rangeElement.tagName==="UL"){var o=this.getRangeLiNode(e.startContainer);o.previousElementSibling&&o.previousElementSibling.childElementCount>0&&(this.oldRangeElement=o.previousElementSibling.lastElementChild.nodeName==="BR"?o.previousElementSibling:o.previousElementSibling.lastChild,!h(o.lastElementChild)&&o.lastElementChild.nodeName!=="BR"&&h(o.lastElementChild.previousSibling)&&o.lastChild.nodeName!=="#text"?(this.rangeElement=o.lastElementChild,i=!0):this.rangeElement=o)}else{if(this.rangeElement===this.parent.inputElement||this.rangeElement.tagName==="TABLE"||!h(this.rangeElement.previousElementSibling)&&this.rangeElement.previousElementSibling.tagName==="TABLE")return;this.oldRangeElement=this.rangeElement.previousElementSibling}if(h(this.oldRangeElement))return;(this.oldRangeElement.tagName==="OL"||this.oldRangeElement.tagName==="UL")&&(this.oldRangeElement=this.oldRangeElement.lastElementChild.lastElementChild?this.oldRangeElement.lastElementChild.lastElementChild:this.oldRangeElement.lastElementChild);for(var l=this.oldRangeElement.lastChild?this.oldRangeElement.lastChild:this.oldRangeElement;l.nodeType!==3&&l.nodeName!=="#text"&&l.nodeName!=="BR"&&!h(l.lastChild);)l=l.lastChild;if(l.nodeName==="IMG"?this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),l.parentElement,l.parentElement.childNodes.length):this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),l,l.textContent.length),this.oldRangeElement.nodeName!=="#text"&&this.oldRangeElement.querySelectorAll("BR").length===1&&N(this.oldRangeElement.querySelector("BR")),!h(this.rangeElement)&&this.oldRangeElement!==this.rangeElement){for(;this.rangeElement.firstChild;)this.oldRangeElement.nodeName==="#text"?this.oldRangeElement.parentElement.appendChild(this.rangeElement.childNodes[0]):this.oldRangeElement.appendChild(this.rangeElement.childNodes[0]);i?N(this.rangeElement.parentElement):N(this.rangeElement),this.oldRangeElement.normalize()}}},a.prototype.deleteCleanup=function(t,e){var i=!1,s,n;if(t.args.code==="Delete"&&t.args.keyCode===46&&this.parent.contentModule.getText().trim().replace(/(\r\n|\n|\r|\t)/gm,"").replace(/\u200B/g,"").length!==0&&this.parent.getSelection().length===0&&e.startContainer.parentElement.tagName!=="TD"&&e.startContainer.parentElement.tagName!=="TH"){if(this.deleteRangeElement=n=this.getRootBlockNode(e.startContainer),this.deleteRangeElement.tagName==="OL"||this.deleteRangeElement.tagName==="UL")s=this.getRangeLiNode(e.startContainer),s.nextElementSibling&&s.nextElementSibling.childElementCount>0&&!s.nextElementSibling.querySelector("BR")?h(s.lastElementChild)?this.deleteRangeElement=s:(this.deleteRangeElement=s.lastElementChild,i=!0):this.deleteRangeElement=this.getRangeElement(s);else if(this.deleteRangeElement.nodeType===3||this.deleteRangeElement.tagName==="TABLE"||!h(this.deleteRangeElement.nextElementSibling)&&this.deleteRangeElement.nextElementSibling.tagName==="TABLE")return;var r=!1;if(this.deleteRangeElement.querySelectorAll("img").length>0&&this.deleteRangeElement.textContent.trim()===""&&(r=!0),this.getCaretIndex(e,this.deleteRangeElement)===this.deleteRangeElement.textContent.length&&!r){if(h(s)?this.deleteOldRangeElement=this.deleteRangeElement.nextElementSibling:i||!h(s.nextElementSibling)?this.deleteOldRangeElement=this.getRangeElement(s.nextElementSibling):this.deleteOldRangeElement=n.nextElementSibling,h(this.deleteOldRangeElement))return;e.startOffset===0&&e.endOffset===1&&this.deleteRangeElement.childNodes[0].nodeName==="IMG"?(this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.parent.contentModule.getDocument(),this.deleteRangeElement,this.deleteRangeElement,0,1),this.isImageDelete=!0):(this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),this.deleteRangeElement,this.deleteRangeElement.childNodes.length),this.isImageDelete=!1);var o=this.deleteRangeElement.querySelector("BR");if(o&&o.classList.contains("e-rte-image-remove-focus")){k([o],["e-rte-image-focus"]);return}else o&&(N(o),t.args.preventDefault());if(!h(this.deleteRangeElement)&&this.deleteOldRangeElement.tagName!=="OL"&&this.deleteOldRangeElement.tagName!=="UL"&&this.deleteOldRangeElement!==this.deleteRangeElement){for(;this.deleteOldRangeElement.firstChild;)this.deleteRangeElement.appendChild(this.deleteOldRangeElement.childNodes[0]);i?N(this.deleteOldRangeElement.parentElement):N(this.deleteOldRangeElement),this.deleteRangeElement.normalize()}else this.deleteRangeElement=null,this.deleteOldRangeElement=null}else this.deleteRangeElement=null}},a.prototype.getCaretIndex=function(t,e){var i=0;if(this.parent.contentModule.getDocument().getSelection().rangeCount!==0){var s=t.cloneRange();s.selectNodeContents(e),s.setEnd(t.endContainer,t.endOffset),i=s.toString().length}return i},a.prototype.getRangeElement=function(t){var e=t.lastElementChild?t.lastElementChild.tagName==="BR"?t.lastElementChild.previousElementSibling?t.lastElementChild.previousElementSibling:t:t.lastElementChild:t;return e},a.prototype.getRootBlockNode=function(t){for(;t&&this.parent&&this.parent.inputElement!==t&&t.parentElement!==this.parent.inputElement;t=t)t=t.parentElement;return t},a.prototype.getRangeLiNode=function(t){for(var e=t.parentElement;e!==this.parent.inputElement&&!(e.nodeType===1&&e.tagName==="LI");)e=e.parentElement;return e},a.prototype.onPaste=function(t){var e=new RegExp(/([^\S]|^)(((https?\:\/\/)|(www\.))(\S+))/gi);if(t.text.match(e)){if(t.isWordPaste)return;t.args.preventDefault();for(var i=this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()),s=this.parent.formatter.editorManager.nodeSelection.save(i,this.parent.contentModule.getDocument()),n=new RegExp(/([^\S]|^)(((https?\:\/\/)))/gi),r=new RegExp(/([^\S]|^)(((www\.))(\S+))/gi),o=t.text.split(`
`),l="",c=0;c<o.length;c++)if(o[c].trim()==="")l+=Zd(this.parent);else{for(var d="",p=!0,u=o[c].split(" "),f=0;f<u.length;f++)u[f].trim()===""?d+=p?"&nbsp;":" ":(p=!1,d+=u[f]+" ");c===0?l+="<span>"+d.trim()+"</span>":l+="<p>"+d.trim()+"</p>"}var m=this.parent.createElement("div");m.setAttribute("class","pasteContent"),m.style.display="inline",m.innerHTML=l.replace("&para","&amp;para");for(var g=m.querySelectorAll("span, p"),c=0;c<g.length;c++){for(var b=g[c].innerHTML.split(" "),S="",f=0;f<b.length;f++)b[f].match(n)||b[f].match(r)?S+='<a class="e-rte-anchor" href="'+b[f]+'" title="'+b[f]+'" target="_blank" aria-label="'+this.parent.serviceLocator.getService("rteLocale").getConstant("linkAriaLabel")+'">'+b[f]+" </a>":S+=b[f]+" ";g[c].innerHTML=S.trim()}var T=m.childNodes[0];!h(T)&&!h(T.childNodes[0])&&T.nodeName==="SPAN"&&T.childNodes[0].nodeName==="A"&&(m.innerHTML=m.innerHTML.replace("<span>","").replace("</span>","")),h(this.parent.pasteCleanupModule)?this.parent.formatter.editorManager.execCommand("insertHTML",null,null,null,m):t.callBack(m.innerHTML)}},a.prototype.spaceLink=function(t){var e=this.nodeSelectionObj.getRange(this.contentRenderer.getDocument()),i=this.nodeSelectionObj.getParentNodeCollection(e),s=e.startContainer.textContent.substr(0,e.endOffset),n=s.split(" "),r=n[n.length-1],o=e.startOffset-(s.length-n[n.length-1].length);r=r.slice(0,o);var l=new RegExp(/([^\S]|^)(((https?\:\/\/)|(www\.))(\S+))/gi);if(i[0].nodeName!=="A"&&r.match(l)){var c=this.nodeSelectionObj.save(e,this.parent.contentModule.getDocument()),d=r.indexOf("http")>-1?r:"http://"+r,p=this.parent.formatter.editorManager.nodeSelection.getParentNodeCollection(e),u={url:d,selection:c,selectParent:p,text:r,title:"",target:"_blank"};this.parent.formatter.process(this.parent,{item:{command:"Links",subCommand:"CreateLink"}},t,u)}},a.prototype.onToolbarClick=function(t){var e=this,i,s,n,r=t.item,o=M(t.originalEvent.target,".e-rte-quick-popup"),l=t.originalEvent.target;if(this.parent.notify(ko,{target:l}),r.command!=="FormatPainter")if(o&&!o.classList.contains("e-rte-inline-popup")&&!o.classList.contains("e-rte-text-popup")){if(!(r.subCommand==="SourceCode"||r.subCommand==="Preview"||r.subCommand==="FontColor"||r.subCommand==="BackgroundColor")){vt()&&r.command==="Images"&&this.nodeSelectionObj.restore();var c=this.nodeSelectionObj.getRange(this.parent.contentModule.getDocument());i=this.nodeSelectionObj.save(c,this.parent.contentModule.getDocument()),s=this.nodeSelectionObj.getNodeCollection(c),n=this.nodeSelectionObj.getParentNodeCollection(c)}r.command==="Images"&&this.parent.notify(Cc,{member:"image",args:t,selectNode:s,selection:i,selectParent:n}),r.command==="Audios"&&this.parent.notify(Mc,{member:"audio",args:t,selectNode:s,selection:i,selectParent:n}),r.command==="Videos"&&this.parent.notify(Sc,{member:"video",args:t,selectNode:s,selection:i,selectParent:n}),r.command==="Links"&&this.parent.notify(Ec,{member:"link",args:t,selectNode:s,selection:i,selectParent:n}),r.command==="Table"&&this.parent.notify(Oc,{member:"table",args:t,selectNode:s,selection:i,selectParent:n})}else{var d=document.getElementById(this.parent.getID()+"_rtelink"),p=document.getElementById(this.parent.getID()+"_image");if(!(r.subCommand==="SourceCode"||r.subCommand==="Preview"||r.subCommand==="FontColor"||r.subCommand==="BackgroundColor")){var c=this.nodeSelectionObj.getRange(this.parent.contentModule.getDocument());h(d)&&h(p)&&(i=this.nodeSelectionObj.save(c,this.parent.contentModule.getDocument())),s=this.nodeSelectionObj.getNodeCollection(c),n=this.nodeSelectionObj.getParentNodeCollection(c)}switch(r.subCommand){case"Maximize":this.parent.notify(gc,{args:t});break;case"Minimize":this.parent.notify(vc,{args:t});break;case"CreateLink":this.parent.notify(Tc,{member:"link",args:t,selectNode:s,selection:i,selectParent:n});break;case"RemoveLink":this.parent.notify(ao,{member:"link",args:t,selectNode:s,selection:i,selectParent:n});break;case"Print":this.parent.print();break;case"Image":this.parent.notify(oo,{member:"image",args:t,selectNode:s,selection:i,selectParent:n});break;case"Audio":this.parent.notify(lo,{member:"audio",args:t,selectNode:s,selection:i,selectParent:n});break;case"Video":this.parent.notify(ho,{member:"video",args:t,selectNode:s,selection:i,selectParent:n});break;case"CreateTable":this.parent.notify(wc,{member:"table",args:t,selection:i});break;case"SourceCode":this.parent.notify(Do,{member:"viewSource",args:t});break;case"Preview":this.parent.notify(Nc,{member:"updateSource",args:t});break;case"FontColor":case"BackgroundColor":break;case"File":this.parent.notify(Dg,{member:"fileManager",args:t,selectNode:s,selection:i,selectParent:n});break;case"EmojiPicker":this.parent.notify(Lg,{member:"emojiPicker",args:t});break;default:this.parent.formatter.process(this.parent,t,t.originalEvent,null);break}}else t.originalEvent.detail===1?(clearTimeout(this.clickTimeout),this.clickTimeout=setTimeout(function(){e.parent.notify(j0,{member:"formatPainter",args:t})},200)):(clearTimeout(this.clickTimeout),this.parent.notify(R0,{member:"formatPainter",args:t}))},a.prototype.instantiateRenderer=function(){this.parent.iframeSettings.enable?this.renderFactory.addRenderer(Ce.Content,new rS(this.parent)):this.renderFactory.addRenderer(Ce.Content,new Rg(this.parent))},a.prototype.removeEventListener=function(){this.parent.off(Ct,this.render),this.parent.off(gt,this.onPropertyChanged),this.parent.off(fc,this.onToolbarClick),this.parent.off(Ee,this.destroy),this.parent.off(pt,this.onKeyDown),this.parent.off(dc,this.instantiateRenderer),this.parent.off(Ic,this.selectAll),this.parent.off(wo,this.selectRange),this.parent.off(Dc,this.getSelectedHtml),this.parent.off(ti,this.onSelectionSave),this.parent.off(ii,this.onSelectionRestore),this.parent.off(xc,this.updateReadOnly),this.parent.off(Ln,this.onPaste),this.parent.off(jr,this.isTableClassAdded)},a.prototype.render=function(){this.contentRenderer=this.renderFactory.getRenderer(Ce.Content);var t=this.contentRenderer.getEditPanel(),e={undoRedoSteps:this.parent.undoRedoSteps,undoRedoTimer:this.parent.undoRedoTimer};if(h(this.parent.formatter)){var i=new BS({currentDocument:this.contentRenderer.getDocument(),element:t,options:e,formatPainterSettings:this.parent.formatPainterSettings});this.parent.setProperties({formatter:i},!0)}else this.parent.formatter.updateFormatter(t,this.contentRenderer.getDocument(),e);this.parent.enableXhtml&&this.parent.notify(Ur,{}),this.parent.toolbarSettings.enable&&(this.toolbarUpdate=new yg(this.parent)),this.parent.inlineMode.enable&&(h(this.parent.fontFamily.default)||(t.style.fontFamily=this.parent.fontFamily.default),h(this.parent.fontSize.default)||(t.style.fontSize=this.parent.fontSize.default)),this.parent.notify(uc,{})},a.prototype.onPropertyChanged=function(t){if(!h(t)&&!h(t.newProp.toolbarSettings)&&!h(t.newProp.toolbarSettings.enable)&&(this.toolbarUpdate=new yg(this.parent)),!h(t.newProp.formatter)){var e=this.contentRenderer.getEditPanel(),i={undoRedoSteps:this.parent.undoRedoSteps,undoRedoTimer:this.parent.undoRedoTimer};this.parent.formatter.updateFormatter(e,this.contentRenderer.getDocument(),i)}},a.prototype.getModuleName=function(){return"htmlEditor"},a.prototype.selectAll=function(){var t=kg(this.parent.contentModule.getDocument(),this.parent.contentModule.getEditPanel());t.length>0&&this.parent.formatter.editorManager.nodeSelection.setSelectionText(this.parent.contentModule.getDocument(),t[0],t[t.length-1],0,t[t.length-1].textContent.length)},a.prototype.selectRange=function(t){this.parent.formatter.editorManager.nodeSelection.setRange(this.parent.contentModule.getDocument(),t.range)},a.prototype.getSelectedHtml=function(t){t.callBack(this.parent.formatter.editorManager.nodeSelection.getRange(this.parent.contentModule.getDocument()).toString())},a.prototype.tableSelectionKeyAction=function(t){for(var e=t.args,i=this.parent.inputElement.querySelectorAll(".e-cell-select"),s=0;s<i.length;s++){var n=i[s];Ue([n],[zt,Xd,Gd]),s===0?(e.keyCode===32?n.innerHTML="&#8203;<br>":n.innerHTML="<br>",this.nodeSelectionObj.setCursorPoint(this.parent.contentModule.getDocument(),n.firstChild,0)):n.innerHTML="<br>"}},a.prototype.marginTabAdd=function(t,e){for(var i=0;i<e.length;i++){var s=e[i];if(!s.closest("li"))if(s.style.marginLeft){var n=parseInt(s.style.marginLeft,10);t?n-=20:n+=20,s.style.marginLeft=n.toString()+"px",s.style.marginLeft==="0px"&&s.removeAttribute("style")}else t||(s.style.marginLeft="20px")}},a}(),Xg=function(){function a(t,e){this.inlineNode=["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","font","i","iframe","img","input","ins","kbd","label","map","mark","meter","noscript","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"],this.blockNode=["div","h1","h2","h3","h4","h5","h6","address","blockquote","button","center","dd","dir","dl","dt","fieldset","frameset","hr","iframe","isindex","li","map","menu","noframes","noscript","object","ol","pre","td","tr","th","tbody","tfoot","thead","table","ul","header","article","nav","footer","section","aside","main","figure","figcaption"],this.isNotFromHtml=!1,this.containsHtml=!1,this.cropImageData=[],this.parent=t,this.locator=e,this.renderFactory=this.locator.getService("rendererFactory"),this.i10n=e.getService("rteLocale"),this.dialogRenderObj=e.getService("dialogRenderObject"),this.addEventListener(),this.isDestroyed=!1}return a.prototype.addEventListener=function(){this.nodeSelectionObj=new Lt,!this.parent.isDestroyed&&(this.parent.on(kc,this.pasteClean,this),this.parent.on(ot,this.setCssClass,this),this.parent.on(Ee,this.destroy,this),this.parent.on(Hr,this.docClick,this))},a.prototype.destroy=function(){this.isDestroyed||(this.fireFoxUploadTime&&(clearTimeout(this.fireFoxUploadTime),this.fireFoxUploadTime=null),this.refreshPopupTime&&(clearTimeout(this.refreshPopupTime),this.refreshPopupTime=null),this.popupCloseTime&&(clearTimeout(this.popupCloseTime),this.popupCloseTime=null),this.failureTime&&(clearTimeout(this.failureTime),this.failureTime=null),this.iframeUploadTime&&(clearTimeout(this.iframeUploadTime),this.iframeUploadTime=null),this.removeEventListener(),this.popupObj&&!this.popupObj.isDestroyed&&(this.popupObj.destroy(),this.popupObj=null),this.uploadObj&&!this.uploadObj.isDestroyed&&(this.uploadObj.destroy(),this.uploadObj=null),this.keepRadioButton&&!this.keepRadioButton.isDestroyed&&(this.keepRadioButton.destroy(),this.keepRadioButton=null),this.cleanRadioButton&&!this.cleanRadioButton.isDestroyed&&(this.cleanRadioButton.destroy(),this.cleanRadioButton=null),this.plainTextRadioButton&&!this.plainTextRadioButton.isDestroyed&&(this.plainTextRadioButton.destroy(),this.plainTextRadioButton=null),this.isDestroyed=!0)},a.prototype.removeEventListener=function(){this.parent.off(kc,this.pasteClean),this.parent.off(ot,this.setCssClass),this.parent.off(Ee,this.destroy),this.parent.off(Hr,this.docClick)},a.prototype.pasteClean=function(t){var e=this,i={requestType:"Paste",editorMode:this.parent.editorMode,event:t},s=null,n=!1,r;if(t.args&&!h(t.args.clipboardData)&&(s=t.args.clipboardData.getData("text/html")),this.parent.trigger(A0,{value:s}),t.args&&s!==null&&this.parent.editorMode==="HTML"){var o=void 0;if(s.length===0){var l=new RegExp(/<\/[a-z][\s\S]*>/i);if(s=t.args.clipboardData.getData("text/plain"),this.isNotFromHtml=s!=="",s=s.replace(/</g,"&lt;"),s=s.replace(/>/g,"&gt;"),this.containsHtml=l.test(s),o=t&&t.args.clipboardData&&t.args.clipboardData.items.length>0?t.args.clipboardData.items[0].getAsFile()===null?h(t.args.clipboardData.items[1])?null:t.args.clipboardData.items[1].getAsFile():t.args.clipboardData.items[0].getAsFile():null,this.parent.notify(Ln,{file:o,args:t.args,text:s,callBack:function(b){r=b,typeof r=="object"?e.parent.formatter.editorManager.execCommand("Images","Image",t.args,e.imageFormatting.bind(e,i),"pasteCleanup",r,"pasteCleanupModule"):s=r}}),!l.test(s)){var c=this.parent.createElement("div");c.innerHTML=this.splitBreakLine(s),s=c.innerHTML,n=!0}}else s.length>0&&this.parent.formatter.editorManager.observer.notify(zd,{args:t.args,text:t.text,allowedStylePropertiesArray:this.parent.pasteCleanupSettings.allowedStyleProps,callBack:function(b,S,T){i.pasteTableSource=T,s=b.trim(),e.cropImageData=S}});this.contentRenderer=this.renderFactory.getRenderer(Ce.Content);var d=this.contentRenderer.getDocument(),p=this.nodeSelectionObj.getRange(d);this.saveSelection=this.nodeSelectionObj.save(p,d);var u=this.parent.createElement("div");u.innerHTML=s;for(var f=u.querySelectorAll(".e-rte-image-unsupported"),m=0;m<f.length;m++)f[m].setAttribute("alt",this.i10n.getConstant("unsupportedImage")),f[m].classList.remove("e-rte-image-unsupported");s=u.innerHTML;var g=u.textContent!==""||!h(u.querySelector("img"))||!h(u.querySelector("table"));this.parent.notify($c,{value:s,callBack:function(b){s=b}}),this.parent.pasteCleanupSettings.prompt?g&&(t.args.preventDefault(),this.pasteDialog(s,i,n)):this.parent.pasteCleanupSettings.plainText?(t.args.preventDefault(),this.plainFormatting(s,i,n)):this.parent.pasteCleanupSettings.keepFormat?(t.args.preventDefault(),this.formatting(s,!1,i)):(t.args.preventDefault(),this.formatting(s,!0,i))}},a.prototype.splitBreakLine=function(t){for(var e=t.split(`
`),i="",s=this.parent.enterKey==="P"?"<p>":this.parent.enterKey==="DIV"?"<div>":"",n=this.parent.enterKey==="P"?"</p>":this.parent.enterKey==="DIV"?"</div>":"<br>",r=0;r<e.length;r++)if(e[r].trim()==="")i+=Zd(this.parent);else{var o=this.makeSpace(e[r]);i+=(r===0&&this.parent.enterKey!=="BR"?"<span>":s)+(o.trim()===""?"<br>":o.trim())+(e.length-1===r&&this.parent.enterKey==="BR"?"":r===0&&this.parent.enterKey!=="BR"?"</span>":n)}return i},a.prototype.makeSpace=function(t){var e="",i=!0;t=t.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");for(var s=t.split(" "),n=0;n<s.length;n++)s[n].trim()===""?e+=i?"&nbsp;":" ":(i=!1,e+=s[n]+" ");return e},a.prototype.imgUploading=function(t){var e=t.querySelectorAll(".pasteContent_Img");if(this.parent.insertImageSettings.saveUrl&&e.length>0){for(var i=[],s=[],n=[],r=0;r<e.length;r++)!h(e[r].getAttribute("src"))&&e[r].getAttribute("src").split(",")[0].indexOf("base64")>=0&&(i.push(e[r].getAttribute("src")),s.push(Ae("rte_image")),n.push(e[r]));for(var o=[],r=0;r<i.length;r++)o.push(this.base64ToFile(i[r],s[r]));for(var r=0;r<o.length;r++)this.uploadMethod(o[r],n[r]);h(this.parent.insertImageSettings.path)&&this.parent.insertImageSettings.saveFormat==="Blob"&&this.getBlob(e)}else this.parent.insertImageSettings.saveFormat==="Blob"&&this.getBlob(e);for(var l=t.querySelectorAll(".pasteContent_Img"),r=0;r<l.length;r++)l[r].classList.remove("pasteContent_Img"),l[r].getAttribute("class").trim()===""&&e[r].removeAttribute("class")},a.prototype.getBlob=function(t){for(var e=0;e<t.length;e++)if(!h(t[e].getAttribute("src"))&&t[e].getAttribute("src").split(",")[0].indexOf("base64")>=0){var i=URL.createObjectURL(Dn(t[e].getAttribute("src")));t[e].setAttribute("src",i)}},a.prototype.toolbarEnableDisable=function(t){this.parent.inlineMode.enable||this.parent.toolbarModule.baseToolbar.toolbarObj.disable(t)},a.prototype.uploadMethod=function(t,e){var i=this;e.style.opacity="0.5";var s=this.parent.createElement("div");this.parent.rootContainer.appendChild(s);var n=this.parent.createElement("input",{id:this.parent.getID()+"_upload",attrs:{type:"File",name:"UploadFiles"}}),r=this.parent.iframeSettings.enable?-50:-90;this.popupObj=new jt(s,{relateTo:e,height:"85px",width:"300px",offsetY:r,content:n,viewPortElement:this.parent.element,position:{X:"center",Y:"top"},enableRtl:this.parent.enableRtl,zIndex:10001,close:function(c){i.parent.isBlur=!1,i.popupObj.destroy(),N(i.popupObj.element)}}),this.popupObj.element.style.display="none",L([this.popupObj.element],[ld,Og]),h(this.parent.cssClass)||L([this.popupObj.element],this.parent.cssClass.replace(/\s+/g," ").trim().split(" "));var o=t.size>1e6?300:100;this.refreshPopupTime=setTimeout(function(){i.refreshPopup(e,i.popupObj)},o),this.uploadObj=new bn({asyncSettings:{saveUrl:this.parent.insertImageSettings.saveUrl,removeUrl:this.parent.insertImageSettings.removeUrl},cssClass:xg,dropArea:this.parent.inputElement,allowedExtensions:this.parent.insertImageSettings.allowedTypes.toString(),success:function(c){i.popupClose(i.popupObj,i.uploadObj,e,c)},uploading:function(c){i.parent.isServerRendered||i.parent.trigger(jc,c,function(d){d.cancel?(h(e)||N(e),h(i.popupObj.element)||N(i.popupObj.element)):i.parent.inputElement.contentEditable="false"})},beforeUpload:function(c){i.parent.trigger(Bc,c),i.toolbarEnableDisable(!0)},failure:function(c){i.failureTime=setTimeout(function(){i.uploadFailure(e,i.uploadObj,i.popupObj,c)},900)},canceling:function(){i.parent.inputElement.contentEditable="true",e.nextSibling.textContent===" "&&N(e.nextSibling),N(e),i.popupObj.close()},selected:function(c){c.cancel=!0},removing:function(){i.parent.inputElement.contentEditable="true",e.nextSibling.textContent===" "&&N(e.nextSibling),N(e),i.popupObj.close()}}),this.uploadObj.appendTo(this.popupObj.element.childNodes[0]);var l=[{name:t.name,rawFile:t,size:t.size,type:t.type,status:"Ready to Upload",validationMessages:{minSize:"",maxSize:""},statusCode:"1"}];this.uploadObj.createFileList(l),this.uploadObj.upload(l),this.popupObj.element.getElementsByClassName("e-file-select-wrap")[0].style.display="none",N(this.popupObj.element.querySelector(".e-rte-dialog-upload .e-file-select-wrap"))},a.prototype.uploadFailure=function(t,e,i,s){this.parent&&this.parent.isDestroyed||(this.parent.inputElement.contentEditable="true",N(t),i&&i.close(),this.parent.trigger(zc,s),e&&document.body.contains(e.element)&&e.destroy())},a.prototype.popupClose=function(t,e,i,s){var n=this;this.parent.inputElement.contentEditable="true",s.element=i,s.detectImageSource=jo.Pasted;var r=s.file;r.statusCode==="2"?this.parent.trigger(Rc,s,function(o){if(!h(n.parent.insertImageSettings.path)){var l=n.parent.insertImageSettings.path+o.file.name;i.src=l,i.setAttribute("alt",o.file.name)}}):r.statusCode==="5"&&this.parent.trigger(Cg,s,function(o){h(o.element.src)||(o.element.src="")}),this.popupCloseTime=setTimeout((function(){t.close(),i.style.opacity="1",this.toolbarEnableDisable(!1),e&&document.body.contains(e.element)&&e.destroy()}).bind(this),1500)},a.prototype.refreshPopup=function(t,e){var i=this.parent.iframeSettings.enable?this.parent.element.offsetTop+t.offsetTop:t.offsetTop,s=this.parent.element.offsetTop+this.parent.element.offsetHeight;i>s?(e.relateTo=this.parent.inputElement,e.offsetY=this.parent.iframeSettings.enable?-30:-65,e.element.style.display="block"):e&&(e.refreshPosition(t),e.element.style.display="block")},a.prototype.base64ToFile=function(t,e){for(var i=t.split(","),s=i[0].match(/:(.*?);/)[1],n=s.split("/")[1],r=atob(i[1]),o=r.length,l=new Uint8Array(o);o--;)l[o]=r.charCodeAt(o);if(E.isIE||navigator.appVersion.indexOf("Edge")>-1){var c=new Blob([l],{type:n});return ue(c,{name:e+"."+(h(n)?"":n)}),c}else return new File([l],e+"."+(h(n)?"":n),{type:n})},a.prototype.imageFormatting=function(t,e){h(e.elements[0].getAttribute("src"))||e.elements[0].classList.add("pasteContent_Img");var i=this.parent.createElement("span");i.appendChild(e.elements[0]);var s=i.innerHTML;this.contentRenderer=this.renderFactory.getRenderer(Ce.Content);var n=this.contentRenderer.getDocument(),r=this.nodeSelectionObj.getRange(n);this.saveSelection=this.nodeSelectionObj.save(r,n),this.parent.pasteCleanupSettings.prompt?this.pasteDialog(s,t,!1):this.parent.pasteCleanupSettings.plainText?this.plainFormatting(s,t,!1):this.parent.pasteCleanupSettings.keepFormat?this.formatting(s,!1,t):this.formatting(s,!0,t)},a.prototype.radioRender=function(){this.keepRadioButton=new nn({label:this.i10n.getConstant("keepFormat"),name:"pasteOption",checked:!0}),this.keepRadioButton.isStringTemplate=!0;var t=this.parent.element.querySelector("#keepFormating");this.keepRadioButton.appendTo(t),this.cleanRadioButton=new nn({label:this.i10n.getConstant("cleanFormat"),name:"pasteOption"}),this.cleanRadioButton.isStringTemplate=!0;var e=this.parent.element.querySelector("#cleanFormat");this.cleanRadioButton.appendTo(e),this.plainTextRadioButton=new nn({label:this.i10n.getConstant("plainText"),name:"pasteOption"}),this.plainTextRadioButton.isStringTemplate=!0;var i=this.parent.element.querySelector("#plainTextFormat");this.plainTextRadioButton.appendTo(i)},a.prototype.selectFormatting=function(t,e,i,s,n){i?this.formatting(t,!1,e):s?this.formatting(t,!0,e):this.plainFormatting(t,e,n)},a.prototype.pasteDialog=function(t,e,i){var s=this,n={buttons:[{click:function(){if(!s.dialogObj.isDestroyed){var o=s.parent.element.querySelector("#keepFormating").checked,l=s.parent.element.querySelector("#cleanFormat").checked;s.dialogObj.hide();var c=s.dialogObj;s.dialogRenderObj.close(c),s.dialogObj.destroy(),s.selectFormatting(t,e,o,l,i)}},buttonModel:{isPrimary:!0,cssClass:"e-flat "+oM,content:this.i10n.getConstant("pasteDialogOk")}},{click:function(){if(!s.dialogObj.isDestroyed){s.dialogObj.hide();var o=s.dialogObj;s.dialogRenderObj.close(o),s.dialogObj.destroy()}},buttonModel:{cssClass:"e-flat "+lM,content:this.i10n.getConstant("pasteDialogCancel")}}],header:this.i10n.getConstant("pasteFormat"),content:this.i10n.getConstant("pasteFormatContent")+'<br/><div><div style="padding-top:24px;"><input type="radio" class="'+nM+'" id="keepFormating"/></div><div style="padding-top:20px;"><input type="radio" class="'+rM+'" id="cleanFormat"/></div><div style="padding-top:20px;"><input type="radio" class="'+aM+'" id="plainTextFormat"/></div></div>',target:this.parent.element,width:"300px",height:"265px",cssClass:hM,isModal:E.isDevice,visible:!1};this.dialogObj=this.dialogRenderObj.render(n);var r=this.parent.element.querySelector("#"+this.parent.getID()+"_pasteCleanupDialog");r!==null&&r.innerHTML!==""&&this.destroyDialog(r),r===null&&(r=this.parent.createElement("div",{id:this.parent.getID()+"_pasteCleanupDialog"}),this.parent.rootContainer.appendChild(r)),this.dialogObj.appendTo(r),this.radioRender(),this.dialogObj.show(),this.setCssClass({cssClass:this.parent.getCssClass()})},a.prototype.updateCss=function(t,e){t&&e.cssClass&&(h(e.oldCssClass)?t.setProperties({cssClass:(t.cssClass+" "+e.cssClass).trim()}):t.setProperties({cssClass:(t.cssClass.replace(e.oldCssClass,"").trim()+" "+e.cssClass).trim()}))},a.prototype.setCssClass=function(t){this.popupObj&&t.cssClass&&(h(t.oldCssClass)?L([this.popupObj.element],t.cssClass):(k([this.popupObj.element],t.oldCssClass),L([this.popupObj.element],t.cssClass))),this.updateCss(this.dialogObj,t),this.updateCss(this.uploadObj,t),this.updateCss(this.plainTextRadioButton,t),this.updateCss(this.cleanRadioButton,t),this.updateCss(this.keepRadioButton,t)},a.prototype.destroyDialog=function(t){var e=this.parent.element.querySelector(".e-rte-dialog-minheight");N(e);for(var i=t.children.length,s=0;s<i;s++)N(t.children[0])},a.prototype.docClick=function(t){var e=t.args.target;e&&e.classList&&this.dialogObj&&!M(e,"[id='"+this.dialogObj.element.id+"']")&&!e.classList.contains("e-toolbar-item")&&this.dialogObj&&this.dialogObj.hide()},a.prototype.cleanAppleClass=function(t){for(var e=t.querySelectorAll("br.Apple-interchange-newline"),i=0;i<e.length;i++)N(e[i]);return t},a.prototype.formatting=function(t,e,i){var s=this,n=this.parent.createElement("div",{className:"pasteContent",styles:"display:inline;"});this.isNotFromHtml&&this.containsHtml&&(t=this.splitBreakLine(t)),n.innerHTML=t,n=this.cleanAppleClass(n),this.parent.pasteCleanupSettings.deniedTags!==null&&(n=this.deniedTags(n)),e?n=this.deniedAttributes(n,e):this.parent.pasteCleanupSettings.deniedAttrs!==null&&(n=this.deniedAttributes(n,e)),this.parent.pasteCleanupSettings.allowedStyleProps!==null&&(n=this.allowedStyle(n)),this.saveSelection.restore();var r=n.innerHTML.split("&").join("&amp;");n.innerHTML=this.sanitizeHelper(r);for(var o=n.querySelectorAll("img"),l=0;l<o.length;l++)h(o[l].getAttribute("src"))||o[l].classList.add("pasteContent_Img"),this.setImageProperties(o[l]);if(this.addTempClass(n),n.querySelectorAll("picture").length>0&&this.processPictureElement(n),n.textContent!==""||!h(n.querySelector("img"))||!h(n.querySelector("table"))){var c=this.parent.createElement("div");c.innerHTML=t;var d=[];if(!h(c.querySelector("img"))){for(var p=c.querySelectorAll("img"),u=[],f=[],m=[],l=0;l<p.length;l++)p[l].getAttribute("src")&&p[l].getAttribute("src").split(",")[0].indexOf("base64")>=0&&(u.push(p[l].getAttribute("src")),f.push(Ae("rte_image")),m.push(p[l]));for(var g=[],b=void 0,l=0;l<u.length;l++)g.push(this.base64ToFile(u[l],f[l])),b={name:g[l].name,rawFile:g[l],size:g[l].size,type:g[l].type,status:"",validationMessages:{minSize:"",maxSize:""},statusCode:"1"},d.push(b)}this.parent.trigger(Am,{value:n.innerHTML,filesData:d},function(S){t=S.value}),n.innerHTML=this.parent.addAnchorAriaLabel(t),n=this.addTableClass(n,i.pasteTableSource),this.parent.formatter.editorManager.execCommand("inserthtml","pasteCleanup",i,function(S){ue(i,{elements:S.elements,imageElements:S.imgElem},!0),s.parent.formatter.onSuccess(s.parent,i)},n,null,null,this.parent.enterKey),this.parent.notify(td,{}),Po(this.parent.contentModule.getDocument(),this.parent.inputElement),this.removeTempClass(),this.parent.notify(Ps,{}),this.cropImageHandler(this.parent.inputElement)}},a.prototype.convertBlobToBase64=function(t){for(var e=t.querySelectorAll("img"),i=function(n){if(e[n].getAttribute("src")&&e[n].getAttribute("src").startsWith("blob")){var r=e[n].getAttribute("src"),o=new Image,l=function(){var c=document.createElement("canvas"),d=c.getContext("2d");c.width=o.width,c.height=o.height,d.drawImage(o,0,0);var p=c.toDataURL("image/png");e[n].src=p,o.removeEventListener("load",l)};o.src=r,o.addEventListener("load",l)}},s=0;s<e.length;s++)i(s)},a.prototype.cropImageHandler=function(t){var e=this,i=t.querySelectorAll(".e-img-cropped");if(i.length>0)for(var s=function(r){if(i[r].getAttribute("src").split(",")[0].indexOf("base64")>=0){var o=new Image;o.src=i[r].getAttribute("src");var l=document.createElement("canvas"),c=l.getContext("2d");o.onload=function(){var d=e.cropImageData[r].goalWidth/o.naturalWidth,p=e.cropImageData[r].goalHeight/o.naturalHeight,u=e.cropImageData[r].cropLength/d,f=e.cropImageData[r].cropTop/p,m=(e.cropImageData[r].goalWidth-e.cropImageData[r].cropLength-e.cropImageData[r].cropR)/d,g=(e.cropImageData[r].goalHeight-e.cropImageData[r].cropTop-e.cropImageData[r].cropB)/p;l.width=m,l.height=g,c.drawImage(o,u,f,m,g,0,0,m,g);var b=l.toDataURL("image/png");i[r].setAttribute("src",b),i[r].classList.remove("e-img-cropped"),e.imgUploading(e.parent.inputElement),e.parent.iframeSettings.enable&&e.parent.updateValue()}}},n=0;n<i.length;n++)s(n);else!h(this.parent.insertImageSettings.saveUrl)&&!h(this.parent.insertImageSettings.path)&&this.parent.inputElement.querySelectorAll("img").length>0&&this.parent.inputElement.querySelectorAll("img")[0].src.startsWith("blob")?(this.convertBlobToBase64(this.parent.inputElement),this.iframeUploadTime=setTimeout(function(){e.imgUploading(e.parent.inputElement),e.parent.iframeSettings.enable&&e.parent.updateValue()},20)):(this.imgUploading(this.parent.inputElement),this.parent.iframeSettings.enable&&this.parent.updateValue())},a.prototype.addTableClass=function(t,e){for(var i=t.querySelectorAll("table"),s=0;s<i.length;s++){var n=i[s].parentElement.nodeName==="FIGURE";this.parent.pasteCleanupSettings.keepFormat&&e&&!n?i[s].classList.add("e-rte-paste-"+e+"-table"):i[s].classList.contains("e-rte-table")||i[s].classList.add("e-rte-table")}return t},a.prototype.setImageProperties=function(t){this.parent.insertImageSettings.width!=="auto"&&t.setAttribute("width",this.parent.insertImageSettings.width),this.parent.insertImageSettings.minWidth!=="0"&&this.parent.insertImageSettings.minWidth!==0&&(t.style.minWidth=this.parent.insertImageSettings.minWidth.toString()),this.parent.insertImageSettings.maxWidth!==null&&(t.style.maxWidth=this.parent.getInsertImgMaxWidth().toString()),this.parent.insertImageSettings.height!=="auto"&&t.setAttribute("height",this.parent.insertImageSettings.height),this.parent.insertImageSettings.minHeight!=="0"&&this.parent.insertImageSettings.minHeight!==0&&(t.style.minHeight=this.parent.insertImageSettings.minHeight.toString()),this.parent.insertImageSettings.maxHeight!==null&&(t.style.maxHeight=this.parent.insertImageSettings.maxHeight.toString())},a.prototype.addTempClass=function(t){for(var e=t.children,i=0;i<e.length;i++)e[i].classList.add("pasteContent_RTE")},a.prototype.removeTempClass=function(){for(var t=this.parent.inputElement.querySelectorAll(".pasteContent_RTE"),e=0;e<t.length;e++)t[e].classList.remove("pasteContent_RTE"),t[e].getAttribute("class")===""&&t[e].removeAttribute("class")},a.prototype.sanitizeHelper=function(t){return t=Ag(t,this.parent),t},a.prototype.plainFormatting=function(t,e,i){var s=this,n=this.parent.createElement("div",{className:"pasteContent",styles:"display:inline;"});if(n.innerHTML=t,this.detachInlineElements(n),this.getTextContent(n),n.textContent.trim()!==""){if(!h(n.firstElementChild)&&n.firstElementChild.tagName!=="BR"){var r=n.firstElementChild;if(!h(n.firstElementChild)){for(var o=this.parent.createElement("span"),l=0,c=0;l<r.childNodes.length;l++,c++)if(r.childNodes[l].nodeName==="#text")o.appendChild(r.childNodes[l]),n.insertBefore(o,n.firstElementChild),l--;else if(r.childNodes[l].nodeName!=="#text"&&c===0){for(var d=0;d<r.childNodes[l].childNodes.length;d++)o.appendChild(r.childNodes[l].childNodes[d]),n.insertBefore(o,n.firstElementChild),d--;l--}else break;r.hasChildNodes()||N(r)}}this.removeEmptyElements(n),this.saveSelection.restore(),n.innerHTML=this.sanitizeHelper(n.innerHTML),this.addTempClass(n),this.removingComments(n),this.parent.enterKey==="BR"&&!i?n=this.reframeToBrContent(n):this.parent.enterKey==="DIV"&&(n.innerHTML=n.innerHTML.replace(/<p class="pasteContent_RTE">/g,"<div>").replace(/<\/p>/g,"</div>")),this.parent.trigger(Am,{value:n.innerHTML,filesData:null},function(p){t=p.value}),n.innerHTML=t,this.parent.formatter.editorManager.execCommand("inserthtml","pasteCleanup",e,function(p){ue(e,{elements:p.elements,imageElements:p.imgElem},!0),s.parent.formatter.onSuccess(s.parent,e)},n,null,null,this.parent.enterKey),this.removeTempClass()}else this.saveSelection.restore(),ue(e,{elements:[]},!0),this.parent.formatter.onSuccess(this.parent,e)},a.prototype.removingComments=function(t){var e=t.innerHTML;e=e.replace(/<!--[\s\S]*?-->/g,""),t.innerHTML=e},a.prototype.reframeToBrContent=function(t){for(var e=this.parent.createElement("div",{className:"pasteContent",styles:"display:inline;"});!h(t.firstChild);){var i=this.parent.createElement("br"),s=t.firstChild;if(s.nodeName==="#text"){var n=!h(s.nextSibling);e.appendChild(s),n&&e.appendChild(i)}else{var r=s.nodeName==="BR";r?e.appendChild(s):e.appendChild(s.childNodes[0]),!h(s)&&!h(s.nextSibling)&&e.appendChild(i),!r&&!h(s)&&N(s)}}return e},a.prototype.getTextContent=function(t){for(var e=0;e<this.blockNode.length;e++)for(var i=t.querySelectorAll(this.blockNode[e]),s=0;s<i.length;s++){for(var n=void 0,r=0,o=0,l=void 0;r<i[s].childNodes.length;r++,o++)if(i[s].childNodes[r].nodeName==="DIV"||i[s].childNodes[r].nodeName==="P"||i[s].childNodes[r].nodeName==="#text"&&i[s].childNodes[r].nodeValue.replace(/\u00a0/g,"&nbsp;")!=="&nbsp;"&&i[s].childNodes[r].textContent.trim()==="")n=i[s].childNodes[r].parentElement,i[s].childNodes[r].parentElement.parentElement.insertBefore(i[s].childNodes[r],i[s].childNodes[r].parentElement),r--;else{if(n=i[s].childNodes[r].parentElement,l==="text"){var c=n.previousElementSibling;c.appendChild(i[s].childNodes[r])}else{var d=this.parent.createElement("div",{id:"newDiv"});d.appendChild(i[s].childNodes[r]),n.parentElement.insertBefore(d,n)}r--,l="text"}h(n)||N(n)}for(var p=t.querySelectorAll("*"),e=0;e<p.length;e++)for(var u=p[e].attributes,s=0;s<u.length;s++)p[e].removeAttribute(u[s].name),s--},a.prototype.detachInlineElements=function(t){for(var e=0;e<this.inlineNode.length;e++)for(var i=t.querySelectorAll(this.inlineNode[e]),s=0;s<i.length;s++)if(!(i[s]===t.firstChild&&i[s].nodeName==="SPAN")){for(var n=void 0,r=0;r<i[s].childNodes.length;r++)n=i[s].childNodes[r].parentElement,i[s].childNodes[r].parentElement.parentElement.insertBefore(i[s].childNodes[r],i[s].childNodes[r].parentElement),r--;h(n)||N(n)}},a.prototype.findDetachEmptyElem=function(t){var e;if(h(t.parentElement))e=null;else{var i=t.parentElement.textContent.length>0&&t.parentElement.textContent.match(/\u00a0/g)&&t.parentElement.textContent.match(/\u00a0/g).length>0;!i&&t.parentElement.textContent.trim()===""&&t.parentElement.getAttribute("class")!=="pasteContent"?e=this.findDetachEmptyElem(t.parentElement):e=t}return e},a.prototype.removeEmptyElements=function(t){for(var e=t.querySelectorAll(":empty"),i=0;i<e.length;i++)if(e[i].tagName!=="BR"){var s=this.findDetachEmptyElem(e[i]);h(s)||N(s)}},a.prototype.tagGrouping=function(t){for(var e=t.slice(),i=Object.keys(lg),s=i.map(function(l){return lg[""+l]}),n=[],r=0;r<e.length;r++)if(e[r].split("[").length>1&&(e[r]=e[r].split("[")[0].trim()),i.indexOf(e[r])>-1)for(var o=0;o<s[i.indexOf(e[r])].length;o++)e.indexOf(s[i.indexOf(e[r])][o])<0&&n.indexOf(s[i.indexOf(e[r])][o])<0&&n.push(s[i.indexOf(e[r])][o]);return t=t.concat(n)},a.prototype.attributesfilter=function(t){for(var e=0;e<t.length;e++)if(t[e].split("[").length>1){for(var i=t[e].split("[")[1].split("]")[0].split(","),s=[],n=[],r=0;r<i.length;r++)i[r].indexOf("!")<0?s.push(i[r].trim()):n.push(i[r].split("!")[1].trim());var o=s.length>1?s.join("]["):s.join(),l=n.length>1?n.join("]["):n.join();if(l.length>0){var c=o!==""?t[e].split("[")[0]+"["+o+"]":t[e].split("[")[0];t[e]=c+":not(["+l+"])"}else t[e]=t[e].split("[")[0]+"["+o+"]"}return t},a.prototype.deniedTags=function(t){var e=h(this.parent.pasteCleanupSettings.deniedTags)?[]:this.parent.pasteCleanupSettings.deniedTags.slice();e=this.attributesfilter(e),e=this.tagGrouping(e);for(var i=0;i<e.length;i++)for(var s=t.querySelectorAll(e[i]),n=s.length-1;n>=0;n--){for(var r=s[n].parentNode;s[n].firstChild;)r.insertBefore(s[n].firstChild,s[n]);r.removeChild(s[n])}return t},a.prototype.deniedAttributes=function(t,e){var i=h(this.parent.pasteCleanupSettings.deniedAttrs)?[]:this.parent.pasteCleanupSettings.deniedAttrs.slice();e&&i.push("style");for(var s=0;s<i.length;s++)for(var n=t.querySelectorAll("["+i[s]+"]"),r=0;r<n.length;r++)n[r].removeAttribute(i[s]);return t},a.prototype.allowedStyle=function(t){var e=h(this.parent.pasteCleanupSettings.allowedStyleProps)?[]:this.parent.pasteCleanupSettings.allowedStyleProps.slice();e.push("list-style-type","list-style");for(var i=t.querySelectorAll("[style]"),s=0;s<i.length;s++){for(var n="",r=[],o=i[s].getAttribute("style").split(";"),l=0;l<o.length;l++)e.indexOf(o[l].split(":")[0].trim())>=0&&r.push(o[l]);i[s].removeAttribute("style"),n=r.join(";").trim()===""?r.join(";"):r.join(";")+";",n&&i[s].setAttribute("style",n)}return t},a.prototype.processPictureElement=function(t){for(var e=t.querySelectorAll("picture"),i=0;i<e.length;i++){var s=e[i].querySelector("img"),n=e[i].querySelectorAll("source");if(s&&s.getAttribute("src"))for(var r=s.getAttribute("src"),o=new URL(r),l=0;l<n.length;l++){var c=n[l].getAttribute("srcset");if(c&&c.indexOf("http")===-1){var d=o.origin+c;n[l].setAttribute("srcset",d)}}}},a.prototype.getModuleName=function(){return"pasteCleanup"},a}();var FS=function(){function a(t){this.parent=t,this.addEventListener()}return a.prototype.showFullScreen=function(t){var e=this;if(this.parent.toolbarSettings.enable===!0&&this.parent.editorMode!=="Markdown"&&!h(this.parent.quickToolbarModule)&&this.parent.quickToolbarModule.hideQuickToolbars(),this.parent.showTooltip&&!h(document.querySelector(".e-tooltip-wrap"))&&this.parent.notify(xo,{args:t}),this.scrollableParent=on(this.parent.element),!this.parent.element.classList.contains(vr)){var i={cancel:!1,requestType:"Maximize",targetItem:"Maximize",args:t};this.parent.trigger(bt,i,function(s){s.cancel||(e.parent.toolbarSettings.enableFloating&&!e.parent.inlineMode.enable&&e.parent.toolbarSettings.enable&&(e.parent.getToolbarElement().style.width="100%",e.parent.getToolbarElement().style.top="0px"),e.parent.element.classList.add(vr),e.toggleParentOverflow(!0),e.parent.toolbarModule&&(e.parent.getBaseToolbarObject().toolbarObj.items[0].properties||e.parent.getBaseToolbarObject().toolbarObj.removeItems(0),E.isDevice&&e.parent.toolbarModule.removeFixedTBarClass(),e.parent.toolbarModule.updateItem({targetItem:"Maximize",updateItem:"Minimize",baseToolbar:e.parent.getBaseToolbarObject()})),e.parent.refreshUI(),e.parent.trigger(vi,{requestType:"Maximize",targetItem:"Maximize",args:t}))})}},a.prototype.hideFullScreen=function(t){var e=this;if(this.parent.toolbarSettings.enable===!0&&this.parent.editorMode!=="Markdown"&&!h(this.parent.quickToolbarModule)&&this.parent.quickToolbarModule.hideQuickToolbars(),this.parent.showTooltip&&!h(document.querySelector(".e-tooltip-wrap"))&&this.parent.notify(xo,{args:t}),this.parent.element.classList.contains(vr)){var i={cancel:!1,requestType:"Minimize",targetItem:"Minimize",args:t};this.parent.trigger(bt,i,function(s){if(!s.cancel){e.parent.element.classList.remove(vr);for(var n=document.querySelectorAll(".e-rte-overflow"),r=0;r<n.length;r++)k([n[r]],["e-rte-overflow"]);e.parent.toolbarModule&&(e.parent.getBaseToolbarObject().toolbarObj.items[0].properties||e.parent.getBaseToolbarObject().toolbarObj.removeItems(0),e.parent.toolbarModule.updateItem({targetItem:"Minimize",updateItem:"Maximize",baseToolbar:e.parent.getBaseToolbarObject()}),E.isDevice&&e.parent.inlineMode.enable&&e.parent.toolbarModule.addFixedTBarClass()),e.parent.refreshUI(),e.parent.trigger(vi,{requestType:"Minimize",targetItem:"Minimize",args:t})}})}},a.prototype.toggleParentOverflow=function(t){if(!h(this.scrollableParent))for(var e=0;e<this.scrollableParent.length;e++)if(this.scrollableParent[e].nodeName==="#document"){var i=document.querySelector("body");L([i],["e-rte-overflow"])}else{var i=this.scrollableParent[e];L([i],["e-rte-overflow"])}},a.prototype.onKeyDown=function(t){var e=t.args;switch(e.action){case"full-screen":this.showFullScreen(t.args),e.preventDefault();break;case"escape":this.hideFullScreen(t.args),e.preventDefault();break}},a.prototype.addEventListener=function(){this.parent.on(pt,this.onKeyDown,this),this.parent.on(Ee,this.destroy,this),this.parent.on(ni,this.moduleDestroy,this)},a.prototype.removeEventListener=function(){this.parent.off(pt,this.onKeyDown),this.parent.off(Ee,this.destroy),this.parent.off(ni,this.moduleDestroy)},a.prototype.destroy=function(){if(!h(this.parent)){this.parent.element.classList.contains(vr)&&this.toggleParentOverflow(!1);for(var t=document.querySelectorAll(".e-rte-overflow"),e=0;e<t.length;e++)k([t[e]],["e-rte-overflow"]);this.removeEventListener()}},a.prototype.moduleDestroy=function(){this.parent=null},a}();function cc(a,t,e,i){var s;if(e){var n=t.contentModule.getDocument();s=n.querySelector("body")}else s=t.element;if(Object.keys(a).length)for(var r=0,o=Object.keys(a);r<o.length;r++){var l=o[r];if(l==="class")s.classList.add(a[""+l]);else if(l==="disabled"&&a[""+l]==="disabled")t.enabled=!1,t.setEnable();else if(l==="readonly"&&a[""+l]==="readonly")t.readonly=!0,t.setReadOnly(i);else if(l==="style")s.setAttribute("style",a[""+l]);else if(l==="tabindex")t.inputElement.setAttribute("tabindex",a[""+l]);else if(l==="placeholder")t.placeholder=a[""+l],t.setPlaceHolder();else{var c=["name","required"];c.indexOf(l)>-1?t.valueContainer.setAttribute(l,a[""+l]):s.setAttribute(l,a[""+l])}}}var US={bold:{command:"Style",subCommand:"Bold",value:"strong"},italic:{command:"Style",subCommand:"Italic",value:"em"},underline:{command:"Style",subCommand:"Underline",value:"span"},strikeThrough:{command:"Style",subCommand:"StrikeThrough",value:"span"},insertCode:{command:"Formats",subCommand:"Pre",value:"pre"},superscript:{command:"Effects",subCommand:"SuperScript",value:"sup"},subscript:{command:"Effects",subCommand:"SubScript",value:"sub"},uppercase:{command:"Casing",subCommand:"UpperCase"},lowercase:{command:"Casing",subCommand:"LowerCase"},fontColor:{command:"font",subCommand:"fontcolor",value:"#ff0000"},fontName:{command:"font",subCommand:"fontname",value:"Segoe UI"},fontSize:{command:"font",subCommand:"fontsize",value:"10pt"},backColor:{command:"font",subCommand:"backgroundcolor",value:"#ffff00"},justifyCenter:{command:"Alignments",subCommand:"JustifyCenter"},justifyFull:{command:"Alignments",subCommand:"JustifyFull"},justifyLeft:{command:"Alignments",subCommand:"JustifyLeft"},justifyRight:{command:"Alignments",subCommand:"JustifyRight"},undo:{command:"Actions",subCommand:"Undo"},redo:{command:"Actions",subCommand:"Redo"},createLink:{command:"Links",subCommand:"createLink"},editLink:{command:"Links",subCommand:"createLink"},createImage:{command:"Images",subCommand:"Images"},formatBlock:{command:"Formats",value:"P"},heading:{command:"Formats",value:"H1"},indent:{command:"Indents",subCommand:"Indent"},outdent:{command:"Indents",subCommand:"Outdent"},insertHTML:{command:"InsertHTML",subCommand:"InsertHTML",value:""},insertText:{command:"InsertText",subCommand:"InsertText",value:""},insertHorizontalRule:{command:"InsertHTML",subCommand:"InsertHTML",value:"<hr/>"},insertImage:{command:"Images",subCommand:"Image"},insertAudio:{command:"Audios",subCommand:"Audio"},insertVideo:{command:"Videos",subCommand:"Video"},editImage:{command:"Images",subCommand:"Image"},insertTable:{command:"Table",subCommand:"CreateTable"},insertBrOnReturn:{command:"InsertHTML",subCommand:"InsertHTML",value:"<br/>"},insertOrderedList:{command:"Lists",value:"OL"},insertUnorderedList:{command:"Lists",value:"UL"},insertParagraph:{command:"Formats",value:"P"},removeFormat:{command:"Clear",subCommand:"ClearFormat"},copyFormatPainter:{command:"FormatPainter",value:"format-copy"},applyFormatPainter:{command:"FormatPainter",value:"format-paste"},escapeFormatPainter:{command:"FormatPainter",value:"escape"}},VS=function(){function a(){this.services={}}return a.prototype.register=function(t,e){h(this.services[""+t])&&(this.services[""+t]=e)},a.prototype.getService=function(t){if(h(this.services[""+t]))throw"The service "+t+" is not registered";return this.services[""+t]},a.prototype.destroy=function(){this.services={}},a}(),qS=function(){function a(){this.rendererMap={}}return a.prototype.addRenderer=function(t,e){var i=ol(Ce,t);h(this.rendererMap[""+i])&&(this.rendererMap[""+i]=e)},a.prototype.getRenderer=function(t){var e=ol(Ce,t);if(h(this.rendererMap[""+e]))throw"The renderer "+e+" is not found";return this.rendererMap[""+e]},a.prototype.destroy=function(){this.rendererMap={}},a}(),Mt=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Y=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},_S=function(a){Mt(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Y([y(!0)],t.prototype,"enable",void 0),Y([y(!0)],t.prototype,"enableFloating",void 0),Y([y(mi.Expand)],t.prototype,"type",void 0),Y([y(wM)],t.prototype,"items",void 0),Y([y({})],t.prototype,"itemConfigs",void 0),t}(ge),WS=function(a){Mt(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Y([y([".jpeg",".jpg",".png"])],t.prototype,"allowedTypes",void 0),Y([y("inline")],t.prototype,"display",void 0),Y([y("Blob")],t.prototype,"saveFormat",void 0),Y([y("auto")],t.prototype,"width",void 0),Y([y("auto")],t.prototype,"height",void 0),Y([y(null)],t.prototype,"saveUrl",void 0),Y([y(null)],t.prototype,"path",void 0),Y([y(!0)],t.prototype,"resize",void 0),Y([y(null)],t.prototype,"removeUrl",void 0),Y([y(0)],t.prototype,"minWidth",void 0),Y([y(null)],t.prototype,"maxWidth",void 0),Y([y(0)],t.prototype,"minHeight",void 0),Y([y(null)],t.prototype,"maxHeight",void 0),Y([y(!1)],t.prototype,"resizeByPercent",void 0),t}(ge),QS=function(a){Mt(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Y([y([".wav",".mp3",".m4a",".wma"])],t.prototype,"allowedTypes",void 0),Y([y("Inline")],t.prototype,"layoutOption",void 0),Y([y("Blob")],t.prototype,"saveFormat",void 0),Y([y(null)],t.prototype,"saveUrl",void 0),Y([y(null)],t.prototype,"removeUrl",void 0),Y([y(null)],t.prototype,"path",void 0),t}(ge),YS=function(a){Mt(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Y([y([".mp4",".mov",".wmv",".avi"])],t.prototype,"allowedTypes",void 0),Y([y("Inline")],t.prototype,"layoutOption",void 0),Y([y("Blob")],t.prototype,"saveFormat",void 0),Y([y("auto")],t.prototype,"width",void 0),Y([y("auto")],t.prototype,"height",void 0),Y([y(null)],t.prototype,"saveUrl",void 0),Y([y(null)],t.prototype,"path",void 0),Y([y(!0)],t.prototype,"resize",void 0),Y([y(null)],t.prototype,"removeUrl",void 0),Y([y(0)],t.prototype,"minWidth",void 0),Y([y(null)],t.prototype,"maxWidth",void 0),Y([y(0)],t.prototype,"minHeight",void 0),Y([y(null)],t.prototype,"maxHeight",void 0),Y([y(!1)],t.prototype,"resizeByPercent",void 0),t}(ge),GS=function(a){Mt(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Y([z()],t.prototype,"beforeSend",void 0),Y([ye({getImageUrl:null,url:null,uploadUrl:null},Sm)],t.prototype,"ajaxSettings",void 0),Y([y(!1)],t.prototype,"allowDragAndDrop",void 0),Y([ye({visible:!0,file:["Open","|","Cut","Copy","|","Delete","Rename","|","Details"],folder:["Open","|","Cut","Copy","Paste","|","Delete","Rename","|","Details"],layout:["SortBy","View","Refresh","|","Paste","|","NewFolder","Upload","|","Details","|","SelectAll"]},Im)],t.prototype,"contextMenuSettings",void 0),Y([y("")],t.prototype,"cssClass",void 0),Y([ye({},Nm)],t.prototype,"detailsViewSettings",void 0),Y([y(!1)],t.prototype,"enable",void 0),Y([ye({maxWidth:"650px",minWidth:"240px",visible:!0},Dm)],t.prototype,"navigationPaneSettings",void 0),Y([y("/")],t.prototype,"path",void 0),Y([y(null)],t.prototype,"rootAliasName",void 0),Y([ye({},Tm)],t.prototype,"searchSettings",void 0),Y([y(!0)],t.prototype,"showFileExtension",void 0),Y([y(!1)],t.prototype,"showHiddenItems",void 0),Y([y(!0)],t.prototype,"showThumbnail",void 0),Y([y("Ascending")],t.prototype,"sortOrder",void 0),Y([ye({visible:!0,items:["NewFolder","Upload","Cut","Copy","Paste","Delete","Download","Rename","SortBy","Refresh","Selection","View","Details"]},Em)],t.prototype,"toolbarSettings",void 0),Y([ye({autoUpload:!0,minFileSize:0,maxFileSize:3e7,allowedExtensions:"",autoClose:!1},Lm)],t.prototype,"uploadSettings",void 0),Y([y("LargeIcons")],t.prototype,"view",void 0),t}(ge),XS=function(a){Mt(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Y([y("100%")],t.prototype,"width",void 0),Y([y(Co)],t.prototype,"styles",void 0),Y([y(!0)],t.prototype,"resize",void 0),Y([y(0)],t.prototype,"minWidth",void 0),Y([y(null)],t.prototype,"maxWidth",void 0),t}(ge),KS=function(a){Mt(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Y([y(!0)],t.prototype,"enable",void 0),Y([y(!1)],t.prototype,"showOnRightClick",void 0),Y([y("hide")],t.prototype,"actionOnScroll",void 0),Y([y(["Open","Edit","UnLink"])],t.prototype,"link",void 0),Y([y(["Replace","Align","Caption","Remove","-","InsertLink","OpenImageLink","EditImageLink","RemoveImageLink","Display","AltText","Dimension"])],t.prototype,"image",void 0),Y([y(["AudioReplace","AudioRemove","AudioLayoutOption"])],t.prototype,"audio",void 0),Y([y(["VideoReplace","VideoAlign","VideoRemove","VideoLayoutOption","VideoDimension"])],t.prototype,"video",void 0),Y([y(null)],t.prototype,"text",void 0),Y([y(["TableHeader","TableRows","TableColumns","BackgroundColor","-","TableRemove","Alignments","TableCellVerticalAlign","Styles"])],t.prototype,"table",void 0),t}(ge),$S=function(a){Mt(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Y([y("b; em; font; sub; sup; kbd; i; s; u; code; strong; span; p; div; h1; h2; h3; h4; h5; h6; blockquote; ol; ul; li; pre;")],t.prototype,"allowedFormats",void 0),Y([y(null)],t.prototype,"deniedFormats",void 0),t}(ge),JS=function(a){Mt(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Y([y(jM)],t.prototype,"iconsSet",void 0),Y([y(!0)],t.prototype,"showSearchBox",void 0),t}(ge),ZS=function(a){Mt(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Y([y(!1)],t.prototype,"prompt",void 0),Y([y(null)],t.prototype,"deniedAttrs",void 0),Y([y(["background","background-color","border","border-bottom","border-left","border-radius","border-right","border-style","border-top","border-width","clear","color","cursor","direction","display","float","font","font-family","font-size","font-weight","font-style","height","left","line-height","list-style-type","margin","margin-top","margin-left","margin-right","margin-bottom","max-height","max-width","min-height","min-width","overflow","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","position","right","table-layout","text-align","text-decoration","text-transform","text-indent","top","vertical-align","visibility","white-space","width"])],t.prototype,"allowedStyleProps",void 0),Y([y(null)],t.prototype,"deniedTags",void 0),Y([y(!0)],t.prototype,"keepFormat",void 0),Y([y(!1)],t.prototype,"plainText",void 0),t}(ge),eE=function(a){Mt(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Y([y(null)],t.prototype,"default",void 0),Y([y("72px")],t.prototype,"width",void 0),Y([y(Mo)],t.prototype,"items",void 0),t}(ge),tE=function(a){Mt(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Y([y(null)],t.prototype,"default",void 0),Y([y("60px")],t.prototype,"width",void 0),Y([y(OM)],t.prototype,"items",void 0),t}(ge),iE=function(a){Mt(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Y([y(null)],t.prototype,"default",void 0),Y([y("65px")],t.prototype,"width",void 0),Y([y(So)],t.prototype,"types",void 0),t}(ge),sE=function(a){Mt(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Y([y("#ff0000")],t.prototype,"default",void 0),Y([y("Palette")],t.prototype,"mode",void 0),Y([y(10)],t.prototype,"columns",void 0),Y([y(xM)],t.prototype,"colorCode",void 0),Y([y(!1)],t.prototype,"modeSwitcher",void 0),t}(ge),nE=function(a){Mt(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Y([y("#ffff00")],t.prototype,"default",void 0),Y([y("Palette")],t.prototype,"mode",void 0),Y([y(10)],t.prototype,"columns",void 0),Y([y(kM)],t.prototype,"colorCode",void 0),Y([y(!1)],t.prototype,"modeSwitcher",void 0),t}(ge),rE=function(a){Mt(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Y([y(Eo)],t.prototype,"types",void 0),t}(ge),aE=function(a){Mt(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Y([y(To)],t.prototype,"types",void 0),t}(ge),Kg=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ar=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},oE=function(a){Kg(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Ar([y([])],t.prototype,"styles",void 0),Ar([y([])],t.prototype,"scripts",void 0),t}(ge),lE=function(a){Kg(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return Ar([y(!1)],t.prototype,"enable",void 0),Ar([y(null)],t.prototype,"attributes",void 0),Ar([ye({},oE)],t.prototype,"resources",void 0),t}(ge),hE=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),bg=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},cE=function(a){hE(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return bg([y(!1)],t.prototype,"enable",void 0),bg([y(!0)],t.prototype,"onSelection",void 0),t}(ge),dE=function(){function a(t){this.parent=t,this.addEventListener()}return a.prototype.addEventListener=function(){this.parent.on(Ac,this.enterHandler,this),this.parent.on(Ee,this.destroy,this),this.parent.on(ni,this.moduleDestroy,this)},a.prototype.destroy=function(){h(this.parent)||this.removeEventListener()},a.prototype.moduleDestroy=function(){this.parent=null},a.prototype.removeEventListener=function(){this.parent.off(Ac,this.enterHandler),this.parent.off(Ee,this.destroy),this.parent.off(ni,this.moduleDestroy)},a.prototype.getRangeNode=function(){this.range=this.parent.getRange(),this.startNode=this.range.startContainer.nodeName==="#text"?this.range.startContainer.parentElement:this.range.startContainer,this.endNode=this.range.endContainer.nodeName==="#text"?this.range.endContainer.parentElement:this.range.endContainer},a.prototype.enterHandler=function(t){var e=this;this.getRangeNode();var i=!0;this.formatTags=["h1","h2","h3","h4","h5","h6","blockquote"];var s=this.processedTableImageCursor();if((s.start||s.end)&&(s.startName==="TABLE"||s.endName==="TABLE")){this.handleCursorAtTableSide(t,s.start,s.end);return}if((s.start||s.end||this.range.startContainer.nodeName==="IMG")&&this.parent.enterKey==="BR"&&(s.startName==="IMG"||s.endName==="IMG"||this.range.startContainer.nodeName==="IMG")){this.handleEnterKeyAtImageSide(t,s.start,s.end);return}if(!h(this.startNode.closest("TABLE"))&&!h(this.endNode.closest("TABLE"))){i=!1;for(var n=this.startNode,r=n;!this.parent.formatter.editorManager.domNode.isBlockNode(n);)n=n.parentElement,r=n;i=!(r.tagName==="TH"||r.tagName==="TD"||r.tagName==="TBODY")}if(t.args.which===13&&!t.args.ctrlKey&&(E.isDevice?t.args.key==="Enter":t.args.code==="Enter")&&h(this.startNode.closest("LI, UL, OL"))&&h(this.endNode.closest("LI, UL, OL"))&&h(this.startNode.closest(".e-img-inner"))&&i&&h(this.startNode.closest("PRE"))&&h(this.endNode.closest("PRE"))&&h(this.startNode.closest("BLOCKQUOTE"))&&h(this.endNode.closest("BLOCKQUOTE"))){var o=t.args.shiftKey,l={cancel:!1,name:bt,requestType:o?"ShiftEnterAction":"EnterAction",originalEvent:t.args};this.parent.trigger(bt,l,function(c){if(!c.cancel){if(e.parent.formatter.getUndoRedoStack().length===0&&e.parent.formatter.saveData(),!(e.range.startOffset===e.range.endOffset&&e.range.startContainer===e.range.endContainer)){if(e.range.startContainer.nodeName==="SPAN"&&(e.range.startContainer.classList.contains("e-video-wrap")||e.range.startContainer.classList.contains("e-audio-wrap"))||e.range.deleteContents(),e.range.startContainer.nodeName==="#text"&&e.range.startContainer.textContent.length===0&&e.range.startContainer.parentElement!==e.parent.inputElement)e.parent.enterKey==="BR"?e.range.startContainer.parentElement.innerHTML="&#8203;":e.range.startContainer.parentElement.innerHTML="<br>";else if(e.range.startContainer===e.parent.inputElement&&e.range.startContainer.innerHTML===""){e.range.startContainer.innerHTML="<br>";var d=e.range.startContainer.childNodes[e.range.startOffset];e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),d,0)}else if(e.parent.inputElement===e.range.startContainer){var d=e.range.startContainer.childNodes[e.range.startOffset];if(d.nodeName==="#text"&&d.textContent.length===0)e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),d,d.textContent.length===0?0:d.previousSibling.textContent.length);else if(e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),d,d.textContent.length>=0?0:1),d.previousSibling.textContent.length===0){if(N(d.previousSibling),!o){for(var p=h(d.lastChild)?d:d.lastChild;!h(p)&&p.nodeName!=="#text"&&p.nodeName!=="BR";)p=p.lastChild;p.nodeName!=="BR"&&p.parentElement.textContent.length===0&&p.parentElement.innerHTML.length===0&&p.parentElement.nodeName!=="BR"&&p.parentElement.appendChild(e.parent.createElement("BR")),e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),p.nodeName==="BR"?p:p.parentElement,p.parentElement.textContent.length>=0||p.nodeName==="BR"?0:1)}}else if(d.textContent.length===0){for(var p=d.previousSibling.nodeName==="#text"?d.previousSibling:d.previousSibling.lastChild;!h(p)&&p.nodeName!=="#text";)p=p.lastChild;e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),p,p.textContent.length),N(d)}else if(e.parent.enterKey!=="BR"&&d.previousSibling.textContent.length!==0&&d.textContent.length!==0){t.args.preventDefault();return}e.getRangeNode()}}if(e.range.startContainer===e.range.endContainer&&e.range.startOffset===e.range.endOffset&&e.range.startContainer===e.parent.inputElement){if(!(e.parent.inputElement.childNodes.length===1&&e.parent.inputElement.childNodes[0].nodeName==="TABLE"))if(h(e.range.startContainer.childNodes[e.range.startOffset])){for(var u=e.range.startContainer.childNodes[e.range.startOffset-1];u.lastChild!==null&&u.nodeName!=="#text";)u=u.lastChild;e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),u,u.nodeName==="BR"?0:u.textContent.length)}else e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),e.range.startContainer.childNodes[e.range.startOffset],0);e.getRangeNode()}if(e.parent.enterKey==="P"&&!o||e.parent.enterKey==="DIV"&&!o||e.parent.shiftEnterKey==="P"&&o||e.parent.shiftEnterKey==="DIV"&&o){if(e.range.startOffset===1&&e.parent.inputElement.childNodes.length===1&&e.parent.inputElement.childNodes[0].nodeName==="TABLE"){var f=e.createInsertElement(o);f.appendChild(e.parent.createElement("BR")),e.parent.inputElement.appendChild(f),e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),f,0)}else{var m=void 0;i&&e.parent.formatter.editorManager.domNode.isBlockNode(e.startNode)?m=e.startNode:m=e.parent.formatter.editorManager.domNode.blockParentNode(e.startNode);var g=!1,b=!1;if(e.range.startOffset!==0&&e.range.endOffset!==0&&e.range.startContainer===e.range.endContainer&&!(!h(m.childNodes[0])&&(m.childNodes[0].nodeName==="IMG"||m.querySelectorAll("img, audio, video").length>0))){var S=e.range.startContainer.textContent,T=S.substring(0,e.range.startOffset);T.charCodeAt(e.range.startOffset-1)!==160&&T.trim().length===0&&(b=!0)}else e.range.startOffset===0&&e.range.endOffset===0&&(b=!0);e.removeBRElement(m);var I=E.userAgent.indexOf("Firefox")!==-1&&e.range.startOffset===0&&e.range.startContainer===e.range.endContainer&&e.range.startContainer.nodeName==="#text"&&!e.parent.formatter.editorManager.domNode.isBlockNode(e.range.startContainer.previousSibling)&&e.range.startContainer.parentElement===e.range.startContainer.previousSibling.parentElement,w=e.range.startContainer.nodeName==="#text"&&e.range.startContainer.textContent.includes("\u200B")&&e.range.startContainer.textContent.trim()==="\u200B"||e.range.startContainer.nodeName==="#text"&&!h(e.range.startContainer.textContent[e.range.startOffset])&&e.range.startContainer.textContent[e.range.startOffset].includes("\u200B")&&e.range.startContainer.textContent[e.range.startOffset]==="\u200B"&&e.parent.inputElement.textContent[0]!=="\u200B";if(!w&&!I&&(e.range.startOffset===0&&e.range.endOffset===0||b)&&!(!h(e.range.startContainer.previousSibling)&&(e.range.startContainer.previousSibling.nodeName==="IMG"||e.range.startContainer.previousSibling.nodeName==="BR"))){var x=void 0,f=void 0;!h(e.range.startContainer.childNodes)&&(e.range.startContainer.textContent.length===0||e.range.startContainer.nodeName!=="#text"&&!h(e.range.startContainer.querySelector(".e-video-clickelem"))&&e.range.startContainer.querySelector(".e-video-clickelem").textContent.length===0)&&(e.range.startContainer.querySelectorAll("img, audio, video").length>0||!h(e.range.startContainer.querySelector(".e-video-clickelem"))||e.range.startContainer.nodeName==="IMG"||e.range.startContainer.nodeName==="TABLE")?(f=e.createInsertElement(o),g=!0,x=!1):m.textContent.trim().length!==0||m.childNodes[0].nodeName==="IMG"||m.textContent.trim()===""&&m.querySelectorAll("img, audio, video").length>0?(e.range.startOffset===e.range.endOffset&&e.range.startOffset!==0?f=e.parent.formatter.editorManager.nodeCutter.SplitNode(e.range,m,!1).cloneNode(!0):(f=e.parent.formatter.editorManager.nodeCutter.SplitNode(e.range,m,!0).cloneNode(!0),g=!0),x=!1):(f=e.parent.formatter.editorManager.nodeCutter.SplitNode(e.range,m,!0).cloneNode(!0),x=!0);var A=void 0;for(e.formatTags.indexOf(f.nodeName.toLocaleLowerCase())<0?A=e.createInsertElement(o):A=e.parent.createElement(f.nodeName);f.firstChild;)A.appendChild(f.firstChild);if(m.parentElement.insertBefore(A,m),!x){var p=A,q=void 0;if(e.range.startOffset===e.range.endOffset&&e.range.startOffset!==0)for(;!h(p)&&p.nodeName!=="#text"&&p.nodeName!=="BR";)q=p,p=p.lastChild;else q=p;q.innerHTML="<br>",g||N(m)}e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),A.nextElementSibling,0)}else if(m.textContent.length===0&&!(!h(m.childNodes[0])&&m.childNodes[0].nodeName==="IMG"||m.querySelectorAll("video").length>0||m.querySelectorAll("audio").length>0||m.querySelectorAll("img").length>0))if(!h(m.children[0])&&m.children[0].tagName!=="BR"){var f=e.parent.formatter.editorManager.nodeCutter.SplitNode(e.range,m,!1).cloneNode(!0);e.parent.formatter.editorManager.domNode.insertAfter(f,m),e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),f,f.textContent.length>=0?0:1)}else{var A=e.createInsertElement(o);A.innerHTML="<br>",e.parent.formatter.editorManager.domNode.insertAfter(A,m),e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),A,0)}else if(e.range.startContainer===e.range.endContainer&&e.range.startContainer.nodeName==="SPAN"&&(e.range.startContainer.classList.contains("e-video-wrap")||e.range.startContainer.classList.contains("e-audio-wrap"))){if(m.textContent.trim().length>0){for(var f=e.parent.formatter.editorManager.nodeCutter.SplitNode(e.range,m,!0),F=h(f.previousSibling.querySelector(".e-video-wrap"))?f.previousSibling.querySelector(".e-audio-wrap"):f.previousSibling.querySelector(".e-video-wrap"),J=!1,ae=F.previousSibling;!h(ae)&&ae.nodeName!=="#text";)ae=ae.lastChild;if(h(ae)){var de=e.parent.createElement("br");F.parentElement.appendChild(de),J=!0}J?e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),F.parentElement,0):e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),ae,ae.textContent.length),N(F)}else{for(var f=e.parent.formatter.editorManager.nodeCutter.SplitNode(e.range,m,!0),d=f.previousSibling;!h(d.firstChild);)N(d.firstChild);var de=e.parent.createElement("br");d.appendChild(de),e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),d,0)}h(e.parent.audioModule)||e.parent.audioModule.hideAudioQuickToolbar(),h(e.parent.videoModule)||e.parent.videoModule.hideVideoQuickToolbar()}else{var f=e.parent.formatter.editorManager.nodeCutter.SplitNode(e.range,m,!0);if(!h(f.childNodes[0])&&f.childNodes[0].nodeName==="#text"&&f.childNodes[0].textContent.length===0&&N(f.childNodes[0]),f.textContent.trim().length===0||f.childNodes[0].textContent.trim().includes("\u200B")&&f.childNodes[0].textContent.trim()==="\u200B"){var de=e.parent.createElement("br");if(e.startNode.nodeName==="A"){var re=e.startNode.parentElement;e.startNode.parentElement.insertBefore(de,e.startNode),N(e.startNode),e.startNode=re}else e.startNode.nodeName!=="BR"&&e.startNode.appendChild(de);f.childNodes[0].textContent===`
`&&N(f.childNodes[0]),f.childNodes[0].textContent.trim().includes("\u200B")&&f.childNodes[0].textContent.trim()==="\u200B"&&N(f.childNodes[0]),e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),e.startNode,0)}if((e.parent.enterKey==="P"||e.parent.enterKey==="DIV")&&!o||(e.parent.shiftEnterKey==="DIV"||e.parent.shiftEnterKey==="P")&&o){var me=e.formatTags.indexOf(f.nodeName.toLocaleLowerCase());if(me<0||me>=0&&f.textContent.trim().length===0){for(var U=e.createInsertElement(o);f.firstChild;)U.appendChild(f.firstChild);e.parent.formatter.editorManager.domNode.insertAfter(U,f),N(f),e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),e.parent.formatter.editorManager.domNode.isBlockNode(e.startNode)?U:e.startNode,0)}}}}t.args.preventDefault()}if(e.parent.enterKey==="BR"&&!o||e.parent.shiftEnterKey==="BR"&&o){var O=void 0;if(e.parent.formatter.editorManager.domNode.isBlockNode(e.startNode))O=e.startNode;else{for(var _=e.startNode,H=_;!e.parent.formatter.editorManager.domNode.isBlockNode(_);)H=_,_=_.parentElement;O=_===e.parent.inputElement?H:_}var Q=window.getComputedStyle(O);e.removeBRElement(O);for(var j=O.lastChild;!h(j)&&!(j.nodeName==="#text"||j.nodeName==="BR"||j.nodeName==="IMG");)j=j.lastChild;var te=e.range.startContainer===j?e.range.startContainer.textContent.length:O.textContent.length,xe=e.range.startContainer.nodeName==="IMG"||e.range.startContainer.childNodes.length>0&&e.range.startContainer.childNodes[e.range.startOffset].nodeName==="IMG";if(O!==e.parent.inputElement&&e.parent.formatter.editorManager.domNode.isBlockNode(O)&&e.range.startOffset===e.range.endOffset&&(e.range.startOffset===te||O.textContent.trim().length===0&&xe)){var ne=e.parent.createElement("br");if(e.range.startOffset===0&&e.range.startContainer.nodeName==="TABLE")e.range.startContainer.parentElement.insertBefore(ne,e.range.startContainer);else if(j.nodeName==="BR"&&O.textContent.length===0)e.parent.formatter.editorManager.domNode.insertAfter(ne,j);else if(e.range.startOffset===0&&e.range.endOffset===0&&xe){var De=e.range.startContainer.nodeName==="IMG"?e.range.startContainer:e.range.startContainer.childNodes[e.range.startOffset];O.insertBefore(ne,De),ne=De}else{var $e=e.parent.createElement("br"),Ye=!h(e.range.startContainer.parentElement)&&e.range.startContainer.parentElement.nodeName==="A"&&e.range.startContainer.parentElement.textContent.length===e.range.startOffset?e.range.startContainer.parentElement:e.range.startContainer;e.parent.formatter.editorManager.domNode.insertAfter(ne,Ye),e.parent.formatter.editorManager.domNode.insertAfter($e,Ye);var tt=Ye.nextElementSibling,st=h(tt)?null:tt.nextElementSibling;!h(tt)&&!h(st)&&!h(st.nextElementSibling)&&tt.nodeName==="BR"&&st.nodeName==="BR"&&st.nextElementSibling.nodeName==="BR"&&st.nextElementSibling.remove()}e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),ne,0)}else if(!h(O)&&O!==e.parent.inputElement&&O.nodeName!=="BR")if(O.textContent.trim().length===0||O.textContent.trim().length===1&&O.textContent.charCodeAt(0)===8203){var f=e.parent.formatter.editorManager.nodeCutter.SplitNode(e.range,O,!0).cloneNode(!0);e.parent.formatter.editorManager.domNode.insertAfter(f,O);var lt=e.parent.createElement("br");f.parentElement.insertBefore(lt,f),e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),f,0)}else{var f=void 0,lt=e.parent.createElement("br");if(e.range.startOffset===0&&e.range.endOffset===0&&!h(O.previousSibling)&&O.previousSibling.nodeName==="BR"&&O.nodeName!=="P"&&O.nodeName!=="DIV"){f=e.parent.formatter.editorManager.nodeCutter.SplitNode(e.range,O,!1).cloneNode(!0),e.parent.formatter.editorManager.domNode.insertAfter(lt,O),e.insertFocusContent();for(var p=lt.nextSibling;!h(p)&&p.nodeName!=="#text";)p=p.lastChild;e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),p,0)}else O!==e.parent.inputElement&&(Q.display==="inline"||Q.display==="inline-block")?(f=e.parent.formatter.editorManager.nodeCutter.SplitNode(e.range,O,!0).cloneNode(!0),O.parentElement.insertBefore(lt,O),e.parent.formatter.editorManager.nodeSelection.setCursorPoint(e.parent.contentModule.getDocument(),O,0),e.insertFocusContent()):e.insertBRElement()}else e.insertBRElement();t.args.preventDefault()}e.triggerActionComplete(t,o)}})}},a.prototype.removeBRElement=function(t){E.userAgent.indexOf("Firefox")!==-1&&this.range.endOffset===t.textContent.length&&(t.textContent.length!==0||t.querySelectorAll("BR").length>1)&&!h(t.lastChild)&&t.lastChild.nodeName==="BR"&&N(t.lastChild)},a.prototype.insertBRElement=function(){var t=!1,e=!0;this.range.endContainer.textContent.length===0&&this.range.startContainer.nodeName==="BR"&&(e=!1);for(var i=this.parent.createElement("br"),s=this.startNode;s.lastChild;)s=s.lastChild;var n=this.startNode.nodeName==="A"&&this.endNode.nodeName==="A"&&!h(this.range.startContainer.parentElement)&&this.range.startOffset===this.range.endOffset&&this.range.startContainer.textContent.trim().length===s.textContent.trim().length;if(this.startNode.nodeName==="BR"&&this.endNode.nodeName==="BR"&&this.range.startOffset===0&&this.range.startOffset===this.range.endOffset?(this.parent.formatter.editorManager.domNode.insertAfter(i,this.startNode),t=!0):(this.startNode===this.parent.inputElement&&!h(this.range.startContainer.previousSibling)&&this.range.startContainer.previousSibling.nodeName==="BR"&&this.range.startContainer.textContent.length===0&&(t=!0),n?this.parent.formatter.editorManager.domNode.insertAfter(i,this.startNode):this.range.insertNode(i)),t||!h(i.nextElementSibling)&&i.nextElementSibling.tagName==="BR"||!h(i.nextSibling)&&i.nextSibling.textContent.length>0)this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),!h(i.nextSibling)&&e?i.nextSibling:i,0),t=!1;else{var r=this.parent.createElement("br");n?this.parent.formatter.editorManager.domNode.insertAfter(r,this.startNode):this.range.insertNode(r),this.parent.formatter.editorManager.nodeSelection.setCursorPoint(this.parent.contentModule.getDocument(),i,0)}},a.prototype.insertFocusContent=function(){this.range.startContainer.textContent.length===0&&(this.range.startContainer.nodeName==="#text"?this.range.startContainer.parentElement.innerHTML="&#8203;":this.range.startContainer.innerHTML="&#8203;")},a.prototype.createInsertElement=function(t){var e;this.parent.enterKey==="DIV"&&!t||this.parent.shiftEnterKey==="DIV"&&t?e=this.parent.createElement("div"):(this.parent.enterKey==="P"&&!t||this.parent.shiftEnterKey==="P"&&t)&&(e=this.parent.createElement("p"));var i=this.parent.formatter.editorManager.domNode.blockNodes()[0].previousSibling,s=this.parent.formatter.editorManager.domNode.blockNodes()[0].nextSibling;return!h(i)&&i.nodeName!=="#text"&&i.hasAttribute("style")&&i.nodeName!=="TABLE"&&e.setAttribute("style",i.getAttribute("style")),h(i)&&!h(s)&&s.nodeName!=="#text"&&s.hasAttribute("style")&&s.nodeName!=="TABLE"&&e.setAttribute("style",s.getAttribute("style")),e},a.prototype.triggerActionComplete=function(t,e){this.parent.trigger(vi,{requestType:e?"ShiftEnterAction":"EnterAction",args:t.args})},a.prototype.handleCursorAtTableSide=function(t,e,i){var s=this;if(this.parent.enterKey!=="BR"){var n=t.args.shiftKey,r={cancel:!1,name:bt,requestType:n?"ShiftEnterAction":"EnterAction",originalEvent:t.args};this.parent.trigger(bt,r,function(o){if(!o.cancel){var l=s.parent.createElement(s.parent.enterKey);l.innerHTML="<br>";var c=void 0;e&&(c=s.range.startContainer.childNodes[s.range.startOffset],c.parentElement.insertBefore(l,c)),i&&(c=s.range.startContainer.childNodes[s.range.startOffset-1],h(c.nextSibling)?h(c.nextSibling)&&c.parentElement.appendChild(l):c.parentElement.insertBefore(l,c.nextSibling)),s.parent.formatter.editorManager.nodeSelection.setCursorPoint(s.parent.contentModule.getDocument(),l,0),t.args.preventDefault(),s.triggerActionComplete(t,n)}})}},a.prototype.handleEnterKeyAtImageSide=function(t,e,i){var s=this,n={cancel:!1,name:bt,requestType:t.args.shiftKey?"ShiftEnterAction":"EnterAction",originalEvent:t.args},r=!1;this.range.startContainer.nodeName==="IMG"&&this.range.startOffset===0&&(r=!0),this.parent.trigger(bt,n,function(o){if(!o.cancel&&s.parent.enterKey==="BR"){var l=s.parent.createElement("BR"),c=void 0;if(r&&(c=s.range.startContainer,c.parentElement.insertBefore(l,c),s.parent.formatter.editorManager.nodeSelection.setCursorPoint(s.parent.contentModule.getDocument(),c,0)),e&&(c=s.range.startContainer.childNodes[s.range.startOffset],c.parentElement.insertBefore(l,c),s.parent.formatter.editorManager.nodeSelection.setCursorPoint(s.parent.contentModule.getDocument(),c,0)),i){if(c=s.range.startContainer.childNodes[s.range.startOffset-1],!h(c.nextSibling))c.parentElement.insertBefore(l,c.nextSibling),s.parent.formatter.editorManager.nodeSelection.setCursorPoint(s.parent.contentModule.getDocument(),l.nextSibling,0);else if(h(c.nextSibling)){c.parentElement.appendChild(l);var d=s.parent.createElement("BR");c.parentElement.appendChild(d),s.parent.formatter.editorManager.nodeSelection.setCursorPoint(s.parent.contentModule.getDocument(),d,0)}}t.args.preventDefault(),s.triggerActionComplete(t,t.args.shiftKey)}})},a.prototype.isTableOrImageStart=function(){var t=["IMG","TABLE"],e=this.range.startContainer,i=this.range.startOffset,s=this.range.collapsed&&e.nodeType===1&&e.isContentEditable&&e.childNodes[i]&&t.indexOf(e.childNodes[i].nodeName)>-1;return s?{start:s,startNodeName:e.childNodes[i].nodeName}:{start:!1,startNodeName:""}},a.prototype.isTableOrImageEnd=function(){var t=["IMG","TABLE"],e=this.range.startContainer,i=this.range.startOffset,s=this.range.collapsed&&e.nodeType===1&&e.isContentEditable&&e.childNodes[i-1]&&t.indexOf(e.childNodes[i-1].nodeName)>-1;return s?{end:s,endNodeName:e.childNodes[i-1].nodeName}:{end:!1,endNodeName:""}},a.prototype.processedTableImageCursor=function(){var t=this.isTableOrImageStart(),e=t.start,i=t.startNodeName,s=this.isTableOrImageEnd(),n=s.end,r=s.endNodeName;return{start:e,startName:i,end:n,endName:r}},a}(),pE=function(){var a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var n in s)s.hasOwnProperty(n)&&(i[n]=s[n])},a(t,e)};return function(t,e){a(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),_d=function(){return _d=Object.assign||function(a){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=t[s])}return a},_d.apply(this,arguments)},$=function(a,t,e,i){var s=arguments.length,n=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(n=(s<3?r(n):s>3?r(t,e,n):r(t,e))||n);return s>3&&n&&Object.defineProperty(t,e,n),n},$g=function(a){pE(t,a);function t(e,i){var s=a.call(this,e,i)||this;return s.needsID=!0,s.isSelectAll=!1,s}return t.prototype.requiredModules=function(){var e=[];return this.toolbarSettings.enable&&(e.push({member:"toolbar",args:[this,this.serviceLocator]}),e.push({member:"link",args:[this,this.serviceLocator]}),e.push({member:"table",args:[this,this.serviceLocator]}),e.push({member:"image",args:[this,this.serviceLocator]}),e.push({member:"audio",args:[this,this.serviceLocator]}),e.push({member:"video",args:[this,this.serviceLocator]}),this.quickToolbarSettings.enable&&e.push({member:"quickToolbar",args:[this,this.serviceLocator]})),this.showCharCount&&e.push({member:"count",args:[this,this.serviceLocator]}),this.editorMode==="Markdown"&&e.push({member:"markdownEditor",args:[this,this.serviceLocator]}),this.editorMode==="HTML"&&(e.push({member:"htmlEditor",args:[this,this.serviceLocator]}),e.push({member:"pasteCleanup",args:[this,this.serviceLocator]}),e.push({member:"formatPainter",args:[this]}),e.push({member:"emojiPicker",args:[this,this.serviceLocator]})),this.fileManagerSettings.enable&&e.push({member:"fileManager",args:[this,this.serviceLocator]}),this.enableResize&&e.push({member:"resize",args:[this]}),e},t.prototype.updateEnable=function(){this.enabled?(k([this.element],$h),this.element.setAttribute("aria-disabled","false"),h(this.htmlAttributes.tabindex)?this.inputElement.setAttribute("tabindex","0"):this.inputElement.setAttribute("tabindex",this.htmlAttributes.tabindex)):(this.getToolbar()&&(k(this.getToolbar().querySelectorAll("."+zs),zs),k([this.getToolbar().parentElement],[id])),L([this.element],$h),this.element.tabIndex=-1,this.element.setAttribute("aria-disabled","true"),this.inputElement.setAttribute("tabindex","-1"))},t.prototype.setEnable=function(){this.updateEnable(),this.enabled?this.eventInitializer():this.unWireEvents()},t.prototype.initializeValue=function(){this.isFocusOut=!1,this.isRTE=!1,this.isBlur=!0,this.defaultResetValue=null,this.isResizeInitialized=!1},t.prototype.preRender=function(){this.initializeValue(),this.clickPoints={clientX:0,clientY:0},this.initialValue=this.value,this.serviceLocator=new VS,this.initializeServices(),this.setContainer(),this.persistData(),se(this.element,{width:X(this.width)}),le(this.element,{role:"application","aria-label":"Rich Text Editor"}),this.beforeRenderClassValue=this.element.getAttribute("class")},t.prototype.persistData=function(){if(this.enablePersistence&&this.originalElement.tagName==="TEXTAREA"){this.element.id=this.originalElement.id+"_wrapper";var e=window.localStorage.getItem(this.getModuleName()+this.element.id);h(e)||e===""||this.setProperties(JSON.parse(e),!0)}},t.prototype.setContainer=function(){this.originalElement=this.element.cloneNode(!0),(this.value===null||this.valueTemplate!==null)&&this.setValue(),this.element.hasAttribute("tabindex")&&(this.htmlAttributes={tabindex:this.element.getAttribute("tabindex")},this.element.removeAttribute("tabindex")),this.element.innerHTML="";for(var e=["class","style","id","ejs-for"],i={},s=0;s<this.element.attributes.length;s++)e.indexOf(this.element.attributes[s].name)===-1&&!/^data-val/.test(this.element.attributes[s].name)&&(i[this.element.attributes[s].name]=this.element.getAttribute(this.element.attributes[s].name));if(ue(i,this.htmlAttributes,i),this.setProperties({htmlAttributes:i},!0),h(this.htmlAttributes.id)||(this.element.id=this.htmlAttributes.id),this.internalID=this.element.id,this.element.tagName==="TEXTAREA"){var n=this.createElement("div",{className:this.element.getAttribute("class")});this.element.innerHTML="",this.element.parentElement.insertBefore(n,this.element),this.valueContainer=this.element,k([this.valueContainer],this.element.getAttribute("class").split(" ")),this.element=n}else this.valueContainer=this.createElement("textarea",{id:this.getID()+"-value",attrs:{"aria-labelledby":this.getID()}});if(this.valueContainer.name=this.getID(),L([this.valueContainer],Jm),!h(this.cssClass))for(var r=this.cssClass.split(" "),o=0;o<r.length;o++)L([this.valueContainer],r[o]);this.rootContainer=this.createElement("div",{className:H0,attrs:{role:"presentation"}}),this.element.appendChild(this.rootContainer),this.rootContainer.appendChild(this.valueContainer)},t.prototype.getPersistData=function(){return this.addOnPersist(["value"])},t.prototype.focusIn=function(){this.enabled&&(this.inputElement.focus(),this.focusHandler({}))},t.prototype.focusOut=function(){this.enabled&&(this.inputElement.blur(),this.blurHandler({}))},t.prototype.selectAll=function(){this.notify(Ic,{})},t.prototype.selectRange=function(e){this.notify(wo,{range:e})},t.prototype.getSelection=function(){var e="";return this.notify(Dc,{callBack:function(i){e=i}}),e},t.prototype.showEmojiPicker=function(e,i){this.readonly||this.notify(Lg,{x:e,y:i})},t.prototype.executeCommand=function(e,i,s){i=this.htmlPurifier(e,i);var n;if(this.editorMode==="HTML"){var r=this.getRange();this.iframeSettings.enable&&this.formatter.editorManager.nodeSelection.Clear(this.element.ownerDocument);var o=this.iframeSettings.enable&&r.startContainer===this.inputElement?!0:!this.inputElement.contains(r.startContainer);o&&this.focusIn()}var l=US[""+e];if(s&&s.undo&&s.undo&&this.formatter.getUndoRedoStack().length===0&&this.formatter.saveData(),this.maxLength!==-1&&!h(l.command)){var c=0;if(l.command==="Links"&&(c=i.text.length===0?i.url.length:i.text.length),(l.command==="Images"||l.command==="Table"||l.command==="Files")&&(c=1),l.command==="InsertHTML")if(h(i))!h(l.value)&&(l.value==="<hr/>"||l.value==="<br/>")&&(c=1);else{var d=this.createElement("div");d.innerHTML=i,c=d.textContent.length}l.command==="InsertText"&&(c=i.length);var p=this.getText().trim().replace(/(\r\n|\n|\r|\t)/gm,"").replace(/\u200B/g,"").length,u=this.getSelection().length,f=p-u+c;if(!(this.maxLength===-1||f<=this.maxLength))return}n=i,l.command==="FormatPainter"&&(h(i)||(this.formatPainterSettings=i),n={formatPainterAction:l.value}),this.formatter.editorManager.execCommand(l.command,l.subCommand?l.subCommand:n||l.value,null,null,n||l.value,n||(l.value==="UL"||l.value==="OL"?null:l.value),null,this.enterKey),s&&s.undo&&(this.formatter.saveData(),this.formatter.enableUndo(this)),this.setPlaceHolder(),this.notify(Ir,{})},t.prototype.htmlPurifier=function(e,i){if(this.editorMode==="HTML")switch(e){case"insertHTML":this.enableHtmlSanitizer&&(typeof i=="string"?i=this.htmlEditorModule.sanitizeHelper(i):i=this.htmlEditorModule.sanitizeHelper(i.outerHTML));break;case"insertTable":h(i.width)&&(i.width={minWidth:this.tableSettings.minWidth,maxWidth:this.tableSettings.maxWidth,width:this.tableSettings.width});break;case"insertImage":{var s=this.createElement("img",{attrs:{src:i.url}}),n=s.outerHTML;this.enableHtmlSanitizer&&(n=this.htmlEditorModule.sanitizeHelper(s.outerHTML));var r=n!==""&&this.createElement("div",{innerHTML:n}).firstElementChild.getAttribute("src")||null;r=h(r)?"":r,i.url=r,h(i.width)&&(i.width={minWidth:this.insertImageSettings.minWidth,maxWidth:this.insertImageSettings.maxWidth,width:this.insertImageSettings.width}),h(i.height)&&(i.height={minHeight:this.insertImageSettings.minHeight,maxHeight:this.insertImageSettings.maxHeight,height:this.insertImageSettings.height});break}case"insertAudio":{var o=this.createElement("audio",{attrs:{controls:""}}),s=this.createElement("source",{attrs:{src:i.url,type:i.url&&i.url.split(".").length>0?"audio/"+i.url.split(".")[i.url.split(".").length-1]:""}});o.appendChild(s);var l=o.outerHTML;this.enableHtmlSanitizer&&(l=this.htmlEditorModule.sanitizeHelper(o.outerHTML));var r=l!==""&&this.createElement("div",{innerHTML:l}).firstElementChild.firstElementChild.getAttribute("src")||null;r=h(r)?"":r,i.url=r;break}case"insertVideo":{var o=this.createElement("video",{attrs:{controls:""}}),s=this.createElement("source",{attrs:{src:i.url,type:i.url&&i.url.split(".").length>0?"video/"+i.url.split(".")[i.url.split(".").length-1]:""}});o.appendChild(s);var l=o.outerHTML;this.enableHtmlSanitizer&&(l=this.htmlEditorModule.sanitizeHelper(s.outerHTML));var r=l!==""&&this.createElement("div",{innerHTML:l}).firstElementChild.getAttribute("src")||null;r=h(r)?"":r,i.url=r,h(i.width)&&(i.width={minWidth:this.insertVideoSettings.minWidth,maxWidth:this.insertVideoSettings.maxWidth,width:this.insertVideoSettings.width}),h(i.height)&&(i.height={minHeight:this.insertVideoSettings.minHeight,maxHeight:this.insertVideoSettings.maxHeight,height:this.insertVideoSettings.height});break}case"createLink":{var c=this.createElement("a",{attrs:{href:i.url}}),d=c.outerHTML;this.enableHtmlSanitizer&&(d=this.htmlEditorModule.sanitizeHelper(c.outerHTML));var p=d!==""&&this.createElement("div",{innerHTML:d}).firstElementChild.getAttribute("href")||null;p=h(p)?"":p,i.url=p;break}}return i},t.prototype.encode=function(e){var i=this.createElement("div");return i.innerText=e.trim(),i.innerHTML.replace(/<br\s*[\/]?>/gi,`
`)},t.prototype.render=function(){this.value=this.editorMode!=="Markdown"&&!h(this.value)?this.addAnchorAriaLabel(this.value):this.value,this.value&&!this.valueTemplate&&this.setProperties({value:this.serializeValue(this.value)},!0),this.renderModule=new _M(this,this.serviceLocator),this.sourceCodeModule=new tS(this,this.serviceLocator),this.notify(dc,{}),this.trigger(b0),this.RTERender();var e=new hS(this);this.notify(Ct,{}),this.enableXhtml&&this.setProperties({value:this.getXhtml()},!0),this.toolbarSettings.enable&&(this.toolbarSettings.type==="Expand"||this.toolbarSettings.type==="MultiRow"||this.toolbarSettings.type==="Scrollable")&&!h(this.getToolbar())&&this.toolbarSettings.items.indexOf("Undo")>-1&&this.toolbarSettings.items.indexOf("Redo")>-1&&this.disableToolbarItem(["Undo","Redo"]),this.value!==null&&(this.valueContainer.defaultValue=this.value),this.enabled&&!this.readonly?this.eventInitializer():this.unWireEvents(),this.notify(ot,{cssClass:this.getCssClass()}),this.addAudioVideoWrapper(),this.notify(jr,{}),this.autoResize(),this.renderComplete()},t.prototype.addAudioVideoWrapper=function(){for(var e=this,i,s=this.element.querySelectorAll("audio"),n=0;n<s.length;n++)if(s[n].classList.contains("e-rte-audio")||(s[n].classList.add("e-rte-audio"),s[n].classList.add(sd)),!s[n].parentElement.classList.contains(Ji)&&!s[n].parentElement.classList.contains(Fi)){var r=this.createElement("span",{className:Fi});r.setAttribute("style","width:300px; margin:0 auto;"),r.contentEditable="false";var o=this.createElement("span",{className:Ji});r.appendChild(o),s[n].parentNode.insertBefore(r,s[n].nextSibling),o.appendChild(s[n]),r.nextElementSibling===null&&(i=this.createElement("br"),r.parentNode.insertBefore(i,r.nextSibling))}for(var l=this.element.querySelectorAll("video"),n=0;n<l.length;n++){if(l[n].classList.contains("e-rte-video")||(l[n].classList.add("e-rte-video"),l[n].classList.add(nd)),!l[n].parentElement.classList.contains(Ji)&&!l[n].parentElement.classList.contains(In)){var c=this.createElement("span",{className:In});c.contentEditable="false",l[n].parentNode.insertBefore(c,l[n].nextSibling),c.appendChild(l[n]),c.nextElementSibling===null&&(i=this.createElement("br"),c.parentNode.insertBefore(i,c.nextSibling))}E.userAgent.indexOf("Firefox")!==-1&&(l[n].addEventListener("play",function(p){e.notify(_t,{args:p}),e.notify("editAreaClick",{args:p})}),l[n].addEventListener("pause",function(p){e.notify(_t,{args:p}),e.notify("editAreaClick",{args:p})}))}},t.prototype.eventInitializer=function(){this.wireEvents()},t.prototype.cleanList=function(e){var i=this.getRange(),s=i.startContainer,n=i.endContainer,r=i.startOffset,o=s===n,l=n.textContent.length,c=i.endContainer.nodeName==="#text"?i.endContainer.parentElement:i.endContainer,d=M(c,"LI"),p=!1,u=i.endOffset;if(n.nodeType===Node.TEXT_NODE&&n.textContent.charAt(u-1)==="\uFEFF"&&u--,!h(d)&&c.textContent.trim().length===u&&!i.collapsed&&h(c.nextElementSibling)){for(var f=0;f<d.childNodes.length;f++)d.childNodes[f].nodeName==="#text"&&d.childNodes[f].textContent.trim().length===0&&(N(d.childNodes[f]),p=!0,f--);for(var m=d;m.lastChild!==null&&m.nodeName!=="#text";)m=m.lastChild;if(p){var g=m.nodeName==="BR"&&!h(m.previousSibling)?m.previousSibling:m;this.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(),o?g:s,g,r,g.nodeName==="BR"?0:g.textContent.length)}}},t.prototype.keyDown=function(e){if(this.notify(pt,{member:"keydown",args:e}),this.restrict(e),this.editorMode==="HTML"&&this.cleanList(e),this.editorMode==="HTML"&&(e.which===8&&e.code==="Backspace"||e.which===46&&e.code==="Delete")){var i=this.getRange(),s=i.startContainer.nodeName==="#text"?i.startContainer.parentElement:i.startContainer;if(M(s,"pre")&&e.which===8&&i.startContainer.textContent.charCodeAt(i.startOffset-1)===8203||e.which===46&&i.startContainer.textContent.charCodeAt(i.startOffset)===8203){var n=new RegExp("\u200B","g"),r=e.which===8?i.startOffset-1:i.startOffset;i.startContainer.textContent=i.startContainer.textContent.replace(n,""),this.formatter.editorManager.nodeSelection.setCursorPoint(this.contentModule.getDocument(),i.startContainer,r)}else if(e.code==="Backspace"&&e.which===8&&i.startContainer.textContent.charCodeAt(0)===8203&&i.collapsed){var o=i.startContainer.parentElement,l=void 0,c=void 0;for(c=0;c<o.childNodes.length;c++)o.childNodes[c]===i.startContainer&&(l=c);var d=!0,p=[];for(c=l;c>=0;c--)o.childNodes[c].nodeType===3&&o.childNodes[c].textContent.charCodeAt(0)===8203&&d?p.push(c):d=!1;if(p.length>0)for(c=p.length-1;c>0;c--)o.childNodes[p[c]].textContent="";this.formatter.editorManager.nodeSelection.setCursorPoint(this.contentModule.getDocument(),i.startContainer,i.startOffset)}}var u=h(e.action)?!0:e.action!=="format-copy";this.formatter.getUndoRedoStack().length===0&&u&&!(e.altKey||e.shiftKey||e.altKey&&e.shiftKey&&e.which===67)&&this.formatter.saveData();var f=!1;if(this.editorMode==="HTML"){var i=this.getRange();f=!h(i.startContainer)&&i.startContainer===i.endContainer&&i.endContainer.childNodes.length>1&&!h(i.startContainer.childNodes[i.startOffset-1])&&i.startContainer.childNodes[i.startOffset-1].nodeName==="#text"&&!h(i.startContainer.childNodes[i.startOffset-1].previousSibling)&&i.startContainer.childNodes[i.startOffset-1].textContent.charCodeAt(0)===32&&i.startContainer.childNodes[i.startOffset-1].previousSibling.classList.contains("e-mention-chip")}var m=["insert-link","format-copy","format-paste","insert-image","insert-table","insert-audio","insert-video"];if(m.indexOf(e.action)===-1&&(!e.target||!(e.target.classList.contains("e-mention")&&!h(document.querySelector("#"+e.target.id+"_popup.e-popup-open"))&&e.code==="Tab"))&&(e.action&&e.action!=="paste"&&e.action!=="space"||e.which===9||e.code==="Backspace"&&e.which===8)&&!f){var g=!1;switch(h(this.formatPainterModule)||(g=this.formatPainterModule.previousAction==="escape"),g||(this.editorMode==="HTML"&&(e.action==="increase-fontsize"||e.action==="decrease-fontsize")?this.notify(wg,{member:"onHandleFontsizeChange",args:e}):this.formatter.process(this,null,e)),e.action){case"toolbar-focus":if(this.toolbarSettings.enable&&this.getToolbarElement()){var b=this.getToolbarElement().querySelector(".e-toolbar-item:not(.e-overlay)[title]"),S=this.getRenderedQuickToolbarElem();if(S&&(b=S.querySelector(".e-toolbar-item:not(.e-overlay)[title]")),b){var T=b.firstElementChild;T.removeAttribute("tabindex"),T.focus()}}break;case"escape":this.contentModule.getEditPanel().focus();break}}if(this.notify(Jc,{member:"afterKeyDown",args:e}),this.autoResize(),h(this.placeholder)||this.setPlaceHolder(),!h(e)&&!h(e.code)&&(e.code==="Backspace"||e.code==="Delete")){var i=this.contentModule.getDocument().getSelection().getRangeAt(0),I=document.createElement("div");I.appendChild(i.cloneContents());var w=I.innerHTML;w===this.inputElement.innerHTML&&(this.isSelectAll=!0)}},t.prototype.keyUp=function(e){if(this.editorMode==="HTML"){var i=this.getRange();if(!h(e)&&!h(e.code)&&(e.code==="Backspace"||e.code==="Delete")){var s=this.getRange(),n=this.iframeSettings.enable?this.contentModule.getPanel().ownerDocument.getSelection():this.contentModule.getDocument().getSelection();this.isSelectAll&&(this.inputElement.innerHTML=this.enterKey!=="BR"?"<"+this.enterKey+"><br></"+this.enterKey+">":"<br>",this.isSelectAll=!1),n.rangeCount>0&&this.contentModule.getDocument().activeElement.tagName!=="INPUT"&&this.inputElement.contains(this.contentModule.getDocument().activeElement)&&i.startContainer.innerHTML==="<br>"&&i.startContainer.textContent===""&&(n.removeAllRanges(),n.addRange(s))}if(E.userAgent.indexOf("Firefox")!==-1&&i.startContainer.nodeName==="#text"&&i.startContainer.parentElement===this.inputElement&&this.enterKey!=="BR"){var r=this.getRange(),o=this.createElement(this.enterKey);r.startContainer.parentElement.insertBefore(o,r.startContainer),o.appendChild(r.startContainer),this.formatter.editorManager.nodeSelection.setSelectionText(this.contentModule.getDocument(),o.childNodes[0],o.childNodes[0],o.childNodes[0].textContent.length,o.childNodes[0].textContent.length)}}this.notify(Ht,{member:"keyup",args:e}),(e.keyCode===39||e.keyCode===37)&&this.notify(mc,{member:"tableModulekeyUp",args:e}),e.code==="KeyX"&&e.which===88&&e.keyCode===88&&e.ctrlKey&&(this.inputElement.innerHTML===""||this.inputElement.innerHTML==="<br>")&&(this.inputElement.innerHTML=Ro(Zd(this),this));var l=e.which===32||e.which===13||e.which===8||e.which===46,c=e.key==="C"&&e.altKey&&e.shiftKey,d=e.key==="V"&&e.altKey&&e.shiftKey;(!c&&!d&&(e.key!=="shift"&&!e.ctrlKey&&e.key&&e.key.length===1||l)||this.editorMode==="Markdown"&&(e.key!=="shift"&&!e.ctrlKey&&e.key&&e.key.length===1||l)||this.autoSaveOnIdle&&E.isDevice&&!this.inlineMode.enable)&&this.formatter.onKeyHandler(this,e),(this.inputElement&&this.inputElement.textContent.length!==0||this.element.querySelectorAll(".e-toolbar-item.e-active").length>0||this.formatter.getUndoRedoStack().length>0)&&this.notify(Ps,{args:e}),this.setPlaceHolder()},t.prototype.serializeValue=function(e){return this.editorMode==="HTML"&&!h(e)&&(this.enableHtmlEncode?(e=this.htmlEditorModule.sanitizeHelper(Pi(e)),e=this.encode(e)):(e=this.htmlEditorModule.sanitizeHelper(e),e=this.enableXhtml?this.htmlEditorModule.xhtmlValidation.selfEncloseValidation(e):e)),e},t.prototype.sanitizeHtml=function(e){return this.serializeValue(e)},t.prototype.updateValue=function(e){if(h(e)){var i=this.inputElement.innerHTML;this.setProperties({value:qM(i)?null:i})}else this.setProperties({value:e})},t.prototype.triggerEditArea=function(e){if(!et())this.notify(si,{member:"editAreaClick",args:e});else{var i=e.touches?e.changedTouches[0]:e;this.clickPoints.clientX===i.clientX&&this.clickPoints.clientY===i.clientY&&this.notify(si,{member:"editAreaClick",args:e})}},t.prototype.notifyMouseUp=function(e){var i=e.touches?e.changedTouches[0]:e;this.notify(Rr,{member:"mouseUp",args:e,touchData:{prevClientX:this.clickPoints.clientX,prevClientY:this.clickPoints.clientY,clientX:i.clientX,clientY:i.clientY}}),(this.inputElement&&(this.editorMode==="HTML"&&this.inputElement.textContent.length!==0||this.editorMode==="Markdown"&&this.inputElement.value.length!==0)||e.target&&!h(M(e.target,"table"))||e.target&&!h(e.target.querySelector("img"))||e.target&&(e.target.nodeName==="VIDEO"||e.target.querySelectorAll("."+In).length>0)||e.target&&e.target.nodeName!=="BR"&&(e.target.classList.contains(Fi)||e.target.classList.contains(Ji)||e.target.classList.contains(wn)))&&this.notify(Ps,{args:e}),this.triggerEditArea(e)},t.prototype.mouseUp=function(e){if(this.quickToolbarSettings.showOnRightClick&&E.isDevice){var i=e.target,s=M(i,"table");if(i&&i.nodeName==="A"||i.nodeName==="IMG"||i.nodeName==="TD"||i.nodeName==="TH"||i.nodeName==="TABLE"||s&&this.contentModule.getEditPanel().contains(s))return}this.notifyMouseUp(e),this.setPlaceHolder(),this.autoResize()},t.prototype.ensureModuleInjected=function(e){return this.getInjectedModules().indexOf(e)>=0},t.prototype.onCopy=function(){this.contentModule.getDocument().execCommand("copy",!1,null)},t.prototype.onCut=function(){this.contentModule.getDocument().execCommand("cut",!1,null)},t.prototype.onPaste=function(e){var i=this,s={originalEvent:e,cancel:!1,requestType:"Paste"};this.trigger(bt,s,function(n){var r=i.getText().replace(/(\r\n|\n|\r|\t)/gm,"").replace(/\u200B/g,"").length,o=i.getSelection().length,l=h(e)||h(e.clipboardData)?0:e.clipboardData.getData("text/plain").replace(/(\r\n|\n|\r|\t)/gm,"").replace(/\u200B/g,"").length,c=r-o+l;if(i.editorMode==="Markdown"){var d={requestType:"Paste",editorMode:i.editorMode,event:e};setTimeout(function(){i.formatter.onSuccess(i,d)},0),i.maxLength===-1||c<=i.maxLength||e.preventDefault();return}if(!n.cancel&&i.inputElement.contentEditable==="true"&&(i.maxLength===-1||c<=i.maxLength)){var p=i.contentModule.getDocument().querySelector(".e-rte-img-dialog");if(!h(i.pasteCleanupModule))h(p)&&i.notify(kc,{args:e});else{console.warn('[WARNING] :: Module "pasteCleanup" is not available in RichTextEditor component! You either misspelled the module name or forgot to load it.');var u={requestType:"Paste",editorMode:i.editorMode,event:e},f=null,m=!1;e&&!h(e.clipboardData)&&(f=e.clipboardData.getData("text/plain"),m=e.clipboardData.getData("text/html").indexOf("MsoNormal")>0);var g=e&&e.clipboardData&&e.clipboardData.items.length>0?e.clipboardData.items[0].getAsFile():null;f!==null&&i.notify(Ln,{file:g,args:e,text:f,isWordPaste:m}),setTimeout(function(){i.formatter.onSuccess(i,u)},0)}}else e.preventDefault()})},t.prototype.clipboardAction=function(e,i){switch(e.toLowerCase()){case"cut":this.onCut(),this.formatter.onSuccess(this,{requestType:"Cut",editorMode:this.editorMode,event:i});break;case"copy":this.onCopy(),this.formatter.onSuccess(this,{requestType:"Copy",editorMode:this.editorMode,event:i});break;case"paste":this.onPaste(i);break}},t.prototype.destroy=function(){if(!(this.isDestroyed||!this.isRendered)){if(this.element.className=this.beforeRenderClassValue,this.removeHtmlAttributes(),this.removeAttributes(),this.beforeRenderClassValue=null,h(this.timeInterval)||(clearInterval(this.timeInterval),this.timeInterval=null),h(this.autoSaveTimeOut)||(clearTimeout(this.autoSaveTimeOut),this.autoSaveTimeOut=null),h(this.idleInterval)||(clearTimeout(this.idleInterval),this.idleInterval=null),this.notify(Ee,{}),this.destroyDependentModules(),this.unWireEvents(),this.originalElement.tagName==="TEXTAREA"){this.element.parentElement.insertBefore(this.valueContainer,this.element),this.valueContainer.id=this.getID(),this.valueContainer.removeAttribute("name"),N(this.element),this.originalElement.innerHTML.trim()!==""?(this.valueContainer.value=this.originalElement.innerHTML.trim(),this.setProperties({value:h(this.initialValue)?null:this.initialValue},!0)):this.valueContainer.value=this.valueContainer.defaultValue,this.element=this.valueContainer;for(var e=0;e<this.originalElement.classList.length;e++)L([this.element],this.originalElement.classList[e]);if(!h(this.cssClass))for(var i=this.cssClass.split(" "),e=0;e<i.length;e++)L([this.element],i[e]);k([this.element],Jm)}else this.originalElement.innerHTML.trim()!==""?(this.element.innerHTML=this.originalElement.innerHTML.trim(),this.setProperties({value:h(this.initialValue)?null:this.initialValue},!0)):this.element.innerHTML="";var s=document.querySelector(".e-dialog.e-rte-elements");if(s&&N(s),this.placeholder&&this.placeHolderWrapper&&(this.placeHolderWrapper=null),!h(this.cssClass))for(var n=this.cssClass.split(" "),e=0;e<n.length;e++)n[e].trim()!==""&&k([this.element],n[e]);this.rootContainer&&(this.rootContainer=null),this.valueContainer&&(this.valueContainer=null),this.originalElement&&(this.originalElement=null),this.currentTarget=null,this.scrollParentElements=[],this.isRendered=!1,a.prototype.destroy.call(this)}},t.prototype.removeHtmlAttributes=function(){if(this.htmlAttributes)for(var e=Object.keys(this.htmlAttributes),i=0;i<e.length&&this.element.hasAttribute(e[i]);i++)this.element.removeAttribute(e[i])},t.prototype.removeAttributes=function(){this.enabled||k([this.element],$h),this.enableRtl&&k([this.element],js),this.readonly&&k([this.element],ad),this.element.style.width!==""&&this.originalElement.style.width===""&&this.element.style.removeProperty("width"),this.element.style.height!==""&&this.originalElement.style.height===""&&this.element.style.removeProperty("height"),this.element.removeAttribute("aria-disabled"),this.element.removeAttribute("role"),this.element.removeAttribute("tabindex"),this.element.removeAttribute("aria-label")},t.prototype.destroyDependentModules=function(){this.renderModule.destroy(),this.formatter.editorManager.destroy()},t.prototype.getContent=function(){return this.contentModule.getPanel()},t.prototype.getText=function(){return this.contentModule.getText()},t.prototype.getSelectedHtml=function(){var e,i=this.createElement("div"),s=this.contentModule.getDocument().getSelection();if(s.rangeCount>0){e=s.getRangeAt(0);var n=e.cloneContents();i.appendChild(n)}return i.innerHTML},t.prototype.showInlineToolbar=function(){if(this.inlineMode.enable){var e=this.getRange(),i=e.endContainer.nodeName==="#text"?e.endContainer.parentElement:e.endContainer,s=e.getClientRects()[0].left,n=e.getClientRects()[0].top;this.quickToolbarModule.showInlineQTBar(s,n,i)}},t.prototype.hideInlineToolbar=function(){this.quickToolbarModule.hideInlineQTBar()},t.prototype.getModuleName=function(){return"richtexteditor"},t.prototype.onPropertyChanged=function(e,i){for(var s=0,n=Object.keys(e);s<n.length;s++){var r=n[s];switch(r){case"enterKey":case"value":{var o=void 0;r==="enterKey"?this.value===null||this.value==="<div><br></div>"||this.value==="<p><br></p>"||this.value==="<br>"?o=null:o=this.value:o=e[r],o=this.serializeValue(o);var l=this.editorMode==="HTML"?Ro(o,this):o;(!h(o)&&o!==""||r==="enterKey")&&this.setProperties({value:this.enableHtmlEncode?this.encode(Pi(l)):l},!0),this.updatePanelValue(),this.inputElement&&this.notify(jr,{}),this.setPlaceHolder(),this.notify(Ur,{module:"XhtmlValidation",newProp:e,oldProp:i}),this.enableXhtml&&this.setProperties({value:this.getXhtml()},!0),this.showCharCount&&this.countModule.refresh(),this.addAudioVideoWrapper();break}case"valueTemplate":this.setValue(!0),this.showCharCount&&this.countModule.refresh();break;case"width":this.setWidth(e[r]),this.toolbarSettings.enable&&!this.inlineMode.enable&&(this.toolbarModule.refreshToolbarOverflow(),this.resizeHandler());break;case"height":this.setHeight(e[r]),this.autoResize();break;case"readonly":this.setReadOnly(!1);break;case"cssClass":this.element.classList.remove(i[r]),this.setCssClass(e[r]),this.notify(ot,{cssClass:e[r],oldCssClass:i[r]});break;case"enabled":this.setEnable();break;case"enableRtl":this.updateRTL();break;case"placeholder":this.placeholder=e[r],this.setPlaceHolder();break;case"htmlAttributes":cc(this.htmlAttributes,this,!1,!1);break;case"iframeSettings":{var c=i[r];if(c.resources){var d=this.contentModule.getDocument(),p=d.querySelector("head"),u=void 0;c.resources.scripts&&(u=p.querySelectorAll("."+Rm),this.removeSheets(u)),c.resources.styles&&(u=p.querySelectorAll("."+zm),this.removeSheets(u))}this.setIframeSettings();break}case"locale":a.prototype.refresh.call(this);break;case"inlineMode":this.notify(gt,{module:"quickToolbar",newProp:e,oldProp:i});break;case"toolbarSettings":this.notify(gt,{module:"toolbar",newProp:e,oldProp:i});break;case"maxLength":this.showCharCount&&this.countModule.refresh();break;case"showCharCount":e[r]&&this.countModule?this.countModule.renderCount():e[r]===!1&&this.countModule&&this.countModule.destroy();break;case"enableHtmlEncode":this.updateValueData(),this.updatePanelValue(),this.setPlaceHolder(),this.showCharCount&&this.countModule.refresh();break;case"undoRedoSteps":case"undoRedoTimer":this.formatter.editorManager.observer.notify(Bo,{newProp:e,oldProp:i});break;case"enableXhtml":this.notify(Ur,{module:"XhtmlValidation",newProp:e,oldProp:i});break;case"quickToolbarSettings":e.quickToolbarSettings.showOnRightClick?this.wireContextEvent():this.unWireContextEvent(),this.notify(gt,{newProp:e,oldProp:i});break;case"formatPainterSettings":this.formatter.editorManager.observer.notify(Bo,{module:"formatPainter",newProp:e});break;default:this.notify(gt,{newProp:e,oldProp:i});break}this.autoResize()}},t.prototype.updateValueData=function(){this.enableHtmlEncode?this.setProperties({value:this.encode(Pi(this.inputElement.innerHTML))},!0):this.setProperties({value:/<[a-z][\s\S]*>/i.test(this.inputElement.innerHTML)?this.inputElement.innerHTML:Pi(this.inputElement.innerHTML)})},t.prototype.removeSheets=function(e){var i;for(i=0;i<e.length;i++)N(e[i])},t.prototype.updatePanelValue=function(){var e=this.listOrderCorrection(this.value);e=this.enableHtmlEncode&&this.value?Pi(e):e;var i=this.element.querySelector("."+Bs);e?(!h(i)&&this.rootContainer.classList.contains("e-source-code-enabled")&&(i.value=this.value),this.valueContainer&&(this.valueContainer.value=this.enableHtmlEncode?this.value:e),this.editorMode==="HTML"&&this.inputElement&&this.inputElement.innerHTML.trim()!==e.trim()?this.inputElement.innerHTML=e:this.editorMode==="Markdown"&&this.inputElement&&this.inputElement.value.trim()!==e.trim()&&(this.inputElement.value=e)):(!h(i)&&this.rootContainer.classList.contains("e-source-code-enabled")&&(i.value=""),this.editorMode==="HTML"?this.enterKey==="DIV"?this.inputElement.innerHTML="<div><br/></div>":this.enterKey==="BR"?this.inputElement.innerHTML="<br/>":this.inputElement.innerHTML="<p><br/></p>":this.inputElement.value="",this.valueContainer&&(this.valueContainer.value="")),this.showCharCount&&this.countModule.refresh()},t.prototype.listOrderCorrection=function(e){var i=this.createElement("div");i.innerHTML=e;for(var s=i.querySelectorAll("UL, OL"),n=0;n<s.length;n++)!h(s[n])&&!h(s[n].parentElement)&&!h(s[n].previousElementSibling)&&(s[n].parentElement.nodeName==="UL"||s[n].parentElement.nodeName==="OL")&&s[n].previousElementSibling.appendChild(s[n]);return i.innerHTML},t.prototype.setHeight=function(e){e!=="auto"?this.element.style.height=X(e):this.element.style.height="auto",this.toolbarSettings.type==="Expand"&&(typeof this.height=="string"&&this.height.indexOf("px")>-1||typeof this.height=="number")?this.element.classList.add(tg):this.element.classList.remove(tg)},t.prototype.setPlaceHolder=function(){this.inputElement&&this.placeholder&&this.iframeSettings.enable!==!0&&(this.editorMode!=="Markdown"?(this.placeHolderWrapper||(this.placeHolderWrapper=this.createElement("span",{className:"rte-placeholder e-rte-placeholder "+this.getCssClass()}),this.fontSize.default&&(this.placeHolderWrapper.style.fontSize=this.fontSize.default),this.inputElement&&this.inputElement.parentElement.insertBefore(this.placeHolderWrapper,this.inputElement)),this.placeHolderWrapper.innerHTML=this.placeholder,this.inputElement.textContent.length===0&&this.inputElement.childNodes.length<2&&!h(this.inputElement.firstChild)&&(this.inputElement.firstChild.nodeName==="BR"||(this.inputElement.firstChild.nodeName==="P"||this.inputElement.firstChild.nodeName==="DIV")&&!h(this.inputElement.firstChild.firstChild)&&this.inputElement.firstChild.firstChild.nodeName==="BR")?this.placeHolderWrapper.classList.add("enabled"):this.placeHolderWrapper.classList.remove("enabled")):this.inputElement.setAttribute("placeholder",this.placeholder)),this.placeholder&&this.iframeSettings.enable&&this.inputElement&&(this.inputElement.textContent.length===0&&this.inputElement.childNodes.length<2&&!h(this.inputElement.firstChild)&&(this.inputElement.firstChild.nodeName==="BR"||(this.inputElement.firstChild.nodeName==="P"||this.inputElement.firstChild.nodeName==="DIV")&&!h(this.inputElement.firstChild.firstChild)&&this.inputElement.firstChild.firstChild.nodeName==="BR")?(L([this.inputElement],"e-rte-placeholder"),this.inputElement.setAttribute("placeholder",this.placeholder)):k([this.inputElement],"e-rte-placeholder"))},t.prototype.setWidth=function(e){e!=="auto"?se(this.element,{width:X(this.width)}):this.element.style.width="auto"},t.prototype.setCssClass=function(e){if(!h(e))for(var i=e.split(" "),s=0;s<i.length;s++)i[s].trim()!==""&&this.element.classList.add(i[s])},t.prototype.updateRTL=function(){this.notify(ts,{enableRtl:this.enableRtl}),this.enableRtl?(this.element.classList.add(js),this.inputElement.classList.add(js)):(this.element.classList.remove(js),this.inputElement.classList.remove(js))},t.prototype.updateReadOnly=function(){this.notify(xc,{editPanel:this.inputElement,mode:this.readonly})},t.prototype.setReadOnly=function(e){this.updateReadOnly(),e||(this.readonly&&this.enabled?(this.unbindEvents(),this.unWireEvents()):this.enabled&&this.wireEvents())},t.prototype.print=function(){var e=this,i,s={element:this.inputElement,requestType:"print",cancel:!1};this.trigger(bt,s,function(n){if(i=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth),E.info.name==="msie"&&i.resizeTo(screen.availWidth,screen.availHeight),i=$p(e.inputElement,i),!n.cancel){var r={requestType:"print"};e.trigger(vi,r)}})},t.prototype.refreshUI=function(){this.renderModule.refresh()},t.prototype.showFullScreen=function(){this.fullScreenModule.showFullScreen()},t.prototype.enableToolbarItem=function(e,i){this.toolbarModule.enableTBarItems(this.getBaseToolbarObject(),e,!0,i)},t.prototype.disableToolbarItem=function(e,i){this.toolbarModule.enableTBarItems(this.getBaseToolbarObject(),e,!1,i)},t.prototype.removeToolbarItem=function(e){this.toolbarModule.removeTBarItems(e)},t.prototype.getRange=function(){return this.formatter.editorManager.nodeSelection.getRange(this.contentModule.getDocument())},t.prototype.initializeServices=function(){this.serviceLocator.register("rendererFactory",new qS),this.serviceLocator.register("rteLocale",this.localeObj=new Yt(this.getModuleName(),RM,this.locale)),this.serviceLocator.register("dialogRenderObject",new iS(this))},t.prototype.RTERender=function(){var e=this.serviceLocator.getService("rendererFactory");this.contentModule=e.getRenderer(Ce.Content),this.fullScreenModule=new FS(this),this.enterKeyModule=new dE(this),this.renderModule.render(),this.inputElement=this.contentModule.getEditPanel(),this.setHeight(this.height),cc(this.htmlAttributes,this,!1,!0),this.iframeSettings&&this.setIframeSettings(),this.setCssClass(this.cssClass),this.updateEnable(),this.setPlaceHolder(),this.updateRTL(),this.updateReadOnly(),this.updatePanelValue(),this.enableHtmlEncode&&!h(this.value)&&this.setProperties({value:this.encode(Pi(this.value))})},t.prototype.setIframeSettings=function(){if(this.iframeSettings.resources){var e=this.iframeSettings.resources.styles,i=this.iframeSettings.resources.scripts;!h(this.iframeSettings.resources.scripts)&&this.iframeSettings.resources.scripts.length>0&&this.InjectSheet(!0,i),!h(this.iframeSettings.resources.styles)&&this.iframeSettings.resources.styles.length>0&&this.InjectSheet(!1,e)}this.iframeSettings.attributes&&cc(this.iframeSettings.attributes,this,!0,!1)},t.prototype.InjectSheet=function(e,i){try{if(i&&i.length>0)for(var s=this.contentModule.getDocument(),n=s.querySelector("head"),r=0;r<i.length;r++)if(e){var o=this.createScriptElement();o.src=i[r],n.appendChild(o)}else{var l=this.createStyleElement();l.href=i[r],n.appendChild(l)}}catch{return}},t.prototype.createScriptElement=function(){var e=this.createElement("script",{className:Rm});return e.type="text/javascript",e},t.prototype.createStyleElement=function(){var e=this.createElement("link",{className:zm});return e.rel="stylesheet",e},t.prototype.setValue=function(e){var i=this;if(this.valueTemplate){var s=new RegExp(/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i);if(typeof this.valueTemplate=="string"&&s.test(this.valueTemplate))this.setProperties({value:this.valueTemplate});else{var n=kt(this.valueTemplate)("",this,"valueTemplate");if(typeof this.valueTemplate!="string"&&this.isReact){this.displayTempElem=this.createElement("div");for(var r=0;r<n.length;r++){var o=n[r];Pe([o],this.displayTempElem)}this.renderTemplates(function(){i.inputElement.innerHTML=i.displayTempElem.childNodes[0].innerHTML,i.setProperties({value:i.inputElement.innerHTML.trim()})})}else{var l=this.element;e&&(this.inputElement.innerHTML="",l=this.inputElement);for(var r=0;r<n.length;r++){var o=n[r];Pe([o],l)}this.setProperties({value:l.innerHTML.trim()}),this.renderReactTemplates()}}}else{var c=!h(this.element.innerHTML)&&this.element.innerHTML.replace(/<(\/?|\!?)(!--!--)>/g,"").trim();c!==""&&(this.element.tagName==="TEXTAREA"?this.setProperties({value:Pi(c)}):this.setProperties({value:c}))}},t.prototype.renderTemplates=function(e){this.renderReactTemplates(e)},t.prototype.updateResizeFlag=function(){this.isResizeInitialized=!0},t.prototype.getInsertImgMaxWidth=function(){var e=this.insertImageSettings.maxWidth,i=12,s=2,n=this.contentModule.getEditPanel();if(this.editorMode==="HTML"&&!h(this.formatter.editorManager.nodeSelection)&&!h(this.formatter.editorManager.nodeSelection.range)){var r=this.formatter.editorManager.nodeSelection.range;r.startContainer.nodeType!==3&&r.startContainer.closest&&!h(r.startContainer.closest("TD"))&&(n=r.startContainer)}var o=window.getComputedStyle(n),l=n.offsetWidth-(i+s+parseFloat(o.paddingLeft.split("px")[0])+parseFloat(o.paddingRight.split("px")[0])+parseFloat(o.marginLeft.split("px")[0])+parseFloat(o.marginRight.split("px")[0]));return h(e)?l:e},t.prototype.getInsertVidMaxWidth=function(){var e=this.insertVideoSettings.maxWidth,i=12,s=2,n=this.contentModule.getEditPanel(),r=window.getComputedStyle(n),o=n.offsetWidth-(i+s+parseFloat(r.paddingLeft.split("px")[0])+parseFloat(r.paddingRight.split("px")[0])+parseFloat(r.marginLeft.split("px")[0])+parseFloat(r.marginRight.split("px")[0]));return h(e)?o:e},t.prototype.getHtml=function(){var e=this.removeResizeElement(this.contentModule.getEditPanel().innerHTML);return this.enableXhtml&&(e==="<p><br></p>"||e==="<div><br></div>"||e==="<br>")?null:this.serializeValue(e)},t.prototype.getXhtml=function(){var e=this.removeResizeElement(this.value);return!h(e)&&this.enableXhtml&&(e=this.htmlEditorModule.xhtmlValidation.selfEncloseValidation(e)),e},t.prototype.showSourceCode=function(){this.readonly||this.notify(Do,{})},t.prototype.getCharCount=function(){var e=this.editorMode==="Markdown"?this.inputElement.value.trim():this.inputElement.textContent.trim(),i;return this.editorMode!=="Markdown"&&e.indexOf("\u200B")!==-1?i=e.replace(/\u200B/g,"").length:i=e.length,i},t.prototype.showDialog=function(e){e===fi.InsertLink?this.notify(Fc,{}):e===fi.InsertImage?this.notify(Vc,{}):e===fi.InsertAudio?this.notify(qc,{}):e===fi.InsertVideo?this.notify(_c,{}):e===fi.InsertTable&&this.notify(Gc,{})},t.prototype.closeDialog=function(e){e===fi.InsertLink?this.notify(Uc,{}):e===fi.InsertImage?this.notify(Wc,{}):e===fi.InsertAudio?this.notify(Qc,{}):e===fi.InsertVideo?this.notify(Yc,{}):e===fi.InsertTable&&this.notify(Xc,{})},t.prototype.getBaseToolbarObject=function(){var e;return this.inlineMode.enable&&(!E.isDevice||et())?e=this.quickToolbarModule&&this.quickToolbarModule.getInlineBaseToolbar():e=this.toolbarModule&&this.toolbarModule.getBaseToolbar(),e},t.prototype.getToolbar=function(){return this.toolbarModule?this.toolbarModule.getToolbarElement():null},t.prototype.getToolbarElement=function(){return this.toolbarModule&&this.toolbarModule.getToolbarElement()},t.prototype.getID=function(){return this.internalID},t.prototype.getCssClass=function(e){return h(this.cssClass)?"":e?" "+this.cssClass:this.cssClass},t.prototype.mouseDownHandler=function(e){var i=e.touches?e.changedTouches[0]:e;L([this.element],[ic]),this.preventDefaultResize(e),this.notify(_t,{args:e}),this.formatter.editorManager.observer.notify(_t,{args:e}),this.clickPoints={clientX:i.clientX,clientY:i.clientY}},t.prototype.preventImgResize=function(e){e.target.nodeName.toLocaleLowerCase()==="img"&&e.preventDefault()},t.prototype.preventDefaultResize=function(e){E.info.name==="msie"?this.contentModule.getEditPanel().addEventListener("mscontrolselect",this.preventImgResize):E.info.name==="mozilla"&&(this.contentModule.getDocument().execCommand("enableObjectResizing",!1,"false"),this.contentModule.getDocument().execCommand("enableInlineTableEditing",!1,"false"))},t.prototype.defaultResize=function(e){E.info.name==="msie"?this.contentModule.getEditPanel().removeEventListener("mscontrolselect",this.preventImgResize):E.info.name==="mozilla"&&(this.contentModule.getDocument().execCommand("enableObjectResizing",!0,"true"),this.contentModule.getDocument().execCommand("enableInlineTableEditing",!0,"true"))},t.prototype.resizeHandler=function(){if(!document.body.contains(this.element)){document.defaultView.removeEventListener("resize",this.resizeHandler,!0),this.onResizeHandler=null;return}this.toolbarSettings.enable&&!this.inlineMode.enable&&this.toolbarModule.refreshToolbarOverflow(),this.notify(zr,null),this.autoResize()},t.prototype.scrollHandler=function(e){this.element&&this.notify(Mr,{args:e})},t.prototype.contentScrollHandler=function(e){this.notify(Sr,{args:e})},t.prototype.focusHandler=function(e){if(!this.isRTE||this.isFocusOut){this.isRTE=!this.isFocusOut,this.isFocusOut=!1,L([this.element],[ic]),this.editorMode==="HTML"?this.cloneValue=this.inputElement.innerHTML==="<p><br></p>"||this.inputElement.innerHTML==="<div><br></div>"||this.inputElement.innerHTML==="<br>"?null:this.enableHtmlEncode?this.encode(Pi(this.inputElement.innerHTML)):this.inputElement.innerHTML:this.cloneValue=this.inputElement.value===""?null:this.inputElement.value;var i=document.activeElement;if((i===this.element||i===this.getToolbarElement()||i===this.contentModule.getEditPanel()||this.iframeSettings.enable&&i===this.contentModule.getPanel()&&e.target&&!e.target.classList.contains("e-img-inner")&&e.target&&e.target.parentElement&&!e.target.parentElement.classList.contains("e-img-wrap")||M(i,".e-rte-toolbar")===this.getToolbarElement())&&(this.contentModule.getEditPanel().focus(),!h(this.getToolbarElement()))){this.getToolbarElement().setAttribute("tabindex","-1");for(var s=this.getToolbarElement().querySelectorAll('[tabindex="0"]'),n=0;n<s.length;n++)s[n].setAttribute("tabindex","-1")}this.preventDefaultResize(e),this.trigger("focus",{event:e,isInteracted:Object.keys(e).length!==0}),!h(this.saveInterval)&&this.saveInterval>0&&!this.autoSaveOnIdle&&h(this.timeInterval)&&(this.timeInterval=setInterval(this.updateValueOnIdle.bind(this),this.saveInterval)),v.add(document,"mousedown",this.onDocumentClick,this)}if(!this.readonly){var r=this.getCurrentFocus(e);(r==="editArea"||r==="textArea"||r==="sourceCode")&&this.resetToolbarTabIndex()}},t.prototype.getUpdatedValue=function(){var e,i=this.element.querySelector("."+Bs);return this.editorMode==="HTML"?(e=this.inputElement.innerHTML==="<p><br></p>"||this.inputElement.innerHTML==="<div><br></div>"||this.inputElement.innerHTML==="<br>"?null:this.enableHtmlEncode?this.encode(Pi(this.removeResizeElement(this.inputElement.innerHTML))):this.inputElement.innerHTML,!h(i)&&this.rootContainer.classList.contains("e-source-code-enabled")&&(e=i.value)):e=this.inputElement.value===""?null:this.inputElement.value,e!=null&&!this.enableHtmlEncode&&(e=this.removeResizeElement(e)),e},t.prototype.updateValueOnIdle=function(){!h(this.tableModule)&&!h(this.inputElement.querySelector(".e-table-box.e-rbox-select"))||(this.setProperties({value:this.getUpdatedValue()},!0),this.valueContainer.value=this.value,this.isValueChangeBlurhandler=!1,this.invokeChangeEvent())},t.prototype.updateIntervalValue=function(){clearTimeout(this.idleInterval),this.idleInterval=setTimeout(this.updateValueOnIdle.bind(this),0)},t.prototype.cleanupResizeElements=function(e){var i=this.removeResizeElement(e.value);e.callBack(i)},t.prototype.addAnchorAriaLabel=function(e){var i=document.createElement("div");i.innerHTML=e;var s=i.querySelectorAll("a");if(s.length>0)for(var n=0;n<s.length;n++)s[n].hasAttribute("target")&&s[n].getAttribute("target")==="_blank"&&s[n].setAttribute("aria-label",this.serviceLocator.getService("rteLocale").getConstant("linkAriaLabel"));return i.innerHTML},t.prototype.removeResizeElement=function(e){var i=document.createElement("div");i.innerHTML=e;var s=i.querySelectorAll(".e-column-resize, .e-row-resize, .e-table-box, .e-table-rhelper, .e-img-resize");if(s.length>0)for(var n=0;n<s.length;n++)N(s[n]);return this.removeSelectionClassStates(i),this.editorMode==="Markdown"?i.innerHTML.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"):i.innerHTML},t.prototype.updateStatus=function(e){if(!h(e.html)||!h(e.markdown)){var i=this.formatter.editorManager.undoRedoManager.getUndoStatus(),s={undo:i.undo,redo:i.redo,html:e.html,markdown:e.markdown};this.trigger(S0,s)}},t.prototype.onDocumentClick=function(e){var i=e.target,s=M(i,"."+Or);!this.element.contains(e.target)&&document!==e.target&&s!==this.element&&!M(i,'[aria-owns="'+this.getID()+'"]')&&(this.isBlur=!0,this.isRTE=!1),this.notify(Hr,{args:e});var n=this.quickToolbarModule&&!this.inlineMode.enable&&h(this.quickToolbarModule.inlineQTBar);(n&&!h(M(i,".e-toolbar-wrapper"))||n&&(!h(M(i,".e-rte-table-resize"))||!h(M(i,".e-table-box"))))&&this.quickToolbarModule.hideQuickToolbars(),E.info.name!=="msie"&&e.detail>3&&e.preventDefault()},t.prototype.blurHandler=function(e){var i=e.relatedTarget;if(i){var s=M(i,"."+Or);if(!s&&this.iframeSettings.enable){var n=this.element.querySelector("#"+this.getID()+"_rte-view");n&&n.contentWindow.document.body.contains(i)&&(s=M(n,"."+Or))}s&&s===this.element?(this.isBlur=!1,i===this.getToolbarElement()&&i.setAttribute("tabindex","-1")):M(i,'[aria-owns="'+this.getID()+'"]')||M(i,"."+rt)?this.isBlur=!1:(this.isBlur=!0,i=null)}if(this.isBlur&&h(i)){k([this.element],[ic]),this.removeSelectionClassStates(this.inputElement),this.notify(Br,{});var r=this.getUpdatedValue();this.setProperties({value:r}),this.valueContainer.value=this.value,this.notify(Ps,{args:e,documentNode:document}),this.isValueChangeBlurhandler=!0,this.invokeChangeEvent(),this.isFocusOut=!0,this.isBlur=!1,qs(this.valueContainer,"focusout"),this.defaultResize(e),this.trigger("blur",{event:e,isInteracted:Object.keys(e).length!==0}),h(this.timeInterval)||(clearInterval(this.timeInterval),this.timeInterval=null),!h(this.placeHolderWrapper)&&this.element.querySelector("[title = Preview]")&&(this.placeHolderWrapper.style.display="none"),v.remove(document,"mousedown",this.onDocumentClick)}else this.isRTE=!0;!this.readonly&&this.getCurrentFocus(e)==="outside"&&this.resetToolbarTabIndex()},t.prototype.contentChanged=function(){this.autoSaveOnIdle&&(h(this.saveInterval)||(clearTimeout(this.autoSaveTimeOut),this.autoSaveTimeOut=setTimeout(this.updateIntervalValue.bind(this),this.saveInterval)))},t.prototype.invokeChangeEvent=function(){var e;this.enableXhtml?e=this.getXhtml():e=this.value;var i={value:e,isInteracted:this.isValueChangeBlurhandler};this.value!==this.cloneValue&&(this.trigger("change",i),this.cloneValue=this.value)},t.prototype.wireScrollElementsEvents=function(){this.scrollParentElements=on(this.element);for(var e=0,i=this.scrollParentElements;e<i.length;e++){var s=i[e];v.add(s,"scroll",this.scrollHandler,this)}this.iframeSettings.enable||v.add(this.inputElement,"scroll",this.contentScrollHandler,this)},t.prototype.wireContextEvent=function(){this.quickToolbarSettings.showOnRightClick&&(v.add(this.inputElement,"contextmenu",this.contextHandler,this),E.isDevice&&(this.touchModule=new Si(this.inputElement,{tapHold:this.touchHandler.bind(this),tapHoldThreshold:500})))},t.prototype.unWireContextEvent=function(){v.remove(this.inputElement,"contextmenu",this.contextHandler),E.isDevice&&this.touchModule&&this.touchModule.destroy()},t.prototype.unWireScrollElementsEvents=function(){this.scrollParentElements=on(this.element);for(var e=0,i=this.scrollParentElements;e<i.length;e++){var s=i[e];v.remove(s,"scroll",this.scrollHandler)}this.iframeSettings.enable||v.remove(this.inputElement,"scroll",this.contentScrollHandler)},t.prototype.touchHandler=function(e){this.notifyMouseUp(e.originalEvent),this.triggerEditArea(e.originalEvent)},t.prototype.contextHandler=function(e){var i=M(e.target,"a, table, img, video, audio");!i&&e.target&&e.target.classList&&(e.target.classList.contains(Fi)||e.target.classList.contains(Ji))&&(i=e.target.querySelector("audio")),(this.inlineMode.onSelection===!1||!h(i)&&this.inputElement.contains(i)&&(i.tagName==="IMG"||i.tagName==="TABLE"||i.tagName==="A"||i.tagName.toLowerCase()==="video"||i.tagName.toLowerCase()==="audio"))&&e.preventDefault()},t.prototype.resetHandler=function(){var e=this.valueContainer.defaultValue.trim();this.setProperties({value:e===""?null:e})},t.prototype.autoResize=function(){if(!(!this.element||!this.originalElement||!this.valueContainer)){if(this.height==="auto"){if(this.editorMode==="Markdown")this.setAutoHeight(this.inputElement);else if(this.iframeSettings.enable){var e=this.element.querySelector("#"+this.getID()+"_rte-view");e&&(this.setAutoHeight(e),this.inputElement.style.overflow="hidden")}}else if(this.editorMode==="Markdown"){var i=this.inputElement,s=this.enableResize||this.showCharCount?20:0;i&&(i.style.height=this.element.clientHeight-(this.toolbarModule.getToolbarHeight()+s+3)+"px")}else if(this.iframeSettings.enable){var n=this.element.querySelector("#"+this.getID()+"_rte-view"),s=this.enableResize||this.showCharCount?20:0;n&&(n.style.height=this.element.clientHeight-(this.toolbarModule.getToolbarHeight()+s+3)+"px")}}},t.prototype.setAutoHeight=function(e){h(e)||(e.style.height="auto",e.style.height=this.inputElement.scrollHeight+16+"px",e.style.overflow="hidden")},t.prototype.wireEvents=function(){this.onResizeHandler=this.resizeHandler.bind(this),this.onBlurHandler=this.blurHandler.bind(this),this.onFocusHandler=this.focusHandler.bind(this),this.element.addEventListener("focusin",this.onFocusHandler,!0),this.element.addEventListener("focusout",this.onBlurHandler,!0),this.on(Ir,this.contentChanged,this),this.on(km,this.updateResizeFlag,this),this.on(Hc,this.updateStatus,this),this.on($c,this.cleanupResizeElements,this),this.on(Zc,this.updateValueOnIdle,this),this.on(td,this.autoResize,this),!(this.readonly&&this.enabled)&&this.bindEvents()},t.prototype.restrict=function(e){if(this.maxLength>=0){var i=this.editorMode==="Markdown"?this.contentModule.getText():this.getText().replace(/(\r\n|\n|\r|\t)/gm,"").replace(/\u200B/g,"");if(!i)return;for(var s=[8,16,17,37,38,39,40,46,65],n=void 0,r=0;r<=s.length-1;r++)if(e.which===s[r]){if(e.ctrlKey&&e.which===65)return;if(e.which!==65){n=s[r];return}}i.length>=this.maxLength&&this.maxLength!==-1&&e.which!==n&&e.preventDefault()}},t.prototype.bindEvents=function(){this.keyboardModule=new Ud(this.inputElement,{keyAction:this.keyDown.bind(this),keyConfigs:_d({},this.formatter.keyConfig,this.keyConfig),eventName:"keydown"});var e=M(this.valueContainer,"form");e&&v.add(e,"reset",this.resetHandler,this),v.add(this.inputElement,"keyup",this.keyUp,this),v.add(this.inputElement,"paste",this.onPaste,this),v.add(this.inputElement,"content-changed",this.contentChanged,this),this.mouseDownDebListener=na(this.mouseUp,30),v.add(this.inputElement,E.touchEndEvent,this.mouseDownDebListener,this),v.add(this.inputElement,E.touchStartEvent,this.mouseDownHandler,this),v.add(this.inputElement,"input",this.inputHandler,this),this.wireContextEvent(),this.formatter.editorManager.observer.on(at,this.editorKeyDown,this),this.element.ownerDocument.defaultView.addEventListener("resize",this.onResizeHandler,!0),this.iframeSettings.enable&&(v.add(this.inputElement,"focusin",this.focusHandler,this),v.add(this.inputElement,"focusout",this.blurHandler,this),v.add(this.inputElement.ownerDocument,"scroll",this.contentScrollHandler,this),v.add(this.inputElement.ownerDocument,E.touchStartEvent,this.onIframeMouseDown,this),v.add(this.contentModule.getPanel(),"load",this.iframeLoadHandler,this)),this.wireScrollElementsEvents()},t.prototype.onIframeMouseDown=function(e){this.isBlur=!1,this.currentTarget=e.target,this.notify(wt,e)},t.prototype.inputHandler=function(){this.autoResize()},t.prototype.editorKeyDown=function(e){switch(e.event.action){case"copy":this.onCopy();break;case"cut":this.onCut();break;case"tab":this.iframeSettings.enable&&(this.isBlur=!0);break}e.callBack&&(e.event.action==="copy"||e.event.action==="cut"||e.event.action==="delete")&&e.callBack({requestType:e.event.action,editorMode:"HTML",event:e.event})},t.prototype.unWireEvents=function(){this.element.removeEventListener("focusin",this.onFocusHandler,!0),this.onFocusHandler=null,this.element.removeEventListener("focusout",this.onBlurHandler,!0),this.onBlurHandler=null,this.off(Ir,this.contentChanged),this.off(km,this.updateResizeFlag),this.off(Hc,this.updateStatus),this.off($c,this.cleanupResizeElements),this.off(Zc,this.updateValueOnIdle),this.off(td,this.autoResize),!(this.readonly&&this.enabled)&&this.unbindEvents()},t.prototype.unbindEvents=function(){this.keyboardModule&&!this.keyboardModule.isDestroyed&&(this.keyboardModule.destroy(),this.keyboardModule=null);var e=M(this.valueContainer,"form");e&&v.remove(e,"reset",this.resetHandler),v.remove(this.inputElement,"keyup",this.keyUp),v.remove(this.inputElement,"paste",this.onPaste),v.remove(this.inputElement,"content-changed",this.contentChanged),v.remove(this.inputElement,E.touchEndEvent,this.mouseDownDebListener),this.mouseDownDebListener=null,v.remove(this.inputElement,E.touchStartEvent,this.mouseDownHandler),v.remove(this.inputElement,"input",this.inputHandler),v.remove(document,"mousedown",this.onDocumentClick),this.unWireContextEvent(),this.formatter&&this.formatter.editorManager.observer.off(at,this.editorKeyDown),this.element.ownerDocument.defaultView.removeEventListener("resize",this.onResizeHandler,!0),this.onResizeHandler=null,this.iframeSettings.enable&&(v.remove(this.inputElement,"focusin",this.focusHandler),v.remove(this.inputElement,"focusout",this.blurHandler),v.remove(this.inputElement.ownerDocument,"scroll",this.contentScrollHandler),v.remove(this.inputElement.ownerDocument,E.touchStartEvent,this.onIframeMouseDown),v.remove(this.contentModule.getPanel(),"load",this.iframeLoadHandler)),this.unWireScrollElementsEvents()},t.prototype.getCurrentFocus=function(e){return e.target===this.inputElement&&document.activeElement===this.inputElement?"editArea":e.target===this.getToolbarElement()||!h(e.relatedTarget)&&M(e.relatedTarget,".e-rte-toolbar")===this.getToolbarElement()?"toolbar":e.target===this.valueContainer&&document.activeElement===this.valueContainer?"textArea":!h(e.target)&&e.target.classList.contains(Bs)&&document.activeElement===e.target?"sourceCode":"outside"},t.prototype.resetToolbarTabIndex=function(){if(this.getToolbarElement())for(var e=this.getToolbarElement().querySelectorAll("input,select,button,a,[tabindex]"),i=0;i<e.length;i++)!e[i].classList.contains("e-rte-dropdown-btn")&&!e[i].classList.contains("e-insert-table-btn")&&(!e[i].hasAttribute("tabindex")||e[i].getAttribute("tabindex")!=="-1")&&e[i].setAttribute("tabindex","-1")},t.prototype.removeSelectionClassStates=function(e){for(var i=[uo,zt,Xd,Gd,ui,zi],s=0;s<i.length;s++){var n=e.querySelectorAll("."+i[s]);if(k(n,i[s]),n.length!==0)for(var r=0;r<n.length;r++)n[r].classList.length===0&&n[r].removeAttribute("class"),n[r].nodeName==="IMG"&&n[r].style.outline!==""&&(n[r].style.outline="")}},t.prototype.getRenderedQuickToolbarElem=function(){for(var e=this.quickToolbarModule.getQuickToolbarInstance(),i=0;i<e.length;i++)if(e[i]&&e[i].isRendered)return e[i].element;return null},t.prototype.iframeLoadHandler=function(){this.autoResize()},$([ye({},_S)],t.prototype,"toolbarSettings",void 0),$([ye({},KS)],t.prototype,"quickToolbarSettings",void 0),$([ye({},ZS)],t.prototype,"pasteCleanupSettings",void 0),$([ye({},$S)],t.prototype,"formatPainterSettings",void 0),$([ye({},JS)],t.prototype,"emojiPickerSettings",void 0),$([ye({},lE)],t.prototype,"iframeSettings",void 0),$([ye({},WS)],t.prototype,"insertImageSettings",void 0),$([ye({},QS)],t.prototype,"insertAudioSettings",void 0),$([ye({},YS)],t.prototype,"insertVideoSettings",void 0),$([ye({},XS)],t.prototype,"tableSettings",void 0),$([y(0)],t.prototype,"floatingToolbarOffset",void 0),$([ye({},cE)],t.prototype,"inlineMode",void 0),$([ye({},GS)],t.prototype,"fileManagerSettings",void 0),$([y("100%")],t.prototype,"width",void 0),$([y(!1)],t.prototype,"enablePersistence",void 0),$([y(!0)],t.prototype,"showTooltip",void 0),$([y(!1)],t.prototype,"enableResize",void 0),$([y({})],t.prototype,"htmlAttributes",void 0),$([y(null)],t.prototype,"placeholder",void 0),$([y(!1)],t.prototype,"autoSaveOnIdle",void 0),$([y(!1)],t.prototype,"readonly",void 0),$([y(!0)],t.prototype,"enabled",void 0),$([y(!0)],t.prototype,"enableHtmlSanitizer",void 0),$([y(!1)],t.prototype,"enableHtmlEncode",void 0),$([y(!1)],t.prototype,"enableXhtml",void 0),$([y("auto")],t.prototype,"height",void 0),$([y(null)],t.prototype,"cssClass",void 0),$([y(null)],t.prototype,"value",void 0),$([y("P")],t.prototype,"enterKey",void 0),$([y("BR")],t.prototype,"shiftEnterKey",void 0),$([y(30)],t.prototype,"undoRedoSteps",void 0),$([y(300)],t.prototype,"undoRedoTimer",void 0),$([y("HTML")],t.prototype,"editorMode",void 0),$([y(null)],t.prototype,"keyConfig",void 0),$([y(!1)],t.prototype,"showCharCount",void 0),$([y(!1)],t.prototype,"enableTabKey",void 0),$([y(!1)],t.prototype,"enableAutoUrl",void 0),$([y(-1)],t.prototype,"maxLength",void 0),$([ye({},iE)],t.prototype,"format",void 0),$([ye({},rE)],t.prototype,"numberFormatList",void 0),$([ye({},aE)],t.prototype,"bulletFormatList",void 0),$([ye({},eE)],t.prototype,"fontFamily",void 0),$([ye({},tE)],t.prototype,"fontSize",void 0),$([ye({},sE)],t.prototype,"fontColor",void 0),$([ye({},nE)],t.prototype,"backgroundColor",void 0),$([y(null)],t.prototype,"valueTemplate",void 0),$([y(1e4)],t.prototype,"saveInterval",void 0),$([z()],t.prototype,"actionBegin",void 0),$([z()],t.prototype,"actionComplete",void 0),$([z()],t.prototype,"beforeDialogOpen",void 0),$([z()],t.prototype,"dialogOpen",void 0),$([z()],t.prototype,"beforeDialogClose",void 0),$([z()],t.prototype,"dialogClose",void 0),$([z()],t.prototype,"beforeQuickToolbarOpen",void 0),$([z()],t.prototype,"quickToolbarOpen",void 0),$([z()],t.prototype,"quickToolbarClose",void 0),$([z()],t.prototype,"toolbarStatusUpdate",void 0),$([z()],t.prototype,"updatedToolbarStatus",void 0),$([z()],t.prototype,"imageSelected",void 0),$([z()],t.prototype,"beforeImageUpload",void 0),$([z()],t.prototype,"imageUploading",void 0),$([z()],t.prototype,"imageUploadSuccess",void 0),$([z()],t.prototype,"imageUploadFailed",void 0),$([z()],t.prototype,"imageRemoving",void 0),$([z()],t.prototype,"afterImageDelete",void 0),$([z()],t.prototype,"fileSelected",void 0),$([z()],t.prototype,"beforeFileUpload",void 0),$([z()],t.prototype,"fileUploading",void 0),$([z()],t.prototype,"fileUploadSuccess",void 0),$([z()],t.prototype,"fileUploadFailed",void 0),$([z()],t.prototype,"fileRemoving",void 0),$([z()],t.prototype,"afterMediaDelete",void 0),$([z()],t.prototype,"created",void 0),$([z()],t.prototype,"destroyed",void 0),$([z()],t.prototype,"beforeSanitizeHtml",void 0),$([z()],t.prototype,"blur",void 0),$([z()],t.prototype,"toolbarClick",void 0),$([z()],t.prototype,"focus",void 0),$([z()],t.prototype,"change",void 0),$([z()],t.prototype,"resizing",void 0),$([z()],t.prototype,"resizeStart",void 0),$([z()],t.prototype,"resizeStop",void 0),$([z()],t.prototype,"beforePasteCleanup",void 0),$([z()],t.prototype,"afterPasteCleanup",void 0),$([z()],t.prototype,"beforeImageDrop",void 0),$([y(null)],t.prototype,"formatter",void 0),t=$([ke],t),t}(Ge);var uE=["valueTemplate"],ep;var fE=["actionBegin","actionComplete","afterImageDelete","afterMediaDelete","afterPasteCleanup","beforeDialogClose","beforeDialogOpen","beforeFileUpload","beforeImageDrop","beforeImageUpload","beforePasteCleanup","beforeQuickToolbarOpen","beforeSanitizeHtml","blur","change","created","destroyed","dialogClose","dialogOpen","fileRemoving","fileSelected","fileUploadFailed","fileUploadSuccess","fileUploading","focus","imageRemoving","imageSelected","imageUploadFailed","imageUploadSuccess","imageUploading","quickToolbarClose","quickToolbarOpen","resizeStart","resizeStop","resizing","toolbarClick","toolbarStatusUpdate","updatedToolbarStatus","valueChange"],mE=["value"],_s=ep=class extends $g{constructor(t,e,i,s,n){super(),this.ngEle=t,this.srenderer=e,this.viewContainerRef=i,this.injector=s,this.cdr=n,this.skipFromEvent=!0,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[];try{let r=this.injector.get("RichTextEditorToolbar");this.injectedModules.indexOf(r)===-1&&this.injectedModules.push(r)}catch{}try{let r=this.injector.get("RichTextEditorLink");this.injectedModules.indexOf(r)===-1&&this.injectedModules.push(r)}catch{}try{let r=this.injector.get("RichTextEditorImage");this.injectedModules.indexOf(r)===-1&&this.injectedModules.push(r)}catch{}try{let r=this.injector.get("RichTextEditorAudio");this.injectedModules.indexOf(r)===-1&&this.injectedModules.push(r)}catch{}try{let r=this.injector.get("RichTextEditorVideo");this.injectedModules.indexOf(r)===-1&&this.injectedModules.push(r)}catch{}try{let r=this.injector.get("RichTextEditorCount");this.injectedModules.indexOf(r)===-1&&this.injectedModules.push(r)}catch{}try{let r=this.injector.get("RichTextEditorQuickToolbar");this.injectedModules.indexOf(r)===-1&&this.injectedModules.push(r)}catch{}try{let r=this.injector.get("RichTextEditorHtmlEditor");this.injectedModules.indexOf(r)===-1&&this.injectedModules.push(r)}catch{}try{let r=this.injector.get("RichTextEditorMarkdownEditor");this.injectedModules.indexOf(r)===-1&&this.injectedModules.push(r)}catch{}try{let r=this.injector.get("RichTextEditorTable");this.injectedModules.indexOf(r)===-1&&this.injectedModules.push(r)}catch{}try{let r=this.injector.get("RichTextEditorPasteCleanup");this.injectedModules.indexOf(r)===-1&&this.injectedModules.push(r)}catch{}try{let r=this.injector.get("RichTextEditorResize");this.injectedModules.indexOf(r)===-1&&this.injectedModules.push(r)}catch{}try{let r=this.injector.get("RichTextEditorFileManager");this.injectedModules.indexOf(r)===-1&&this.injectedModules.push(r)}catch{}try{let r=this.injector.get("RichTextEditorFormatPainter");this.injectedModules.indexOf(r)===-1&&this.injectedModules.push(r)}catch{}try{let r=this.injector.get("RichTextEditorEmojiPicker");this.injectedModules.indexOf(r)===-1&&this.injectedModules.push(r)}catch{}this.registerEvents(fE),this.addTwoWay.call(this,mE),gu("currentInstance",this,this.viewContainerRef),this.formContext=new fl,this.formCompContext=new ul}registerOnChange(t){}registerOnTouched(t){}writeValue(t){}setDisabledState(t){}ngOnInit(){this.formCompContext.ngOnInit(this)}ngAfterViewInit(){this.formContext.ngAfterViewInit(this)}ngOnDestroy(){this.formCompContext.ngOnDestroy(this)}ngAfterContentChecked(){this.formCompContext.ngAfterContentChecked(this)}};_s.\u0275fac=function(t){return new(t||_s)(Ot(An),Ot(jn),Ot(Kr),Ot(lp),Ot(yp))};_s.\u0275cmp=Qr({type:_s,selectors:[["ejs-richtexteditor"]],contentQueries:function(t,e,i){if(t&1&&pp(i,uE,5),t&2){let s;up(s=fp())&&(e.valueTemplate=s.first)}},inputs:{autoSaveOnIdle:"autoSaveOnIdle",backgroundColor:"backgroundColor",bulletFormatList:"bulletFormatList",cssClass:"cssClass",editorMode:"editorMode",emojiPickerSettings:"emojiPickerSettings",enableAutoUrl:"enableAutoUrl",enableHtmlEncode:"enableHtmlEncode",enableHtmlSanitizer:"enableHtmlSanitizer",enablePersistence:"enablePersistence",enableResize:"enableResize",enableRtl:"enableRtl",enableTabKey:"enableTabKey",enableXhtml:"enableXhtml",enabled:"enabled",enterKey:"enterKey",fileManagerSettings:"fileManagerSettings",floatingToolbarOffset:"floatingToolbarOffset",fontColor:"fontColor",fontFamily:"fontFamily",fontSize:"fontSize",format:"format",formatPainterSettings:"formatPainterSettings",formatter:"formatter",height:"height",htmlAttributes:"htmlAttributes",iframeSettings:"iframeSettings",inlineMode:"inlineMode",insertAudioSettings:"insertAudioSettings",insertImageSettings:"insertImageSettings",insertVideoSettings:"insertVideoSettings",keyConfig:"keyConfig",locale:"locale",maxLength:"maxLength",numberFormatList:"numberFormatList",pasteCleanupSettings:"pasteCleanupSettings",placeholder:"placeholder",quickToolbarSettings:"quickToolbarSettings",readonly:"readonly",saveInterval:"saveInterval",shiftEnterKey:"shiftEnterKey",showCharCount:"showCharCount",showTooltip:"showTooltip",tableSettings:"tableSettings",toolbarSettings:"toolbarSettings",undoRedoSteps:"undoRedoSteps",undoRedoTimer:"undoRedoTimer",value:"value",valueTemplate:"valueTemplate",width:"width"},outputs:{actionBegin:"actionBegin",actionComplete:"actionComplete",afterImageDelete:"afterImageDelete",afterMediaDelete:"afterMediaDelete",afterPasteCleanup:"afterPasteCleanup",beforeDialogClose:"beforeDialogClose",beforeDialogOpen:"beforeDialogOpen",beforeFileUpload:"beforeFileUpload",beforeImageDrop:"beforeImageDrop",beforeImageUpload:"beforeImageUpload",beforePasteCleanup:"beforePasteCleanup",beforeQuickToolbarOpen:"beforeQuickToolbarOpen",beforeSanitizeHtml:"beforeSanitizeHtml",blur:"blur",change:"change",created:"created",destroyed:"destroyed",dialogClose:"dialogClose",dialogOpen:"dialogOpen",fileRemoving:"fileRemoving",fileSelected:"fileSelected",fileUploadFailed:"fileUploadFailed",fileUploadSuccess:"fileUploadSuccess",fileUploading:"fileUploading",focus:"focus",imageRemoving:"imageRemoving",imageSelected:"imageSelected",imageUploadFailed:"imageUploadFailed",imageUploadSuccess:"imageUploadSuccess",imageUploading:"imageUploading",quickToolbarClose:"quickToolbarClose",quickToolbarOpen:"quickToolbarOpen",resizeStart:"resizeStart",resizeStop:"resizeStop",resizing:"resizing",toolbarClick:"toolbarClick",toolbarStatusUpdate:"toolbarStatusUpdate",updatedToolbarStatus:"updatedToolbarStatus",valueChange:"valueChange"},features:[gp([{provide:Ep,useExisting:ap(()=>ep),multi:!0}]),hp],decls:0,vars:0,template:function(t,e){},encapsulation:2,changeDetection:0});qo([vu()],_s.prototype,"valueTemplate",void 0);_s=ep=qo([mu([ul,fl])],_s);var KT=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=Yr({type:a}),a.\u0275inj=Wr({imports:[[Zr]]}),a})(),$T={provide:"RichTextEditorToolbar",useValue:Wg},JT={provide:"RichTextEditorLink",useValue:Bg},ZT={provide:"RichTextEditorImage",useValue:Hg},eN={provide:"RichTextEditorAudio",useValue:Fg},tN={provide:"RichTextEditorVideo",useValue:Ug};var iN={provide:"RichTextEditorQuickToolbar",useValue:Qg},sN={provide:"RichTextEditorHtmlEditor",useValue:Gg};var nN={provide:"RichTextEditorTable",useValue:Vg},rN={provide:"RichTextEditorPasteCleanup",useValue:Xg};var gE=["*"],vE=a=>["nav-item",a];function yE(a,t){if(a&1){let e=Yo();Ns(0,"span",7),zn("click",function(s){Gr(e);let n=Jr().$implicit,r=Jr();return s.preventDefault(),Xr(r.removeTab(n))}),Go(1," \u274C"),Gs()}}function bE(a,t){if(a&1){let e=Yo();Ns(0,"li",3),zn("keydown",function(s){let n=Gr(e).index,r=Jr();return Xr(r.keyNavActions(s,n))}),Ns(1,"a",4),zn("click",function(){let s=Gr(e).$implicit;return Xr(s.active=!0)}),Ns(2,"span",5),Go(3),Gs(),Qo(4,yE,2,0,"span",6),Gs()()}if(a&2){let e=t.$implicit;Rn("active",e.active)("disabled",e.disabled),Ys("ngClass",vp(15,vE,e.customClass||"")),Qs(),Rn("active",e.active)("disabled",e.disabled),$r("aria-controls",e.id?e.id:"")("aria-selected",!!e.active)("id",e.id?e.id+"-link":""),Qs(),Ys("ngTransclude",e.headingRef),Qs(),mp(e.heading),Qs(),Ys("ngIf",e.removable)}}var CE=(()=>{let t=class t{set ngTransclude(i){this._ngTransclude=i,i&&this.viewRef.createEmbeddedView(i)}get ngTransclude(){return this._ngTransclude}constructor(i){this.viewRef=i}};t.\u0275fac=function(s){return new(s||t)(Ot(Kr))},t.\u0275dir=Wo({type:t,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}});let a=t;return a})(),ME=(()=>{let t=class t{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=_r({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})(),SE=(()=>{let t=class t{get vertical(){return this._vertical}set vertical(i){this._vertical=i,this.setClassMap()}get justified(){return this._justified}set justified(i){this._justified=i,this.setClassMap()}get type(){return this._type}set type(i){this._type=i,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(i){this._isKeysAllowed=i}constructor(i,s,n){this.renderer=s,this.elementRef=n,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,i)}ngOnDestroy(){this.isDestroyed=!0}addTab(i){this.tabs.push(i),i.active=this.tabs.length===1&&!i.active}removeTab(i,s={reselect:!0,emit:!0}){let n=this.tabs.indexOf(i);if(!(n===-1||this.isDestroyed)){if(s.reselect&&i.active&&this.hasAvailableTabs(n)){let r=this.getClosestTabIndex(n);this.tabs[r].active=!0}s.emit&&i.removed.emit(i),this.tabs.splice(n,1),i.elementRef.nativeElement.parentNode&&this.renderer.removeChild(i.elementRef.nativeElement.parentNode,i.elementRef.nativeElement)}}keyNavActions(i,s){if(!this.isKeysAllowed)return;let n=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(i.keyCode===13||i.key==="Enter"||i.keyCode===32||i.key==="Space"){i.preventDefault(),n[s%n.length].click();return}if(i.keyCode===39||i.key==="RightArrow"){let r,o=1;do r=n[(s+o)%n.length],o++;while(r.classList.contains("disabled"));r.focus();return}if(i.keyCode===37||i.key==="LeftArrow"){let r,o=1,l=s;do l-o<0?(l=n.length-1,r=n[l],o=0):r=n[l-o],o++;while(r.classList.contains("disabled"));r.focus();return}if(i.keyCode===36||i.key==="Home"){i.preventDefault();let r,o=0;do r=n[o%n.length],o++;while(r.classList.contains("disabled"));r.focus();return}if(i.keyCode===35||i.key==="End"){i.preventDefault();let r,o=1,l=s;do l-o<0?(l=n.length-1,r=n[l],o=0):r=n[l-o],o++;while(r.classList.contains("disabled"));r.focus();return}if((i.keyCode===46||i.key==="Delete")&&this.tabs[s].removable){if(this.removeTab(this.tabs[s]),n[s+1]){n[(s+1)%n.length].focus();return}n[n.length-1]&&n[0].focus()}}getClosestTabIndex(i){let s=this.tabs.length;if(!s)return-1;for(let n=1;n<=s;n+=1){let r=i-n,o=i+n;if(this.tabs[r]&&!this.tabs[r].disabled)return r;if(this.tabs[o]&&!this.tabs[o].disabled)return o}return-1}hasAvailableTabs(i){let s=this.tabs.length;if(!s)return!1;for(let n=0;n<s;n+=1)if(!this.tabs[n].disabled&&n!==i)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}};t.\u0275fac=function(s){return new(s||t)(Ot(ME),Ot(jn),Ot(An))},t.\u0275cmp=Qr({type:t,selectors:[["tabset"]],hostVars:2,hostBindings:function(s,n){s&2&&Rn("tab-container",n.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:gE,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"click","ngClass"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"keydown","ngClass"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(s,n){s&1&&(cp(),Ns(0,"ul",0),zn("click",function(o){return o.preventDefault()}),Qo(1,bE,5,17,"li",1),Gs(),Ns(2,"div",2),dp(3),Gs()),s&2&&(Ys("ngClass",n.classMap),$r("aria-label",n.ariaLabel),Qs(),Ys("ngForOf",n.tabs))},dependencies:[bp,Cp,Mp,CE],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]});let a=t;return a})(),bN=(()=>{let t=class t{get customClass(){return this._customClass}set customClass(i){this.customClass&&this.customClass.split(" ").forEach(s=>{this.renderer.removeClass(this.elementRef.nativeElement,s)}),this._customClass=i?i.trim():"",this.customClass&&this.customClass.split(" ").forEach(s=>{this.renderer.addClass(this.elementRef.nativeElement,s)})}get active(){return this._active}set active(i){if(this._active!==i){if(this.disabled&&i||!i){this._active&&!i&&(this.deselect.emit(this),this._active=i);return}this._active=i,this.selectTab.emit(this),this.tabset.tabs.forEach(s=>{s!==this&&(s.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}constructor(i,s,n){this.elementRef=s,this.renderer=n,this.disabled=!1,this.removable=!1,this.selectTab=new Ui,this.deselect=new Ui,this.removed=new Ui,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=i,this.tabset.addTab(this)}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}};t.\u0275fac=function(s){return new(s||t)(Ot(SE),Ot(An),Ot(jn))},t.\u0275dir=Wo({type:t,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(s,n){s&2&&($r("id",n.id)("role",n.role)("aria-labelledby",n.ariaLabelledby),Rn("active",n.active)("tab-pane",n.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]});let a=t;return a})();var CN=(()=>{let t=class t{static forRoot(){return{ngModule:t,providers:[]}}};t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=Yr({type:t}),t.\u0275inj=Wr({imports:[Zr]});let a=t;return a})();var TN=(()=>{let t=class t{constructor(i){this.http=i,this.comments=[]}getAllProperties(){return this.http.get("assets/data/properties.json").pipe(kn(i=>{let s=[];if(typeof window<"u"&&typeof localStorage<"u"){let n={};try{let r=localStorage.getItem("newProperty");r&&(n=JSON.parse(r))}catch(r){console.error("Error parsing local storage data",r)}for(let r in n)n.hasOwnProperty(r)&&s.push(n[r])}for(let n in i)i.hasOwnProperty(n)&&s.push(i[n]);return s}))}getAllArticles(){return this.http.get("assets/data/articles.json").pipe(kn(i=>{let s=[];if(typeof window<"u"&&typeof localStorage<"u"){let n={};try{let r=localStorage.getItem("newArticle");r&&(n=JSON.parse(r))}catch(r){console.error("Error parsing local storage data",r)}for(let r in n)n.hasOwnProperty(r)&&s.push(n[r])}for(let n in i)i.hasOwnProperty(n)&&s.push(i[n]);return s}))}addProperty(i){let s,n=localStorage.getItem("newProperty");n?s=[i,...JSON.parse(n)]:s=[i],localStorage.setItem("newProperty",JSON.stringify(s))}addArticle(i){let s,n=localStorage.getItem("newArticle");n?s=[i,...JSON.parse(n)]:s=[i],localStorage.setItem("newArticle",JSON.stringify(s))}newPropertyId(){let i=localStorage.getItem("PID");if(i){let s=Number(i)+1;return localStorage.setItem("PID",String(s)),s}else return localStorage.setItem("PID","101"),101}newArticleId(){let i=localStorage.getItem("AID");if(i){let s=Number(i)+1;return localStorage.setItem("AID",String(s)),s}else return localStorage.setItem("AID","101"),101}getPropertyById(i){return this.getAllProperties().pipe(kn(s=>s.find(n=>n.id===i)))}getArticleById(i){return this.getAllArticles().pipe(kn(s=>s.find(n=>n.id===i)))}updateArticles(i,s){if(typeof window<"u"&&typeof localStorage<"u"){let n={},r=localStorage.getItem("newArticle");r&&(n=JSON.parse(r)),n[i]=s,localStorage.setItem("newArticle",JSON.stringify(n))}}getCommentsByArticleId(i){return _o(this.comments.filter(s=>s.articleId===i))}addComment(i){return this.comments.push(i),_o(i)}};t.\u0275fac=function(s){return new(s||t)(op(Sp))},t.\u0275prov=_r({token:t,factory:t.\u0275fac,providedIn:"root"});let a=t;return a})();export{Zv as a,KT as b,$T as c,JT as d,ZT as e,eN as f,tN as g,iN as h,sN as i,nN as j,rN as k,TN as l,SE as m,bN as n,CN as o};
